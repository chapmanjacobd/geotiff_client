function Lg(l,f){const v=Object.create(null),c=l.split(",");for(let y=0;y<c.length;y++)v[c[y]]=!0;return f?y=>!!v[y.toLowerCase()]:y=>!!v[y]}const I4="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",N4=Lg(I4),M4="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",F4=Lg(M4);function DS(l){return!!l||l===""}function sd(l){if(Vr(l)){const f={};for(let v=0;v<l.length;v++){const c=l[v],y=Qi(c)?B4(c):sd(c);if(y)for(const S in y)f[S]=y[S]}return f}else{if(Qi(l))return l;if(to(l))return l}}const j4=/;(?![^(]*\))/g,D4=/:(.+)/;function B4(l){const f={};return l.split(j4).forEach(v=>{if(v){const c=v.split(D4);c.length>1&&(f[c[0].trim()]=c[1].trim())}}),f}function ld(l){let f="";if(Qi(l))f=l;else if(Vr(l))for(let v=0;v<l.length;v++){const c=ld(l[v]);c&&(f+=c+" ")}else if(to(l))for(const v in l)l[v]&&(f+=v+" ");return f.trim()}function G4(l){if(!l)return null;let{class:f,style:v}=l;return f&&!Qi(f)&&(l.class=ld(f)),v&&(l.style=sd(v)),l}function U4(l,f){if(l.length!==f.length)return!1;let v=!0;for(let c=0;v&&c<l.length;c++)v=vc(l[c],f[c]);return v}function vc(l,f){if(l===f)return!0;let v=GS(l),c=GS(f);if(v||c)return v&&c?l.getTime()===f.getTime():!1;if(v=Vr(l),c=Vr(f),v||c)return v&&c?U4(l,f):!1;if(v=to(l),c=to(f),v||c){if(!v||!c)return!1;const y=Object.keys(l).length,S=Object.keys(f).length;if(y!==S)return!1;for(const x in l){const P=l.hasOwnProperty(x),F=f.hasOwnProperty(x);if(P&&!F||!P&&F||!vc(l[x],f[x]))return!1}}return String(l)===String(f)}function Ag(l,f){return l.findIndex(v=>vc(v,f))}const k4=l=>l==null?"":Vr(l)||to(l)&&(l.toString===US||!vn(l.toString))?JSON.stringify(l,BS,2):String(l),BS=(l,f)=>f&&f.__v_isRef?BS(l,f.value):jh(f)?{[`Map(${f.size})`]:[...f.entries()].reduce((v,[c,y])=>(v[`${c} =>`]=y,v),{})}:yf(f)?{[`Set(${f.size})`]:[...f.values()]}:to(f)&&!Vr(f)&&!kS(f)?String(f):f,hi={},Fh=[],sl=()=>{},V4=()=>!1,z4=/^on[^a-z]/,ud=l=>z4.test(l),S_=l=>l.startsWith("onUpdate:"),Ji=Object.assign,E_=(l,f)=>{const v=l.indexOf(f);v>-1&&l.splice(v,1)},Y4=Object.prototype.hasOwnProperty,li=(l,f)=>Y4.call(l,f),Vr=Array.isArray,jh=l=>Pg(l)==="[object Map]",yf=l=>Pg(l)==="[object Set]",GS=l=>l instanceof Date,vn=l=>typeof l=="function",Qi=l=>typeof l=="string",w_=l=>typeof l=="symbol",to=l=>l!==null&&typeof l=="object",x_=l=>to(l)&&vn(l.then)&&vn(l.catch),US=Object.prototype.toString,Pg=l=>US.call(l),W4=l=>Pg(l).slice(8,-1),kS=l=>Pg(l)==="[object Object]",O_=l=>Qi(l)&&l!=="NaN"&&l[0]!=="-"&&""+parseInt(l,10)===l,cd=Lg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rg=l=>{const f=Object.create(null);return v=>f[v]||(f[v]=l(v))},H4=/-(\w)/g,os=Rg(l=>l.replace(H4,(f,v)=>v?v.toUpperCase():"")),X4=/\B([A-Z])/g,Rl=Rg(l=>l.replace(X4,"-$1").toLowerCase()),fd=Rg(l=>l.charAt(0).toUpperCase()+l.slice(1)),hd=Rg(l=>l?`on${fd(l)}`:""),pd=(l,f)=>!Object.is(l,f),Dh=(l,f)=>{for(let v=0;v<l.length;v++)l[v](f)},Ig=(l,f,v)=>{Object.defineProperty(l,f,{configurable:!0,enumerable:!1,value:v})},gc=l=>{const f=parseFloat(l);return isNaN(f)?l:f};let VS;const K4=()=>VS||(VS=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Il;const Ng=[];class T_{constructor(f=!1){this.active=!0,this.effects=[],this.cleanups=[],!f&&Il&&(this.parent=Il,this.index=(Il.scopes||(Il.scopes=[])).push(this)-1)}run(f){if(this.active)try{return this.on(),f()}finally{this.off()}}on(){this.active&&(Ng.push(this),Il=this)}off(){this.active&&(Ng.pop(),Il=Ng[Ng.length-1])}stop(f){if(this.active){if(this.effects.forEach(v=>v.stop()),this.cleanups.forEach(v=>v()),this.scopes&&this.scopes.forEach(v=>v.stop(!0)),this.parent&&!f){const v=this.parent.scopes.pop();v&&v!==this&&(this.parent.scopes[this.index]=v,v.index=this.index)}this.active=!1}}}function b_(l){return new T_(l)}function zS(l,f){f=f||Il,f&&f.active&&f.effects.push(l)}function Z4(){return Il}function $4(l){Il&&Il.cleanups.push(l)}const C_=l=>{const f=new Set(l);return f.w=0,f.n=0,f},YS=l=>(l.w&yc)>0,WS=l=>(l.n&yc)>0,q4=({deps:l})=>{if(l.length)for(let f=0;f<l.length;f++)l[f].w|=yc},J4=l=>{const{deps:f}=l;if(f.length){let v=0;for(let c=0;c<f.length;c++){const y=f[c];YS(y)&&!WS(y)?y.delete(l):f[v++]=y,y.w&=~yc,y.n&=~yc}f.length=v}},L_=new WeakMap;let dd=0,yc=1;const A_=30,vd=[];let mf;const _f=Symbol(""),P_=Symbol("");class gd{constructor(f,v=null,c){this.fn=f,this.scheduler=v,this.active=!0,this.deps=[],zS(this,c)}run(){if(!this.active)return this.fn();if(!vd.includes(this))try{return vd.push(mf=this),e6(),yc=1<<++dd,dd<=A_?q4(this):HS(this),this.fn()}finally{dd<=A_&&J4(this),yc=1<<--dd,mc(),vd.pop();const f=vd.length;mf=f>0?vd[f-1]:void 0}}stop(){this.active&&(HS(this),this.onStop&&this.onStop(),this.active=!1)}}function HS(l){const{deps:f}=l;if(f.length){for(let v=0;v<f.length;v++)f[v].delete(l);f.length=0}}function Q4(l,f){l.effect&&(l=l.effect.fn);const v=new gd(l);f&&(Ji(v,f),f.scope&&zS(v,f.scope)),(!f||!f.lazy)&&v.run();const c=v.run.bind(v);return c.effect=v,c}function t6(l){l.effect.stop()}let Bh=!0;const R_=[];function Sf(){R_.push(Bh),Bh=!1}function e6(){R_.push(Bh),Bh=!0}function mc(){const l=R_.pop();Bh=l===void 0?!0:l}function as(l,f,v){if(!XS())return;let c=L_.get(l);c||L_.set(l,c=new Map);let y=c.get(v);y||c.set(v,y=C_()),KS(y)}function XS(){return Bh&&mf!==void 0}function KS(l,f){let v=!1;dd<=A_?WS(l)||(l.n|=yc,v=!YS(l)):v=!l.has(mf),v&&(l.add(mf),mf.deps.push(l))}function hu(l,f,v,c,y,S){const x=L_.get(l);if(!x)return;let P=[];if(f==="clear")P=[...x.values()];else if(v==="length"&&Vr(l))x.forEach((F,G)=>{(G==="length"||G>=c)&&P.push(F)});else switch(v!==void 0&&P.push(x.get(v)),f){case"add":Vr(l)?O_(v)&&P.push(x.get("length")):(P.push(x.get(_f)),jh(l)&&P.push(x.get(P_)));break;case"delete":Vr(l)||(P.push(x.get(_f)),jh(l)&&P.push(x.get(P_)));break;case"set":jh(l)&&P.push(x.get(_f));break}if(P.length===1)P[0]&&I_(P[0]);else{const F=[];for(const G of P)G&&F.push(...G);I_(C_(F))}}function I_(l,f){for(const v of Vr(l)?l:[...l])(v!==mf||v.allowRecurse)&&(v.scheduler?v.scheduler():v.run())}const r6=Lg("__proto__,__v_isRef,__isVue"),ZS=new Set(Object.getOwnPropertyNames(Symbol).map(l=>Symbol[l]).filter(w_)),n6=Mg(),i6=Mg(!1,!0),o6=Mg(!0),a6=Mg(!0,!0),$S=s6();function s6(){const l={};return["includes","indexOf","lastIndexOf"].forEach(f=>{l[f]=function(...v){const c=jn(this);for(let S=0,x=this.length;S<x;S++)as(c,"get",S+"");const y=c[f](...v);return y===-1||y===!1?c[f](...v.map(jn)):y}}),["push","pop","shift","unshift","splice"].forEach(f=>{l[f]=function(...v){Sf();const c=jn(this)[f].apply(this,v);return mc(),c}}),l}function Mg(l=!1,f=!1){return function(c,y,S){if(y==="__v_isReactive")return!l;if(y==="__v_isReadonly")return l;if(y==="__v_raw"&&S===(l?f?sE:aE:f?oE:iE).get(c))return c;const x=Vr(c);if(!l&&x&&li($S,y))return Reflect.get($S,y,S);const P=Reflect.get(c,y,S);return(w_(y)?ZS.has(y):r6(y))||(l||as(c,"get",y),f)?P:Hi(P)?!x||!O_(y)?P.value:P:to(P)?l?M_(P):yd(P):P}}const l6=qS(),u6=qS(!0);function qS(l=!1){return function(v,c,y,S){let x=v[c];if(!l&&!zg(y)&&(y=jn(y),x=jn(x),!Vr(v)&&Hi(x)&&!Hi(y)))return x.value=y,!0;const P=Vr(v)&&O_(c)?Number(c)<v.length:li(v,c),F=Reflect.set(v,c,y,S);return v===jn(S)&&(P?pd(y,x)&&hu(v,"set",c,y):hu(v,"add",c,y)),F}}function c6(l,f){const v=li(l,f);l[f];const c=Reflect.deleteProperty(l,f);return c&&v&&hu(l,"delete",f,void 0),c}function f6(l,f){const v=Reflect.has(l,f);return(!w_(f)||!ZS.has(f))&&as(l,"has",f),v}function h6(l){return as(l,"iterate",Vr(l)?"length":_f),Reflect.ownKeys(l)}const JS={get:n6,set:l6,deleteProperty:c6,has:f6,ownKeys:h6},QS={get:o6,set(l,f){return!0},deleteProperty(l,f){return!0}},p6=Ji({},JS,{get:i6,set:u6}),d6=Ji({},QS,{get:a6}),N_=l=>l,Fg=l=>Reflect.getPrototypeOf(l);function jg(l,f,v=!1,c=!1){l=l.__v_raw;const y=jn(l),S=jn(f);f!==S&&!v&&as(y,"get",f),!v&&as(y,"get",S);const{has:x}=Fg(y),P=c?N_:v?j_:md;if(x.call(y,f))return P(l.get(f));if(x.call(y,S))return P(l.get(S));l!==y&&l.get(f)}function Dg(l,f=!1){const v=this.__v_raw,c=jn(v),y=jn(l);return l!==y&&!f&&as(c,"has",l),!f&&as(c,"has",y),l===y?v.has(l):v.has(l)||v.has(y)}function Bg(l,f=!1){return l=l.__v_raw,!f&&as(jn(l),"iterate",_f),Reflect.get(l,"size",l)}function tE(l){l=jn(l);const f=jn(this);return Fg(f).has.call(f,l)||(f.add(l),hu(f,"add",l,l)),this}function eE(l,f){f=jn(f);const v=jn(this),{has:c,get:y}=Fg(v);let S=c.call(v,l);S||(l=jn(l),S=c.call(v,l));const x=y.call(v,l);return v.set(l,f),S?pd(f,x)&&hu(v,"set",l,f):hu(v,"add",l,f),this}function rE(l){const f=jn(this),{has:v,get:c}=Fg(f);let y=v.call(f,l);y||(l=jn(l),y=v.call(f,l)),c&&c.call(f,l);const S=f.delete(l);return y&&hu(f,"delete",l,void 0),S}function nE(){const l=jn(this),f=l.size!==0,v=l.clear();return f&&hu(l,"clear",void 0,void 0),v}function Gg(l,f){return function(c,y){const S=this,x=S.__v_raw,P=jn(x),F=f?N_:l?j_:md;return!l&&as(P,"iterate",_f),x.forEach((G,z)=>c.call(y,F(G),F(z),S))}}function Ug(l,f,v){return function(...c){const y=this.__v_raw,S=jn(y),x=jh(S),P=l==="entries"||l===Symbol.iterator&&x,F=l==="keys"&&x,G=y[l](...c),z=v?N_:f?j_:md;return!f&&as(S,"iterate",F?P_:_f),{next(){const{value:V,done:U}=G.next();return U?{value:V,done:U}:{value:P?[z(V[0]),z(V[1])]:z(V),done:U}},[Symbol.iterator](){return this}}}}function _c(l){return function(...f){return l==="delete"?!1:this}}function v6(){const l={get(S){return jg(this,S)},get size(){return Bg(this)},has:Dg,add:tE,set:eE,delete:rE,clear:nE,forEach:Gg(!1,!1)},f={get(S){return jg(this,S,!1,!0)},get size(){return Bg(this)},has:Dg,add:tE,set:eE,delete:rE,clear:nE,forEach:Gg(!1,!0)},v={get(S){return jg(this,S,!0)},get size(){return Bg(this,!0)},has(S){return Dg.call(this,S,!0)},add:_c("add"),set:_c("set"),delete:_c("delete"),clear:_c("clear"),forEach:Gg(!0,!1)},c={get(S){return jg(this,S,!0,!0)},get size(){return Bg(this,!0)},has(S){return Dg.call(this,S,!0)},add:_c("add"),set:_c("set"),delete:_c("delete"),clear:_c("clear"),forEach:Gg(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(S=>{l[S]=Ug(S,!1,!1),v[S]=Ug(S,!0,!1),f[S]=Ug(S,!1,!0),c[S]=Ug(S,!0,!0)}),[l,v,f,c]}const[g6,y6,m6,_6]=v6();function kg(l,f){const v=f?l?_6:m6:l?y6:g6;return(c,y,S)=>y==="__v_isReactive"?!l:y==="__v_isReadonly"?l:y==="__v_raw"?c:Reflect.get(li(v,y)&&y in c?v:c,y,S)}const S6={get:kg(!1,!1)},E6={get:kg(!1,!0)},w6={get:kg(!0,!1)},x6={get:kg(!0,!0)},iE=new WeakMap,oE=new WeakMap,aE=new WeakMap,sE=new WeakMap;function O6(l){switch(l){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function T6(l){return l.__v_skip||!Object.isExtensible(l)?0:O6(W4(l))}function yd(l){return l&&l.__v_isReadonly?l:Vg(l,!1,JS,S6,iE)}function lE(l){return Vg(l,!1,p6,E6,oE)}function M_(l){return Vg(l,!0,QS,w6,aE)}function b6(l){return Vg(l,!0,d6,x6,sE)}function Vg(l,f,v,c,y){if(!to(l)||l.__v_raw&&!(f&&l.__v_isReactive))return l;const S=y.get(l);if(S)return S;const x=T6(l);if(x===0)return l;const P=new Proxy(l,x===2?c:v);return y.set(l,P),P}function Nl(l){return zg(l)?Nl(l.__v_raw):!!(l&&l.__v_isReactive)}function zg(l){return!!(l&&l.__v_isReadonly)}function F_(l){return Nl(l)||zg(l)}function jn(l){const f=l&&l.__v_raw;return f?jn(f):l}function Ef(l){return Ig(l,"__v_skip",!0),l}const md=l=>to(l)?yd(l):l,j_=l=>to(l)?M_(l):l;function D_(l){XS()&&(l=jn(l),l.dep||(l.dep=C_()),KS(l.dep))}function Yg(l,f){l=jn(l),l.dep&&I_(l.dep)}function Hi(l){return Boolean(l&&l.__v_isRef===!0)}function Gh(l){return uE(l,!1)}function C6(l){return uE(l,!0)}function uE(l,f){return Hi(l)?l:new L6(l,f)}class L6{constructor(f,v){this._shallow=v,this.dep=void 0,this.__v_isRef=!0,this._rawValue=v?f:jn(f),this._value=v?f:md(f)}get value(){return D_(this),this._value}set value(f){f=this._shallow?f:jn(f),pd(f,this._rawValue)&&(this._rawValue=f,this._value=this._shallow?f:md(f),Yg(this))}}function A6(l){Yg(l)}function cE(l){return Hi(l)?l.value:l}const P6={get:(l,f,v)=>cE(Reflect.get(l,f,v)),set:(l,f,v,c)=>{const y=l[f];return Hi(y)&&!Hi(v)?(y.value=v,!0):Reflect.set(l,f,v,c)}};function B_(l){return Nl(l)?l:new Proxy(l,P6)}class R6{constructor(f){this.dep=void 0,this.__v_isRef=!0;const{get:v,set:c}=f(()=>D_(this),()=>Yg(this));this._get=v,this._set=c}get value(){return this._get()}set value(f){this._set(f)}}function I6(l){return new R6(l)}function fE(l){const f=Vr(l)?new Array(l.length):{};for(const v in l)f[v]=G_(l,v);return f}class N6{constructor(f,v,c){this._object=f,this._key=v,this._defaultValue=c,this.__v_isRef=!0}get value(){const f=this._object[this._key];return f===void 0?this._defaultValue:f}set value(f){this._object[this._key]=f}}function G_(l,f,v){const c=l[f];return Hi(c)?c:new N6(l,f,v)}class M6{constructor(f,v,c,y){this._setter=v,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new gd(f,()=>{this._dirty||(this._dirty=!0,Yg(this))}),this.effect.active=!y,this.__v_isReadonly=c}get value(){const f=jn(this);return D_(f),f._dirty&&(f._dirty=!1,f._value=f.effect.run()),f._value}set value(f){this._setter(f)}}function hE(l,f,v=!1){let c,y;const S=vn(l);return S?(c=l,y=sl):(c=l.get,y=l.set),new M6(c,y,S||!y,v)}Promise.resolve();const _d=[];function pE(l,...f){Sf();const v=_d.length?_d[_d.length-1].component:null,c=v&&v.appContext.config.warnHandler,y=F6();if(c)Ml(c,v,11,[l+f.join(""),v&&v.proxy,y.map(({vnode:S})=>`at <${gw(v,S.type)}>`).join(`
`),y]);else{const S=[`[Vue warn]: ${l}`,...f];y.length&&S.push(`
`,...j6(y)),console.warn(...S)}mc()}function F6(){let l=_d[_d.length-1];if(!l)return[];const f=[];for(;l;){const v=f[0];v&&v.vnode===l?v.recurseCount++:f.push({vnode:l,recurseCount:0});const c=l.component&&l.component.parent;l=c&&c.vnode}return f}function j6(l){const f=[];return l.forEach((v,c)=>{f.push(...c===0?[]:[`
`],...D6(v))}),f}function D6({vnode:l,recurseCount:f}){const v=f>0?`... (${f} recursive calls)`:"",c=l.component?l.component.parent==null:!1,y=` at <${gw(l.component,l.type,c)}`,S=">"+v;return l.props?[y,...B6(l.props),S]:[y+S]}function B6(l){const f=[],v=Object.keys(l);return v.slice(0,3).forEach(c=>{f.push(...dE(c,l[c]))}),v.length>3&&f.push(" ..."),f}function dE(l,f,v){return Qi(f)?(f=JSON.stringify(f),v?f:[`${l}=${f}`]):typeof f=="number"||typeof f=="boolean"||f==null?v?f:[`${l}=${f}`]:Hi(f)?(f=dE(l,jn(f.value),!0),v?f:[`${l}=Ref<`,f,">"]):vn(f)?[`${l}=fn${f.name?`<${f.name}>`:""}`]:(f=jn(f),v?f:[`${l}=`,f])}function Ml(l,f,v,c){let y;try{y=c?l(...c):l()}catch(S){wf(S,f,v)}return y}function ss(l,f,v,c){if(vn(l)){const S=Ml(l,f,v,c);return S&&x_(S)&&S.catch(x=>{wf(x,f,v)}),S}const y=[];for(let S=0;S<l.length;S++)y.push(ss(l[S],f,v,c));return y}function wf(l,f,v,c=!0){const y=f?f.vnode:null;if(f){let S=f.parent;const x=f.proxy,P=v;for(;S;){const G=S.ec;if(G){for(let z=0;z<G.length;z++)if(G[z](l,x,P)===!1)return}S=S.parent}const F=f.appContext.config.errorHandler;if(F){Ml(F,null,10,[l,x,P]);return}}G6(l,v,y,c)}function G6(l,f,v,c=!0){console.error(l)}let Wg=!1,U_=!1;const ls=[];let pu=0;const Sd=[];let Ed=null,Uh=0;const wd=[];let Sc=null,kh=0;const vE=Promise.resolve();let k_=null,V_=null;function Hg(l){const f=k_||vE;return l?f.then(this?l.bind(this):l):f}function U6(l){let f=pu+1,v=ls.length;for(;f<v;){const c=f+v>>>1;xd(ls[c])<l?f=c+1:v=c}return f}function z_(l){(!ls.length||!ls.includes(l,Wg&&l.allowRecurse?pu+1:pu))&&l!==V_&&(l.id==null?ls.push(l):ls.splice(U6(l.id),0,l),gE())}function gE(){!Wg&&!U_&&(U_=!0,k_=vE.then(mE))}function k6(l){const f=ls.indexOf(l);f>pu&&ls.splice(f,1)}function yE(l,f,v,c){Vr(l)?v.push(...l):(!f||!f.includes(l,l.allowRecurse?c+1:c))&&v.push(l),gE()}function V6(l){yE(l,Ed,Sd,Uh)}function Y_(l){yE(l,Sc,wd,kh)}function W_(l,f=null){if(Sd.length){for(V_=f,Ed=[...new Set(Sd)],Sd.length=0,Uh=0;Uh<Ed.length;Uh++)Ed[Uh]();Ed=null,Uh=0,V_=null,W_(l,f)}}function Xg(l){if(wd.length){const f=[...new Set(wd)];if(wd.length=0,Sc){Sc.push(...f);return}for(Sc=f,Sc.sort((v,c)=>xd(v)-xd(c)),kh=0;kh<Sc.length;kh++)Sc[kh]();Sc=null,kh=0}}const xd=l=>l.id==null?1/0:l.id;function mE(l){U_=!1,Wg=!0,W_(l),ls.sort((v,c)=>xd(v)-xd(c));const f=sl;try{for(pu=0;pu<ls.length;pu++){const v=ls[pu];v&&v.active!==!1&&Ml(v,null,14)}}finally{pu=0,ls.length=0,Xg(),Wg=!1,k_=null,(ls.length||Sd.length||wd.length)&&mE(l)}}let Vh,Kg=[];function _E(l,f){var v,c;Vh=l,Vh?(Vh.enabled=!0,Kg.forEach(({event:y,args:S})=>Vh.emit(y,...S)),Kg=[]):typeof window!="undefined"&&window.HTMLElement&&!((c=(v=window.navigator)===null||v===void 0?void 0:v.userAgent)===null||c===void 0?void 0:c.includes("jsdom"))?((f.__VUE_DEVTOOLS_HOOK_REPLAY__=f.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(S=>{_E(S,f)}),setTimeout(()=>{Vh||(f.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Kg=[])},3e3)):Kg=[]}function z6(l,f,...v){const c=l.vnode.props||hi;let y=v;const S=f.startsWith("update:"),x=S&&f.slice(7);if(x&&x in c){const z=`${x==="modelValue"?"model":x}Modifiers`,{number:V,trim:U}=c[z]||hi;U?y=v.map(X=>X.trim()):V&&(y=v.map(gc))}let P,F=c[P=hd(f)]||c[P=hd(os(f))];!F&&S&&(F=c[P=hd(Rl(f))]),F&&ss(F,l,6,y);const G=c[P+"Once"];if(G){if(!l.emitted)l.emitted={};else if(l.emitted[P])return;l.emitted[P]=!0,ss(G,l,6,y)}}function SE(l,f,v=!1){const c=f.emitsCache,y=c.get(l);if(y!==void 0)return y;const S=l.emits;let x={},P=!1;if(!vn(l)){const F=G=>{const z=SE(G,f,!0);z&&(P=!0,Ji(x,z))};!v&&f.mixins.length&&f.mixins.forEach(F),l.extends&&F(l.extends),l.mixins&&l.mixins.forEach(F)}return!S&&!P?(c.set(l,null),null):(Vr(S)?S.forEach(F=>x[F]=null):Ji(x,S),c.set(l,x),x)}function H_(l,f){return!l||!ud(f)?!1:(f=f.slice(2).replace(/Once$/,""),li(l,f[0].toLowerCase()+f.slice(1))||li(l,Rl(f))||li(l,f))}let us=null,Zg=null;function Od(l){const f=us;return us=l,Zg=l&&l.type.__scopeId||null,f}function Y6(l){Zg=l}function W6(){Zg=null}const H6=l=>X_;function X_(l,f=us,v){if(!f||l._n)return l;const c=(...y)=>{c._d&&h1(-1);const S=Od(f),x=l(...y);return Od(S),c._d&&h1(1),x};return c._n=!0,c._c=!0,c._d=!0,c}function $g(l){const{type:f,vnode:v,proxy:c,withProxy:y,props:S,propsOptions:[x],slots:P,attrs:F,emit:G,render:z,renderCache:V,data:U,setupState:X,ctx:W,inheritAttrs:it}=l;let Q,dt;const ot=Od(l);try{if(v.shapeFlag&4){const q=y||c;Q=cs(z.call(q,q,V,S,X,U,W)),dt=F}else{const q=f;Q=cs(q.length>1?q(S,{attrs:F,slots:P,emit:G}):q(S,null)),dt=f.props?F:K6(F)}}catch(q){Nd.length=0,wf(q,l,1),Q=Fi(_a)}let _t=Q;if(dt&&it!==!1){const q=Object.keys(dt),{shapeFlag:N}=_t;q.length&&N&(1|6)&&(x&&q.some(S_)&&(dt=Z6(dt,x)),_t=xc(_t,dt))}return v.dirs&&(_t.dirs=_t.dirs?_t.dirs.concat(v.dirs):v.dirs),v.transition&&(_t.transition=v.transition),Q=_t,Od(ot),Q}function X6(l){let f;for(let v=0;v<l.length;v++){const c=l[v];if(wc(c)){if(c.type!==_a||c.children==="v-if"){if(f)return;f=c}}else return}return f}const K6=l=>{let f;for(const v in l)(v==="class"||v==="style"||ud(v))&&((f||(f={}))[v]=l[v]);return f},Z6=(l,f)=>{const v={};for(const c in l)(!S_(c)||!(c.slice(9)in f))&&(v[c]=l[c]);return v};function $6(l,f,v){const{props:c,children:y,component:S}=l,{props:x,children:P,patchFlag:F}=f,G=S.emitsOptions;if(f.dirs||f.transition)return!0;if(v&&F>=0){if(F&1024)return!0;if(F&16)return c?EE(c,x,G):!!x;if(F&8){const z=f.dynamicProps;for(let V=0;V<z.length;V++){const U=z[V];if(x[U]!==c[U]&&!H_(G,U))return!0}}}else return(y||P)&&(!P||!P.$stable)?!0:c===x?!1:c?x?EE(c,x,G):!0:!!x;return!1}function EE(l,f,v){const c=Object.keys(f);if(c.length!==Object.keys(l).length)return!0;for(let y=0;y<c.length;y++){const S=c[y];if(f[S]!==l[S]&&!H_(v,S))return!0}return!1}function K_({vnode:l,parent:f},v){for(;f&&f.subTree===l;)(l=f.vnode).el=v,f=f.parent}const q6=l=>l.__isSuspense,J6={name:"Suspense",__isSuspense:!0,process(l,f,v,c,y,S,x,P,F,G){l==null?tj(f,v,c,y,S,x,P,F,G):ej(l,f,v,c,y,x,P,F,G)},hydrate:rj,create:Z_,normalize:nj},Q6=J6;function Td(l,f){const v=l.props&&l.props[f];vn(v)&&v()}function tj(l,f,v,c,y,S,x,P,F){const{p:G,o:{createElement:z}}=F,V=z("div"),U=l.suspense=Z_(l,y,c,f,V,v,S,x,P,F);G(null,U.pendingBranch=l.ssContent,V,null,c,U,S,x),U.deps>0?(Td(l,"onPending"),Td(l,"onFallback"),G(null,l.ssFallback,f,v,c,null,S,x),zh(U,l.ssFallback)):U.resolve()}function ej(l,f,v,c,y,S,x,P,{p:F,um:G,o:{createElement:z}}){const V=f.suspense=l.suspense;V.vnode=f,f.el=l.el;const U=f.ssContent,X=f.ssFallback,{activeBranch:W,pendingBranch:it,isInFallback:Q,isHydrating:dt}=V;if(it)V.pendingBranch=U,Dl(U,it)?(F(it,U,V.hiddenContainer,null,y,V,S,x,P),V.deps<=0?V.resolve():Q&&(F(W,X,v,c,y,null,S,x,P),zh(V,X))):(V.pendingId++,dt?(V.isHydrating=!1,V.activeBranch=it):G(it,y,V),V.deps=0,V.effects.length=0,V.hiddenContainer=z("div"),Q?(F(null,U,V.hiddenContainer,null,y,V,S,x,P),V.deps<=0?V.resolve():(F(W,X,v,c,y,null,S,x,P),zh(V,X))):W&&Dl(U,W)?(F(W,U,v,c,y,V,S,x,P),V.resolve(!0)):(F(null,U,V.hiddenContainer,null,y,V,S,x,P),V.deps<=0&&V.resolve()));else if(W&&Dl(U,W))F(W,U,v,c,y,V,S,x,P),zh(V,U);else if(Td(f,"onPending"),V.pendingBranch=U,V.pendingId++,F(null,U,V.hiddenContainer,null,y,V,S,x,P),V.deps<=0)V.resolve();else{const{timeout:ot,pendingId:_t}=V;ot>0?setTimeout(()=>{V.pendingId===_t&&V.fallback(X)},ot):ot===0&&V.fallback(X)}}function Z_(l,f,v,c,y,S,x,P,F,G,z=!1){const{p:V,m:U,um:X,n:W,o:{parentNode:it,remove:Q}}=G,dt=gc(l.props&&l.props.timeout),ot={vnode:l,parent:f,parentComponent:v,isSVG:x,container:c,hiddenContainer:y,anchor:S,deps:0,pendingId:0,timeout:typeof dt=="number"?dt:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:z,isUnmounted:!1,effects:[],resolve(_t=!1){const{vnode:q,activeBranch:N,pendingBranch:Ot,pendingId:Et,effects:St,parentComponent:nt,container:qt}=ot;if(ot.isHydrating)ot.isHydrating=!1;else if(!_t){const kt=N&&Ot.transition&&Ot.transition.mode==="out-in";kt&&(N.transition.afterLeave=()=>{Et===ot.pendingId&&U(Ot,qt,Qt,0)});let{anchor:Qt}=ot;N&&(Qt=W(N),X(N,nt,ot,!0)),kt||U(Ot,qt,Qt,0)}zh(ot,Ot),ot.pendingBranch=null,ot.isInFallback=!1;let vt=ot.parent,pt=!1;for(;vt;){if(vt.pendingBranch){vt.effects.push(...St),pt=!0;break}vt=vt.parent}pt||Y_(St),ot.effects=[],Td(q,"onResolve")},fallback(_t){if(!ot.pendingBranch)return;const{vnode:q,activeBranch:N,parentComponent:Ot,container:Et,isSVG:St}=ot;Td(q,"onFallback");const nt=W(N),qt=()=>{!ot.isInFallback||(V(null,_t,Et,nt,Ot,null,St,P,F),zh(ot,_t))},vt=_t.transition&&_t.transition.mode==="out-in";vt&&(N.transition.afterLeave=qt),ot.isInFallback=!0,X(N,Ot,null,!0),vt||qt()},move(_t,q,N){ot.activeBranch&&U(ot.activeBranch,_t,q,N),ot.container=_t},next(){return ot.activeBranch&&W(ot.activeBranch)},registerDep(_t,q){const N=!!ot.pendingBranch;N&&ot.deps++;const Ot=_t.vnode.el;_t.asyncDep.catch(Et=>{wf(Et,_t,0)}).then(Et=>{if(_t.isUnmounted||ot.isUnmounted||ot.pendingId!==_t.suspenseId)return;_t.asyncResolved=!0;const{vnode:St}=_t;_1(_t,Et,!1),Ot&&(St.el=Ot);const nt=!Ot&&_t.subTree.el;q(_t,St,it(Ot||_t.subTree.el),Ot?null:W(_t.subTree),ot,x,F),nt&&Q(nt),K_(_t,St.el),N&&--ot.deps==0&&ot.resolve()})},unmount(_t,q){ot.isUnmounted=!0,ot.activeBranch&&X(ot.activeBranch,v,_t,q),ot.pendingBranch&&X(ot.pendingBranch,v,_t,q)}};return ot}function rj(l,f,v,c,y,S,x,P,F){const G=f.suspense=Z_(f,c,v,l.parentNode,document.createElement("div"),null,y,S,x,P,!0),z=F(l,G.pendingBranch=f.ssContent,v,G,S,x);return G.deps===0&&G.resolve(),z}function nj(l){const{shapeFlag:f,children:v}=l,c=f&32;l.ssContent=wE(c?v.default:v),l.ssFallback=c?wE(v.fallback):Fi(_a)}function wE(l){let f;if(vn(l)){const v=Kh&&l._c;v&&(l._d=!1,oy()),l=l(),v&&(l._d=!0,f=jl,ow())}return Vr(l)&&(l=X6(l)),l=cs(l),f&&!l.dynamicChildren&&(l.dynamicChildren=f.filter(v=>v!==l)),l}function xE(l,f){f&&f.pendingBranch?Vr(l)?f.effects.push(...l):f.effects.push(l):Y_(l)}function zh(l,f){l.activeBranch=f;const{vnode:v,parentComponent:c}=l,y=v.el=f.el;c&&c.subTree===v&&(c.vnode.el=y,K_(c,y))}function OE(l,f){if(Ao){let v=Ao.provides;const c=Ao.parent&&Ao.parent.provides;c===v&&(v=Ao.provides=Object.create(c)),v[l]=f}}function Yh(l,f,v=!1){const c=Ao||us;if(c){const y=c.parent==null?c.vnode.appContext&&c.vnode.appContext.provides:c.parent.provides;if(y&&l in y)return y[l];if(arguments.length>1)return v&&vn(f)?f.call(c.proxy):f}}function ij(l,f){return bd(l,null,f)}function TE(l,f){return bd(l,null,{flush:"post"})}function oj(l,f){return bd(l,null,{flush:"sync"})}const bE={};function Wh(l,f,v){return bd(l,f,v)}function bd(l,f,{immediate:v,deep:c,flush:y,onTrack:S,onTrigger:x}=hi){const P=Ao;let F,G=!1,z=!1;if(Hi(l)?(F=()=>l.value,G=!!l._shallow):Nl(l)?(F=()=>l,c=!0):Vr(l)?(z=!0,G=l.some(Nl),F=()=>l.map(dt=>{if(Hi(dt))return dt.value;if(Nl(dt))return xf(dt);if(vn(dt))return Ml(dt,P,2)})):vn(l)?f?F=()=>Ml(l,P,2):F=()=>{if(!(P&&P.isUnmounted))return V&&V(),ss(l,P,3,[U])}:F=sl,f&&c){const dt=F;F=()=>xf(dt())}let V,U=dt=>{V=Q.onStop=()=>{Ml(dt,P,4)}};if(Zh)return U=sl,f?v&&ss(f,P,3,[F(),z?[]:void 0,U]):F(),sl;let X=z?[]:bE;const W=()=>{if(!!Q.active)if(f){const dt=Q.run();(c||G||(z?dt.some((ot,_t)=>pd(ot,X[_t])):pd(dt,X)))&&(V&&V(),ss(f,P,3,[dt,X===bE?void 0:X,U]),X=dt)}else Q.run()};W.allowRecurse=!!f;let it;y==="sync"?it=W:y==="post"?it=()=>Ko(W,P&&P.suspense):it=()=>{!P||P.isMounted?V6(W):W()};const Q=new gd(F,it);return f?v?W():X=Q.run():y==="post"?Ko(Q.run.bind(Q),P&&P.suspense):Q.run(),()=>{Q.stop(),P&&P.scope&&E_(P.scope.effects,Q)}}function aj(l,f,v){const c=this.proxy,y=Qi(l)?l.includes(".")?CE(c,l):()=>c[l]:l.bind(c,c);let S;vn(f)?S=f:(S=f.handler,v=f);const x=Ao;Tc(this);const P=bd(y,S.bind(c),v);return x?Tc(x):bc(),P}function CE(l,f){const v=f.split(".");return()=>{let c=l;for(let y=0;y<v.length&&c;y++)c=c[v[y]];return c}}function xf(l,f){if(!to(l)||l.__v_skip||(f=f||new Set,f.has(l)))return l;if(f.add(l),Hi(l))xf(l.value,f);else if(Vr(l))for(let v=0;v<l.length;v++)xf(l[v],f);else if(yf(l)||jh(l))l.forEach(v=>{xf(v,f)});else if(kS(l))for(const v in l)xf(l[v],f);return l}function $_(){const l={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Pd(()=>{l.isMounted=!0}),ty(()=>{l.isUnmounting=!0}),l}const Ps=[Function,Array],sj={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ps,onEnter:Ps,onAfterEnter:Ps,onEnterCancelled:Ps,onBeforeLeave:Ps,onLeave:Ps,onAfterLeave:Ps,onLeaveCancelled:Ps,onBeforeAppear:Ps,onAppear:Ps,onAfterAppear:Ps,onAppearCancelled:Ps},setup(l,{slots:f}){const v=Bl(),c=$_();let y;return()=>{const S=f.default&&qg(f.default(),!0);if(!S||!S.length)return;const x=jn(l),{mode:P}=x,F=S[0];if(c.isLeaving)return J_(F);const G=AE(F);if(!G)return J_(F);const z=Hh(G,x,c,v);Of(G,z);const V=v.subTree,U=V&&AE(V);let X=!1;const{getTransitionKey:W}=G.type;if(W){const it=W();y===void 0?y=it:it!==y&&(y=it,X=!0)}if(U&&U.type!==_a&&(!Dl(G,U)||X)){const it=Hh(U,x,c,v);if(Of(U,it),P==="out-in")return c.isLeaving=!0,it.afterLeave=()=>{c.isLeaving=!1,v.update()},J_(F);P==="in-out"&&G.type!==_a&&(it.delayLeave=(Q,dt,ot)=>{const _t=LE(c,U);_t[String(U.key)]=U,Q._leaveCb=()=>{dt(),Q._leaveCb=void 0,delete z.delayedLeave},z.delayedLeave=ot})}return F}}},q_=sj;function LE(l,f){const{leavingVNodes:v}=l;let c=v.get(f.type);return c||(c=Object.create(null),v.set(f.type,c)),c}function Hh(l,f,v,c){const{appear:y,mode:S,persisted:x=!1,onBeforeEnter:P,onEnter:F,onAfterEnter:G,onEnterCancelled:z,onBeforeLeave:V,onLeave:U,onAfterLeave:X,onLeaveCancelled:W,onBeforeAppear:it,onAppear:Q,onAfterAppear:dt,onAppearCancelled:ot}=f,_t=String(l.key),q=LE(v,l),N=(Et,St)=>{Et&&ss(Et,c,9,St)},Ot={mode:S,persisted:x,beforeEnter(Et){let St=P;if(!v.isMounted)if(y)St=it||P;else return;Et._leaveCb&&Et._leaveCb(!0);const nt=q[_t];nt&&Dl(l,nt)&&nt.el._leaveCb&&nt.el._leaveCb(),N(St,[Et])},enter(Et){let St=F,nt=G,qt=z;if(!v.isMounted)if(y)St=Q||F,nt=dt||G,qt=ot||z;else return;let vt=!1;const pt=Et._enterCb=kt=>{vt||(vt=!0,kt?N(qt,[Et]):N(nt,[Et]),Ot.delayedLeave&&Ot.delayedLeave(),Et._enterCb=void 0)};St?(St(Et,pt),St.length<=1&&pt()):pt()},leave(Et,St){const nt=String(l.key);if(Et._enterCb&&Et._enterCb(!0),v.isUnmounting)return St();N(V,[Et]);let qt=!1;const vt=Et._leaveCb=pt=>{qt||(qt=!0,St(),pt?N(W,[Et]):N(X,[Et]),Et._leaveCb=void 0,q[nt]===l&&delete q[nt])};q[nt]=l,U?(U(Et,vt),U.length<=1&&vt()):vt()},clone(Et){return Hh(Et,f,v,c)}};return Ot}function J_(l){if(Ld(l))return l=xc(l),l.children=null,l}function AE(l){return Ld(l)?l.children?l.children[0]:void 0:l}function Of(l,f){l.shapeFlag&6&&l.component?Of(l.component.subTree,f):l.shapeFlag&128?(l.ssContent.transition=f.clone(l.ssContent),l.ssFallback.transition=f.clone(l.ssFallback)):l.transition=f}function qg(l,f=!1){let v=[],c=0;for(let y=0;y<l.length;y++){const S=l[y];S.type===Zo?(S.patchFlag&128&&c++,v=v.concat(qg(S.children,f))):(f||S.type!==_a)&&v.push(S)}if(c>1)for(let y=0;y<v.length;y++)v[y].patchFlag=-2;return v}function Q_(l){return vn(l)?{setup:l,name:l.name}:l}const Cd=l=>!!l.type.__asyncLoader;function lj(l){vn(l)&&(l={loader:l});const{loader:f,loadingComponent:v,errorComponent:c,delay:y=200,timeout:S,suspensible:x=!0,onError:P}=l;let F=null,G,z=0;const V=()=>(z++,F=null,U()),U=()=>{let X;return F||(X=F=f().catch(W=>{if(W=W instanceof Error?W:new Error(String(W)),P)return new Promise((it,Q)=>{P(W,()=>it(V()),()=>Q(W),z+1)});throw W}).then(W=>X!==F&&F?F:(W&&(W.__esModule||W[Symbol.toStringTag]==="Module")&&(W=W.default),G=W,W)))};return Q_({name:"AsyncComponentWrapper",__asyncLoader:U,get __asyncResolved(){return G},setup(){const X=Ao;if(G)return()=>t1(G,X);const W=ot=>{F=null,wf(ot,X,13,!c)};if(x&&X.suspense||Zh)return U().then(ot=>()=>t1(ot,X)).catch(ot=>(W(ot),()=>c?Fi(c,{error:ot}):null));const it=Gh(!1),Q=Gh(),dt=Gh(!!y);return y&&setTimeout(()=>{dt.value=!1},y),S!=null&&setTimeout(()=>{if(!it.value&&!Q.value){const ot=new Error(`Async component timed out after ${S}ms.`);W(ot),Q.value=ot}},S),U().then(()=>{it.value=!0,X.parent&&Ld(X.parent.vnode)&&z_(X.parent.update)}).catch(ot=>{W(ot),Q.value=ot}),()=>{if(it.value&&G)return t1(G,X);if(Q.value&&c)return Fi(c,{error:Q.value});if(v&&!dt.value)return Fi(v)}}})}function t1(l,{vnode:{ref:f,props:v,children:c}}){const y=Fi(l,v,c);return y.ref=f,y}const Ld=l=>l.type.__isKeepAlive,uj={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(l,{slots:f}){const v=Bl(),c=v.ctx;if(!c.renderer)return f.default;const y=new Map,S=new Set;let x=null;const P=v.suspense,{renderer:{p:F,m:G,um:z,o:{createElement:V}}}=c,U=V("div");c.activate=(ot,_t,q,N,Ot)=>{const Et=ot.component;G(ot,_t,q,0,P),F(Et.vnode,ot,_t,q,Et,P,N,ot.slotScopeIds,Ot),Ko(()=>{Et.isDeactivated=!1,Et.a&&Dh(Et.a);const St=ot.props&&ot.props.onVnodeMounted;St&&za(St,Et.parent,ot)},P)},c.deactivate=ot=>{const _t=ot.component;G(ot,U,null,1,P),Ko(()=>{_t.da&&Dh(_t.da);const q=ot.props&&ot.props.onVnodeUnmounted;q&&za(q,_t.parent,ot),_t.isDeactivated=!0},P)};function X(ot){e1(ot),z(ot,v,P,!0)}function W(ot){y.forEach((_t,q)=>{const N=cy(_t.type);N&&(!ot||!ot(N))&&it(q)})}function it(ot){const _t=y.get(ot);!x||_t.type!==x.type?X(_t):x&&e1(x),y.delete(ot),S.delete(ot)}Wh(()=>[l.include,l.exclude],([ot,_t])=>{ot&&W(q=>Ad(ot,q)),_t&&W(q=>!Ad(_t,q))},{flush:"post",deep:!0});let Q=null;const dt=()=>{Q!=null&&y.set(Q,r1(v.subTree))};return Pd(dt),Qg(dt),ty(()=>{y.forEach(ot=>{const{subTree:_t,suspense:q}=v,N=r1(_t);if(ot.type===N.type){e1(N);const Ot=N.component.da;Ot&&Ko(Ot,q);return}X(ot)})}),()=>{if(Q=null,!f.default)return null;const ot=f.default(),_t=ot[0];if(ot.length>1)return x=null,ot;if(!wc(_t)||!(_t.shapeFlag&4)&&!(_t.shapeFlag&128))return x=null,_t;let q=r1(_t);const N=q.type,Ot=cy(Cd(q)?q.type.__asyncResolved||{}:N),{include:Et,exclude:St,max:nt}=l;if(Et&&(!Ot||!Ad(Et,Ot))||St&&Ot&&Ad(St,Ot))return x=q,_t;const qt=q.key==null?N:q.key,vt=y.get(qt);return q.el&&(q=xc(q),_t.shapeFlag&128&&(_t.ssContent=q)),Q=qt,vt?(q.el=vt.el,q.component=vt.component,q.transition&&Of(q,q.transition),q.shapeFlag|=512,S.delete(qt),S.add(qt)):(S.add(qt),nt&&S.size>parseInt(nt,10)&&it(S.values().next().value)),q.shapeFlag|=256,x=q,_t}}},cj=uj;function Ad(l,f){return Vr(l)?l.some(v=>Ad(v,f)):Qi(l)?l.split(",").indexOf(f)>-1:l.test?l.test(f):!1}function PE(l,f){IE(l,"a",f)}function RE(l,f){IE(l,"da",f)}function IE(l,f,v=Ao){const c=l.__wdc||(l.__wdc=()=>{let y=v;for(;y;){if(y.isDeactivated)return;y=y.parent}return l()});if(Jg(f,c,v),v){let y=v.parent;for(;y&&y.parent;)Ld(y.parent.vnode)&&fj(c,f,v,y),y=y.parent}}function fj(l,f,v,c){const y=Jg(f,l,c,!0);Rd(()=>{E_(c[f],y)},v)}function e1(l){let f=l.shapeFlag;f&256&&(f-=256),f&512&&(f-=512),l.shapeFlag=f}function r1(l){return l.shapeFlag&128?l.ssContent:l}function Jg(l,f,v=Ao,c=!1){if(v){const y=v[l]||(v[l]=[]),S=f.__weh||(f.__weh=(...x)=>{if(v.isUnmounted)return;Sf(),Tc(v);const P=ss(f,v,l,x);return bc(),mc(),P});return c?y.unshift(S):y.push(S),S}}const du=l=>(f,v=Ao)=>(!Zh||l==="sp")&&Jg(l,f,v),NE=du("bm"),Pd=du("m"),ME=du("bu"),Qg=du("u"),ty=du("bum"),Rd=du("um"),FE=du("sp"),jE=du("rtg"),DE=du("rtc");function BE(l,f=Ao){Jg("ec",l,f)}let n1=!0;function hj(l){const f=kE(l),v=l.proxy,c=l.ctx;n1=!1,f.beforeCreate&&GE(f.beforeCreate,l,"bc");const{data:y,computed:S,methods:x,watch:P,provide:F,inject:G,created:z,beforeMount:V,mounted:U,beforeUpdate:X,updated:W,activated:it,deactivated:Q,beforeDestroy:dt,beforeUnmount:ot,destroyed:_t,unmounted:q,render:N,renderTracked:Ot,renderTriggered:Et,errorCaptured:St,serverPrefetch:nt,expose:qt,inheritAttrs:vt,components:pt,directives:kt,filters:Qt}=f;if(G&&pj(G,c,null,l.appContext.config.unwrapInjectedRef),x)for(const Ct in x){const Kt=x[Ct];vn(Kt)&&(c[Ct]=Kt.bind(v))}if(y){const Ct=y.call(v,v);to(Ct)&&(l.data=yd(Ct))}if(n1=!0,S)for(const Ct in S){const Kt=S[Ct],Xe=vn(Kt)?Kt.bind(v,v):vn(Kt.get)?Kt.get.bind(v,v):sl,qe=!vn(Kt)&&vn(Kt.set)?Kt.set.bind(v):sl,me=hE({get:Xe,set:qe});Object.defineProperty(c,Ct,{enumerable:!0,configurable:!0,get:()=>me.value,set:ar=>me.value=ar})}if(P)for(const Ct in P)UE(P[Ct],c,v,Ct);if(F){const Ct=vn(F)?F.call(v):F;Reflect.ownKeys(Ct).forEach(Kt=>{OE(Kt,Ct[Kt])})}z&&GE(z,l,"c");function $(Ct,Kt){Vr(Kt)?Kt.forEach(Xe=>Ct(Xe.bind(v))):Kt&&Ct(Kt.bind(v))}if($(NE,V),$(Pd,U),$(ME,X),$(Qg,W),$(PE,it),$(RE,Q),$(BE,St),$(DE,Ot),$(jE,Et),$(ty,ot),$(Rd,q),$(FE,nt),Vr(qt))if(qt.length){const Ct=l.exposed||(l.exposed={});qt.forEach(Kt=>{Object.defineProperty(Ct,Kt,{get:()=>v[Kt],set:Xe=>v[Kt]=Xe})})}else l.exposed||(l.exposed={});N&&l.render===sl&&(l.render=N),vt!=null&&(l.inheritAttrs=vt),pt&&(l.components=pt),kt&&(l.directives=kt)}function pj(l,f,v=sl,c=!1){Vr(l)&&(l=i1(l));for(const y in l){const S=l[y];let x;to(S)?"default"in S?x=Yh(S.from||y,S.default,!0):x=Yh(S.from||y):x=Yh(S),Hi(x)&&c?Object.defineProperty(f,y,{enumerable:!0,configurable:!0,get:()=>x.value,set:P=>x.value=P}):f[y]=x}}function GE(l,f,v){ss(Vr(l)?l.map(c=>c.bind(f.proxy)):l.bind(f.proxy),f,v)}function UE(l,f,v,c){const y=c.includes(".")?CE(v,c):()=>v[c];if(Qi(l)){const S=f[l];vn(S)&&Wh(y,S)}else if(vn(l))Wh(y,l.bind(v));else if(to(l))if(Vr(l))l.forEach(S=>UE(S,f,v,c));else{const S=vn(l.handler)?l.handler.bind(v):f[l.handler];vn(S)&&Wh(y,S,l)}}function kE(l){const f=l.type,{mixins:v,extends:c}=f,{mixins:y,optionsCache:S,config:{optionMergeStrategies:x}}=l.appContext,P=S.get(f);let F;return P?F=P:!y.length&&!v&&!c?F=f:(F={},y.length&&y.forEach(G=>ey(F,G,x,!0)),ey(F,f,x)),S.set(f,F),F}function ey(l,f,v,c=!1){const{mixins:y,extends:S}=f;S&&ey(l,S,v,!0),y&&y.forEach(x=>ey(l,x,v,!0));for(const x in f)if(!(c&&x==="expose")){const P=dj[x]||v&&v[x];l[x]=P?P(l[x],f[x]):f[x]}return l}const dj={data:VE,props:Tf,emits:Tf,methods:Tf,computed:Tf,beforeCreate:ma,created:ma,beforeMount:ma,mounted:ma,beforeUpdate:ma,updated:ma,beforeDestroy:ma,beforeUnmount:ma,destroyed:ma,unmounted:ma,activated:ma,deactivated:ma,errorCaptured:ma,serverPrefetch:ma,components:Tf,directives:Tf,watch:gj,provide:VE,inject:vj};function VE(l,f){return f?l?function(){return Ji(vn(l)?l.call(this,this):l,vn(f)?f.call(this,this):f)}:f:l}function vj(l,f){return Tf(i1(l),i1(f))}function i1(l){if(Vr(l)){const f={};for(let v=0;v<l.length;v++)f[l[v]]=l[v];return f}return l}function ma(l,f){return l?[...new Set([].concat(l,f))]:f}function Tf(l,f){return l?Ji(Ji(Object.create(null),l),f):f}function gj(l,f){if(!l)return f;if(!f)return l;const v=Ji(Object.create(null),l);for(const c in f)v[c]=ma(l[c],f[c]);return v}function yj(l,f,v,c=!1){const y={},S={};Ig(S,ay,1),l.propsDefaults=Object.create(null),zE(l,f,y,S);for(const x in l.propsOptions[0])x in y||(y[x]=void 0);v?l.props=c?y:lE(y):l.type.props?l.props=y:l.props=S,l.attrs=S}function mj(l,f,v,c){const{props:y,attrs:S,vnode:{patchFlag:x}}=l,P=jn(y),[F]=l.propsOptions;let G=!1;if((c||x>0)&&!(x&16)){if(x&8){const z=l.vnode.dynamicProps;for(let V=0;V<z.length;V++){let U=z[V];const X=f[U];if(F)if(li(S,U))X!==S[U]&&(S[U]=X,G=!0);else{const W=os(U);y[W]=o1(F,P,W,X,l,!1)}else X!==S[U]&&(S[U]=X,G=!0)}}}else{zE(l,f,y,S)&&(G=!0);let z;for(const V in P)(!f||!li(f,V)&&((z=Rl(V))===V||!li(f,z)))&&(F?v&&(v[V]!==void 0||v[z]!==void 0)&&(y[V]=o1(F,P,V,void 0,l,!0)):delete y[V]);if(S!==P)for(const V in S)(!f||!li(f,V))&&(delete S[V],G=!0)}G&&hu(l,"set","$attrs")}function zE(l,f,v,c){const[y,S]=l.propsOptions;let x=!1,P;if(f)for(let F in f){if(cd(F))continue;const G=f[F];let z;y&&li(y,z=os(F))?!S||!S.includes(z)?v[z]=G:(P||(P={}))[z]=G:H_(l.emitsOptions,F)||(!(F in c)||G!==c[F])&&(c[F]=G,x=!0)}if(S){const F=jn(v),G=P||hi;for(let z=0;z<S.length;z++){const V=S[z];v[V]=o1(y,F,V,G[V],l,!li(G,V))}}return x}function o1(l,f,v,c,y,S){const x=l[v];if(x!=null){const P=li(x,"default");if(P&&c===void 0){const F=x.default;if(x.type!==Function&&vn(F)){const{propsDefaults:G}=y;v in G?c=G[v]:(Tc(y),c=G[v]=F.call(null,f),bc())}else c=F}x[0]&&(S&&!P?c=!1:x[1]&&(c===""||c===Rl(v))&&(c=!0))}return c}function YE(l,f,v=!1){const c=f.propsCache,y=c.get(l);if(y)return y;const S=l.props,x={},P=[];let F=!1;if(!vn(l)){const z=V=>{F=!0;const[U,X]=YE(V,f,!0);Ji(x,U),X&&P.push(...X)};!v&&f.mixins.length&&f.mixins.forEach(z),l.extends&&z(l.extends),l.mixins&&l.mixins.forEach(z)}if(!S&&!F)return c.set(l,Fh),Fh;if(Vr(S))for(let z=0;z<S.length;z++){const V=os(S[z]);WE(V)&&(x[V]=hi)}else if(S)for(const z in S){const V=os(z);if(WE(V)){const U=S[z],X=x[V]=Vr(U)||vn(U)?{type:U}:U;if(X){const W=KE(Boolean,X.type),it=KE(String,X.type);X[0]=W>-1,X[1]=it<0||W<it,(W>-1||li(X,"default"))&&P.push(V)}}}const G=[x,P];return c.set(l,G),G}function WE(l){return l[0]!=="$"}function HE(l){const f=l&&l.toString().match(/^\s*function (\w+)/);return f?f[1]:l===null?"null":""}function XE(l,f){return HE(l)===HE(f)}function KE(l,f){return Vr(f)?f.findIndex(v=>XE(v,l)):vn(f)&&XE(f,l)?0:-1}const ZE=l=>l[0]==="_"||l==="$stable",a1=l=>Vr(l)?l.map(cs):[cs(l)],_j=(l,f,v)=>{const c=X_((...y)=>a1(f(...y)),v);return c._c=!1,c},$E=(l,f,v)=>{const c=l._ctx;for(const y in l){if(ZE(y))continue;const S=l[y];if(vn(S))f[y]=_j(y,S,c);else if(S!=null){const x=a1(S);f[y]=()=>x}}},qE=(l,f)=>{const v=a1(f);l.slots.default=()=>v},Sj=(l,f)=>{if(l.vnode.shapeFlag&32){const v=f._;v?(l.slots=jn(f),Ig(f,"_",v)):$E(f,l.slots={})}else l.slots={},f&&qE(l,f);Ig(l.slots,ay,1)},Ej=(l,f,v)=>{const{vnode:c,slots:y}=l;let S=!0,x=hi;if(c.shapeFlag&32){const P=f._;P?v&&P===1?S=!1:(Ji(y,f),!v&&P===1&&delete y._):(S=!f.$stable,$E(f,y)),x=f}else f&&(qE(l,f),x={default:1});if(S)for(const P in y)!ZE(P)&&!(P in x)&&delete y[P]};function wj(l,f){const v=us;if(v===null)return l;const c=v.proxy,y=l.dirs||(l.dirs=[]);for(let S=0;S<f.length;S++){let[x,P,F,G=hi]=f[S];vn(x)&&(x={mounted:x,updated:x}),x.deep&&xf(P),y.push({dir:x,instance:c,value:P,oldValue:void 0,arg:F,modifiers:G})}return l}function Fl(l,f,v,c){const y=l.dirs,S=f&&f.dirs;for(let x=0;x<y.length;x++){const P=y[x];S&&(P.oldValue=S[x].value);let F=P.dir[c];F&&(Sf(),ss(F,v,8,[l.el,P,l,f]),mc())}}function JE(){return{app:null,config:{isNativeTag:V4,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xj=0;function Oj(l,f){return function(c,y=null){y!=null&&!to(y)&&(y=null);const S=JE(),x=new Set;let P=!1;const F=S.app={_uid:xj++,_component:c,_props:y,_container:null,_context:S,_instance:null,version:ww,get config(){return S.config},set config(G){},use(G,...z){return x.has(G)||(G&&vn(G.install)?(x.add(G),G.install(F,...z)):vn(G)&&(x.add(G),G(F,...z))),F},mixin(G){return S.mixins.includes(G)||S.mixins.push(G),F},component(G,z){return z?(S.components[G]=z,F):S.components[G]},directive(G,z){return z?(S.directives[G]=z,F):S.directives[G]},mount(G,z,V){if(!P){const U=Fi(c,y);return U.appContext=S,z&&f?f(U,G):l(U,G,V),P=!0,F._container=G,G.__vue_app__=F,E1(U.component)||U.component.proxy}},unmount(){P&&(l(null,F._container),delete F._container.__vue_app__)},provide(G,z){return S.provides[G]=z,F}};return F}}function ry(l,f,v,c,y=!1){if(Vr(l)){l.forEach((U,X)=>ry(U,f&&(Vr(f)?f[X]:f),v,c,y));return}if(Cd(c)&&!y)return;const S=c.shapeFlag&4?E1(c.component)||c.component.proxy:c.el,x=y?null:S,{i:P,r:F}=l,G=f&&f.r,z=P.refs===hi?P.refs={}:P.refs,V=P.setupState;if(G!=null&&G!==F&&(Qi(G)?(z[G]=null,li(V,G)&&(V[G]=null)):Hi(G)&&(G.value=null)),vn(F))Ml(F,P,12,[x,z]);else{const U=Qi(F),X=Hi(F);if(U||X){const W=()=>{if(l.f){const it=U?z[F]:F.value;y?Vr(it)&&E_(it,S):Vr(it)?it.includes(S)||it.push(S):U?z[F]=[S]:(F.value=[S],l.k&&(z[l.k]=F.value))}else U?(z[F]=x,li(V,F)&&(V[F]=x)):Hi(F)&&(F.value=x,l.k&&(z[l.k]=x))};x?(W.id=-1,Ko(W,v)):W()}}}let Ec=!1;const ny=l=>/svg/.test(l.namespaceURI)&&l.tagName!=="foreignObject",s1=l=>l.nodeType===8;function Tj(l){const{mt:f,p:v,o:{patchProp:c,nextSibling:y,parentNode:S,remove:x,insert:P,createComment:F}}=l,G=(Q,dt)=>{if(!dt.hasChildNodes()){v(null,Q,dt),Xg();return}Ec=!1,z(dt.firstChild,Q,null,null,null),Xg(),Ec&&console.error("Hydration completed but contains mismatches.")},z=(Q,dt,ot,_t,q,N=!1)=>{const Ot=s1(Q)&&Q.data==="[",Et=()=>W(Q,dt,ot,_t,q,Ot),{type:St,ref:nt,shapeFlag:qt}=dt,vt=Q.nodeType;dt.el=Q;let pt=null;switch(St){case Xh:vt!==3?pt=Et():(Q.data!==dt.children&&(Ec=!0,Q.data=dt.children),pt=y(Q));break;case _a:vt!==8||Ot?pt=Et():pt=y(Q);break;case Cf:if(vt!==1)pt=Et();else{pt=Q;const kt=!dt.children.length;for(let Qt=0;Qt<dt.staticCount;Qt++)kt&&(dt.children+=pt.outerHTML),Qt===dt.staticCount-1&&(dt.anchor=pt),pt=y(pt);return pt}break;case Zo:Ot?pt=X(Q,dt,ot,_t,q,N):pt=Et();break;default:if(qt&1)vt!==1||dt.type.toLowerCase()!==Q.tagName.toLowerCase()?pt=Et():pt=V(Q,dt,ot,_t,q,N);else if(qt&6){dt.slotScopeIds=q;const kt=S(Q);if(f(dt,kt,null,ot,_t,ny(kt),N),pt=Ot?it(Q):y(Q),Cd(dt)){let Qt;Ot?(Qt=Fi(Zo),Qt.anchor=pt?pt.previousSibling:kt.lastChild):Qt=Q.nodeType===3?v1(""):Fi("div"),Qt.el=Q,dt.component.subTree=Qt}}else qt&64?vt!==8?pt=Et():pt=dt.type.hydrate(Q,dt,ot,_t,q,N,l,U):qt&128&&(pt=dt.type.hydrate(Q,dt,ot,_t,ny(S(Q)),q,N,l,z))}return nt!=null&&ry(nt,null,_t,dt),pt},V=(Q,dt,ot,_t,q,N)=>{N=N||!!dt.dynamicChildren;const{type:Ot,props:Et,patchFlag:St,shapeFlag:nt,dirs:qt}=dt,vt=Ot==="input"&&qt||Ot==="option";if(vt||St!==-1){if(qt&&Fl(dt,null,ot,"created"),Et)if(vt||!N||St&(16|32))for(const kt in Et)(vt&&kt.endsWith("value")||ud(kt)&&!cd(kt))&&c(Q,kt,null,Et[kt],!1,void 0,ot);else Et.onClick&&c(Q,"onClick",null,Et.onClick,!1,void 0,ot);let pt;if((pt=Et&&Et.onVnodeBeforeMount)&&za(pt,ot,dt),qt&&Fl(dt,null,ot,"beforeMount"),((pt=Et&&Et.onVnodeMounted)||qt)&&xE(()=>{pt&&za(pt,ot,dt),qt&&Fl(dt,null,ot,"mounted")},_t),nt&16&&!(Et&&(Et.innerHTML||Et.textContent))){let kt=U(Q.firstChild,dt,Q,ot,_t,q,N);for(;kt;){Ec=!0;const Qt=kt;kt=kt.nextSibling,x(Qt)}}else nt&8&&Q.textContent!==dt.children&&(Ec=!0,Q.textContent=dt.children)}return Q.nextSibling},U=(Q,dt,ot,_t,q,N,Ot)=>{Ot=Ot||!!dt.dynamicChildren;const Et=dt.children,St=Et.length;for(let nt=0;nt<St;nt++){const qt=Ot?Et[nt]:Et[nt]=cs(Et[nt]);if(Q)Q=z(Q,qt,_t,q,N,Ot);else{if(qt.type===Xh&&!qt.children)continue;Ec=!0,v(null,qt,ot,null,_t,q,ny(ot),N)}}return Q},X=(Q,dt,ot,_t,q,N)=>{const{slotScopeIds:Ot}=dt;Ot&&(q=q?q.concat(Ot):Ot);const Et=S(Q),St=U(y(Q),dt,Et,ot,_t,q,N);return St&&s1(St)&&St.data==="]"?y(dt.anchor=St):(Ec=!0,P(dt.anchor=F("]"),Et,St),St)},W=(Q,dt,ot,_t,q,N)=>{if(Ec=!0,dt.el=null,N){const St=it(Q);for(;;){const nt=y(Q);if(nt&&nt!==St)x(nt);else break}}const Ot=y(Q),Et=S(Q);return x(Q),v(null,dt,Et,Ot,ot,_t,ny(Et),q),Ot},it=Q=>{let dt=0;for(;Q;)if(Q=y(Q),Q&&s1(Q)&&(Q.data==="["&&dt++,Q.data==="]")){if(dt===0)return y(Q);dt--}return Q};return[G,z]}const Ko=xE;function QE(l){return ew(l)}function tw(l){return ew(l,Tj)}function ew(l,f){const v=K4();v.__VUE__=!0;const{insert:c,remove:y,patchProp:S,createElement:x,createText:P,createComment:F,setText:G,setElementText:z,parentNode:V,nextSibling:U,setScopeId:X=sl,cloneNode:W,insertStaticContent:it}=l,Q=(At,Wt,yt,Rt=null,Ft=null,re=null,he=!1,pe=null,Le=!!Wt.dynamicChildren)=>{if(At===Wt)return;At&&!Dl(At,Wt)&&(Rt=Ri(At),jr(At,Ft,re,!0),At=null),Wt.patchFlag===-2&&(Le=!1,Wt.dynamicChildren=null);const{type:ve,ref:Ce,shapeFlag:Me}=Wt;switch(ve){case Xh:dt(At,Wt,yt,Rt);break;case _a:ot(At,Wt,yt,Rt);break;case Cf:At==null&&_t(Wt,yt,Rt,he);break;case Zo:kt(At,Wt,yt,Rt,Ft,re,he,pe,Le);break;default:Me&1?Ot(At,Wt,yt,Rt,Ft,re,he,pe,Le):Me&6?Qt(At,Wt,yt,Rt,Ft,re,he,pe,Le):(Me&64||Me&128)&&ve.process(At,Wt,yt,Rt,Ft,re,he,pe,Le,Dn)}Ce!=null&&Ft&&ry(Ce,At&&At.ref,re,Wt||At,!Wt)},dt=(At,Wt,yt,Rt)=>{if(At==null)c(Wt.el=P(Wt.children),yt,Rt);else{const Ft=Wt.el=At.el;Wt.children!==At.children&&G(Ft,Wt.children)}},ot=(At,Wt,yt,Rt)=>{At==null?c(Wt.el=F(Wt.children||""),yt,Rt):Wt.el=At.el},_t=(At,Wt,yt,Rt)=>{[At.el,At.anchor]=it(At.children,Wt,yt,Rt,At.el,At.anchor)},q=({el:At,anchor:Wt},yt,Rt)=>{let Ft;for(;At&&At!==Wt;)Ft=U(At),c(At,yt,Rt),At=Ft;c(Wt,yt,Rt)},N=({el:At,anchor:Wt})=>{let yt;for(;At&&At!==Wt;)yt=U(At),y(At),At=yt;y(Wt)},Ot=(At,Wt,yt,Rt,Ft,re,he,pe,Le)=>{he=he||Wt.type==="svg",At==null?Et(Wt,yt,Rt,Ft,re,he,pe,Le):qt(At,Wt,Ft,re,he,pe,Le)},Et=(At,Wt,yt,Rt,Ft,re,he,pe)=>{let Le,ve;const{type:Ce,props:Me,shapeFlag:Ee,transition:_r,patchFlag:Sr,dirs:Hr}=At;if(At.el&&W!==void 0&&Sr===-1)Le=At.el=W(At.el);else{if(Le=At.el=x(At.type,re,Me&&Me.is,Me),Ee&8?z(Le,At.children):Ee&16&&nt(At.children,Le,null,Rt,Ft,re&&Ce!=="foreignObject",he,pe),Hr&&Fl(At,null,Rt,"created"),Me){for(const Nr in Me)Nr!=="value"&&!cd(Nr)&&S(Le,Nr,null,Me[Nr],re,At.children,Rt,Ft,Zn);"value"in Me&&S(Le,"value",null,Me.value),(ve=Me.onVnodeBeforeMount)&&za(ve,Rt,At)}St(Le,At,At.scopeId,he,Rt)}Hr&&Fl(At,null,Rt,"beforeMount");const Gr=(!Ft||Ft&&!Ft.pendingBranch)&&_r&&!_r.persisted;Gr&&_r.beforeEnter(Le),c(Le,Wt,yt),((ve=Me&&Me.onVnodeMounted)||Gr||Hr)&&Ko(()=>{ve&&za(ve,Rt,At),Gr&&_r.enter(Le),Hr&&Fl(At,null,Rt,"mounted")},Ft)},St=(At,Wt,yt,Rt,Ft)=>{if(yt&&X(At,yt),Rt)for(let re=0;re<Rt.length;re++)X(At,Rt[re]);if(Ft){let re=Ft.subTree;if(Wt===re){const he=Ft.vnode;St(At,he,he.scopeId,he.slotScopeIds,Ft.parent)}}},nt=(At,Wt,yt,Rt,Ft,re,he,pe,Le=0)=>{for(let ve=Le;ve<At.length;ve++){const Ce=At[ve]=pe?Oc(At[ve]):cs(At[ve]);Q(null,Ce,Wt,yt,Rt,Ft,re,he,pe)}},qt=(At,Wt,yt,Rt,Ft,re,he)=>{const pe=Wt.el=At.el;let{patchFlag:Le,dynamicChildren:ve,dirs:Ce}=Wt;Le|=At.patchFlag&16;const Me=At.props||hi,Ee=Wt.props||hi;let _r;yt&&bf(yt,!1),(_r=Ee.onVnodeBeforeUpdate)&&za(_r,yt,Wt,At),Ce&&Fl(Wt,At,yt,"beforeUpdate"),yt&&bf(yt,!0);const Sr=Ft&&Wt.type!=="foreignObject";if(ve?vt(At.dynamicChildren,ve,pe,yt,Rt,Sr,re):he||Xe(At,Wt,pe,null,yt,Rt,Sr,re,!1),Le>0){if(Le&16)pt(pe,Wt,Me,Ee,yt,Rt,Ft);else if(Le&2&&Me.class!==Ee.class&&S(pe,"class",null,Ee.class,Ft),Le&4&&S(pe,"style",Me.style,Ee.style,Ft),Le&8){const Hr=Wt.dynamicProps;for(let Gr=0;Gr<Hr.length;Gr++){const Nr=Hr[Gr],Qr=Me[Nr],Bn=Ee[Nr];(Bn!==Qr||Nr==="value")&&S(pe,Nr,Qr,Bn,Ft,At.children,yt,Rt,Zn)}}Le&1&&At.children!==Wt.children&&z(pe,Wt.children)}else!he&&ve==null&&pt(pe,Wt,Me,Ee,yt,Rt,Ft);((_r=Ee.onVnodeUpdated)||Ce)&&Ko(()=>{_r&&za(_r,yt,Wt,At),Ce&&Fl(Wt,At,yt,"updated")},Rt)},vt=(At,Wt,yt,Rt,Ft,re,he)=>{for(let pe=0;pe<Wt.length;pe++){const Le=At[pe],ve=Wt[pe],Ce=Le.el&&(Le.type===Zo||!Dl(Le,ve)||Le.shapeFlag&(6|64))?V(Le.el):yt;Q(Le,ve,Ce,null,Rt,Ft,re,he,!0)}},pt=(At,Wt,yt,Rt,Ft,re,he)=>{if(yt!==Rt){for(const pe in Rt){if(cd(pe))continue;const Le=Rt[pe],ve=yt[pe];Le!==ve&&pe!=="value"&&S(At,pe,ve,Le,he,Wt.children,Ft,re,Zn)}if(yt!==hi)for(const pe in yt)!cd(pe)&&!(pe in Rt)&&S(At,pe,yt[pe],null,he,Wt.children,Ft,re,Zn);"value"in Rt&&S(At,"value",yt.value,Rt.value)}},kt=(At,Wt,yt,Rt,Ft,re,he,pe,Le)=>{const ve=Wt.el=At?At.el:P(""),Ce=Wt.anchor=At?At.anchor:P("");let{patchFlag:Me,dynamicChildren:Ee,slotScopeIds:_r}=Wt;_r&&(pe=pe?pe.concat(_r):_r),At==null?(c(ve,yt,Rt),c(Ce,yt,Rt),nt(Wt.children,yt,Ce,Ft,re,he,pe,Le)):Me>0&&Me&64&&Ee&&At.dynamicChildren?(vt(At.dynamicChildren,Ee,yt,Ft,re,he,pe),(Wt.key!=null||Ft&&Wt===Ft.subTree)&&l1(At,Wt,!0)):Xe(At,Wt,yt,Ce,Ft,re,he,pe,Le)},Qt=(At,Wt,yt,Rt,Ft,re,he,pe,Le)=>{Wt.slotScopeIds=pe,At==null?Wt.shapeFlag&512?Ft.ctx.activate(Wt,yt,Rt,he,Le):je(Wt,yt,Rt,Ft,re,he,Le):$(At,Wt,Le)},je=(At,Wt,yt,Rt,Ft,re,he)=>{const pe=At.component=fw(At,Rt,Ft);if(Ld(At)&&(pe.ctx.renderer=Dn),pw(pe),pe.asyncDep){if(Ft&&Ft.registerDep(pe,Ct),!At.el){const Le=pe.subTree=Fi(_a);ot(null,Le,Wt,yt)}return}Ct(pe,At,Wt,yt,Ft,re,he)},$=(At,Wt,yt)=>{const Rt=Wt.component=At.component;if($6(At,Wt,yt))if(Rt.asyncDep&&!Rt.asyncResolved){Kt(Rt,Wt,yt);return}else Rt.next=Wt,k6(Rt.update),Rt.update();else Wt.component=At.component,Wt.el=At.el,Rt.vnode=Wt},Ct=(At,Wt,yt,Rt,Ft,re,he)=>{const pe=()=>{if(At.isMounted){let{next:Ce,bu:Me,u:Ee,parent:_r,vnode:Sr}=At,Hr=Ce,Gr;bf(At,!1),Ce?(Ce.el=Sr.el,Kt(At,Ce,he)):Ce=Sr,Me&&Dh(Me),(Gr=Ce.props&&Ce.props.onVnodeBeforeUpdate)&&za(Gr,_r,Ce,Sr),bf(At,!0);const Nr=$g(At),Qr=At.subTree;At.subTree=Nr,Q(Qr,Nr,V(Qr.el),Ri(Qr),At,Ft,re),Ce.el=Nr.el,Hr===null&&K_(At,Nr.el),Ee&&Ko(Ee,Ft),(Gr=Ce.props&&Ce.props.onVnodeUpdated)&&Ko(()=>za(Gr,_r,Ce,Sr),Ft)}else{let Ce;const{el:Me,props:Ee}=Wt,{bm:_r,m:Sr,parent:Hr}=At,Gr=Cd(Wt);if(bf(At,!1),_r&&Dh(_r),!Gr&&(Ce=Ee&&Ee.onVnodeBeforeMount)&&za(Ce,Hr,Wt),bf(At,!0),Me&&ni){const Nr=()=>{At.subTree=$g(At),ni(Me,At.subTree,At,Ft,null)};Gr?Wt.type.__asyncLoader().then(()=>!At.isUnmounted&&Nr()):Nr()}else{const Nr=At.subTree=$g(At);Q(null,Nr,yt,Rt,At,Ft,re),Wt.el=Nr.el}if(Sr&&Ko(Sr,Ft),!Gr&&(Ce=Ee&&Ee.onVnodeMounted)){const Nr=Wt;Ko(()=>za(Ce,Hr,Nr),Ft)}Wt.shapeFlag&256&&At.a&&Ko(At.a,Ft),At.isMounted=!0,Wt=yt=Rt=null}},Le=At.effect=new gd(pe,()=>z_(At.update),At.scope),ve=At.update=Le.run.bind(Le);ve.id=At.uid,bf(At,!0),ve()},Kt=(At,Wt,yt)=>{Wt.component=At;const Rt=At.vnode.props;At.vnode=Wt,At.next=null,mj(At,Wt.props,Rt,yt),Ej(At,Wt.children,yt),Sf(),W_(void 0,At.update),mc()},Xe=(At,Wt,yt,Rt,Ft,re,he,pe,Le=!1)=>{const ve=At&&At.children,Ce=At?At.shapeFlag:0,Me=Wt.children,{patchFlag:Ee,shapeFlag:_r}=Wt;if(Ee>0){if(Ee&128){me(ve,Me,yt,Rt,Ft,re,he,pe,Le);return}else if(Ee&256){qe(ve,Me,yt,Rt,Ft,re,he,pe,Le);return}}_r&8?(Ce&16&&Zn(ve,Ft,re),Me!==ve&&z(yt,Me)):Ce&16?_r&16?me(ve,Me,yt,Rt,Ft,re,he,pe,Le):Zn(ve,Ft,re,!0):(Ce&8&&z(yt,""),_r&16&&nt(Me,yt,Rt,Ft,re,he,pe,Le))},qe=(At,Wt,yt,Rt,Ft,re,he,pe,Le)=>{At=At||Fh,Wt=Wt||Fh;const ve=At.length,Ce=Wt.length,Me=Math.min(ve,Ce);let Ee;for(Ee=0;Ee<Me;Ee++){const _r=Wt[Ee]=Le?Oc(Wt[Ee]):cs(Wt[Ee]);Q(At[Ee],_r,yt,null,Ft,re,he,pe,Le)}ve>Ce?Zn(At,Ft,re,!0,!1,Me):nt(Wt,yt,Rt,Ft,re,he,pe,Le,Me)},me=(At,Wt,yt,Rt,Ft,re,he,pe,Le)=>{let ve=0;const Ce=Wt.length;let Me=At.length-1,Ee=Ce-1;for(;ve<=Me&&ve<=Ee;){const _r=At[ve],Sr=Wt[ve]=Le?Oc(Wt[ve]):cs(Wt[ve]);if(Dl(_r,Sr))Q(_r,Sr,yt,null,Ft,re,he,pe,Le);else break;ve++}for(;ve<=Me&&ve<=Ee;){const _r=At[Me],Sr=Wt[Ee]=Le?Oc(Wt[Ee]):cs(Wt[Ee]);if(Dl(_r,Sr))Q(_r,Sr,yt,null,Ft,re,he,pe,Le);else break;Me--,Ee--}if(ve>Me){if(ve<=Ee){const _r=Ee+1,Sr=_r<Ce?Wt[_r].el:Rt;for(;ve<=Ee;)Q(null,Wt[ve]=Le?Oc(Wt[ve]):cs(Wt[ve]),yt,Sr,Ft,re,he,pe,Le),ve++}}else if(ve>Ee)for(;ve<=Me;)jr(At[ve],Ft,re,!0),ve++;else{const _r=ve,Sr=ve,Hr=new Map;for(ve=Sr;ve<=Ee;ve++){const rr=Wt[ve]=Le?Oc(Wt[ve]):cs(Wt[ve]);rr.key!=null&&Hr.set(rr.key,ve)}let Gr,Nr=0;const Qr=Ee-Sr+1;let Bn=!1,ii=0;const Oi=new Array(Qr);for(ve=0;ve<Qr;ve++)Oi[ve]=0;for(ve=_r;ve<=Me;ve++){const rr=At[ve];if(Nr>=Qr){jr(rr,Ft,re,!0);continue}let sr;if(rr.key!=null)sr=Hr.get(rr.key);else for(Gr=Sr;Gr<=Ee;Gr++)if(Oi[Gr-Sr]===0&&Dl(rr,Wt[Gr])){sr=Gr;break}sr===void 0?jr(rr,Ft,re,!0):(Oi[sr-Sr]=ve+1,sr>=ii?ii=sr:Bn=!0,Q(rr,Wt[sr],yt,null,Ft,re,he,pe,Le),Nr++)}const wr=Bn?bj(Oi):Fh;for(Gr=wr.length-1,ve=Qr-1;ve>=0;ve--){const rr=Sr+ve,sr=Wt[rr],Lr=rr+1<Ce?Wt[rr+1].el:Rt;Oi[ve]===0?Q(null,sr,yt,Lr,Ft,re,he,pe,Le):Bn&&(Gr<0||ve!==wr[Gr]?ar(sr,yt,Lr,2):Gr--)}}},ar=(At,Wt,yt,Rt,Ft=null)=>{const{el:re,type:he,transition:pe,children:Le,shapeFlag:ve}=At;if(ve&6){ar(At.component.subTree,Wt,yt,Rt);return}if(ve&128){At.suspense.move(Wt,yt,Rt);return}if(ve&64){he.move(At,Wt,yt,Dn);return}if(he===Zo){c(re,Wt,yt);for(let Me=0;Me<Le.length;Me++)ar(Le[Me],Wt,yt,Rt);c(At.anchor,Wt,yt);return}if(he===Cf){q(At,Wt,yt);return}if(Rt!==2&&ve&1&&pe)if(Rt===0)pe.beforeEnter(re),c(re,Wt,yt),Ko(()=>pe.enter(re),Ft);else{const{leave:Me,delayLeave:Ee,afterLeave:_r}=pe,Sr=()=>c(re,Wt,yt),Hr=()=>{Me(re,()=>{Sr(),_r&&_r()})};Ee?Ee(re,Sr,Hr):Hr()}else c(re,Wt,yt)},jr=(At,Wt,yt,Rt=!1,Ft=!1)=>{const{type:re,props:he,ref:pe,children:Le,dynamicChildren:ve,shapeFlag:Ce,patchFlag:Me,dirs:Ee}=At;if(pe!=null&&ry(pe,null,yt,At,!0),Ce&256){Wt.ctx.deactivate(At);return}const _r=Ce&1&&Ee,Sr=!Cd(At);let Hr;if(Sr&&(Hr=he&&he.onVnodeBeforeUnmount)&&za(Hr,Wt,At),Ce&6)ur(At.component,yt,Rt);else{if(Ce&128){At.suspense.unmount(yt,Rt);return}_r&&Fl(At,null,Wt,"beforeUnmount"),Ce&64?At.type.remove(At,Wt,yt,Ft,Dn,Rt):ve&&(re!==Zo||Me>0&&Me&64)?Zn(ve,Wt,yt,!1,!0):(re===Zo&&Me&(128|256)||!Ft&&Ce&16)&&Zn(Le,Wt,yt),Rt&&Pr(At)}(Sr&&(Hr=he&&he.onVnodeUnmounted)||_r)&&Ko(()=>{Hr&&za(Hr,Wt,At),_r&&Fl(At,null,Wt,"unmounted")},yt)},Pr=At=>{const{type:Wt,el:yt,anchor:Rt,transition:Ft}=At;if(Wt===Zo){Xn(yt,Rt);return}if(Wt===Cf){N(At);return}const re=()=>{y(yt),Ft&&!Ft.persisted&&Ft.afterLeave&&Ft.afterLeave()};if(At.shapeFlag&1&&Ft&&!Ft.persisted){const{leave:he,delayLeave:pe}=Ft,Le=()=>he(yt,re);pe?pe(At.el,re,Le):Le()}else re()},Xn=(At,Wt)=>{let yt;for(;At!==Wt;)yt=U(At),y(At),At=yt;y(Wt)},ur=(At,Wt,yt)=>{const{bum:Rt,scope:Ft,update:re,subTree:he,um:pe}=At;Rt&&Dh(Rt),Ft.stop(),re&&(re.active=!1,jr(he,At,Wt,yt)),pe&&Ko(pe,Wt),Ko(()=>{At.isUnmounted=!0},Wt),Wt&&Wt.pendingBranch&&!Wt.isUnmounted&&At.asyncDep&&!At.asyncResolved&&At.suspenseId===Wt.pendingId&&(Wt.deps--,Wt.deps===0&&Wt.resolve())},Zn=(At,Wt,yt,Rt=!1,Ft=!1,re=0)=>{for(let he=re;he<At.length;he++)jr(At[he],Wt,yt,Rt,Ft)},Ri=At=>At.shapeFlag&6?Ri(At.component.subTree):At.shapeFlag&128?At.suspense.next():U(At.anchor||At.el),Ya=(At,Wt,yt)=>{At==null?Wt._vnode&&jr(Wt._vnode,null,null,!0):Q(Wt._vnode||null,At,Wt,null,null,null,yt),Xg(),Wt._vnode=At},Dn={p:Q,um:jr,m:ar,r:Pr,mt:je,mc:nt,pc:Xe,pbc:vt,n:Ri,o:l};let Si,ni;return f&&([Si,ni]=f(Dn)),{render:Ya,hydrate:Si,createApp:Oj(Ya,Si)}}function bf({effect:l,update:f},v){l.allowRecurse=f.allowRecurse=v}function l1(l,f,v=!1){const c=l.children,y=f.children;if(Vr(c)&&Vr(y))for(let S=0;S<c.length;S++){const x=c[S];let P=y[S];P.shapeFlag&1&&!P.dynamicChildren&&((P.patchFlag<=0||P.patchFlag===32)&&(P=y[S]=Oc(y[S]),P.el=x.el),v||l1(x,P))}}function bj(l){const f=l.slice(),v=[0];let c,y,S,x,P;const F=l.length;for(c=0;c<F;c++){const G=l[c];if(G!==0){if(y=v[v.length-1],l[y]<G){f[c]=y,v.push(c);continue}for(S=0,x=v.length-1;S<x;)P=S+x>>1,l[v[P]]<G?S=P+1:x=P;G<l[v[S]]&&(S>0&&(f[c]=v[S-1]),v[S]=c)}}for(S=v.length,x=v[S-1];S-- >0;)v[S]=x,x=f[x];return v}const Cj=l=>l.__isTeleport,Id=l=>l&&(l.disabled||l.disabled===""),rw=l=>typeof SVGElement!="undefined"&&l instanceof SVGElement,u1=(l,f)=>{const v=l&&l.to;return Qi(v)?f?f(v):null:v},Lj={__isTeleport:!0,process(l,f,v,c,y,S,x,P,F,G){const{mc:z,pc:V,pbc:U,o:{insert:X,querySelector:W,createText:it,createComment:Q}}=G,dt=Id(f.props);let{shapeFlag:ot,children:_t,dynamicChildren:q}=f;if(l==null){const N=f.el=it(""),Ot=f.anchor=it("");X(N,v,c),X(Ot,v,c);const Et=f.target=u1(f.props,W),St=f.targetAnchor=it("");Et&&(X(St,Et),x=x||rw(Et));const nt=(qt,vt)=>{ot&16&&z(_t,qt,vt,y,S,x,P,F)};dt?nt(v,Ot):Et&&nt(Et,St)}else{f.el=l.el;const N=f.anchor=l.anchor,Ot=f.target=l.target,Et=f.targetAnchor=l.targetAnchor,St=Id(l.props),nt=St?v:Ot,qt=St?N:Et;if(x=x||rw(Ot),q?(U(l.dynamicChildren,q,nt,y,S,x,P),l1(l,f,!0)):F||V(l,f,nt,qt,y,S,x,P,!1),dt)St||iy(f,v,N,G,1);else if((f.props&&f.props.to)!==(l.props&&l.props.to)){const vt=f.target=u1(f.props,W);vt&&iy(f,vt,null,G,0)}else St&&iy(f,Ot,Et,G,1)}},remove(l,f,v,c,{um:y,o:{remove:S}},x){const{shapeFlag:P,children:F,anchor:G,targetAnchor:z,target:V,props:U}=l;if(V&&S(z),(x||!Id(U))&&(S(G),P&16))for(let X=0;X<F.length;X++){const W=F[X];y(W,f,v,!0,!!W.dynamicChildren)}},move:iy,hydrate:Aj};function iy(l,f,v,{o:{insert:c},m:y},S=2){S===0&&c(l.targetAnchor,f,v);const{el:x,anchor:P,shapeFlag:F,children:G,props:z}=l,V=S===2;if(V&&c(x,f,v),(!V||Id(z))&&F&16)for(let U=0;U<G.length;U++)y(G[U],f,v,2);V&&c(P,f,v)}function Aj(l,f,v,c,y,S,{o:{nextSibling:x,parentNode:P,querySelector:F}},G){const z=f.target=u1(f.props,F);if(z){const V=z._lpa||z.firstChild;f.shapeFlag&16&&(Id(f.props)?(f.anchor=G(x(l),f,P(l),v,c,y,S),f.targetAnchor=V):(f.anchor=x(l),f.targetAnchor=G(V,f,z,v,c,y,S)),z._lpa=f.targetAnchor&&x(f.targetAnchor))}return f.anchor&&x(f.anchor)}const Pj=Lj,c1="components",Rj="directives";function Ij(l,f){return f1(c1,l,!0,f)||l}const nw=Symbol();function Nj(l){return Qi(l)?f1(c1,l,!1)||l:l||nw}function Mj(l){return f1(Rj,l)}function f1(l,f,v=!0,c=!1){const y=us||Ao;if(y){const S=y.type;if(l===c1){const P=cy(S);if(P&&(P===f||P===os(f)||P===fd(os(f))))return S}const x=iw(y[l]||S[l],f)||iw(y.appContext[l],f);return!x&&c?S:x}}function iw(l,f){return l&&(l[f]||l[os(f)]||l[fd(os(f))])}const Zo=Symbol(void 0),Xh=Symbol(void 0),_a=Symbol(void 0),Cf=Symbol(void 0),Nd=[];let jl=null;function oy(l=!1){Nd.push(jl=l?null:[])}function ow(){Nd.pop(),jl=Nd[Nd.length-1]||null}let Kh=1;function h1(l){Kh+=l}function aw(l){return l.dynamicChildren=Kh>0?jl||Fh:null,ow(),Kh>0&&jl&&jl.push(l),l}function Fj(l,f,v,c,y,S){return aw(d1(l,f,v,c,y,S,!0))}function p1(l,f,v,c,y){return aw(Fi(l,f,v,c,y,!0))}function wc(l){return l?l.__v_isVNode===!0:!1}function Dl(l,f){return l.type===f.type&&l.key===f.key}function jj(l){}const ay="__vInternal",sw=({key:l})=>l!=null?l:null,sy=({ref:l,ref_key:f,ref_for:v})=>l!=null?Qi(l)||Hi(l)||vn(l)?{i:us,r:l,k:f,f:!!v}:l:null;function d1(l,f=null,v=null,c=0,y=null,S=l===Zo?0:1,x=!1,P=!1){const F={__v_isVNode:!0,__v_skip:!0,type:l,props:f,key:f&&sw(f),ref:f&&sy(f),scopeId:Zg,slotScopeIds:null,children:v,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:S,patchFlag:c,dynamicProps:y,dynamicChildren:null,appContext:null};return P?(g1(F,v),S&128&&l.normalize(F)):v&&(F.shapeFlag|=Qi(v)?8:16),Kh>0&&!x&&jl&&(F.patchFlag>0||S&6)&&F.patchFlag!==32&&jl.push(F),F}const Fi=Dj;function Dj(l,f=null,v=null,c=0,y=null,S=!1){if((!l||l===nw)&&(l=_a),wc(l)){const P=xc(l,f,!0);return v&&g1(P,v),P}if(Qj(l)&&(l=l.__vccOpts),f){f=lw(f);let{class:P,style:F}=f;P&&!Qi(P)&&(f.class=ld(P)),to(F)&&(F_(F)&&!Vr(F)&&(F=Ji({},F)),f.style=sd(F))}const x=Qi(l)?1:q6(l)?128:Cj(l)?64:to(l)?4:vn(l)?2:0;return d1(l,f,v,c,y,x,S,!0)}function lw(l){return l?F_(l)||ay in l?Ji({},l):l:null}function xc(l,f,v=!1){const{props:c,ref:y,patchFlag:S,children:x}=l,P=f?uw(c||{},f):c;return{__v_isVNode:!0,__v_skip:!0,type:l.type,props:P,key:P&&sw(P),ref:f&&f.ref?v&&y?Vr(y)?y.concat(sy(f)):[y,sy(f)]:sy(f):y,scopeId:l.scopeId,slotScopeIds:l.slotScopeIds,children:x,target:l.target,targetAnchor:l.targetAnchor,staticCount:l.staticCount,shapeFlag:l.shapeFlag,patchFlag:f&&l.type!==Zo?S===-1?16:S|16:S,dynamicProps:l.dynamicProps,dynamicChildren:l.dynamicChildren,appContext:l.appContext,dirs:l.dirs,transition:l.transition,component:l.component,suspense:l.suspense,ssContent:l.ssContent&&xc(l.ssContent),ssFallback:l.ssFallback&&xc(l.ssFallback),el:l.el,anchor:l.anchor}}function v1(l=" ",f=0){return Fi(Xh,null,l,f)}function Bj(l,f){const v=Fi(Cf,null,l);return v.staticCount=f,v}function Gj(l="",f=!1){return f?(oy(),p1(_a,null,l)):Fi(_a,null,l)}function cs(l){return l==null||typeof l=="boolean"?Fi(_a):Vr(l)?Fi(Zo,null,l.slice()):typeof l=="object"?Oc(l):Fi(Xh,null,String(l))}function Oc(l){return l.el===null||l.memo?l:xc(l)}function g1(l,f){let v=0;const{shapeFlag:c}=l;if(f==null)f=null;else if(Vr(f))v=16;else if(typeof f=="object")if(c&(1|64)){const y=f.default;y&&(y._c&&(y._d=!1),g1(l,y()),y._c&&(y._d=!0));return}else{v=32;const y=f._;!y&&!(ay in f)?f._ctx=us:y===3&&us&&(us.slots._===1?f._=1:(f._=2,l.patchFlag|=1024))}else vn(f)?(f={default:f,_ctx:us},v=32):(f=String(f),c&64?(v=16,f=[v1(f)]):v=8);l.children=f,l.shapeFlag|=v}function uw(...l){const f={};for(let v=0;v<l.length;v++){const c=l[v];for(const y in c)if(y==="class")f.class!==c.class&&(f.class=ld([f.class,c.class]));else if(y==="style")f.style=sd([f.style,c.style]);else if(ud(y)){const S=f[y],x=c[y];S!==x&&!(Vr(S)&&S.includes(x))&&(f[y]=S?[].concat(S,x):x)}else y!==""&&(f[y]=c[y])}return f}function za(l,f,v,c=null){ss(l,f,7,[v,c])}function Uj(l,f,v,c){let y;const S=v&&v[c];if(Vr(l)||Qi(l)){y=new Array(l.length);for(let x=0,P=l.length;x<P;x++)y[x]=f(l[x],x,void 0,S&&S[x])}else if(typeof l=="number"){y=new Array(l);for(let x=0;x<l;x++)y[x]=f(x+1,x,void 0,S&&S[x])}else if(to(l))if(l[Symbol.iterator])y=Array.from(l,(x,P)=>f(x,P,void 0,S&&S[P]));else{const x=Object.keys(l);y=new Array(x.length);for(let P=0,F=x.length;P<F;P++){const G=x[P];y[P]=f(l[G],G,P,S&&S[P])}}else y=[];return v&&(v[c]=y),y}function kj(l,f){for(let v=0;v<f.length;v++){const c=f[v];if(Vr(c))for(let y=0;y<c.length;y++)l[c[y].name]=c[y].fn;else c&&(l[c.name]=c.fn)}return l}function Vj(l,f,v={},c,y){if(us.isCE)return Fi("slot",f==="default"?null:{name:f},c&&c());let S=l[f];S&&S._c&&(S._d=!1),oy();const x=S&&cw(S(v)),P=p1(Zo,{key:v.key||`_${f}`},x||(c?c():[]),x&&l._===1?64:-2);return!y&&P.scopeId&&(P.slotScopeIds=[P.scopeId+"-s"]),S&&S._c&&(S._d=!0),P}function cw(l){return l.some(f=>wc(f)?!(f.type===_a||f.type===Zo&&!cw(f.children)):!0)?l:null}function zj(l){const f={};for(const v in l)f[hd(v)]=l[v];return f}const y1=l=>l?hw(l)?E1(l)||l.proxy:y1(l.parent):null,ly=Ji(Object.create(null),{$:l=>l,$el:l=>l.vnode.el,$data:l=>l.data,$props:l=>l.props,$attrs:l=>l.attrs,$slots:l=>l.slots,$refs:l=>l.refs,$parent:l=>y1(l.parent),$root:l=>y1(l.root),$emit:l=>l.emit,$options:l=>kE(l),$forceUpdate:l=>()=>z_(l.update),$nextTick:l=>Hg.bind(l.proxy),$watch:l=>aj.bind(l)}),m1={get({_:l},f){const{ctx:v,setupState:c,data:y,props:S,accessCache:x,type:P,appContext:F}=l;let G;if(f[0]!=="$"){const X=x[f];if(X!==void 0)switch(X){case 1:return c[f];case 2:return y[f];case 4:return v[f];case 3:return S[f]}else{if(c!==hi&&li(c,f))return x[f]=1,c[f];if(y!==hi&&li(y,f))return x[f]=2,y[f];if((G=l.propsOptions[0])&&li(G,f))return x[f]=3,S[f];if(v!==hi&&li(v,f))return x[f]=4,v[f];n1&&(x[f]=0)}}const z=ly[f];let V,U;if(z)return f==="$attrs"&&as(l,"get",f),z(l);if((V=P.__cssModules)&&(V=V[f]))return V;if(v!==hi&&li(v,f))return x[f]=4,v[f];if(U=F.config.globalProperties,li(U,f))return U[f]},set({_:l},f,v){const{data:c,setupState:y,ctx:S}=l;if(y!==hi&&li(y,f))y[f]=v;else if(c!==hi&&li(c,f))c[f]=v;else if(li(l.props,f))return!1;return f[0]==="$"&&f.slice(1)in l?!1:(S[f]=v,!0)},has({_:{data:l,setupState:f,accessCache:v,ctx:c,appContext:y,propsOptions:S}},x){let P;return!!v[x]||l!==hi&&li(l,x)||f!==hi&&li(f,x)||(P=S[0])&&li(P,x)||li(c,x)||li(ly,x)||li(y.config.globalProperties,x)}},Yj=Ji({},m1,{get(l,f){if(f!==Symbol.unscopables)return m1.get(l,f,l)},has(l,f){return f[0]!=="_"&&!N4(f)}}),Wj=JE();let Hj=0;function fw(l,f,v){const c=l.type,y=(f?f.appContext:l.appContext)||Wj,S={uid:Hj++,vnode:l,type:c,parent:f,appContext:y,root:null,next:null,subTree:null,effect:null,update:null,scope:new T_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:f?f.provides:Object.create(y.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:YE(c,y),emitsOptions:SE(c,y),emit:null,emitted:null,propsDefaults:hi,inheritAttrs:c.inheritAttrs,ctx:hi,data:hi,props:hi,attrs:hi,slots:hi,refs:hi,setupState:hi,setupContext:null,suspense:v,suspenseId:v?v.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return S.ctx={_:S},S.root=f?f.root:S,S.emit=z6.bind(null,S),l.ce&&l.ce(S),S}let Ao=null;const Bl=()=>Ao||us,Tc=l=>{Ao=l,l.scope.on()},bc=()=>{Ao&&Ao.scope.off(),Ao=null};function hw(l){return l.vnode.shapeFlag&4}let Zh=!1;function pw(l,f=!1){Zh=f;const{props:v,children:c}=l.vnode,y=hw(l);yj(l,v,y,f),Sj(l,c);const S=y?Xj(l,f):void 0;return Zh=!1,S}function Xj(l,f){const v=l.type;l.accessCache=Object.create(null),l.proxy=Ef(new Proxy(l.ctx,m1));const{setup:c}=v;if(c){const y=l.setupContext=c.length>1?vw(l):null;Tc(l),Sf();const S=Ml(c,l,0,[l.props,y]);if(mc(),bc(),x_(S)){if(S.then(bc,bc),f)return S.then(x=>{_1(l,x,f)}).catch(x=>{wf(x,l,0)});l.asyncDep=S}else _1(l,S,f)}else dw(l,f)}function _1(l,f,v){vn(f)?l.type.__ssrInlineRender?l.ssrRender=f:l.render=f:to(f)&&(l.setupState=B_(f)),dw(l,v)}let uy,S1;function Kj(l){uy=l,S1=f=>{f.render._rc&&(f.withProxy=new Proxy(f.ctx,Yj))}}const Zj=()=>!uy;function dw(l,f,v){const c=l.type;if(!l.render){if(!f&&uy&&!c.render){const y=c.template;if(y){const{isCustomElement:S,compilerOptions:x}=l.appContext.config,{delimiters:P,compilerOptions:F}=c,G=Ji(Ji({isCustomElement:S,delimiters:P},x),F);c.render=uy(y,G)}}l.render=c.render||sl,S1&&S1(l)}Tc(l),Sf(),hj(l),mc(),bc()}function $j(l){return new Proxy(l.attrs,{get(f,v){return as(l,"get","$attrs"),f[v]}})}function vw(l){const f=c=>{l.exposed=c||{}};let v;return{get attrs(){return v||(v=$j(l))},slots:l.slots,emit:l.emit,expose:f}}function E1(l){if(l.exposed)return l.exposeProxy||(l.exposeProxy=new Proxy(B_(Ef(l.exposed)),{get(f,v){if(v in f)return f[v];if(v in ly)return ly[v](l)}}))}const qj=/(?:^|[-_])(\w)/g,Jj=l=>l.replace(qj,f=>f.toUpperCase()).replace(/[-_]/g,"");function cy(l){return vn(l)&&l.displayName||l.name}function gw(l,f,v=!1){let c=cy(f);if(!c&&f.__file){const y=f.__file.match(/([^/\\]+)\.\w+$/);y&&(c=y[1])}if(!c&&l&&l.parent){const y=S=>{for(const x in S)if(S[x]===f)return x};c=y(l.components||l.parent.type.components)||y(l.appContext.components)}return c?Jj(c):v?"App":"Anonymous"}function Qj(l){return vn(l)&&"__vccOpts"in l}const yw=(l,f)=>hE(l,f,Zh);function t8(){return null}function e8(){return null}function r8(l){}function n8(l,f){return null}function i8(){return mw().slots}function o8(){return mw().attrs}function mw(){const l=Bl();return l.setupContext||(l.setupContext=vw(l))}function a8(l,f){const v=Vr(l)?l.reduce((c,y)=>(c[y]={},c),{}):l;for(const c in f){const y=v[c];y?Vr(y)||vn(y)?v[c]={type:y,default:f[c]}:y.default=f[c]:y===null&&(v[c]={default:f[c]})}return v}function s8(l,f){const v={};for(const c in l)f.includes(c)||Object.defineProperty(v,c,{enumerable:!0,get:()=>l[c]});return v}function l8(l){const f=Bl();let v=l();return bc(),x_(v)&&(v=v.catch(c=>{throw Tc(f),c})),[v,()=>Tc(f)]}function _w(l,f,v){const c=arguments.length;return c===2?to(f)&&!Vr(f)?wc(f)?Fi(l,null,[f]):Fi(l,f):Fi(l,null,f):(c>3?v=Array.prototype.slice.call(arguments,2):c===3&&wc(v)&&(v=[v]),Fi(l,f,v))}const Sw=Symbol(""),u8=()=>{{const l=Yh(Sw);return l||pE("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),l}};function c8(){}function f8(l,f,v,c){const y=v[c];if(y&&Ew(y,l))return y;const S=f();return S.memo=l.slice(),v[c]=S}function Ew(l,f){const v=l.memo;if(v.length!=f.length)return!1;for(let c=0;c<v.length;c++)if(v[c]!==f[c])return!1;return Kh>0&&jl&&jl.push(l),!0}const ww="3.2.27",h8={createComponentInstance:fw,setupComponent:pw,renderComponentRoot:$g,setCurrentRenderingInstance:Od,isVNode:wc,normalizeVNode:cs},p8=h8,d8=null,v8=null,g8="http://www.w3.org/2000/svg",Lf=typeof document!="undefined"?document:null,xw=Lf&&Lf.createElement("template"),y8={insert:(l,f,v)=>{f.insertBefore(l,v||null)},remove:l=>{const f=l.parentNode;f&&f.removeChild(l)},createElement:(l,f,v,c)=>{const y=f?Lf.createElementNS(g8,l):Lf.createElement(l,v?{is:v}:void 0);return l==="select"&&c&&c.multiple!=null&&y.setAttribute("multiple",c.multiple),y},createText:l=>Lf.createTextNode(l),createComment:l=>Lf.createComment(l),setText:(l,f)=>{l.nodeValue=f},setElementText:(l,f)=>{l.textContent=f},parentNode:l=>l.parentNode,nextSibling:l=>l.nextSibling,querySelector:l=>Lf.querySelector(l),setScopeId(l,f){l.setAttribute(f,"")},cloneNode(l){const f=l.cloneNode(!0);return"_value"in l&&(f._value=l._value),f},insertStaticContent(l,f,v,c,y,S){const x=v?v.previousSibling:f.lastChild;if(y&&S)for(;f.insertBefore(y.cloneNode(!0),v),!(y===S||!(y=y.nextSibling)););else{xw.innerHTML=c?`<svg>${l}</svg>`:l;const P=xw.content;if(c){const F=P.firstChild;for(;F.firstChild;)P.appendChild(F.firstChild);P.removeChild(F)}f.insertBefore(P,v)}return[x?x.nextSibling:f.firstChild,v?v.previousSibling:f.lastChild]}};function m8(l,f,v){const c=l._vtc;c&&(f=(f?[f,...c]:[...c]).join(" ")),f==null?l.removeAttribute("class"):v?l.setAttribute("class",f):l.className=f}function _8(l,f,v){const c=l.style,y=Qi(v);if(v&&!y){for(const S in v)w1(c,S,v[S]);if(f&&!Qi(f))for(const S in f)v[S]==null&&w1(c,S,"")}else{const S=c.display;y?f!==v&&(c.cssText=v):f&&l.removeAttribute("style"),"_vod"in l&&(c.display=S)}}const Ow=/\s*!important$/;function w1(l,f,v){if(Vr(v))v.forEach(c=>w1(l,f,c));else if(f.startsWith("--"))l.setProperty(f,v);else{const c=S8(l,f);Ow.test(v)?l.setProperty(Rl(c),v.replace(Ow,""),"important"):l[c]=v}}const Tw=["Webkit","Moz","ms"],x1={};function S8(l,f){const v=x1[f];if(v)return v;let c=os(f);if(c!=="filter"&&c in l)return x1[f]=c;c=fd(c);for(let y=0;y<Tw.length;y++){const S=Tw[y]+c;if(S in l)return x1[f]=S}return f}const bw="http://www.w3.org/1999/xlink";function E8(l,f,v,c,y){if(c&&f.startsWith("xlink:"))v==null?l.removeAttributeNS(bw,f.slice(6,f.length)):l.setAttributeNS(bw,f,v);else{const S=F4(f);v==null||S&&!DS(v)?l.removeAttribute(f):l.setAttribute(f,S?"":v)}}function w8(l,f,v,c,y,S,x){if(f==="innerHTML"||f==="textContent"){c&&x(c,y,S),l[f]=v==null?"":v;return}if(f==="value"&&l.tagName!=="PROGRESS"&&!l.tagName.includes("-")){l._value=v;const P=v==null?"":v;(l.value!==P||l.tagName==="OPTION")&&(l.value=P),v==null&&l.removeAttribute(f);return}if(v===""||v==null){const P=typeof l[f];if(P==="boolean"){l[f]=DS(v);return}else if(v==null&&P==="string"){l[f]="",l.removeAttribute(f);return}else if(P==="number"){try{l[f]=0}catch{}l.removeAttribute(f);return}}try{l[f]=v}catch{}}let fy=Date.now,Cw=!1;if(typeof window!="undefined"){fy()>document.createEvent("Event").timeStamp&&(fy=()=>performance.now());const l=navigator.userAgent.match(/firefox\/(\d+)/i);Cw=!!(l&&Number(l[1])<=53)}let O1=0;const x8=Promise.resolve(),O8=()=>{O1=0},T8=()=>O1||(x8.then(O8),O1=fy());function vu(l,f,v,c){l.addEventListener(f,v,c)}function b8(l,f,v,c){l.removeEventListener(f,v,c)}function C8(l,f,v,c,y=null){const S=l._vei||(l._vei={}),x=S[f];if(c&&x)x.value=c;else{const[P,F]=L8(f);if(c){const G=S[f]=A8(c,y);vu(l,P,G,F)}else x&&(b8(l,P,x,F),S[f]=void 0)}}const Lw=/(?:Once|Passive|Capture)$/;function L8(l){let f;if(Lw.test(l)){f={};let v;for(;v=l.match(Lw);)l=l.slice(0,l.length-v[0].length),f[v[0].toLowerCase()]=!0}return[Rl(l.slice(2)),f]}function A8(l,f){const v=c=>{const y=c.timeStamp||fy();(Cw||y>=v.attached-1)&&ss(P8(c,v.value),f,5,[c])};return v.value=l,v.attached=T8(),v}function P8(l,f){if(Vr(f)){const v=l.stopImmediatePropagation;return l.stopImmediatePropagation=()=>{v.call(l),l._stopped=!0},f.map(c=>y=>!y._stopped&&c(y))}else return f}const Aw=/^on[a-z]/,R8=(l,f,v,c,y=!1,S,x,P,F)=>{f==="class"?m8(l,c,y):f==="style"?_8(l,v,c):ud(f)?S_(f)||C8(l,f,v,c,x):(f[0]==="."?(f=f.slice(1),!0):f[0]==="^"?(f=f.slice(1),!1):I8(l,f,c,y))?w8(l,f,c,S,x,P,F):(f==="true-value"?l._trueValue=c:f==="false-value"&&(l._falseValue=c),E8(l,f,c,y))};function I8(l,f,v,c){return c?!!(f==="innerHTML"||f==="textContent"||f in l&&Aw.test(f)&&vn(v)):f==="spellcheck"||f==="draggable"||f==="form"||f==="list"&&l.tagName==="INPUT"||f==="type"&&l.tagName==="TEXTAREA"||Aw.test(f)&&Qi(v)?!1:f in l}function Pw(l,f){const v=Q_(l);class c extends hy{constructor(S){super(v,S,f)}}return c.def=v,c}const N8=l=>Pw(l,Qw),M8=typeof HTMLElement!="undefined"?HTMLElement:class{};class hy extends M8{constructor(f,v={},c){super();this._def=f,this._props=v,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&c?c(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,Hg(()=>{this._connected||(P1(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let c=0;c<this.attributes.length;c++)this._setAttr(this.attributes[c].name);new MutationObserver(c=>{for(const y of c)this._setAttr(y.attributeName)}).observe(this,{attributes:!0});const f=c=>{const{props:y,styles:S}=c,x=!Vr(y),P=y?x?Object.keys(y):y:[];let F;if(x)for(const G in this._props){const z=y[G];(z===Number||z&&z.type===Number)&&(this._props[G]=gc(this._props[G]),(F||(F=Object.create(null)))[G]=!0)}this._numberProps=F;for(const G of Object.keys(this))G[0]!=="_"&&this._setProp(G,this[G],!0,!1);for(const G of P.map(os))Object.defineProperty(this,G,{get(){return this._getProp(G)},set(z){this._setProp(G,z)}});this._applyStyles(S),this._update()},v=this._def.__asyncLoader;v?v().then(f):f(this._def)}_setAttr(f){let v=this.getAttribute(f);this._numberProps&&this._numberProps[f]&&(v=gc(v)),this._setProp(os(f),v,!1)}_getProp(f){return this._props[f]}_setProp(f,v,c=!0,y=!0){v!==this._props[f]&&(this._props[f]=v,y&&this._instance&&this._update(),c&&(v===!0?this.setAttribute(Rl(f),""):typeof v=="string"||typeof v=="number"?this.setAttribute(Rl(f),v+""):v||this.removeAttribute(Rl(f))))}_update(){P1(this._createVNode(),this.shadowRoot)}_createVNode(){const f=Fi(this._def,Ji({},this._props));return this._instance||(f.ce=v=>{this._instance=v,v.isCE=!0,v.emit=(y,...S)=>{this.dispatchEvent(new CustomEvent(y,{detail:S}))};let c=this;for(;c=c&&(c.parentNode||c.host);)if(c instanceof hy){v.parent=c._instance;break}}),f}_applyStyles(f){f&&f.forEach(v=>{const c=document.createElement("style");c.textContent=v,this.shadowRoot.appendChild(c)})}}function F8(l="$style"){{const f=Bl();if(!f)return hi;const v=f.type.__cssModules;if(!v)return hi;const c=v[l];return c||hi}}function j8(l){const f=Bl();if(!f)return;const v=()=>T1(f.subTree,l(f.proxy));TE(v),Pd(()=>{const c=new MutationObserver(v);c.observe(f.subTree.el.parentNode,{childList:!0}),Rd(()=>c.disconnect())})}function T1(l,f){if(l.shapeFlag&128){const v=l.suspense;l=v.activeBranch,v.pendingBranch&&!v.isHydrating&&v.effects.push(()=>{T1(v.activeBranch,f)})}for(;l.component;)l=l.component.subTree;if(l.shapeFlag&1&&l.el)Rw(l.el,f);else if(l.type===Zo)l.children.forEach(v=>T1(v,f));else if(l.type===Cf){let{el:v,anchor:c}=l;for(;v&&(Rw(v,f),v!==c);)v=v.nextSibling}}function Rw(l,f){if(l.nodeType===1){const v=l.style;for(const c in f)v.setProperty(`--${c}`,f[c])}}const Cc="transition",Md="animation",b1=(l,{slots:f})=>_w(q_,Mw(l),f);b1.displayName="Transition";const Iw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},D8=b1.props=Ji({},q_.props,Iw),Af=(l,f=[])=>{Vr(l)?l.forEach(v=>v(...f)):l&&l(...f)},Nw=l=>l?Vr(l)?l.some(f=>f.length>1):l.length>1:!1;function Mw(l){const f={};for(const pt in l)pt in Iw||(f[pt]=l[pt]);if(l.css===!1)return f;const{name:v="v",type:c,duration:y,enterFromClass:S=`${v}-enter-from`,enterActiveClass:x=`${v}-enter-active`,enterToClass:P=`${v}-enter-to`,appearFromClass:F=S,appearActiveClass:G=x,appearToClass:z=P,leaveFromClass:V=`${v}-leave-from`,leaveActiveClass:U=`${v}-leave-active`,leaveToClass:X=`${v}-leave-to`}=l,W=B8(y),it=W&&W[0],Q=W&&W[1],{onBeforeEnter:dt,onEnter:ot,onEnterCancelled:_t,onLeave:q,onLeaveCancelled:N,onBeforeAppear:Ot=dt,onAppear:Et=ot,onAppearCancelled:St=_t}=f,nt=(pt,kt,Qt)=>{Pf(pt,kt?z:P),Pf(pt,kt?G:x),Qt&&Qt()},qt=(pt,kt)=>{Pf(pt,X),Pf(pt,U),kt&&kt()},vt=pt=>(kt,Qt)=>{const je=pt?Et:ot,$=()=>nt(kt,pt,Qt);Af(je,[kt,$]),Fw(()=>{Pf(kt,pt?F:S),gu(kt,pt?z:P),Nw(je)||jw(kt,c,it,$)})};return Ji(f,{onBeforeEnter(pt){Af(dt,[pt]),gu(pt,S),gu(pt,x)},onBeforeAppear(pt){Af(Ot,[pt]),gu(pt,F),gu(pt,G)},onEnter:vt(!1),onAppear:vt(!0),onLeave(pt,kt){const Qt=()=>qt(pt,kt);gu(pt,V),Uw(),gu(pt,U),Fw(()=>{Pf(pt,V),gu(pt,X),Nw(q)||jw(pt,c,Q,Qt)}),Af(q,[pt,Qt])},onEnterCancelled(pt){nt(pt,!1),Af(_t,[pt])},onAppearCancelled(pt){nt(pt,!0),Af(St,[pt])},onLeaveCancelled(pt){qt(pt),Af(N,[pt])}})}function B8(l){if(l==null)return null;if(to(l))return[C1(l.enter),C1(l.leave)];{const f=C1(l);return[f,f]}}function C1(l){return gc(l)}function gu(l,f){f.split(/\s+/).forEach(v=>v&&l.classList.add(v)),(l._vtc||(l._vtc=new Set)).add(f)}function Pf(l,f){f.split(/\s+/).forEach(c=>c&&l.classList.remove(c));const{_vtc:v}=l;v&&(v.delete(f),v.size||(l._vtc=void 0))}function Fw(l){requestAnimationFrame(()=>{requestAnimationFrame(l)})}let G8=0;function jw(l,f,v,c){const y=l._endId=++G8,S=()=>{y===l._endId&&c()};if(v)return setTimeout(S,v);const{type:x,timeout:P,propCount:F}=Dw(l,f);if(!x)return c();const G=x+"end";let z=0;const V=()=>{l.removeEventListener(G,U),S()},U=X=>{X.target===l&&++z>=F&&V()};setTimeout(()=>{z<F&&V()},P+1),l.addEventListener(G,U)}function Dw(l,f){const v=window.getComputedStyle(l),c=W=>(v[W]||"").split(", "),y=c(Cc+"Delay"),S=c(Cc+"Duration"),x=Bw(y,S),P=c(Md+"Delay"),F=c(Md+"Duration"),G=Bw(P,F);let z=null,V=0,U=0;f===Cc?x>0&&(z=Cc,V=x,U=S.length):f===Md?G>0&&(z=Md,V=G,U=F.length):(V=Math.max(x,G),z=V>0?x>G?Cc:Md:null,U=z?z===Cc?S.length:F.length:0);const X=z===Cc&&/\b(transform|all)(,|$)/.test(v[Cc+"Property"]);return{type:z,timeout:V,propCount:U,hasTransform:X}}function Bw(l,f){for(;l.length<f.length;)l=l.concat(l);return Math.max(...f.map((v,c)=>Gw(v)+Gw(l[c])))}function Gw(l){return Number(l.slice(0,-1).replace(",","."))*1e3}function Uw(){return document.body.offsetHeight}const kw=new WeakMap,Vw=new WeakMap,U8={name:"TransitionGroup",props:Ji({},D8,{tag:String,moveClass:String}),setup(l,{slots:f}){const v=Bl(),c=$_();let y,S;return Qg(()=>{if(!y.length)return;const x=l.moveClass||`${l.name||"v"}-move`;if(!W8(y[0].el,v.vnode.el,x))return;y.forEach(V8),y.forEach(z8);const P=y.filter(Y8);Uw(),P.forEach(F=>{const G=F.el,z=G.style;gu(G,x),z.transform=z.webkitTransform=z.transitionDuration="";const V=G._moveCb=U=>{U&&U.target!==G||(!U||/transform$/.test(U.propertyName))&&(G.removeEventListener("transitionend",V),G._moveCb=null,Pf(G,x))};G.addEventListener("transitionend",V)})}),()=>{const x=jn(l),P=Mw(x);let F=x.tag||Zo;y=S,S=f.default?qg(f.default()):[];for(let G=0;G<S.length;G++){const z=S[G];z.key!=null&&Of(z,Hh(z,P,c,v))}if(y)for(let G=0;G<y.length;G++){const z=y[G];Of(z,Hh(z,P,c,v)),kw.set(z,z.el.getBoundingClientRect())}return Fi(F,null,S)}}},k8=U8;function V8(l){const f=l.el;f._moveCb&&f._moveCb(),f._enterCb&&f._enterCb()}function z8(l){Vw.set(l,l.el.getBoundingClientRect())}function Y8(l){const f=kw.get(l),v=Vw.get(l),c=f.left-v.left,y=f.top-v.top;if(c||y){const S=l.el.style;return S.transform=S.webkitTransform=`translate(${c}px,${y}px)`,S.transitionDuration="0s",l}}function W8(l,f,v){const c=l.cloneNode();l._vtc&&l._vtc.forEach(x=>{x.split(/\s+/).forEach(P=>P&&c.classList.remove(P))}),v.split(/\s+/).forEach(x=>x&&c.classList.add(x)),c.style.display="none";const y=f.nodeType===1?f:f.parentNode;y.appendChild(c);const{hasTransform:S}=Dw(c);return y.removeChild(c),S}const Lc=l=>{const f=l.props["onUpdate:modelValue"];return Vr(f)?v=>Dh(f,v):f};function H8(l){l.target.composing=!0}function zw(l){const f=l.target;f.composing&&(f.composing=!1,X8(f,"input"))}function X8(l,f){const v=document.createEvent("HTMLEvents");v.initEvent(f,!0,!0),l.dispatchEvent(v)}const py={created(l,{modifiers:{lazy:f,trim:v,number:c}},y){l._assign=Lc(y);const S=c||y.props&&y.props.type==="number";vu(l,f?"change":"input",x=>{if(x.target.composing)return;let P=l.value;v?P=P.trim():S&&(P=gc(P)),l._assign(P)}),v&&vu(l,"change",()=>{l.value=l.value.trim()}),f||(vu(l,"compositionstart",H8),vu(l,"compositionend",zw),vu(l,"change",zw))},mounted(l,{value:f}){l.value=f==null?"":f},beforeUpdate(l,{value:f,modifiers:{lazy:v,trim:c,number:y}},S){if(l._assign=Lc(S),l.composing||document.activeElement===l&&(v||c&&l.value.trim()===f||(y||l.type==="number")&&gc(l.value)===f))return;const x=f==null?"":f;l.value!==x&&(l.value=x)}},L1={deep:!0,created(l,f,v){l._assign=Lc(v),vu(l,"change",()=>{const c=l._modelValue,y=$h(l),S=l.checked,x=l._assign;if(Vr(c)){const P=Ag(c,y),F=P!==-1;if(S&&!F)x(c.concat(y));else if(!S&&F){const G=[...c];G.splice(P,1),x(G)}}else if(yf(c)){const P=new Set(c);S?P.add(y):P.delete(y),x(P)}else x(Xw(l,S))})},mounted:Yw,beforeUpdate(l,f,v){l._assign=Lc(v),Yw(l,f,v)}};function Yw(l,{value:f,oldValue:v},c){l._modelValue=f,Vr(f)?l.checked=Ag(f,c.props.value)>-1:yf(f)?l.checked=f.has(c.props.value):f!==v&&(l.checked=vc(f,Xw(l,!0)))}const A1={created(l,{value:f},v){l.checked=vc(f,v.props.value),l._assign=Lc(v),vu(l,"change",()=>{l._assign($h(l))})},beforeUpdate(l,{value:f,oldValue:v},c){l._assign=Lc(c),f!==v&&(l.checked=vc(f,c.props.value))}},Ww={deep:!0,created(l,{value:f,modifiers:{number:v}},c){const y=yf(f);vu(l,"change",()=>{const S=Array.prototype.filter.call(l.options,x=>x.selected).map(x=>v?gc($h(x)):$h(x));l._assign(l.multiple?y?new Set(S):S:S[0])}),l._assign=Lc(c)},mounted(l,{value:f}){Hw(l,f)},beforeUpdate(l,f,v){l._assign=Lc(v)},updated(l,{value:f}){Hw(l,f)}};function Hw(l,f){const v=l.multiple;if(!(v&&!Vr(f)&&!yf(f))){for(let c=0,y=l.options.length;c<y;c++){const S=l.options[c],x=$h(S);if(v)Vr(f)?S.selected=Ag(f,x)>-1:S.selected=f.has(x);else if(vc($h(S),f)){l.selectedIndex!==c&&(l.selectedIndex=c);return}}!v&&l.selectedIndex!==-1&&(l.selectedIndex=-1)}}function $h(l){return"_value"in l?l._value:l.value}function Xw(l,f){const v=f?"_trueValue":"_falseValue";return v in l?l[v]:f}const K8={created(l,f,v){dy(l,f,v,null,"created")},mounted(l,f,v){dy(l,f,v,null,"mounted")},beforeUpdate(l,f,v,c){dy(l,f,v,c,"beforeUpdate")},updated(l,f,v,c){dy(l,f,v,c,"updated")}};function dy(l,f,v,c,y){let S;switch(l.tagName){case"SELECT":S=Ww;break;case"TEXTAREA":S=py;break;default:switch(v.props&&v.props.type){case"checkbox":S=L1;break;case"radio":S=A1;break;default:S=py}}const x=S[y];x&&x(l,f,v,c)}function Z8(){py.getSSRProps=({value:l})=>({value:l}),A1.getSSRProps=({value:l},f)=>{if(f.props&&vc(f.props.value,l))return{checked:!0}},L1.getSSRProps=({value:l},f)=>{if(Vr(l)){if(f.props&&Ag(l,f.props.value)>-1)return{checked:!0}}else if(yf(l)){if(f.props&&l.has(f.props.value))return{checked:!0}}else if(l)return{checked:!0}}}const $8=["ctrl","shift","alt","meta"],q8={stop:l=>l.stopPropagation(),prevent:l=>l.preventDefault(),self:l=>l.target!==l.currentTarget,ctrl:l=>!l.ctrlKey,shift:l=>!l.shiftKey,alt:l=>!l.altKey,meta:l=>!l.metaKey,left:l=>"button"in l&&l.button!==0,middle:l=>"button"in l&&l.button!==1,right:l=>"button"in l&&l.button!==2,exact:(l,f)=>$8.some(v=>l[`${v}Key`]&&!f.includes(v))},J8=(l,f)=>(v,...c)=>{for(let y=0;y<f.length;y++){const S=q8[f[y]];if(S&&S(v,f))return}return l(v,...c)},Q8={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},tD=(l,f)=>v=>{if(!("key"in v))return;const c=Rl(v.key);if(f.some(y=>y===c||Q8[y]===c))return l(v)},Kw={beforeMount(l,{value:f},{transition:v}){l._vod=l.style.display==="none"?"":l.style.display,v&&f?v.beforeEnter(l):Fd(l,f)},mounted(l,{value:f},{transition:v}){v&&f&&v.enter(l)},updated(l,{value:f,oldValue:v},{transition:c}){!f!=!v&&(c?f?(c.beforeEnter(l),Fd(l,!0),c.enter(l)):c.leave(l,()=>{Fd(l,!1)}):Fd(l,f))},beforeUnmount(l,{value:f}){Fd(l,f)}};function Fd(l,f){l.style.display=f?l._vod:"none"}function eD(){Kw.getSSRProps=({value:l})=>{if(!l)return{style:{display:"none"}}}}const Zw=Ji({patchProp:R8},y8);let jd,$w=!1;function qw(){return jd||(jd=QE(Zw))}function Jw(){return jd=$w?jd:tw(Zw),$w=!0,jd}const P1=(...l)=>{qw().render(...l)},Qw=(...l)=>{Jw().hydrate(...l)},rD=(...l)=>{const f=qw().createApp(...l),{mount:v}=f;return f.mount=c=>{const y=tx(c);if(!y)return;const S=f._component;!vn(S)&&!S.render&&!S.template&&(S.template=y.innerHTML),y.innerHTML="";const x=v(y,!1,y instanceof SVGElement);return y instanceof Element&&(y.removeAttribute("v-cloak"),y.setAttribute("data-v-app","")),x},f},nD=(...l)=>{const f=Jw().createApp(...l),{mount:v}=f;return f.mount=c=>{const y=tx(c);if(y)return v(y,!0,y instanceof SVGElement)},f};function tx(l){return Qi(l)?document.querySelector(l):l}let ex=!1;const iD=()=>{ex||(ex=!0,Z8(),eD())},oD=()=>{};var aD=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compile:oD,EffectScope:T_,ReactiveEffect:gd,customRef:I6,effect:Q4,effectScope:b_,getCurrentScope:Z4,isProxy:F_,isReactive:Nl,isReadonly:zg,isRef:Hi,markRaw:Ef,onScopeDispose:$4,proxyRefs:B_,reactive:yd,readonly:M_,ref:Gh,shallowReactive:lE,shallowReadonly:b6,shallowRef:C6,stop:t6,toRaw:jn,toRef:G_,toRefs:fE,triggerRef:A6,unref:cE,camelize:os,capitalize:fd,normalizeClass:ld,normalizeProps:G4,normalizeStyle:sd,toDisplayString:k4,toHandlerKey:hd,BaseTransition:q_,Comment:_a,Fragment:Zo,KeepAlive:cj,Static:Cf,Suspense:Q6,Teleport:Pj,Text:Xh,callWithAsyncErrorHandling:ss,callWithErrorHandling:Ml,cloneVNode:xc,compatUtils:v8,computed:yw,createBlock:p1,createCommentVNode:Gj,createElementBlock:Fj,createElementVNode:d1,createHydrationRenderer:tw,createPropsRestProxy:s8,createRenderer:QE,createSlots:kj,createStaticVNode:Bj,createTextVNode:v1,createVNode:Fi,defineAsyncComponent:lj,defineComponent:Q_,defineEmits:e8,defineExpose:r8,defineProps:t8,get devtools(){return Vh},getCurrentInstance:Bl,getTransitionRawChildren:qg,guardReactiveProps:lw,h:_w,handleError:wf,initCustomFormatter:c8,inject:Yh,isMemoSame:Ew,isRuntimeOnly:Zj,isVNode:wc,mergeDefaults:a8,mergeProps:uw,nextTick:Hg,onActivated:PE,onBeforeMount:NE,onBeforeUnmount:ty,onBeforeUpdate:ME,onDeactivated:RE,onErrorCaptured:BE,onMounted:Pd,onRenderTracked:DE,onRenderTriggered:jE,onServerPrefetch:FE,onUnmounted:Rd,onUpdated:Qg,openBlock:oy,popScopeId:W6,provide:OE,pushScopeId:Y6,queuePostFlushCb:Y_,registerRuntimeCompiler:Kj,renderList:Uj,renderSlot:Vj,resolveComponent:Ij,resolveDirective:Mj,resolveDynamicComponent:Nj,resolveFilter:d8,resolveTransitionHooks:Hh,setBlockTracking:h1,setDevtoolsHook:_E,setTransitionHooks:Of,ssrContextKey:Sw,ssrUtils:p8,toHandlers:zj,transformVNodeArgs:jj,useAttrs:o8,useSSRContext:u8,useSlots:i8,useTransitionState:$_,version:ww,warn:pE,watch:Wh,watchEffect:ij,watchPostEffect:TE,watchSyncEffect:oj,withAsyncContext:l8,withCtx:X_,withDefaults:n8,withDirectives:wj,withMemo:f8,withScopeId:H6,Transition:b1,TransitionGroup:k8,VueElement:hy,createApp:rD,createSSRApp:nD,defineCustomElement:Pw,defineSSRCustomElement:N8,hydrate:Qw,initDirectivesForSSR:iD,render:P1,useCssModule:F8,useCssVars:j8,vModelCheckbox:L1,vModelDynamic:K8,vModelRadio:A1,vModelSelect:Ww,vModelText:py,vShow:Kw,withKeys:tD,withModifiers:J8}),sD=!1;/*!
  * pinia v2.0.9
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */let rx;const vy=l=>rx=l,nx=Symbol();function R1(l){return l&&typeof l=="object"&&Object.prototype.toString.call(l)==="[object Object]"&&typeof l.toJSON!="function"}var Dd;(function(l){l.direct="direct",l.patchObject="patch object",l.patchFunction="patch function"})(Dd||(Dd={}));function O7(){const l=b_(!0),f=l.run(()=>Gh({}));let v=[],c=[];const y=Ef({install(S){vy(y),y._a=S,S.provide(nx,y),S.config.globalProperties.$pinia=y,c.forEach(x=>v.push(x)),c=[]},use(S){return!this._a&&!sD?c.push(S):v.push(S),this},_p:v,_a:null,_e:l,_s:new Map,state:f});return y}const ix=()=>{};function ox(l,f,v,c=ix){l.push(f);const y=()=>{const S=l.indexOf(f);S>-1&&(l.splice(S,1),c())};return!v&&Bl()&&Rd(y),y}function qh(l,...f){l.forEach(v=>{v(...f)})}function I1(l,f){for(const v in f){const c=f[v],y=l[v];R1(y)&&R1(c)&&!Hi(c)&&!Nl(c)?l[v]=I1(y,c):l[v]=c}return l}const lD=Symbol();function uD(l){return!R1(l)||!l.hasOwnProperty(lD)}const{assign:yu}=Object;function cD(l){return!!(Hi(l)&&l.effect)}function fD(l,f,v,c){const{state:y,actions:S,getters:x}=f,P=v.state.value[l];let F;function G(){P||(v.state.value[l]=y?y():{});const z=fE(v.state.value[l]);return yu(z,S,Object.keys(x||{}).reduce((V,U)=>(V[U]=Ef(yw(()=>{vy(v);const X=v._s.get(l);return x[U].call(X,X)})),V),{}))}return F=ax(l,G,f,v),F.$reset=function(){const V=y?y():{};this.$patch(U=>{yu(U,V)})},F}function ax(l,f,v={},c,y){let S;const x=v.state,P=yu({actions:{}},v),F={deep:!0};let G,z,V=Ef([]),U=Ef([]),X;const W=c.state.value[l];!x&&!W&&(c.state.value[l]={}),Gh({});function it(Ot){let Et;G=z=!1,typeof Ot=="function"?(Ot(c.state.value[l]),Et={type:Dd.patchFunction,storeId:l,events:X}):(I1(c.state.value[l],Ot),Et={type:Dd.patchObject,payload:Ot,storeId:l,events:X}),Hg().then(()=>{G=!0}),z=!0,qh(V,Et,c.state.value[l])}const Q=ix;function dt(){S.stop(),V=[],U=[],c._s.delete(l)}function ot(Ot,Et){return function(){vy(c);const St=Array.from(arguments),nt=[],qt=[];function vt(Qt){nt.push(Qt)}function pt(Qt){qt.push(Qt)}qh(U,{args:St,name:Ot,store:q,after:vt,onError:pt});let kt;try{kt=Et.apply(this&&this.$id===l?this:q,St)}catch(Qt){throw qh(qt,Qt),Qt}return kt instanceof Promise?kt.then(Qt=>(qh(nt,Qt),Qt)).catch(Qt=>(qh(qt,Qt),Promise.reject(Qt))):(qh(nt,kt),kt)}}const _t={_p:c,$id:l,$onAction:ox.bind(null,U),$patch:it,$reset:Q,$subscribe(Ot,Et={}){const St=ox(V,Ot,Et.detached,()=>nt()),nt=S.run(()=>Wh(()=>c.state.value[l],qt=>{(Et.flush==="sync"?z:G)&&Ot({storeId:l,type:Dd.direct,events:X},qt)},yu({},F,Et)));return St},$dispose:dt},q=yd(yu({},_t));c._s.set(l,q);const N=c._e.run(()=>(S=b_(),S.run(()=>f())));for(const Ot in N){const Et=N[Ot];if(Hi(Et)&&!cD(Et)||Nl(Et))x||(W&&uD(Et)&&(Hi(Et)?Et.value=W[Ot]:I1(Et,W[Ot])),c.state.value[l][Ot]=Et);else if(typeof Et=="function"){const St=ot(Ot,Et);N[Ot]=St,P.actions[Ot]=Et}}return yu(q,N),yu(jn(q),N),Object.defineProperty(q,"$state",{get:()=>c.state.value[l],set:Ot=>{it(Et=>{yu(Et,Ot)})}}),c._p.forEach(Ot=>{yu(q,S.run(()=>Ot({store:q,app:c._a,pinia:c,options:P})))}),W&&x&&v.hydrate&&v.hydrate(q.$state,W),G=!0,z=!0,q}function T7(l,f,v){let c,y;const S=typeof f=="function";typeof l=="string"?(c=l,y=S?v:f):(y=l,c=l.id);function x(P,F){const G=Bl();return P=P||G&&Yh(nx),P&&vy(P),P=rx,P._s.has(c)||(S?ax(c,f,y,P):fD(c,y,P)),P._s.get(c)}return x.$id=c,x}function b7(l){l=jn(l);const f={};for(const v in l){const c=l[v];(Hi(c)||Nl(c))&&(f[v]=G_(l,v))}return f}var gy,hD=new Uint8Array(16);function pD(){if(!gy&&(gy=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!gy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gy(hD)}var dD=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function vD(l){return typeof l=="string"&&dD.test(l)}var $o=[];for(var N1=0;N1<256;++N1)$o.push((N1+256).toString(16).substr(1));function gD(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=($o[l[f+0]]+$o[l[f+1]]+$o[l[f+2]]+$o[l[f+3]]+"-"+$o[l[f+4]]+$o[l[f+5]]+"-"+$o[l[f+6]]+$o[l[f+7]]+"-"+$o[l[f+8]]+$o[l[f+9]]+"-"+$o[l[f+10]]+$o[l[f+11]]+$o[l[f+12]]+$o[l[f+13]]+$o[l[f+14]]+$o[l[f+15]]).toLowerCase();if(!vD(v))throw TypeError("Stringified UUID is invalid");return v}function C7(l,f,v){l=l||{};var c=l.random||(l.rng||pD)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,f){v=v||0;for(var y=0;y<16;++y)f[v+y]=c[y];return f}return gD(c)}function yD(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function mD(l){if(l.__esModule)return l;var f=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(l).forEach(function(v){var c=Object.getOwnPropertyDescriptor(l,v);Object.defineProperty(f,v,c.get?c:{enumerable:!0,get:function(){return l[v]}})}),f}var sx={exports:{}},_D=mD(aD);(function(l){l.exports=function(f){function v(V){for(var U=V[0],X=V[1],W,it,Q=0,dt=[];Q<U.length;Q++)it=U[Q],Object.prototype.hasOwnProperty.call(y,it)&&y[it]&&dt.push(y[it][0]),y[it]=0;for(W in X)Object.prototype.hasOwnProperty.call(X,W)&&(f[W]=X[W]);for(z&&z(V);dt.length;)dt.shift()()}var c={},y={0:0};function S(V){return x.p+"vue3-openlayers.common."+({}[V]||V)+".js"}function x(V){if(c[V])return c[V].exports;var U=c[V]={i:V,l:!1,exports:{}};return f[V].call(U.exports,U,U.exports,x),U.l=!0,U.exports}x.e=function(U){var X=[],W=y[U];if(W!==0)if(W)X.push(W[2]);else{var it=new Promise(function(q,N){W=y[U]=[q,N]});X.push(W[2]=it);var Q=document.createElement("script"),dt;Q.charset="utf-8",Q.timeout=120,x.nc&&Q.setAttribute("nonce",x.nc),Q.src=S(U);var ot=new Error;dt=function(q){Q.onerror=Q.onload=null,clearTimeout(_t);var N=y[U];if(N!==0){if(N){var Ot=q&&(q.type==="load"?"missing":q.type),Et=q&&q.target&&q.target.src;ot.message="Loading chunk "+U+` failed.
(`+Ot+": "+Et+")",ot.name="ChunkLoadError",ot.type=Ot,ot.request=Et,N[1](ot)}y[U]=void 0}};var _t=setTimeout(function(){dt({type:"timeout",target:Q})},12e4);Q.onerror=Q.onload=dt,document.head.appendChild(Q)}return Promise.all(X)},x.m=f,x.c=c,x.d=function(V,U,X){x.o(V,U)||Object.defineProperty(V,U,{enumerable:!0,get:X})},x.r=function(V){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(V,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(V,"__esModule",{value:!0})},x.t=function(V,U){if(U&1&&(V=x(V)),U&8||U&4&&typeof V=="object"&&V&&V.__esModule)return V;var X=Object.create(null);if(x.r(X),Object.defineProperty(X,"default",{enumerable:!0,value:V}),U&2&&typeof V!="string")for(var W in V)x.d(X,W,function(it){return V[it]}.bind(null,W));return X},x.n=function(V){var U=V&&V.__esModule?function(){return V.default}:function(){return V};return x.d(U,"a",U),U},x.o=function(V,U){return Object.prototype.hasOwnProperty.call(V,U)},x.p="",x.oe=function(V){throw console.error(V),V};var P=(typeof self!="undefined"?self:this).webpackJsonpvue3_openlayers=(typeof self!="undefined"?self:this).webpackJsonpvue3_openlayers||[],F=P.push.bind(P);P.push=v,P=P.slice();for(var G=0;G<P.length;G++)v(P[G]);var z=F;return x(x.s="fb15")}({"00ee":function(f,v,c){var y=c("b622"),S=y("toStringTag"),x={};x[S]="z",f.exports=String(x)==="[object z]"},"01d4":function(f,v,c){v.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},"0366":function(f,v,c){var y=c("1c0b");f.exports=function(S,x,P){if(y(S),x===void 0)return S;switch(P){case 0:return function(){return S.call(x)};case 1:return function(F){return S.call(x,F)};case 2:return function(F,G){return S.call(x,F,G)};case 3:return function(F,G,z){return S.call(x,F,G,z)}}return function(){return S.apply(x,arguments)}}},"04d1":function(f,v,c){var y=c("342f"),S=y.match(/firefox\/(\d+)/i);f.exports=!!S&&+S[1]},"0538":function(f,v,c){var y=c("1c0b"),S=c("861d"),x=[].slice,P={},F=function(G,z,V){if(!(z in P)){for(var U=[],X=0;X<z;X++)U[X]="a["+X+"]";P[z]=Function("C,a","return new C("+U.join(",")+")")}return P[z](G,V)};f.exports=Function.bind||function(z){var V=y(this),U=x.call(arguments,1),X=function(){var it=U.concat(x.call(arguments));return this instanceof X?F(V,it.length,it):V.apply(z,it)};return S(V.prototype)&&(X.prototype=V.prototype),X}},"057f":function(f,v,c){var y=c("fc6a"),S=c("241c").f,x={}.toString,P=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],F=function(G){try{return S(G)}catch{return P.slice()}};f.exports.f=function(z){return P&&x.call(z)=="[object Window]"?F(z):S(y(z))}},"06cf":function(f,v,c){var y=c("83ab"),S=c("d1e7"),x=c("5c6c"),P=c("fc6a"),F=c("c04e"),G=c("5135"),z=c("0cfb"),V=Object.getOwnPropertyDescriptor;v.f=y?V:function(X,W){if(X=P(X),W=F(W,!0),z)try{return V(X,W)}catch{}if(G(X,W))return x(!S.f.call(X,W),X[W])}},"07ac":function(f,v,c){var y=c("23e7"),S=c("6f53").values;y({target:"Object",stat:!0},{values:function(P){return S(P)}})},"0999":function(f,v,c){c.d(v,"a",function(){return S}),c.d(v,"c",function(){return x}),c.d(v,"b",function(){return P}),c.d(v,"g",function(){return F}),c.d(v,"e",function(){return G}),c.d(v,"d",function(){return z}),c.d(v,"f",function(){return V});var y=c("617d");function S(U,X,W,it){var Q=W&&W.length?W.shift():y.g?new OffscreenCanvas(U||300,X||300):document.createElement("canvas");return U&&(Q.width=U),X&&(Q.height=X),Q.getContext("2d",it)}function x(U){var X=U.offsetWidth,W=getComputedStyle(U);return X+=parseInt(W.marginLeft,10)+parseInt(W.marginRight,10),X}function P(U){var X=U.offsetHeight,W=getComputedStyle(U);return X+=parseInt(W.marginTop,10)+parseInt(W.marginBottom,10),X}function F(U,X){var W=X.parentNode;W&&W.replaceChild(U,X)}function G(U){return U&&U.parentNode?U.parentNode.removeChild(U):null}function z(U){for(;U.lastChild;)U.removeChild(U.lastChild)}function V(U,X){for(var W=U.childNodes,it=0;;++it){var Q=W[it],dt=X[it];if(!Q&&!dt)break;if(Q!==dt){if(!Q){U.appendChild(dt);continue}if(!dt){U.removeChild(Q),--it;continue}U.insertBefore(dt,Q)}}}},"0cb2":function(f,v,c){var y=c("7b0b"),S=Math.floor,x="".replace,P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,F=/\$([$&'`]|\d{1,2})/g;f.exports=function(G,z,V,U,X,W){var it=V+G.length,Q=U.length,dt=F;return X!==void 0&&(X=y(X),dt=P),x.call(W,dt,function(ot,_t){var q;switch(_t.charAt(0)){case"$":return"$";case"&":return G;case"`":return z.slice(0,V);case"'":return z.slice(it);case"<":q=X[_t.slice(1,-1)];break;default:var N=+_t;if(N===0)return ot;if(N>Q){var Ot=S(N/10);return Ot===0?ot:Ot<=Q?U[Ot-1]===void 0?_t.charAt(1):U[Ot-1]+_t.charAt(1):ot}q=U[N-1]}return q===void 0?"":q})}},"0cfb":function(f,v,c){var y=c("83ab"),S=c("d039"),x=c("cc12");f.exports=!y&&!S(function(){return Object.defineProperty(x("div"),"a",{get:function(){return 7}}).a!=7})},"0ec0":function(f,v,c){var y=c("da5c"),S=c("cef7"),x=c("57cb"),P=c("38f3"),F=function(){var z=function(V,U){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,W){X.__proto__=W}||function(X,W){for(var it in W)Object.prototype.hasOwnProperty.call(W,it)&&(X[it]=W[it])},z(V,U)};return function(V,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");z(V,U);function X(){this.constructor=V}V.prototype=U===null?Object.create(U):(X.prototype=U.prototype,new X)}}(),G=function(z){F(V,z);function V(U){var X=z.call(this)||this;return X.eventTarget_=U,X.pendingRemovals_=null,X.dispatching_=null,X.listeners_=null,X}return V.prototype.addEventListener=function(U,X){if(!(!U||!X)){var W=this.listeners_||(this.listeners_={}),it=W[U]||(W[U]=[]);it.indexOf(X)===-1&&it.push(X)}},V.prototype.dispatchEvent=function(U){var X=typeof U=="string"?new S.a(U):U,W=X.type;X.target||(X.target=this.eventTarget_||this);var it=this.listeners_&&this.listeners_[W],Q;if(it){var dt=this.dispatching_||(this.dispatching_={}),ot=this.pendingRemovals_||(this.pendingRemovals_={});W in dt||(dt[W]=0,ot[W]=0),++dt[W];for(var _t=0,q=it.length;_t<q;++_t)if("handleEvent"in it[_t]?Q=it[_t].handleEvent(X):Q=it[_t].call(this,X),Q===!1||X.propagationStopped){Q=!1;break}if(--dt[W],dt[W]===0){var N=ot[W];for(delete ot[W];N--;)this.removeEventListener(W,x.c);delete dt[W]}return Q}},V.prototype.disposeInternal=function(){this.listeners_&&Object(P.b)(this.listeners_)},V.prototype.getListeners=function(U){return this.listeners_&&this.listeners_[U]||void 0},V.prototype.hasListener=function(U){return this.listeners_?U?U in this.listeners_:Object.keys(this.listeners_).length>0:!1},V.prototype.removeEventListener=function(U,X){var W=this.listeners_&&this.listeners_[U];if(W){var it=W.indexOf(X);it!==-1&&(this.pendingRemovals_&&U in this.pendingRemovals_?(W[it]=x.c,++this.pendingRemovals_[U]):(W.splice(it,1),W.length===0&&delete this.listeners_[U]))}},V}(y.a);v.a=G},"1300":function(f,v,c){c.d(v,"b",function(){return y}),c.d(v,"c",function(){return x}),c.d(v,"a",function(){return P});function y(){return function(){throw new Error("Unimplemented abstract method.")}()}var S=0;function x(F){return F.ol_uid||(F.ol_uid=String(++S))}var P="6.6.1"},"14c3":function(f,v,c){var y=c("c6b6"),S=c("9263");f.exports=function(x,P){var F=x.exec;if(typeof F=="function"){var G=F.call(x,P);if(typeof G!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return G}if(y(x)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return S.call(x,P)}},"159b":function(f,v,c){var y=c("da84"),S=c("fdbc"),x=c("17c2"),P=c("9112");for(var F in S){var G=y[F],z=G&&G.prototype;if(z&&z.forEach!==x)try{P(z,"forEach",x)}catch{z.forEach=x}}},"17c2":function(f,v,c){var y=c("b727").forEach,S=c("a640"),x=S("forEach");f.exports=x?[].forEach:function(F){return y(this,F,arguments.length>1?arguments[1]:void 0)}},"1be4":function(f,v,c){var y=c("d066");f.exports=y("document","documentElement")},"1c0b":function(f,v){f.exports=function(c){if(typeof c!="function")throw TypeError(String(c)+" is not a function");return c}},"1c7e":function(f,v,c){var y=c("b622"),S=y("iterator"),x=!1;try{var P=0,F={next:function(){return{done:!!P++}},return:function(){x=!0}};F[S]=function(){return this},Array.from(F,function(){throw 2})}catch{}f.exports=function(G,z){if(!z&&!x)return!1;var V=!1;try{var U={};U[S]=function(){return{next:function(){return{done:V=!0}}}},G(U)}catch{}return V}},"1d80":function(f,v){f.exports=function(c){if(c==null)throw TypeError("Can't call method on "+c);return c}},"1dde":function(f,v,c){var y=c("d039"),S=c("b622"),x=c("2d00"),P=S("species");f.exports=function(F){return x>=51||!y(function(){var G=[],z=G.constructor={};return z[P]=function(){return{foo:1}},G[F](Boolean).foo!==1})}},"1e8d":function(f,v,c){c.d(v,"a",function(){return S}),c.d(v,"b",function(){return x}),c.d(v,"c",function(){return P});var y=c("38f3");function S(F,G,z,V,U){if(V&&V!==F&&(z=z.bind(V)),U){var X=z;z=function(){F.removeEventListener(G,z),X.apply(this,arguments)}}var W={target:F,type:G,listener:z};return F.addEventListener(G,z),W}function x(F,G,z,V){return S(F,G,z,V,!0)}function P(F){F&&F.target&&(F.target.removeEventListener(F.type,F.listener),Object(y.b)(F))}},"21a6":function(f,v,c){(function(y){var S,x,P;(function(F,G){x=[],S=G,P=typeof S=="function"?S.apply(v,x):S,P!==void 0&&(f.exports=P)})(this,function(){function F(it,Q){return typeof Q=="undefined"?Q={autoBom:!1}:typeof Q!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),Q={autoBom:!Q}),Q.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(it.type)?new Blob(["\uFEFF",it],{type:it.type}):it}function G(it,Q,dt){var ot=new XMLHttpRequest;ot.open("GET",it),ot.responseType="blob",ot.onload=function(){W(ot.response,Q,dt)},ot.onerror=function(){console.error("could not download file")},ot.send()}function z(it){var Q=new XMLHttpRequest;Q.open("HEAD",it,!1);try{Q.send()}catch{}return 200<=Q.status&&299>=Q.status}function V(it){try{it.dispatchEvent(new MouseEvent("click"))}catch{var Q=document.createEvent("MouseEvents");Q.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),it.dispatchEvent(Q)}}var U=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof y=="object"&&y.global===y?y:void 0,X=U.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),W=U.saveAs||(typeof window!="object"||window!==U?function(){}:"download"in HTMLAnchorElement.prototype&&!X?function(it,Q,dt){var ot=U.URL||U.webkitURL,_t=document.createElement("a");Q=Q||it.name||"download",_t.download=Q,_t.rel="noopener",typeof it=="string"?(_t.href=it,_t.origin===location.origin?V(_t):z(_t.href)?G(it,Q,dt):V(_t,_t.target="_blank")):(_t.href=ot.createObjectURL(it),setTimeout(function(){ot.revokeObjectURL(_t.href)},4e4),setTimeout(function(){V(_t)},0))}:"msSaveOrOpenBlob"in navigator?function(it,Q,dt){if(Q=Q||it.name||"download",typeof it!="string")navigator.msSaveOrOpenBlob(F(it,dt),Q);else if(z(it))G(it,Q,dt);else{var ot=document.createElement("a");ot.href=it,ot.target="_blank",setTimeout(function(){V(ot)})}}:function(it,Q,dt,ot){if(ot=ot||open("","_blank"),ot&&(ot.document.title=ot.document.body.innerText="downloading..."),typeof it=="string")return G(it,Q,dt);var _t=it.type==="application/octet-stream",q=/constructor/i.test(U.HTMLElement)||U.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||_t&&q||X)&&typeof FileReader!="undefined"){var Ot=new FileReader;Ot.onloadend=function(){var nt=Ot.result;nt=N?nt:nt.replace(/^data:[^;]*;/,"data:attachment/file;"),ot?ot.location.href=nt:location=nt,ot=null},Ot.readAsDataURL(it)}else{var Et=U.URL||U.webkitURL,St=Et.createObjectURL(it);ot?ot.location=St:location.href=St,ot=null,setTimeout(function(){Et.revokeObjectURL(St)},4e4)}});U.saveAs=W.saveAs=W,f.exports=W})}).call(this,c("c8ba"))},"23cb":function(f,v,c){var y=c("a691"),S=Math.max,x=Math.min;f.exports=function(P,F){var G=y(P);return G<0?S(G+F,0):x(G,F)}},"23e7":function(f,v,c){var y=c("da84"),S=c("06cf").f,x=c("9112"),P=c("6eeb"),F=c("ce4e"),G=c("e893"),z=c("94ca");f.exports=function(V,U){var X=V.target,W=V.global,it=V.stat,Q,dt,ot,_t,q,N;if(W?dt=y:it?dt=y[X]||F(X,{}):dt=(y[X]||{}).prototype,dt)for(ot in U){if(q=U[ot],V.noTargetGet?(N=S(dt,ot),_t=N&&N.value):_t=dt[ot],Q=z(W?ot:X+(it?".":"#")+ot,V.forced),!Q&&_t!==void 0){if(typeof q==typeof _t)continue;G(q,_t)}(V.sham||_t&&_t.sham)&&x(q,"sham",!0),P(dt,ot,q,V)}}},"241c":function(f,v,c){var y=c("ca84"),S=c("7839"),x=S.concat("length","prototype");v.f=Object.getOwnPropertyNames||function(F){return y(F,x)}},"2532":function(f,v,c){var y=c("23e7"),S=c("5a34"),x=c("1d80"),P=c("ab13");y({target:"String",proto:!0,forced:!P("includes")},{includes:function(G){return!!~String(x(this)).indexOf(S(G),arguments.length>1?arguments[1]:void 0)}})},"25a5":function(f,v,c){(function(y,S){f.exports=S()})(this,function(){function y(q,N,Ot,Et,St){(function nt(qt,vt,pt,kt,Qt){for(;kt>pt;){if(kt-pt>600){var je=kt-pt+1,$=vt-pt+1,Ct=Math.log(je),Kt=.5*Math.exp(2*Ct/3),Xe=.5*Math.sqrt(Ct*Kt*(je-Kt)/je)*($-je/2<0?-1:1),qe=Math.max(pt,Math.floor(vt-$*Kt/je+Xe)),me=Math.min(kt,Math.floor(vt+(je-$)*Kt/je+Xe));nt(qt,vt,qe,me,Qt)}var ar=qt[vt],jr=pt,Pr=kt;for(S(qt,pt,vt),Qt(qt[kt],ar)>0&&S(qt,pt,kt);jr<Pr;){for(S(qt,jr,Pr),jr++,Pr--;Qt(qt[jr],ar)<0;)jr++;for(;Qt(qt[Pr],ar)>0;)Pr--}Qt(qt[pt],ar)===0?S(qt,pt,Pr):S(qt,++Pr,kt),Pr<=vt&&(pt=Pr+1),vt<=Pr&&(kt=Pr-1)}})(q,N,Ot||0,Et||q.length-1,St||x)}function S(q,N,Ot){var Et=q[N];q[N]=q[Ot],q[Ot]=Et}function x(q,N){return q<N?-1:q>N?1:0}var P=function(q){q===void 0&&(q=9),this._maxEntries=Math.max(4,q),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function F(q,N,Ot){if(!Ot)return N.indexOf(q);for(var Et=0;Et<N.length;Et++)if(Ot(q,N[Et]))return Et;return-1}function G(q,N){z(q,0,q.children.length,N,q)}function z(q,N,Ot,Et,St){St||(St=ot(null)),St.minX=1/0,St.minY=1/0,St.maxX=-1/0,St.maxY=-1/0;for(var nt=N;nt<Ot;nt++){var qt=q.children[nt];V(St,q.leaf?Et(qt):qt)}return St}function V(q,N){return q.minX=Math.min(q.minX,N.minX),q.minY=Math.min(q.minY,N.minY),q.maxX=Math.max(q.maxX,N.maxX),q.maxY=Math.max(q.maxY,N.maxY),q}function U(q,N){return q.minX-N.minX}function X(q,N){return q.minY-N.minY}function W(q){return(q.maxX-q.minX)*(q.maxY-q.minY)}function it(q){return q.maxX-q.minX+(q.maxY-q.minY)}function Q(q,N){return q.minX<=N.minX&&q.minY<=N.minY&&N.maxX<=q.maxX&&N.maxY<=q.maxY}function dt(q,N){return N.minX<=q.maxX&&N.minY<=q.maxY&&N.maxX>=q.minX&&N.maxY>=q.minY}function ot(q){return{children:q,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _t(q,N,Ot,Et,St){for(var nt=[N,Ot];nt.length;)if(!((Ot=nt.pop())-(N=nt.pop())<=Et)){var qt=N+Math.ceil((Ot-N)/Et/2)*Et;y(q,qt,N,Ot,St),nt.push(N,qt,qt,Ot)}}return P.prototype.all=function(){return this._all(this.data,[])},P.prototype.search=function(q){var N=this.data,Ot=[];if(!dt(q,N))return Ot;for(var Et=this.toBBox,St=[];N;){for(var nt=0;nt<N.children.length;nt++){var qt=N.children[nt],vt=N.leaf?Et(qt):qt;dt(q,vt)&&(N.leaf?Ot.push(qt):Q(q,vt)?this._all(qt,Ot):St.push(qt))}N=St.pop()}return Ot},P.prototype.collides=function(q){var N=this.data;if(!dt(q,N))return!1;for(var Ot=[];N;){for(var Et=0;Et<N.children.length;Et++){var St=N.children[Et],nt=N.leaf?this.toBBox(St):St;if(dt(q,nt)){if(N.leaf||Q(q,nt))return!0;Ot.push(St)}}N=Ot.pop()}return!1},P.prototype.load=function(q){if(!q||!q.length)return this;if(q.length<this._minEntries){for(var N=0;N<q.length;N++)this.insert(q[N]);return this}var Ot=this._build(q.slice(),0,q.length-1,0);if(this.data.children.length)if(this.data.height===Ot.height)this._splitRoot(this.data,Ot);else{if(this.data.height<Ot.height){var Et=this.data;this.data=Ot,Ot=Et}this._insert(Ot,this.data.height-Ot.height-1,!0)}else this.data=Ot;return this},P.prototype.insert=function(q){return q&&this._insert(q,this.data.height-1),this},P.prototype.clear=function(){return this.data=ot([]),this},P.prototype.remove=function(q,N){if(!q)return this;for(var Ot,Et,St,nt=this.data,qt=this.toBBox(q),vt=[],pt=[];nt||vt.length;){if(nt||(nt=vt.pop(),Et=vt[vt.length-1],Ot=pt.pop(),St=!0),nt.leaf){var kt=F(q,nt.children,N);if(kt!==-1)return nt.children.splice(kt,1),vt.push(nt),this._condense(vt),this}St||nt.leaf||!Q(nt,qt)?Et?(Ot++,nt=Et.children[Ot],St=!1):nt=null:(vt.push(nt),pt.push(Ot),Ot=0,Et=nt,nt=nt.children[0])}return this},P.prototype.toBBox=function(q){return q},P.prototype.compareMinX=function(q,N){return q.minX-N.minX},P.prototype.compareMinY=function(q,N){return q.minY-N.minY},P.prototype.toJSON=function(){return this.data},P.prototype.fromJSON=function(q){return this.data=q,this},P.prototype._all=function(q,N){for(var Ot=[];q;)q.leaf?N.push.apply(N,q.children):Ot.push.apply(Ot,q.children),q=Ot.pop();return N},P.prototype._build=function(q,N,Ot,Et){var St,nt=Ot-N+1,qt=this._maxEntries;if(nt<=qt)return G(St=ot(q.slice(N,Ot+1)),this.toBBox),St;Et||(Et=Math.ceil(Math.log(nt)/Math.log(qt)),qt=Math.ceil(nt/Math.pow(qt,Et-1))),(St=ot([])).leaf=!1,St.height=Et;var vt=Math.ceil(nt/qt),pt=vt*Math.ceil(Math.sqrt(qt));_t(q,N,Ot,pt,this.compareMinX);for(var kt=N;kt<=Ot;kt+=pt){var Qt=Math.min(kt+pt-1,Ot);_t(q,kt,Qt,vt,this.compareMinY);for(var je=kt;je<=Qt;je+=vt){var $=Math.min(je+vt-1,Qt);St.children.push(this._build(q,je,$,Et-1))}}return G(St,this.toBBox),St},P.prototype._chooseSubtree=function(q,N,Ot,Et){for(;Et.push(N),!N.leaf&&Et.length-1!==Ot;){for(var St=1/0,nt=1/0,qt=void 0,vt=0;vt<N.children.length;vt++){var pt=N.children[vt],kt=W(pt),Qt=(je=q,$=pt,(Math.max($.maxX,je.maxX)-Math.min($.minX,je.minX))*(Math.max($.maxY,je.maxY)-Math.min($.minY,je.minY))-kt);Qt<nt?(nt=Qt,St=kt<St?kt:St,qt=pt):Qt===nt&&kt<St&&(St=kt,qt=pt)}N=qt||N.children[0]}var je,$;return N},P.prototype._insert=function(q,N,Ot){var Et=Ot?q:this.toBBox(q),St=[],nt=this._chooseSubtree(Et,this.data,N,St);for(nt.children.push(q),V(nt,Et);N>=0&&St[N].children.length>this._maxEntries;)this._split(St,N),N--;this._adjustParentBBoxes(Et,St,N)},P.prototype._split=function(q,N){var Ot=q[N],Et=Ot.children.length,St=this._minEntries;this._chooseSplitAxis(Ot,St,Et);var nt=this._chooseSplitIndex(Ot,St,Et),qt=ot(Ot.children.splice(nt,Ot.children.length-nt));qt.height=Ot.height,qt.leaf=Ot.leaf,G(Ot,this.toBBox),G(qt,this.toBBox),N?q[N-1].children.push(qt):this._splitRoot(Ot,qt)},P.prototype._splitRoot=function(q,N){this.data=ot([q,N]),this.data.height=q.height+1,this.data.leaf=!1,G(this.data,this.toBBox)},P.prototype._chooseSplitIndex=function(q,N,Ot){for(var Et,St,nt,qt,vt,pt,kt,Qt=1/0,je=1/0,$=N;$<=Ot-N;$++){var Ct=z(q,0,$,this.toBBox),Kt=z(q,$,Ot,this.toBBox),Xe=(St=Ct,nt=Kt,qt=void 0,vt=void 0,pt=void 0,kt=void 0,qt=Math.max(St.minX,nt.minX),vt=Math.max(St.minY,nt.minY),pt=Math.min(St.maxX,nt.maxX),kt=Math.min(St.maxY,nt.maxY),Math.max(0,pt-qt)*Math.max(0,kt-vt)),qe=W(Ct)+W(Kt);Xe<Qt?(Qt=Xe,Et=$,je=qe<je?qe:je):Xe===Qt&&qe<je&&(je=qe,Et=$)}return Et||Ot-N},P.prototype._chooseSplitAxis=function(q,N,Ot){var Et=q.leaf?this.compareMinX:U,St=q.leaf?this.compareMinY:X;this._allDistMargin(q,N,Ot,Et)<this._allDistMargin(q,N,Ot,St)&&q.children.sort(Et)},P.prototype._allDistMargin=function(q,N,Ot,Et){q.children.sort(Et);for(var St=this.toBBox,nt=z(q,0,N,St),qt=z(q,Ot-N,Ot,St),vt=it(nt)+it(qt),pt=N;pt<Ot-N;pt++){var kt=q.children[pt];V(nt,q.leaf?St(kt):kt),vt+=it(nt)}for(var Qt=Ot-N-1;Qt>=N;Qt--){var je=q.children[Qt];V(qt,q.leaf?St(je):je),vt+=it(qt)}return vt},P.prototype._adjustParentBBoxes=function(q,N,Ot){for(var Et=Ot;Et>=0;Et--)V(N[Et],q)},P.prototype._condense=function(q){for(var N=q.length-1,Ot=void 0;N>=0;N--)q[N].children.length===0?N>0?(Ot=q[N-1].children).splice(Ot.indexOf(q[N]),1):this.clear():G(q[N],this.toBBox)},P})},"2a62":function(f,v,c){var y=c("825a");f.exports=function(S){var x=S.return;if(x!==void 0)return y(x.call(S)).value}},"2d00":function(f,v,c){var y=c("da84"),S=c("342f"),x=y.process,P=x&&x.versions,F=P&&P.v8,G,z;F?(G=F.split("."),z=G[0]<4?1:G[0]+G[1]):S&&(G=S.match(/Edge\/(\d+)/),(!G||G[1]>=74)&&(G=S.match(/Chrome\/(\d+)/),G&&(z=G[1]))),f.exports=z&&+z},"3410":function(f,v,c){var y=c("23e7"),S=c("d039"),x=c("7b0b"),P=c("e163"),F=c("e177"),G=S(function(){P(1)});y({target:"Object",stat:!0,forced:G,sham:!F},{getPrototypeOf:function(V){return P(x(V))}})},"342f":function(f,v,c){var y=c("d066");f.exports=y("navigator","userAgent")||""},"35a1":function(f,v,c){var y=c("f5df"),S=c("3f8c"),x=c("b622"),P=x("iterator");f.exports=function(F){if(F!=null)return F[P]||F["@@iterator"]||S[y(F)]}},"35a7":function(f,v,c){c.d(v,"b",function(){return G});var y=c("0ec0"),S=c("01d4"),x=c("1e8d"),P=function(){var z=function(V,U){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,W){X.__proto__=W}||function(X,W){for(var it in W)Object.prototype.hasOwnProperty.call(W,it)&&(X[it]=W[it])},z(V,U)};return function(V,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");z(V,U);function X(){this.constructor=V}V.prototype=U===null?Object.create(U):(X.prototype=U.prototype,new X)}}(),F=function(z){P(V,z);function V(){var U=z.call(this)||this;return U.on=U.onInternal,U.once=U.onceInternal,U.un=U.unInternal,U.revision_=0,U}return V.prototype.changed=function(){++this.revision_,this.dispatchEvent(S.a.CHANGE)},V.prototype.getRevision=function(){return this.revision_},V.prototype.onInternal=function(U,X){if(Array.isArray(U)){for(var W=U.length,it=new Array(W),Q=0;Q<W;++Q)it[Q]=Object(x.a)(this,U[Q],X);return it}else return Object(x.a)(this,U,X)},V.prototype.onceInternal=function(U,X){var W;if(Array.isArray(U)){var it=U.length;W=new Array(it);for(var Q=0;Q<it;++Q)W[Q]=Object(x.b)(this,U[Q],X)}else W=Object(x.b)(this,U,X);return X.ol_key=W,W},V.prototype.unInternal=function(U,X){var W=X.ol_key;if(W)G(W);else if(Array.isArray(U))for(var it=0,Q=U.length;it<Q;++it)this.removeEventListener(U[it],X);else this.removeEventListener(U,X)},V}(y.a);F.prototype.on,F.prototype.once,F.prototype.un;function G(z){if(Array.isArray(z))for(var V=0,U=z.length;V<U;++V)Object(x.c)(z[V]);else Object(x.c)(z)}v.a=F},"37e8":function(f,v,c){var y=c("83ab"),S=c("9bf2"),x=c("825a"),P=c("df75");f.exports=y?Object.defineProperties:function(G,z){x(G);for(var V=P(z),U=V.length,X=0,W;U>X;)S.f(G,W=V[X++],z[W]);return G}},"38f3":function(f,v,c){c.d(v,"a",function(){return y}),c.d(v,"b",function(){return S}),c.d(v,"c",function(){return x}),c.d(v,"d",function(){return P});var y=typeof Object.assign=="function"?Object.assign:function(F,G){if(F==null)throw new TypeError("Cannot convert undefined or null to object");for(var z=Object(F),V=1,U=arguments.length;V<U;++V){var X=arguments[V];if(X!=null)for(var W in X)X.hasOwnProperty(W)&&(z[W]=X[W])}return z};function S(F){for(var G in F)delete F[G]}var x=typeof Object.values=="function"?Object.values:function(F){var G=[];for(var z in F)G.push(F[z]);return G};function P(F){var G;for(G in F)return!1;return!G}},"3900":function(f,v,c){c.r(v);var y=c("e269"),S=c("592d"),x=c("57cb"),P=c("1e8d"),F=c("0999"),G=function(){var V=function(U,X){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,it){W.__proto__=it}||function(W,it){for(var Q in it)Object.prototype.hasOwnProperty.call(it,Q)&&(W[Q]=it[Q])},V(U,X)};return function(U,X){if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");V(U,X);function W(){this.constructor=U}U.prototype=X===null?Object.create(X):(W.prototype=X.prototype,new W)}}(),z=function(V){G(U,V);function U(X){var W=V.call(this)||this,it=X.element;return it&&!X.target&&!it.style.pointerEvents&&(it.style.pointerEvents="auto"),W.element=it||null,W.target_=null,W.map_=null,W.listenerKeys=[],X.render&&(W.render=X.render),X.target&&W.setTarget(X.target),W}return U.prototype.disposeInternal=function(){Object(F.e)(this.element),V.prototype.disposeInternal.call(this)},U.prototype.getMap=function(){return this.map_},U.prototype.setMap=function(X){this.map_&&Object(F.e)(this.element);for(var W=0,it=this.listenerKeys.length;W<it;++W)Object(P.c)(this.listenerKeys[W]);if(this.listenerKeys.length=0,this.map_=X,this.map_){var Q=this.target_?this.target_:X.getOverlayContainerStopEvent();Q.appendChild(this.element),this.render!==x.c&&this.listenerKeys.push(Object(P.a)(X,S.a.POSTRENDER,this.render,this)),X.render()}},U.prototype.render=function(X){},U.prototype.setTarget=function(X){this.target_=typeof X=="string"?document.getElementById(X):X},U}(y.a);v.default=z},"3bbe":function(f,v,c){var y=c("861d");f.exports=function(S){if(!y(S)&&S!==null)throw TypeError("Can't set "+String(S)+" as a prototype");return S}},"3ca3":function(f,v,c){var y=c("6547").charAt,S=c("69f3"),x=c("7dd0"),P="String Iterator",F=S.set,G=S.getterFor(P);x(String,"String",function(z){F(this,{type:P,string:String(z),index:0})},function(){var V=G(this),U=V.string,X=V.index,W;return X>=U.length?{value:void 0,done:!0}:(W=y(U,X),V.index+=W.length,{value:W,done:!1})})},"3f8c":function(f,v){f.exports={}},"428f":function(f,v,c){var y=c("da84");f.exports=y},"44ad":function(f,v,c){var y=c("d039"),S=c("c6b6"),x="".split;f.exports=y(function(){return!Object("z").propertyIsEnumerable(0)})?function(P){return S(P)=="String"?x.call(P,""):Object(P)}:Object},"44d2":function(f,v,c){var y=c("b622"),S=c("7c73"),x=c("9bf2"),P=y("unscopables"),F=Array.prototype;F[P]==null&&x.f(F,P,{configurable:!0,value:S(null)}),f.exports=function(G){F[P][G]=!0}},"44e7":function(f,v,c){var y=c("861d"),S=c("c6b6"),x=c("b622"),P=x("match");f.exports=function(F){var G;return y(F)&&((G=F[P])!==void 0?!!G:S(F)=="RegExp")}},"4930":function(f,v,c){var y=c("2d00"),S=c("d039");f.exports=!!Object.getOwnPropertySymbols&&!S(function(){var x=Symbol();return!String(x)||!(Object(x)instanceof Symbol)||!Symbol.sham&&y&&y<41})},"4ae1":function(f,v,c){var y=c("23e7"),S=c("d066"),x=c("1c0b"),P=c("825a"),F=c("861d"),G=c("7c73"),z=c("0538"),V=c("d039"),U=S("Reflect","construct"),X=V(function(){function Q(){}return!(U(function(){},[],Q)instanceof Q)}),W=!V(function(){U(function(){})}),it=X||W;y({target:"Reflect",stat:!0,forced:it,sham:it},{construct:function(dt,ot){x(dt),P(ot);var _t=arguments.length<3?dt:x(arguments[2]);if(W&&!X)return U(dt,ot,_t);if(dt==_t){switch(ot.length){case 0:return new dt;case 1:return new dt(ot[0]);case 2:return new dt(ot[0],ot[1]);case 3:return new dt(ot[0],ot[1],ot[2]);case 4:return new dt(ot[0],ot[1],ot[2],ot[3])}var q=[null];return q.push.apply(q,ot),new(z.apply(dt,q))}var N=_t.prototype,Ot=G(F(N)?N:Object.prototype),Et=Function.apply.call(dt,Ot,ot);return F(Et)?Et:Ot}})},"4d64":function(f,v,c){var y=c("fc6a"),S=c("50c4"),x=c("23cb"),P=function(F){return function(G,z,V){var U=y(G),X=S(U.length),W=x(V,X),it;if(F&&z!=z){for(;X>W;)if(it=U[W++],it!=it)return!0}else for(;X>W;W++)if((F||W in U)&&U[W]===z)return F||W||0;return!F&&-1}};f.exports={includes:P(!0),indexOf:P(!1)}},"4de4":function(f,v,c){var y=c("23e7"),S=c("b727").filter,x=c("1dde"),P=x("filter");y({target:"Array",proto:!0,forced:!P},{filter:function(G){return S(this,G,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(f,v,c){var y=c("0366"),S=c("7b0b"),x=c("9bdd"),P=c("e95a"),F=c("50c4"),G=c("8418"),z=c("35a1");f.exports=function(U){var X=S(U),W=typeof this=="function"?this:Array,it=arguments.length,Q=it>1?arguments[1]:void 0,dt=Q!==void 0,ot=z(X),_t=0,q,N,Ot,Et,St,nt;if(dt&&(Q=y(Q,it>2?arguments[2]:void 0,2)),ot!=null&&!(W==Array&&P(ot)))for(Et=ot.call(X),St=Et.next,N=new W;!(Ot=St.call(Et)).done;_t++)nt=dt?x(Et,Q,[Ot.value,_t],!0):Ot.value,G(N,_t,nt);else for(q=F(X.length),N=new W(q);q>_t;_t++)nt=dt?Q(X[_t],_t):X[_t],G(N,_t,nt);return N.length=_t,N}},"4e82":function(f,v,c){var y=c("23e7"),S=c("1c0b"),x=c("7b0b"),P=c("50c4"),F=c("d039"),G=c("addb"),z=c("a640"),V=c("04d1"),U=c("d998"),X=c("2d00"),W=c("512c"),it=[],Q=it.sort,dt=F(function(){it.sort(void 0)}),ot=F(function(){it.sort(null)}),_t=z("sort"),q=!F(function(){if(X)return X<70;if(!(V&&V>3)){if(U)return!0;if(W)return W<603;var Et="",St,nt,qt,vt;for(St=65;St<76;St++){switch(nt=String.fromCharCode(St),St){case 66:case 69:case 70:case 72:qt=3;break;case 68:case 71:qt=4;break;default:qt=2}for(vt=0;vt<47;vt++)it.push({k:nt+vt,v:qt})}for(it.sort(function(pt,kt){return kt.v-pt.v}),vt=0;vt<it.length;vt++)nt=it[vt].k.charAt(0),Et.charAt(Et.length-1)!==nt&&(Et+=nt);return Et!=="DGBEFHACIJK"}}),N=dt||!ot||!_t||!q,Ot=function(Et){return function(St,nt){return nt===void 0?-1:St===void 0?1:Et!==void 0?+Et(St,nt)||0:String(St)>String(nt)?1:-1}};y({target:"Array",proto:!0,forced:N},{sort:function(St){St!==void 0&&S(St);var nt=x(this);if(q)return St===void 0?Q.call(nt):Q.call(nt,St);var qt=[],vt=P(nt.length),pt,kt;for(kt=0;kt<vt;kt++)kt in nt&&qt.push(nt[kt]);for(qt=G(qt,Ot(St)),pt=qt.length,kt=0;kt<pt;)nt[kt]=qt[kt++];for(;kt<vt;)delete nt[kt++];return nt}})},"50c4":function(f,v,c){var y=c("a691"),S=Math.min;f.exports=function(x){return x>0?S(y(x),9007199254740991):0}},"512c":function(f,v,c){var y=c("342f"),S=y.match(/AppleWebKit\/(\d+)\./);f.exports=!!S&&+S[1]},"5135":function(f,v,c){var y=c("7b0b"),S={}.hasOwnProperty;f.exports=Object.hasOwn||function(P,F){return S.call(y(P),F)}},"5319":function(f,v,c){var y=c("d784"),S=c("825a"),x=c("50c4"),P=c("a691"),F=c("1d80"),G=c("8aa5"),z=c("0cb2"),V=c("14c3"),U=Math.max,X=Math.min,W=function(it){return it===void 0?it:String(it)};y("replace",2,function(it,Q,dt,ot){var _t=ot.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,q=ot.REPLACE_KEEPS_$0,N=_t?"$":"$0";return[function(Et,St){var nt=F(this),qt=Et==null?void 0:Et[it];return qt!==void 0?qt.call(Et,nt,St):Q.call(String(nt),Et,St)},function(Ot,Et){if(!_t&&q||typeof Et=="string"&&Et.indexOf(N)===-1){var St=dt(Q,Ot,this,Et);if(St.done)return St.value}var nt=S(Ot),qt=String(this),vt=typeof Et=="function";vt||(Et=String(Et));var pt=nt.global;if(pt){var kt=nt.unicode;nt.lastIndex=0}for(var Qt=[];;){var je=V(nt,qt);if(je===null||(Qt.push(je),!pt))break;var $=String(je[0]);$===""&&(nt.lastIndex=G(qt,x(nt.lastIndex),kt))}for(var Ct="",Kt=0,Xe=0;Xe<Qt.length;Xe++){je=Qt[Xe];for(var qe=String(je[0]),me=U(X(P(je.index),qt.length),0),ar=[],jr=1;jr<je.length;jr++)ar.push(W(je[jr]));var Pr=je.groups;if(vt){var Xn=[qe].concat(ar,me,qt);Pr!==void 0&&Xn.push(Pr);var ur=String(Et.apply(void 0,Xn))}else ur=z(qe,qt,me,ar,Pr,Et);me>=Kt&&(Ct+=qt.slice(Kt,me)+ur,Kt=me+qe.length)}return Ct+qt.slice(Kt)}]})},"5692":function(f,v,c){var y=c("c430"),S=c("c6cd");(f.exports=function(x,P){return S[x]||(S[x]=P!==void 0?P:{})})("versions",[]).push({version:"3.14.0",mode:y?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(f,v,c){var y=c("d066"),S=c("241c"),x=c("7418"),P=c("825a");f.exports=y("Reflect","ownKeys")||function(G){var z=S.f(P(G)),V=x.f;return V?z.concat(V(G)):z}},"57cb":function(f,v,c){c.d(v,"b",function(){return S}),c.d(v,"a",function(){return x}),c.d(v,"c",function(){return P}),c.d(v,"d",function(){return F});var y=c("9f5e");function S(){return!0}function x(){return!1}function P(){}function F(G){var z=!1,V,U,X;return function(){var W=Array.prototype.slice.call(arguments);return(!z||this!==X||!Object(y.b)(W,U))&&(z=!0,X=this,U=W,V=G.apply(this,arguments)),V}}},"5899":function(f,v){f.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},"58a8":function(f,v,c){var y=c("1d80"),S=c("5899"),x="["+S+"]",P=RegExp("^"+x+x+"*"),F=RegExp(x+x+"*$"),G=function(z){return function(V){var U=String(y(V));return z&1&&(U=U.replace(P,"")),z&2&&(U=U.replace(F,"")),U}};f.exports={start:G(1),end:G(2),trim:G(3)}},"592d":function(f,v,c){v.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},"5a34":function(f,v,c){var y=c("44e7");f.exports=function(S){if(y(S))throw TypeError("The method doesn't accept regular expressions");return S}},"5bc0":function(f,v,c){},"5c6c":function(f,v){f.exports=function(c,y){return{enumerable:!(c&1),configurable:!(c&2),writable:!(c&4),value:y}}},"617d":function(f,v,c){c.d(v,"b",function(){return S}),c.d(v,"f",function(){return x}),c.d(v,"d",function(){return P}),c.d(v,"a",function(){return F}),c.d(v,"g",function(){return G}),c.d(v,"c",function(){return z}),c.d(v,"e",function(){return V});var y=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",S=y.indexOf("firefox")!==-1;y.indexOf("safari")!==-1&&y.indexOf("chrom")==-1;var x=y.indexOf("webkit")!==-1&&y.indexOf("edge")==-1,P=y.indexOf("macintosh")!==-1,F=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,G=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,z=typeof Image!="undefined"&&Image.prototype.decode,V=function(){var U=!1;try{var X=Object.defineProperty({},"passive",{get:function(){U=!0}});window.addEventListener("_",null,X),window.removeEventListener("_",null,X)}catch{}return U}()},"6547":function(f,v,c){var y=c("a691"),S=c("1d80"),x=function(P){return function(F,G){var z=String(S(F)),V=y(G),U=z.length,X,W;return V<0||V>=U?P?"":void 0:(X=z.charCodeAt(V),X<55296||X>56319||V+1===U||(W=z.charCodeAt(V+1))<56320||W>57343?P?z.charAt(V):X:P?z.slice(V,V+2):(X-55296<<10)+(W-56320)+65536)}};f.exports={codeAt:x(!1),charAt:x(!0)}},"658f":function(f,v,c){/*!
  * ol-contextmenu - v4.1.0
  * https://github.com/jonataswalker/ol-contextmenu
  * Built: Sat Aug 15 2020 10:43:26 GMT-0300 (Brasilia Standard Time)
  */(function(y,S){f.exports=S(c("3900"))})(this,function(y){function S(vt){return vt&&typeof vt=="object"&&"default"in vt?vt:{default:vt}}var x=S(y),P="ol-ctx-menu",F={namespace:P,container:P+"-container",separator:P+"-separator",submenu:P+"-submenu",hidden:P+"-hidden",icon:P+"-icon",zoomIn:P+"-zoom-in",zoomOut:P+"-zoom-out",unselectable:"ol-unselectable"},G=F,z="beforeopen",V="open",U="close",X="contextmenu",W={width:150,scrollAt:4,eventType:X,defaultItems:!0},it=[{text:"Zoom In",classname:F.zoomIn+" "+F.icon,callback:function(vt,pt){var kt=pt.getView();kt.animate({zoom:+kt.getZoom()+1,duration:700,center:vt.coordinate})}},{text:"Zoom Out",classname:F.zoomOut+" "+F.icon,callback:function(vt,pt){var kt=pt.getView();kt.animate({zoom:+kt.getZoom()-1,duration:700,center:vt.coordinate})}}];function Q(vt,pt){if(pt===void 0&&(pt="Assertion failed"),!vt)throw typeof Error!="undefined"?new Error(pt):pt}function dt(vt){return/^\d+$/.test(vt)}function ot(vt,pt){return vt.classList?vt.classList.contains(pt):Ot(pt).test(vt.className)}function _t(vt,pt,kt){pt===void 0&&(pt=window.document);var Qt=Array.prototype.slice,je=[];if(/^(#?[\w-]+|\.[\w-.]+)$/.test(vt))switch(vt[0]){case"#":je=[q(vt.substr(1))];break;case".":je=Qt.call(pt.getElementsByClassName(vt.substr(1).replace(/\./g," ")));break;default:je=Qt.call(pt.getElementsByTagName(vt))}else je=Qt.call(pt.querySelectorAll(vt));return kt?je:je[0]}function q(vt){return vt=vt[0]==="#"?vt.substr(1,vt.length):vt,document.getElementById(vt)}function N(vt){var pt=document.createDocumentFragment(),kt=document.createElement("div");for(kt.innerHTML=vt;kt.firstChild;)pt.appendChild(kt.firstChild);return pt}function Ot(vt){return new RegExp("(^|\\s+) "+vt+" (\\s+|$)")}function Et(vt,pt,kt){vt.classList?vt.classList.add(pt):vt.className=(vt.className+" "+pt).trim(),kt&&dt(kt)&&window.setTimeout(function(){return St(vt,pt)},kt)}function St(vt,pt,kt){vt.classList?vt.classList.remove(pt):vt.className=vt.className.replace(Ot(pt)," ").trim(),kt&&dt(kt)&&window.setTimeout(function(){return Et(vt,pt)},kt)}var nt=function(vt){return this.Base=vt,this.map=void 0,this.viewport=void 0,this.coordinateClicked=void 0,this.pixelClicked=void 0,this.lineHeight=0,this.items={},this.opened=!1,this.submenu={left:vt.options.width-15+"px",lastLeft:""},this.eventHandler=this.handleEvent.bind(this),this.eventMapMoveHandler=this.handleMapMoveEvent.bind(this),this};nt.prototype.init=function(vt){this.map=vt,this.viewport=vt.getViewport(),this.setListeners(),this.Base.Html.createMenu(),this.lineHeight=this.getItemsLength()>0?this.Base.container.offsetHeight/this.getItemsLength():this.Base.Html.cloneAndGetLineHeight()},nt.prototype.getItemsLength=function(){var vt=this,pt=0;return Object.keys(this.items).forEach(function(kt){vt.items[kt].submenu||vt.items[kt].separator||pt++}),pt},nt.prototype.getPixelClicked=function(){return this.pixelClicked},nt.prototype.getCoordinateClicked=function(){return this.coordinateClicked},nt.prototype.positionContainer=function(vt){var pt=this,kt=this.Base.container,Qt=this.map.getSize(),je=Qt[1]-vt[1],$=Qt[0]-vt[0],Ct=kt.offsetWidth,Kt=Math.round(this.lineHeight*this.getItemsLength()),Xe=_t("li."+G.submenu+">div",kt,!0);$>=Ct?(kt.style.right="auto",kt.style.left=vt[0]+5+"px"):(kt.style.left="auto",kt.style.right="15px"),je>=Kt?(kt.style.bottom="auto",kt.style.top=vt[1]-10+"px"):(kt.style.top="auto",kt.style.bottom=0),function qe(me,ar,jr){if(Array.isArray(me))me.forEach(function(ur){return qe(ur,ar,jr)});else for(var Pr=Array.isArray(ar)?ar:ar.split(/\s+/),Xn=Pr.length;Xn--;)ot(me,Pr[Xn])&&St(me,Pr[Xn],jr)}(kt,G.hidden),Xe.length&&(this.submenu.lastLeft=$<2*Ct?"-"+Ct+"px":this.submenu.left,Xe.forEach(function(qe){var me,ar,jr,Pr={w:window.innerWidth||document.documentElement.clientWidth,h:window.innerHeight||document.documentElement.clientHeight},Xn=(ar=(me=qe).getBoundingClientRect(),jr=document.documentElement,{left:ar.left+window.pageXOffset-jr.clientLeft,top:ar.top+window.pageYOffset-jr.clientTop,width:me.offsetWidth,height:me.offsetHeight}),ur=Xn.height,Zn=je-ur;Zn<0&&(Zn=ur-(Pr.h-Xn.top),qe.style.top="-"+Zn+"px"),qe.style.left=pt.submenu.lastLeft}))},nt.prototype.openMenu=function(vt,pt){this.Base.dispatchEvent({type:V,pixel:vt,coordinate:pt}),this.opened=!0,this.positionContainer(vt)},nt.prototype.closeMenu=function(){this.opened=!1,function vt(pt,kt,Qt){if(Array.isArray(pt))pt.forEach(function(Ct){return vt(Ct,kt)});else for(var je=Array.isArray(kt)?kt:kt.split(/\s+/),$=je.length;$--;)ot(pt,je[$])||Et(pt,je[$],Qt)}(this.Base.container,G.hidden),this.Base.dispatchEvent({type:U})},nt.prototype.setListeners=function(){this.viewport.addEventListener(this.Base.options.eventType,this.eventHandler,!1),this.map.on("movestart",this.eventMapMoveHandler)},nt.prototype.removeListeners=function(){this.viewport.removeEventListener(this.Base.options.eventType,this.eventHandler,!1),this.map.un("movestart",this.eventMapMoveHandler)},nt.prototype.handleEvent=function(vt){var pt=this;this.coordinateClicked=this.map.getEventCoordinate(vt),this.pixelClicked=this.map.getEventPixel(vt),this.Base.dispatchEvent({type:z,pixel:this.pixelClicked,coordinate:this.coordinateClicked}),this.Base.disabled||(this.Base.options.eventType===X&&(vt.stopPropagation(),vt.preventDefault()),this.openMenu(this.pixelClicked,this.coordinateClicked),vt.target.addEventListener("pointerdown",{handleEvent:function(kt){pt.opened&&(pt.closeMenu(),kt.stopPropagation(),vt.target.removeEventListener(kt.type,this,!1))}},!1))},nt.prototype.handleMapMoveEvent=function(vt){this.closeMenu()},nt.prototype.setItemListener=function(vt,pt){var kt,Qt=this;vt&&typeof this.items[pt].callback=="function"&&(kt=this.items[pt].callback,vt.addEventListener("click",function(je){je.preventDefault();var $={coordinate:Qt.getCoordinateClicked(),data:Qt.items[pt].data||null};Qt.closeMenu(),kt($,Qt.map)},!1))};var qt=function(vt){return this.Base=vt,this.Base.container=this.container=this.createContainer(!0),this};return qt.prototype.createContainer=function(vt){var pt=document.createElement("div"),kt=document.createElement("ul"),Qt=[G.container,G.unselectable];return vt&&Qt.push(G.hidden),pt.className=Qt.join(" "),pt.style.width=parseInt(this.Base.options.width,10)+"px",pt.appendChild(kt),pt},qt.prototype.createMenu=function(){var vt=[];if("items"in this.Base.options?vt=this.Base.options.defaultItems?this.Base.options.items.concat(it):this.Base.options.items:this.Base.options.defaultItems&&(vt=it),vt.length===0)return!1;vt.forEach(this.addMenuEntry,this)},qt.prototype.addMenuEntry=function(vt){var pt,kt=this;if(vt.items&&Array.isArray(vt.items)){vt.classname=vt.classname||"",pt=G.submenu,~vt.classname.indexOf(pt)||(vt.classname=vt.classname.length?" "+G.submenu:G.submenu);var Qt=this.generateHtmlAndPublish(this.container,vt),je=this.createContainer();je.style.left=this.Base.Internal.submenu.lastLeft||this.Base.Internal.submenu.left,Qt.appendChild(je),vt.items.forEach(function($){kt.generateHtmlAndPublish(je,$,!0)})}else this.generateHtmlAndPublish(this.container,vt)},qt.prototype.generateHtmlAndPublish=function(vt,pt,kt){var Qt,je,$="_"+Math.random().toString(36).substr(2,9),Ct=!1;return typeof pt=="string"&&pt.trim()==="-"?(Qt=N('<li id="'+$+'" class="'+G.separator+'"><hr></li>'),je=[].slice.call(Qt.childNodes,0)[0],vt.firstChild.appendChild(Qt),Ct=!0):(pt.classname=pt.classname||"",Qt=N("<span>"+pt.text+"</span>"),je=document.createElement("li"),pt.icon&&(pt.classname===""?pt.classname=G.icon:pt.classname.indexOf(G.icon)===-1&&(pt.classname+=" "+G.icon),je.setAttribute("style","background-image:url("+pt.icon+")")),je.id=$,je.className=pt.classname,je.appendChild(Qt),vt.firstChild.appendChild(je)),this.Base.Internal.items[$]={id:$,submenu:kt||0,separator:Ct,callback:pt.callback,data:pt.data||null},this.Base.Internal.setItemListener(je,$),je},qt.prototype.removeMenuEntry=function(vt){var pt=_t("#"+vt,this.container.firstChild);pt&&this.container.firstChild.removeChild(pt),delete this.Base.Internal.items[vt]},qt.prototype.cloneAndGetLineHeight=function(){var vt=this.container.cloneNode(),pt=N("<span>Foo</span>"),kt=N("<span>Foo</span>"),Qt=document.createElement("li"),je=document.createElement("li");Qt.appendChild(pt),je.appendChild(kt),vt.appendChild(Qt),vt.appendChild(je),this.container.parentNode.appendChild(vt);var $=vt.offsetHeight/2;return this.container.parentNode.removeChild(vt),$},function(vt){function pt(kt){kt===void 0&&(kt={}),Q(typeof kt=="object","@param `opt_options` should be object type!"),this.options=function(Qt,je){var $={};for(var Ct in Qt)$[Ct]=Qt[Ct];for(var Kt in je)$[Kt]=je[Kt];return $}(W,kt),this.disabled=!1,this.Internal=new nt(this),this.Html=new qt(this),vt.call(this,{element:this.container})}return vt&&(pt.__proto__=vt),pt.prototype=Object.create(vt&&vt.prototype),pt.prototype.constructor=pt,pt.prototype.clear=function(){Object.keys(this.Internal.items).forEach(this.Html.removeMenuEntry,this.Html)},pt.prototype.close=function(){this.Internal.closeMenu()},pt.prototype.enable=function(){this.disabled=!1},pt.prototype.disable=function(){this.disabled=!0},pt.prototype.getDefaultItems=function(){return it},pt.prototype.countItems=function(){return Object.keys(this.Internal.items).length},pt.prototype.extend=function(kt){Q(Array.isArray(kt),"@param `arr` should be an Array."),kt.forEach(this.push,this)},pt.prototype.isOpen=function(){return this.Internal.opened},pt.prototype.updatePosition=function(kt){Q(Array.isArray(kt),"@param `pixel` should be an Array."),this.isOpen()&&this.Internal.positionContainer(kt)},pt.prototype.pop=function(){var kt=Object.keys(this.Internal.items);this.Html.removeMenuEntry(kt[kt.length-1])},pt.prototype.push=function(kt){Q(kt!=null,"@param `item` must be informed."),this.Html.addMenuEntry(kt)},pt.prototype.shift=function(){this.Html.removeMenuEntry(Object.keys(this.Internal.items)[0])},pt.prototype.setMap=function(kt){vt.prototype.setMap.call(this,kt),kt?this.Internal.init(kt,this):this.Internal.removeListeners()},pt}(x.default)})},"65f0":function(f,v,c){var y=c("861d"),S=c("e8b5"),x=c("b622"),P=x("species");f.exports=function(F,G){var z;return S(F)&&(z=F.constructor,typeof z=="function"&&(z===Array||S(z.prototype))?z=void 0:y(z)&&(z=z[P],z===null&&(z=void 0))),new(z===void 0?Array:z)(G===0?0:G)}},"69f3":function(f,v,c){var y=c("7f9a"),S=c("da84"),x=c("861d"),P=c("9112"),F=c("5135"),G=c("c6cd"),z=c("f772"),V=c("d012"),U="Object already initialized",X=S.WeakMap,W,it,Q,dt=function(St){return Q(St)?it(St):W(St,{})},ot=function(St){return function(nt){var qt;if(!x(nt)||(qt=it(nt)).type!==St)throw TypeError("Incompatible receiver, "+St+" required");return qt}};if(y||G.state){var _t=G.state||(G.state=new X),q=_t.get,N=_t.has,Ot=_t.set;W=function(St,nt){if(N.call(_t,St))throw new TypeError(U);return nt.facade=St,Ot.call(_t,St,nt),nt},it=function(St){return q.call(_t,St)||{}},Q=function(St){return N.call(_t,St)}}else{var Et=z("state");V[Et]=!0,W=function(St,nt){if(F(St,Et))throw new TypeError(U);return nt.facade=St,P(St,Et,nt),nt},it=function(St){return F(St,Et)?St[Et]:{}},Q=function(St){return F(St,Et)}}f.exports={set:W,get:it,has:Q,enforce:dt,getterFor:ot}},"6eeb":function(f,v,c){var y=c("da84"),S=c("9112"),x=c("5135"),P=c("ce4e"),F=c("8925"),G=c("69f3"),z=G.get,V=G.enforce,U=String(String).split("String");(f.exports=function(X,W,it,Q){var dt=Q?!!Q.unsafe:!1,ot=Q?!!Q.enumerable:!1,_t=Q?!!Q.noTargetGet:!1,q;if(typeof it=="function"&&(typeof W=="string"&&!x(it,"name")&&S(it,"name",W),q=V(it),q.source||(q.source=U.join(typeof W=="string"?W:""))),X===y){ot?X[W]=it:P(W,it);return}else dt?!_t&&X[W]&&(ot=!0):delete X[W];ot?X[W]=it:S(X,W,it)})(Function.prototype,"toString",function(){return typeof this=="function"&&z(this).source||F(this)})},"6f53":function(f,v,c){var y=c("83ab"),S=c("df75"),x=c("fc6a"),P=c("d1e7").f,F=function(G){return function(z){for(var V=x(z),U=S(V),X=U.length,W=0,it=[],Q;X>W;)Q=U[W++],(!y||P.call(V,Q))&&it.push(G?[Q,V[Q]]:V[Q]);return it}};f.exports={entries:F(!0),values:F(!1)}},"7037":function(f,v,c){c("a4d3"),c("e01a"),c("d3b7"),c("d28b"),c("e260"),c("3ca3"),c("ddb0");function y(S){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?(f.exports=y=function(P){return typeof P},f.exports.default=f.exports,f.exports.__esModule=!0):(f.exports=y=function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},f.exports.default=f.exports,f.exports.__esModule=!0),y(S)}f.exports=y,f.exports.default=f.exports,f.exports.__esModule=!0},"7156":function(f,v,c){var y=c("861d"),S=c("d2bb");f.exports=function(x,P,F){var G,z;return S&&typeof(G=P.constructor)=="function"&&G!==F&&y(z=G.prototype)&&z!==F.prototype&&S(x,z),x}},"72ba":function(f,v,c){c.d(v,"b",function(){return At}),c.d(v,"a",function(){return Wt});var y=Uint8Array,S=Uint16Array,x=Uint32Array,P=new y([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),F=new y([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),G=new y([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),z=function(yt,Rt){for(var Ft=new S(31),re=0;re<31;++re)Ft[re]=Rt+=1<<yt[re-1];for(var he=new x(Ft[30]),re=1;re<30;++re)for(var pe=Ft[re];pe<Ft[re+1];++pe)he[pe]=pe-Ft[re]<<5|re;return[Ft,he]},V=z(P,2),U=V[0],X=V[1];U[28]=258,X[258]=28;for(var W=z(F,0),it=W[0],Q=W[1],dt=new S(32768),ot=0;ot<32768;++ot){var _t=(ot&43690)>>>1|(ot&21845)<<1;_t=(_t&52428)>>>2|(_t&13107)<<2,_t=(_t&61680)>>>4|(_t&3855)<<4,dt[ot]=((_t&65280)>>>8|(_t&255)<<8)>>>1}for(var q=function(yt,Rt,Ft){for(var re=yt.length,he=0,pe=new S(Rt);he<re;++he)++pe[yt[he]-1];var Le=new S(Rt);for(he=0;he<Rt;++he)Le[he]=Le[he-1]+pe[he-1]<<1;var ve;if(Ft){ve=new S(1<<Rt);var Ce=15-Rt;for(he=0;he<re;++he)if(yt[he])for(var Me=he<<4|yt[he],Ee=Rt-yt[he],_r=Le[yt[he]-1]++<<Ee,Sr=_r|(1<<Ee)-1;_r<=Sr;++_r)ve[dt[_r]>>>Ce]=Me}else for(ve=new S(re),he=0;he<re;++he)ve[he]=dt[Le[yt[he]-1]++]>>>15-yt[he];return ve},N=new y(288),ot=0;ot<144;++ot)N[ot]=8;for(var ot=144;ot<256;++ot)N[ot]=9;for(var ot=256;ot<280;++ot)N[ot]=7;for(var ot=280;ot<288;++ot)N[ot]=8;for(var Ot=new y(32),ot=0;ot<32;++ot)Ot[ot]=5;var Et=q(N,9,0),St=q(N,9,1),nt=q(Ot,5,0),qt=q(Ot,5,1),vt=function(yt){for(var Rt=yt[0],Ft=1;Ft<yt.length;++Ft)yt[Ft]>Rt&&(Rt=yt[Ft]);return Rt},pt=function(yt,Rt,Ft){var re=Rt/8>>0;return(yt[re]|yt[re+1]<<8)>>>(Rt&7)&Ft},kt=function(yt,Rt){var Ft=Rt/8>>0;return(yt[Ft]|yt[Ft+1]<<8|yt[Ft+2]<<16)>>>(Rt&7)},Qt=function(yt){return(yt/8>>0)+(yt&7&&1)},je=function(yt,Rt,Ft){(Rt==null||Rt<0)&&(Rt=0),(Ft==null||Ft>yt.length)&&(Ft=yt.length);var re=new(yt instanceof S?S:yt instanceof x?x:y)(Ft-Rt);return re.set(yt.subarray(Rt,Ft)),re},$=function(yt,Rt,Ft){var re=yt.length,he=!Rt||Ft,pe=!Ft||Ft.i;Ft||(Ft={}),Rt||(Rt=new y(re*3));var Le=function(Gl){var Rs=Rt.length;if(Gl>Rs){var Sa=new y(Math.max(Rs*2,Gl));Sa.set(Rt),Rt=Sa}},ve=Ft.f||0,Ce=Ft.p||0,Me=Ft.b||0,Ee=Ft.l,_r=Ft.d,Sr=Ft.m,Hr=Ft.n,Gr=re*8;do{if(!Ee){Ft.f=ve=pt(yt,Ce,1);var Nr=pt(yt,Ce+1,3);if(Ce+=3,Nr)if(Nr==1)Ee=St,_r=qt,Sr=9,Hr=5;else if(Nr==2){var Oi=pt(yt,Ce,31)+257,wr=pt(yt,Ce+10,15)+4,rr=Oi+pt(yt,Ce+5,31)+1;Ce+=14;for(var sr=new y(rr),Lr=new y(19),lr=0;lr<wr;++lr)Lr[G[lr]]=pt(yt,Ce+lr*3,7);Ce+=wr*3;var En=vt(Lr),Tn=(1<<En)-1;if(!pe&&Ce+rr*(En+7)>Gr)break;for(var yr=q(Lr,En,1),lr=0;lr<rr;){var Ii=yr[pt(yt,Ce,Tn)];Ce+=Ii&15;var Qr=Ii>>>4;if(Qr<16)sr[lr++]=Qr;else{var Gi=0,bn=0;for(Qr==16?(bn=3+pt(yt,Ce,3),Ce+=2,Gi=sr[lr-1]):Qr==17?(bn=3+pt(yt,Ce,7),Ce+=3):Qr==18&&(bn=11+pt(yt,Ce,127),Ce+=7);bn--;)sr[lr++]=Gi}}var yo=sr.subarray(0,Oi),Kn=sr.subarray(Oi);Sr=vt(yo),Hr=vt(Kn),Ee=q(yo,Sr,1),_r=q(Kn,Hr,1)}else throw"invalid block type";else{var Qr=Qt(Ce)+4,Bn=yt[Qr-4]|yt[Qr-3]<<8,ii=Qr+Bn;if(ii>re){if(pe)throw"unexpected EOF";break}he&&Le(Me+Bn),Rt.set(yt.subarray(Qr,ii),Me),Ft.b=Me+=Bn,Ft.p=Ce=ii*8;continue}if(Ce>Gr)throw"unexpected EOF"}he&&Le(Me+131072);for(var ji=(1<<Sr)-1,Go=(1<<Hr)-1,bi=Sr+Hr+18;pe||Ce+bi<Gr;){var Gi=Ee[kt(yt,Ce)&ji],mo=Gi>>>4;if(Ce+=Gi&15,Ce>Gr)throw"unexpected EOF";if(!Gi)throw"invalid length/literal";if(mo<256)Rt[Me++]=mo;else if(mo==256){Ee=null;break}else{var un=mo-254;if(mo>264){var lr=mo-257,Gn=P[lr];un=pt(yt,Ce,(1<<Gn)-1)+U[lr],Ce+=Gn}var _o=_r[kt(yt,Ce)&Go],So=_o>>>4;if(!_o)throw"invalid distance";Ce+=_o&15;var Kn=it[So];if(So>3){var Gn=F[So];Kn+=kt(yt,Ce)&(1<<Gn)-1,Ce+=Gn}if(Ce>Gr)throw"unexpected EOF";he&&Le(Me+131072);for(var Xi=Me+un;Me<Xi;Me+=4)Rt[Me]=Rt[Me-Kn],Rt[Me+1]=Rt[Me+1-Kn],Rt[Me+2]=Rt[Me+2-Kn],Rt[Me+3]=Rt[Me+3-Kn];Me=Xi}}Ft.l=Ee,Ft.p=Ce,Ft.b=Me,Ee&&(ve=1,Ft.m=Sr,Ft.d=_r,Ft.n=Hr)}while(!ve);return Me==Rt.length?Rt:je(Rt,0,Me)},Ct=function(yt,Rt,Ft){Ft<<=Rt&7;var re=Rt/8>>0;yt[re]|=Ft,yt[re+1]|=Ft>>>8},Kt=function(yt,Rt,Ft){Ft<<=Rt&7;var re=Rt/8>>0;yt[re]|=Ft,yt[re+1]|=Ft>>>8,yt[re+2]|=Ft>>>16},Xe=function(yt,Rt){for(var Ft=[],re=0;re<yt.length;++re)yt[re]&&Ft.push({s:re,f:yt[re]});var he=Ft.length,pe=Ft.slice();if(!he)return[new y(0),0];if(he==1){var Le=new y(Ft[0].s+1);return Le[Ft[0].s]=1,[Le,1]}Ft.sort(function(rr,sr){return rr.f-sr.f}),Ft.push({s:-1,f:25001});var ve=Ft[0],Ce=Ft[1],Me=0,Ee=1,_r=2;for(Ft[0]={s:-1,f:ve.f+Ce.f,l:ve,r:Ce};Ee!=he-1;)ve=Ft[Ft[Me].f<Ft[_r].f?Me++:_r++],Ce=Ft[Me!=Ee&&Ft[Me].f<Ft[_r].f?Me++:_r++],Ft[Ee++]={s:-1,f:ve.f+Ce.f,l:ve,r:Ce};for(var Sr=pe[0].s,re=1;re<he;++re)pe[re].s>Sr&&(Sr=pe[re].s);var Hr=new S(Sr+1),Gr=qe(Ft[Ee-1],Hr,0);if(Gr>Rt){var re=0,Nr=0,Qr=Gr-Rt,Bn=1<<Qr;for(pe.sort(function(sr,Lr){return Hr[Lr.s]-Hr[sr.s]||sr.f-Lr.f});re<he;++re){var ii=pe[re].s;if(Hr[ii]>Rt)Nr+=Bn-(1<<Gr-Hr[ii]),Hr[ii]=Rt;else break}for(Nr>>>=Qr;Nr>0;){var Oi=pe[re].s;Hr[Oi]<Rt?Nr-=1<<Rt-Hr[Oi]++-1:++re}for(;re>=0&&Nr;--re){var wr=pe[re].s;Hr[wr]==Rt&&(--Hr[wr],++Nr)}Gr=Rt}return[new y(Hr),Gr]},qe=function(yt,Rt,Ft){return yt.s==-1?Math.max(qe(yt.l,Rt,Ft+1),qe(yt.r,Rt,Ft+1)):Rt[yt.s]=Ft},me=function(yt){for(var Rt=yt.length;Rt&&!yt[--Rt];);for(var Ft=new S(++Rt),re=0,he=yt[0],pe=1,Le=function(Ce){Ft[re++]=Ce},ve=1;ve<=Rt;++ve)if(yt[ve]==he&&ve!=Rt)++pe;else{if(!he&&pe>2){for(;pe>138;pe-=138)Le(32754);pe>2&&(Le(pe>10?pe-11<<5|28690:pe-3<<5|12305),pe=0)}else if(pe>3){for(Le(he),--pe;pe>6;pe-=6)Le(8304);pe>2&&(Le(pe-3<<5|8208),pe=0)}for(;pe--;)Le(he);pe=1,he=yt[ve]}return[Ft.subarray(0,re),Rt]},ar=function(yt,Rt){for(var Ft=0,re=0;re<Rt.length;++re)Ft+=yt[re]*Rt[re];return Ft},jr=function(yt,Rt,Ft){var re=Ft.length,he=Qt(Rt+2);yt[he]=re&255,yt[he+1]=re>>>8,yt[he+2]=yt[he]^255,yt[he+3]=yt[he+1]^255;for(var pe=0;pe<re;++pe)yt[he+pe+4]=Ft[pe];return(he+4+re)*8},Pr=function(yt,Rt,Ft,re,he,pe,Le,ve,Ce,Me,Ee){Ct(Rt,Ee++,Ft),++he[256];for(var _r=Xe(he,15),Sr=_r[0],Hr=_r[1],Gr=Xe(pe,15),Nr=Gr[0],Qr=Gr[1],Bn=me(Sr),ii=Bn[0],Oi=Bn[1],wr=me(Nr),rr=wr[0],sr=wr[1],Lr=new S(19),lr=0;lr<ii.length;++lr)Lr[ii[lr]&31]++;for(var lr=0;lr<rr.length;++lr)Lr[rr[lr]&31]++;for(var En=Xe(Lr,7),Tn=En[0],yr=En[1],Ii=19;Ii>4&&!Tn[G[Ii-1]];--Ii);var Gi=Me+5<<3,bn=ar(he,N)+ar(pe,Ot)+Le,yo=ar(he,Sr)+ar(pe,Nr)+Le+14+3*Ii+ar(Lr,Tn)+(2*Lr[16]+3*Lr[17]+7*Lr[18]);if(Gi<=bn&&Gi<=yo)return jr(Rt,Ee,yt.subarray(Ce,Ce+Me));var Kn,ji,Go,bi;if(Ct(Rt,Ee,1+(yo<bn)),Ee+=2,yo<bn){Kn=q(Sr,Hr,0),ji=Sr,Go=q(Nr,Qr,0),bi=Nr;var mo=q(Tn,yr,0);Ct(Rt,Ee,Oi-257),Ct(Rt,Ee+5,sr-1),Ct(Rt,Ee+10,Ii-4),Ee+=14;for(var lr=0;lr<Ii;++lr)Ct(Rt,Ee+3*lr,Tn[G[lr]]);Ee+=3*Ii;for(var un=[ii,rr],Gn=0;Gn<2;++Gn)for(var _o=un[Gn],lr=0;lr<_o.length;++lr){var So=_o[lr]&31;Ct(Rt,Ee,mo[So]),Ee+=Tn[So],So>15&&(Ct(Rt,Ee,_o[lr]>>>5&127),Ee+=_o[lr]>>>12)}}else Kn=Et,ji=N,Go=nt,bi=Ot;for(var lr=0;lr<ve;++lr)if(re[lr]>255){var So=re[lr]>>>18&31;Kt(Rt,Ee,Kn[So+257]),Ee+=ji[So+257],So>7&&(Ct(Rt,Ee,re[lr]>>>23&31),Ee+=P[So]);var Xi=re[lr]&31;Kt(Rt,Ee,Go[Xi]),Ee+=bi[Xi],Xi>3&&(Kt(Rt,Ee,re[lr]>>>5&8191),Ee+=F[Xi])}else Kt(Rt,Ee,Kn[re[lr]]),Ee+=ji[re[lr]];return Kt(Rt,Ee,Kn[256]),Ee+ji[256]},Xn=new x([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ur=new y(0),Zn=function(yt,Rt,Ft,re,he,pe){var Le=yt.length,ve=new y(re+Le+5*(1+Math.floor(Le/7e3))+he),Ce=ve.subarray(re,ve.length-he),Me=0;if(!Rt||Le<8)for(var Ee=0;Ee<=Le;Ee+=65535){var _r=Ee+65535;_r<Le?Me=jr(Ce,Me,yt.subarray(Ee,_r)):(Ce[Ee]=pe,Me=jr(Ce,Me,yt.subarray(Ee,Le)))}else{for(var Sr=Xn[Rt-1],Hr=Sr>>>13,Gr=Sr&8191,Nr=(1<<Ft)-1,Qr=new S(32768),Bn=new S(Nr+1),ii=Math.ceil(Ft/3),Oi=2*ii,wr=function(_u){return(yt[_u]^yt[_u+1]<<ii^yt[_u+2]<<Oi)&Nr},rr=new x(25e3),sr=new S(288),Lr=new S(32),lr=0,En=0,Ee=0,Tn=0,yr=0,Ii=0;Ee<Le;++Ee){var Gi=wr(Ee),bn=Ee&32767,yo=Bn[Gi];if(Qr[bn]=yo,Bn[Gi]=bn,yr<=Ee){var Kn=Le-Ee;if((lr>7e3||Tn>24576)&&Kn>423){Me=Pr(yt,Ce,0,rr,sr,Lr,En,Tn,Ii,Ee-Ii,Me),Tn=lr=En=0,Ii=Ee;for(var ji=0;ji<286;++ji)sr[ji]=0;for(var ji=0;ji<30;++ji)Lr[ji]=0}var Go=2,bi=0,mo=Gr,un=bn-yo&32767;if(Kn>2&&Gi==wr(Ee-un))for(var Gn=Math.min(Hr,Kn)-1,_o=Math.min(32767,Ee),So=Math.min(258,Kn);un<=_o&&--mo&&bn!=yo;){if(yt[Ee+Go]==yt[Ee+Go-un]){for(var Xi=0;Xi<So&&yt[Ee+Xi]==yt[Ee+Xi-un];++Xi);if(Xi>Go){if(Go=Xi,bi=un,Xi>Gn)break;for(var Gl=Math.min(un,Xi-2),Rs=0,ji=0;ji<Gl;++ji){var Sa=Ee-un+ji+32768&32767,Ei=Qr[Sa],Ac=Sa-Ei+32768&32767;Ac>Rs&&(Rs=Ac,yo=Sa)}}}bn=yo,yo=Qr[bn],un+=bn-yo+32768&32767}if(bi){rr[Tn++]=268435456|X[Go]<<18|Q[bi];var mu=X[Go]&31,Is=Q[bi]&31;En+=P[mu]+F[Is],++sr[257+mu],++Lr[Is],yr=Ee+Go,++lr}else rr[Tn++]=yt[Ee],++sr[yt[Ee]]}}Me=Pr(yt,Ce,pe,rr,sr,Lr,En,Tn,Ii,Ee-Ii,Me),pe||(Me=jr(Ce,Me,ur))}return je(ve,0,re+Qt(Me)+he)},Ri=function(){var yt=1,Rt=0;return{p:function(Ft){for(var re=yt,he=Rt,pe=Ft.length,Le=0;Le!=pe;){for(var ve=Math.min(Le+5552,pe);Le<ve;++Le)re+=Ft[Le],he+=re;re%=65521,he%=65521}yt=re,Rt=he},d:function(){return(yt>>>8<<16|(Rt&255)<<8|Rt>>>8)+((yt&255)<<23)*2}}},Ya=function(yt,Rt,Ft,re,he){return Zn(yt,Rt.level==null?6:Rt.level,Rt.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(yt.length)))*1.5):12+Rt.mem,Ft,re,!he)},Dn=function(yt,Rt,Ft){for(;Ft;++Rt)yt[Rt]=Ft,Ft>>>=8},Si=function(yt,Rt){var Ft=Rt.level,re=Ft==0?0:Ft<6?1:Ft==9?3:2;yt[0]=120,yt[1]=re<<6|(re?32-2*re:1)},ni=function(yt){if((yt[0]&15)!=8||yt[0]>>>4>7||(yt[0]<<8|yt[1])%31)throw"invalid zlib data";if(yt[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function At(yt,Rt){Rt===void 0&&(Rt={});var Ft=Ri();Ft.p(yt);var re=Ya(yt,Rt,2,4);return Si(re,Rt),Dn(re,re.length-4,Ft.d()),re}function Wt(yt,Rt){return $((ni(yt),yt.subarray(2,-4)),Rt)}},"7418":function(f,v){v.f=Object.getOwnPropertySymbols},"746f":function(f,v,c){var y=c("428f"),S=c("5135"),x=c("e538"),P=c("9bf2").f;f.exports=function(F){var G=y.Symbol||(y.Symbol={});S(G,F)||P(G,F,{value:x.f(F)})}},"7839":function(f,v){f.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7915":function(f,v,c){f.exports=S;var y=c("9152");function S($){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView($)?$:new Uint8Array($||0),this.pos=0,this.type=0,this.length=this.buf.length}S.Varint=0,S.Fixed64=1,S.Bytes=2,S.Fixed32=5;var x=(1<<16)*(1<<16),P=1/x,F=12,G=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");S.prototype={destroy:function(){this.buf=null},readFields:function($,Ct,Kt){for(Kt=Kt||this.length;this.pos<Kt;){var Xe=this.readVarint(),qe=Xe>>3,me=this.pos;this.type=Xe&7,$(qe,Ct,this),this.pos===me&&this.skip(Xe)}return Ct},readMessage:function($,Ct){return this.readFields($,Ct,this.readVarint()+this.pos)},readFixed32:function(){var $=qt(this.buf,this.pos);return this.pos+=4,$},readSFixed32:function(){var $=pt(this.buf,this.pos);return this.pos+=4,$},readFixed64:function(){var $=qt(this.buf,this.pos)+qt(this.buf,this.pos+4)*x;return this.pos+=8,$},readSFixed64:function(){var $=qt(this.buf,this.pos)+pt(this.buf,this.pos+4)*x;return this.pos+=8,$},readFloat:function(){var $=y.read(this.buf,this.pos,!0,23,4);return this.pos+=4,$},readDouble:function(){var $=y.read(this.buf,this.pos,!0,52,8);return this.pos+=8,$},readVarint:function($){var Ct=this.buf,Kt,Xe;return Xe=Ct[this.pos++],Kt=Xe&127,Xe<128||(Xe=Ct[this.pos++],Kt|=(Xe&127)<<7,Xe<128)||(Xe=Ct[this.pos++],Kt|=(Xe&127)<<14,Xe<128)||(Xe=Ct[this.pos++],Kt|=(Xe&127)<<21,Xe<128)?Kt:(Xe=Ct[this.pos],Kt|=(Xe&15)<<28,z(Kt,$,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var $=this.readVarint();return $%2==1?($+1)/-2:$/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var $=this.readVarint()+this.pos,Ct=this.pos;return this.pos=$,$-Ct>=F&&G?Qt(this.buf,Ct,$):kt(this.buf,Ct,$)},readBytes:function(){var $=this.readVarint()+this.pos,Ct=this.buf.subarray(this.pos,$);return this.pos=$,Ct},readPackedVarint:function($,Ct){if(this.type!==S.Bytes)return $.push(this.readVarint(Ct));var Kt=V(this);for($=$||[];this.pos<Kt;)$.push(this.readVarint(Ct));return $},readPackedSVarint:function($){if(this.type!==S.Bytes)return $.push(this.readSVarint());var Ct=V(this);for($=$||[];this.pos<Ct;)$.push(this.readSVarint());return $},readPackedBoolean:function($){if(this.type!==S.Bytes)return $.push(this.readBoolean());var Ct=V(this);for($=$||[];this.pos<Ct;)$.push(this.readBoolean());return $},readPackedFloat:function($){if(this.type!==S.Bytes)return $.push(this.readFloat());var Ct=V(this);for($=$||[];this.pos<Ct;)$.push(this.readFloat());return $},readPackedDouble:function($){if(this.type!==S.Bytes)return $.push(this.readDouble());var Ct=V(this);for($=$||[];this.pos<Ct;)$.push(this.readDouble());return $},readPackedFixed32:function($){if(this.type!==S.Bytes)return $.push(this.readFixed32());var Ct=V(this);for($=$||[];this.pos<Ct;)$.push(this.readFixed32());return $},readPackedSFixed32:function($){if(this.type!==S.Bytes)return $.push(this.readSFixed32());var Ct=V(this);for($=$||[];this.pos<Ct;)$.push(this.readSFixed32());return $},readPackedFixed64:function($){if(this.type!==S.Bytes)return $.push(this.readFixed64());var Ct=V(this);for($=$||[];this.pos<Ct;)$.push(this.readFixed64());return $},readPackedSFixed64:function($){if(this.type!==S.Bytes)return $.push(this.readSFixed64());var Ct=V(this);for($=$||[];this.pos<Ct;)$.push(this.readSFixed64());return $},skip:function($){var Ct=$&7;if(Ct===S.Varint)for(;this.buf[this.pos++]>127;);else if(Ct===S.Bytes)this.pos=this.readVarint()+this.pos;else if(Ct===S.Fixed32)this.pos+=4;else if(Ct===S.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+Ct)},writeTag:function($,Ct){this.writeVarint($<<3|Ct)},realloc:function($){for(var Ct=this.length||16;Ct<this.pos+$;)Ct*=2;if(Ct!==this.length){var Kt=new Uint8Array(Ct);Kt.set(this.buf),this.buf=Kt,this.length=Ct}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function($){this.realloc(4),vt(this.buf,$,this.pos),this.pos+=4},writeSFixed32:function($){this.realloc(4),vt(this.buf,$,this.pos),this.pos+=4},writeFixed64:function($){this.realloc(8),vt(this.buf,$&-1,this.pos),vt(this.buf,Math.floor($*P),this.pos+4),this.pos+=8},writeSFixed64:function($){this.realloc(8),vt(this.buf,$&-1,this.pos),vt(this.buf,Math.floor($*P),this.pos+4),this.pos+=8},writeVarint:function($){if($=+$||0,$>268435455||$<0){X($,this);return}this.realloc(4),this.buf[this.pos++]=$&127|($>127?128:0),!($<=127)&&(this.buf[this.pos++]=($>>>=7)&127|($>127?128:0),!($<=127)&&(this.buf[this.pos++]=($>>>=7)&127|($>127?128:0),!($<=127)&&(this.buf[this.pos++]=$>>>7&127)))},writeSVarint:function($){this.writeVarint($<0?-$*2-1:$*2)},writeBoolean:function($){this.writeVarint(Boolean($))},writeString:function($){$=String($),this.realloc($.length*4),this.pos++;var Ct=this.pos;this.pos=je(this.buf,$,this.pos);var Kt=this.pos-Ct;Kt>=128&&Q(Ct,Kt,this),this.pos=Ct-1,this.writeVarint(Kt),this.pos+=Kt},writeFloat:function($){this.realloc(4),y.write(this.buf,$,this.pos,!0,23,4),this.pos+=4},writeDouble:function($){this.realloc(8),y.write(this.buf,$,this.pos,!0,52,8),this.pos+=8},writeBytes:function($){var Ct=$.length;this.writeVarint(Ct),this.realloc(Ct);for(var Kt=0;Kt<Ct;Kt++)this.buf[this.pos++]=$[Kt]},writeRawMessage:function($,Ct){this.pos++;var Kt=this.pos;$(Ct,this);var Xe=this.pos-Kt;Xe>=128&&Q(Kt,Xe,this),this.pos=Kt-1,this.writeVarint(Xe),this.pos+=Xe},writeMessage:function($,Ct,Kt){this.writeTag($,S.Bytes),this.writeRawMessage(Ct,Kt)},writePackedVarint:function($,Ct){Ct.length&&this.writeMessage($,dt,Ct)},writePackedSVarint:function($,Ct){Ct.length&&this.writeMessage($,ot,Ct)},writePackedBoolean:function($,Ct){Ct.length&&this.writeMessage($,N,Ct)},writePackedFloat:function($,Ct){Ct.length&&this.writeMessage($,_t,Ct)},writePackedDouble:function($,Ct){Ct.length&&this.writeMessage($,q,Ct)},writePackedFixed32:function($,Ct){Ct.length&&this.writeMessage($,Ot,Ct)},writePackedSFixed32:function($,Ct){Ct.length&&this.writeMessage($,Et,Ct)},writePackedFixed64:function($,Ct){Ct.length&&this.writeMessage($,St,Ct)},writePackedSFixed64:function($,Ct){Ct.length&&this.writeMessage($,nt,Ct)},writeBytesField:function($,Ct){this.writeTag($,S.Bytes),this.writeBytes(Ct)},writeFixed32Field:function($,Ct){this.writeTag($,S.Fixed32),this.writeFixed32(Ct)},writeSFixed32Field:function($,Ct){this.writeTag($,S.Fixed32),this.writeSFixed32(Ct)},writeFixed64Field:function($,Ct){this.writeTag($,S.Fixed64),this.writeFixed64(Ct)},writeSFixed64Field:function($,Ct){this.writeTag($,S.Fixed64),this.writeSFixed64(Ct)},writeVarintField:function($,Ct){this.writeTag($,S.Varint),this.writeVarint(Ct)},writeSVarintField:function($,Ct){this.writeTag($,S.Varint),this.writeSVarint(Ct)},writeStringField:function($,Ct){this.writeTag($,S.Bytes),this.writeString(Ct)},writeFloatField:function($,Ct){this.writeTag($,S.Fixed32),this.writeFloat(Ct)},writeDoubleField:function($,Ct){this.writeTag($,S.Fixed64),this.writeDouble(Ct)},writeBooleanField:function($,Ct){this.writeVarintField($,Boolean(Ct))}};function z($,Ct,Kt){var Xe=Kt.buf,qe,me;if(me=Xe[Kt.pos++],qe=(me&112)>>4,me<128||(me=Xe[Kt.pos++],qe|=(me&127)<<3,me<128)||(me=Xe[Kt.pos++],qe|=(me&127)<<10,me<128)||(me=Xe[Kt.pos++],qe|=(me&127)<<17,me<128)||(me=Xe[Kt.pos++],qe|=(me&127)<<24,me<128)||(me=Xe[Kt.pos++],qe|=(me&1)<<31,me<128))return U($,qe,Ct);throw new Error("Expected varint not more than 10 bytes")}function V($){return $.type===S.Bytes?$.readVarint()+$.pos:$.pos+1}function U($,Ct,Kt){return Kt?Ct*4294967296+($>>>0):(Ct>>>0)*4294967296+($>>>0)}function X($,Ct){var Kt,Xe;if($>=0?(Kt=$%4294967296|0,Xe=$/4294967296|0):(Kt=~(-$%4294967296),Xe=~(-$/4294967296),Kt^4294967295?Kt=Kt+1|0:(Kt=0,Xe=Xe+1|0)),$>=18446744073709552e3||$<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Ct.realloc(10),W(Kt,Xe,Ct),it(Xe,Ct)}function W($,Ct,Kt){Kt.buf[Kt.pos++]=$&127|128,$>>>=7,Kt.buf[Kt.pos++]=$&127|128,$>>>=7,Kt.buf[Kt.pos++]=$&127|128,$>>>=7,Kt.buf[Kt.pos++]=$&127|128,$>>>=7,Kt.buf[Kt.pos]=$&127}function it($,Ct){var Kt=($&7)<<4;Ct.buf[Ct.pos++]|=Kt|(($>>>=3)?128:0),!!$&&(Ct.buf[Ct.pos++]=$&127|(($>>>=7)?128:0),!!$&&(Ct.buf[Ct.pos++]=$&127|(($>>>=7)?128:0),!!$&&(Ct.buf[Ct.pos++]=$&127|(($>>>=7)?128:0),!!$&&(Ct.buf[Ct.pos++]=$&127|(($>>>=7)?128:0),!!$&&(Ct.buf[Ct.pos++]=$&127)))))}function Q($,Ct,Kt){var Xe=Ct<=16383?1:Ct<=2097151?2:Ct<=268435455?3:Math.floor(Math.log(Ct)/(Math.LN2*7));Kt.realloc(Xe);for(var qe=Kt.pos-1;qe>=$;qe--)Kt.buf[qe+Xe]=Kt.buf[qe]}function dt($,Ct){for(var Kt=0;Kt<$.length;Kt++)Ct.writeVarint($[Kt])}function ot($,Ct){for(var Kt=0;Kt<$.length;Kt++)Ct.writeSVarint($[Kt])}function _t($,Ct){for(var Kt=0;Kt<$.length;Kt++)Ct.writeFloat($[Kt])}function q($,Ct){for(var Kt=0;Kt<$.length;Kt++)Ct.writeDouble($[Kt])}function N($,Ct){for(var Kt=0;Kt<$.length;Kt++)Ct.writeBoolean($[Kt])}function Ot($,Ct){for(var Kt=0;Kt<$.length;Kt++)Ct.writeFixed32($[Kt])}function Et($,Ct){for(var Kt=0;Kt<$.length;Kt++)Ct.writeSFixed32($[Kt])}function St($,Ct){for(var Kt=0;Kt<$.length;Kt++)Ct.writeFixed64($[Kt])}function nt($,Ct){for(var Kt=0;Kt<$.length;Kt++)Ct.writeSFixed64($[Kt])}function qt($,Ct){return($[Ct]|$[Ct+1]<<8|$[Ct+2]<<16)+$[Ct+3]*16777216}function vt($,Ct,Kt){$[Kt]=Ct,$[Kt+1]=Ct>>>8,$[Kt+2]=Ct>>>16,$[Kt+3]=Ct>>>24}function pt($,Ct){return($[Ct]|$[Ct+1]<<8|$[Ct+2]<<16)+($[Ct+3]<<24)}function kt($,Ct,Kt){for(var Xe="",qe=Ct;qe<Kt;){var me=$[qe],ar=null,jr=me>239?4:me>223?3:me>191?2:1;if(qe+jr>Kt)break;var Pr,Xn,ur;jr===1?me<128&&(ar=me):jr===2?(Pr=$[qe+1],(Pr&192)==128&&(ar=(me&31)<<6|Pr&63,ar<=127&&(ar=null))):jr===3?(Pr=$[qe+1],Xn=$[qe+2],(Pr&192)==128&&(Xn&192)==128&&(ar=(me&15)<<12|(Pr&63)<<6|Xn&63,(ar<=2047||ar>=55296&&ar<=57343)&&(ar=null))):jr===4&&(Pr=$[qe+1],Xn=$[qe+2],ur=$[qe+3],(Pr&192)==128&&(Xn&192)==128&&(ur&192)==128&&(ar=(me&15)<<18|(Pr&63)<<12|(Xn&63)<<6|ur&63,(ar<=65535||ar>=1114112)&&(ar=null))),ar===null?(ar=65533,jr=1):ar>65535&&(ar-=65536,Xe+=String.fromCharCode(ar>>>10&1023|55296),ar=56320|ar&1023),Xe+=String.fromCharCode(ar),qe+=jr}return Xe}function Qt($,Ct,Kt){return G.decode($.subarray(Ct,Kt))}function je($,Ct,Kt){for(var Xe=0,qe,me;Xe<Ct.length;Xe++){if(qe=Ct.charCodeAt(Xe),qe>55295&&qe<57344)if(me)if(qe<56320){$[Kt++]=239,$[Kt++]=191,$[Kt++]=189,me=qe;continue}else qe=me-55296<<10|qe-56320|65536,me=null;else{qe>56319||Xe+1===Ct.length?($[Kt++]=239,$[Kt++]=191,$[Kt++]=189):me=qe;continue}else me&&($[Kt++]=239,$[Kt++]=191,$[Kt++]=189,me=null);qe<128?$[Kt++]=qe:(qe<2048?$[Kt++]=qe>>6|192:(qe<65536?$[Kt++]=qe>>12|224:($[Kt++]=qe>>18|240,$[Kt++]=qe>>12&63|128),$[Kt++]=qe>>6&63|128),$[Kt++]=qe&63|128)}return Kt}},"7b0b":function(f,v,c){var y=c("1d80");f.exports=function(S){return Object(y(S))}},"7b4f":function(f,v,c){v.a={PROPERTYCHANGE:"propertychange"}},"7c73":function(f,v,c){var y=c("825a"),S=c("37e8"),x=c("7839"),P=c("d012"),F=c("1be4"),G=c("cc12"),z=c("f772"),V=">",U="<",X="prototype",W="script",it=z("IE_PROTO"),Q=function(){},dt=function(Ot){return U+W+V+Ot+U+"/"+W+V},ot=function(Ot){Ot.write(dt("")),Ot.close();var Et=Ot.parentWindow.Object;return Ot=null,Et},_t=function(){var Ot=G("iframe"),Et="java"+W+":",St;return Ot.style.display="none",F.appendChild(Ot),Ot.src=String(Et),St=Ot.contentWindow.document,St.open(),St.write(dt("document.F=Object")),St.close(),St.F},q,N=function(){try{q=document.domain&&new ActiveXObject("htmlfile")}catch{}N=q?ot(q):_t();for(var Ot=x.length;Ot--;)delete N[X][x[Ot]];return N()};P[it]=!0,f.exports=Object.create||function(Et,St){var nt;return Et!==null?(Q[X]=y(Et),nt=new Q,Q[X]=null,nt[it]=Et):nt=N(),St===void 0?nt:S(nt,St)}},"7d05":function(f,v,c){},"7dd0":function(f,v,c){var y=c("23e7"),S=c("9ed3"),x=c("e163"),P=c("d2bb"),F=c("d44e"),G=c("9112"),z=c("6eeb"),V=c("b622"),U=c("c430"),X=c("3f8c"),W=c("ae93"),it=W.IteratorPrototype,Q=W.BUGGY_SAFARI_ITERATORS,dt=V("iterator"),ot="keys",_t="values",q="entries",N=function(){return this};f.exports=function(Ot,Et,St,nt,qt,vt,pt){S(St,Et,nt);var kt=function(jr){if(jr===qt&&Kt)return Kt;if(!Q&&jr in $)return $[jr];switch(jr){case ot:return function(){return new St(this,jr)};case _t:return function(){return new St(this,jr)};case q:return function(){return new St(this,jr)}}return function(){return new St(this)}},Qt=Et+" Iterator",je=!1,$=Ot.prototype,Ct=$[dt]||$["@@iterator"]||qt&&$[qt],Kt=!Q&&Ct||kt(qt),Xe=Et=="Array"&&$.entries||Ct,qe,me,ar;if(Xe&&(qe=x(Xe.call(new Ot)),it!==Object.prototype&&qe.next&&(!U&&x(qe)!==it&&(P?P(qe,it):typeof qe[dt]!="function"&&G(qe,dt,N)),F(qe,Qt,!0,!0),U&&(X[Qt]=N))),qt==_t&&Ct&&Ct.name!==_t&&(je=!0,Kt=function(){return Ct.call(this)}),(!U||pt)&&$[dt]!==Kt&&G($,dt,Kt),X[Et]=Kt,qt)if(me={values:kt(_t),keys:vt?Kt:kt(ot),entries:kt(q)},pt)for(ar in me)(Q||je||!(ar in $))&&z($,ar,me[ar]);else y({target:Et,proto:!0,forced:Q||je},me);return me}},"7f9a":function(f,v,c){var y=c("da84"),S=c("8925"),x=y.WeakMap;f.exports=typeof x=="function"&&/native code/.test(S(x))},"825a":function(f,v,c){var y=c("861d");f.exports=function(S){if(!y(S))throw TypeError(String(S)+" is not an object");return S}},"83ab":function(f,v,c){var y=c("d039");f.exports=!y(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"8418":function(f,v,c){var y=c("c04e"),S=c("9bf2"),x=c("5c6c");f.exports=function(P,F,G){var z=y(F);z in P?S.f(P,z,x(0,G)):P[z]=G}},"861d":function(f,v){f.exports=function(c){return typeof c=="object"?c!==null:typeof c=="function"}},"872d":function(f,v,c){},"8875":function(f,v,c){var y,S,x;(function(P,F){S=[],y=F,x=typeof y=="function"?y.apply(v,S):y,x!==void 0&&(f.exports=x)})(typeof self!="undefined"?self:this,function(){function P(){var F=Object.getOwnPropertyDescriptor(document,"currentScript");if(!F&&"currentScript"in document&&document.currentScript||F&&F.get!==P&&document.currentScript)return document.currentScript;try{throw new Error}catch(q){var G=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,z=/@([^@]*):(\d+):(\d+)\s*$/ig,V=G.exec(q.stack)||z.exec(q.stack),U=V&&V[1]||!1,X=V&&V[2]||!1,W=document.location.href.replace(document.location.hash,""),it,Q,dt,ot=document.getElementsByTagName("script");U===W&&(it=document.documentElement.outerHTML,Q=new RegExp("(?:[^\\n]+?\\n){0,"+(X-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),dt=it.replace(Q,"$1").trim());for(var _t=0;_t<ot.length;_t++)if(ot[_t].readyState==="interactive"||ot[_t].src===U||U===W&&ot[_t].innerHTML&&ot[_t].innerHTML.trim()===dt)return ot[_t];return null}}return P})},"8925":function(f,v,c){var y=c("c6cd"),S=Function.toString;typeof y.inspectSource!="function"&&(y.inspectSource=function(x){return S.call(x)}),f.exports=y.inspectSource},"8aa5":function(f,v,c){var y=c("6547").charAt;f.exports=function(S,x,P){return x+(P?y(S,x).length:1)}},"8baf":function(f,v,c){(function(y){c.d(v,"a",function(){return me});var S=c("72ba");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.3.1 Built on 2021-03-08T15:44:11.674Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2020 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2020 yWorks GmbH, http://www.yworks.com
 *               2015-2020 Lukas Holländer <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, willow-systems.com
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var x=function(){return typeof window!="undefined"?window:typeof y!="undefined"?y:typeof self!="undefined"?self:this}();function P(){x.console&&typeof x.console.log=="function"&&x.console.log.apply(x.console,arguments)}var F={log:P,warn:function(w){x.console&&(typeof x.console.warn=="function"?x.console.warn.apply(x.console,arguments):P.call(null,arguments))},error:function(w){x.console&&(typeof x.console.error=="function"?x.console.error.apply(x.console,arguments):P(w))}};/**
 * @license
 * FileSaver.js
 * A saveAs() FileSaver implementation.
 *
 * By Eli Grey, http://eligrey.com
 *
 * License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)
 * source  : http://purl.eligrey.com/github/FileSaver.js
 */function G(w,g,m){var T=new XMLHttpRequest;T.open("GET",w),T.responseType="blob",T.onload=function(){W(T.response,g,m)},T.onerror=function(){F.error("could not download file")},T.send()}function z(w){var g=new XMLHttpRequest;g.open("HEAD",w,!1);try{g.send()}catch{}return g.status>=200&&g.status<=299}function V(w){try{w.dispatchEvent(new MouseEvent("click"))}catch{var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),w.dispatchEvent(g)}}var U,X,W=x.saveAs||(typeof window!="object"||window!==x?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(w,g,m){var T=x.URL||x.webkitURL,A=document.createElement("a");g=g||w.name||"download",A.download=g,A.rel="noopener",typeof w=="string"?(A.href=w,A.origin!==location.origin?z(A.href)?G(w,g,m):V(A,A.target="_blank"):V(A)):(A.href=T.createObjectURL(w),setTimeout(function(){T.revokeObjectURL(A.href)},4e4),setTimeout(function(){V(A)},0))}:"msSaveOrOpenBlob"in navigator?function(w,g,m){if(g=g||w.name||"download",typeof w=="string")if(z(w))G(w,g,m);else{var T=document.createElement("a");T.href=w,T.target="_blank",setTimeout(function(){V(T)})}else navigator.msSaveOrOpenBlob(function(A,C){return C===void 0?C={autoBom:!1}:typeof C!="object"&&(F.warn("Deprecated: Expected third argument to be a object"),C={autoBom:!C}),C.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(A.type)?new Blob([String.fromCharCode(65279),A],{type:A.type}):A}(w,m),g)}:function(w,g,m,T){if((T=T||open("","_blank"))&&(T.document.title=T.document.body.innerText="downloading..."),typeof w=="string")return G(w,g,m);var A=w.type==="application/octet-stream",C=/constructor/i.test(x.HTMLElement)||x.safari,D=/CriOS\/[\d]+/.test(navigator.userAgent);if((D||A&&C)&&typeof FileReader=="object"){var R=new FileReader;R.onloadend=function(){var st=R.result;st=D?st:st.replace(/^data:[^;]*;/,"data:attachment/file;"),T?T.location.href=st:location=st,T=null},R.readAsDataURL(w)}else{var j=x.URL||x.webkitURL,H=j.createObjectURL(w);T?T.location=H:location.href=H,T=null,setTimeout(function(){j.revokeObjectURL(H)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function it(w){var g;w=w||"",this.ok=!1,w.charAt(0)=="#"&&(w=w.substr(1,6)),w={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[w=(w=w.replace(/ /g,"")).toLowerCase()]||w;for(var m=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(R){return[parseInt(R[1]),parseInt(R[2]),parseInt(R[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(R){return[parseInt(R[1],16),parseInt(R[2],16),parseInt(R[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(R){return[parseInt(R[1]+R[1],16),parseInt(R[2]+R[2],16),parseInt(R[3]+R[3],16)]}}],T=0;T<m.length;T++){var A=m[T].re,C=m[T].process,D=A.exec(w);D&&(g=C(D),this.r=g[0],this.g=g[1],this.b=g[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var R=this.r.toString(16),j=this.g.toString(16),H=this.b.toString(16);return R.length==1&&(R="0"+R),j.length==1&&(j="0"+j),H.length==1&&(H="0"+H),"#"+R+j+H}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Q(w,g){var m=w[0],T=w[1],A=w[2],C=w[3];m=ot(m,T,A,C,g[0],7,-680876936),C=ot(C,m,T,A,g[1],12,-389564586),A=ot(A,C,m,T,g[2],17,606105819),T=ot(T,A,C,m,g[3],22,-1044525330),m=ot(m,T,A,C,g[4],7,-176418897),C=ot(C,m,T,A,g[5],12,1200080426),A=ot(A,C,m,T,g[6],17,-1473231341),T=ot(T,A,C,m,g[7],22,-45705983),m=ot(m,T,A,C,g[8],7,1770035416),C=ot(C,m,T,A,g[9],12,-1958414417),A=ot(A,C,m,T,g[10],17,-42063),T=ot(T,A,C,m,g[11],22,-1990404162),m=ot(m,T,A,C,g[12],7,1804603682),C=ot(C,m,T,A,g[13],12,-40341101),A=ot(A,C,m,T,g[14],17,-1502002290),m=_t(m,T=ot(T,A,C,m,g[15],22,1236535329),A,C,g[1],5,-165796510),C=_t(C,m,T,A,g[6],9,-1069501632),A=_t(A,C,m,T,g[11],14,643717713),T=_t(T,A,C,m,g[0],20,-373897302),m=_t(m,T,A,C,g[5],5,-701558691),C=_t(C,m,T,A,g[10],9,38016083),A=_t(A,C,m,T,g[15],14,-660478335),T=_t(T,A,C,m,g[4],20,-405537848),m=_t(m,T,A,C,g[9],5,568446438),C=_t(C,m,T,A,g[14],9,-1019803690),A=_t(A,C,m,T,g[3],14,-187363961),T=_t(T,A,C,m,g[8],20,1163531501),m=_t(m,T,A,C,g[13],5,-1444681467),C=_t(C,m,T,A,g[2],9,-51403784),A=_t(A,C,m,T,g[7],14,1735328473),m=q(m,T=_t(T,A,C,m,g[12],20,-1926607734),A,C,g[5],4,-378558),C=q(C,m,T,A,g[8],11,-2022574463),A=q(A,C,m,T,g[11],16,1839030562),T=q(T,A,C,m,g[14],23,-35309556),m=q(m,T,A,C,g[1],4,-1530992060),C=q(C,m,T,A,g[4],11,1272893353),A=q(A,C,m,T,g[7],16,-155497632),T=q(T,A,C,m,g[10],23,-1094730640),m=q(m,T,A,C,g[13],4,681279174),C=q(C,m,T,A,g[0],11,-358537222),A=q(A,C,m,T,g[3],16,-722521979),T=q(T,A,C,m,g[6],23,76029189),m=q(m,T,A,C,g[9],4,-640364487),C=q(C,m,T,A,g[12],11,-421815835),A=q(A,C,m,T,g[15],16,530742520),m=N(m,T=q(T,A,C,m,g[2],23,-995338651),A,C,g[0],6,-198630844),C=N(C,m,T,A,g[7],10,1126891415),A=N(A,C,m,T,g[14],15,-1416354905),T=N(T,A,C,m,g[5],21,-57434055),m=N(m,T,A,C,g[12],6,1700485571),C=N(C,m,T,A,g[3],10,-1894986606),A=N(A,C,m,T,g[10],15,-1051523),T=N(T,A,C,m,g[1],21,-2054922799),m=N(m,T,A,C,g[8],6,1873313359),C=N(C,m,T,A,g[15],10,-30611744),A=N(A,C,m,T,g[6],15,-1560198380),T=N(T,A,C,m,g[13],21,1309151649),m=N(m,T,A,C,g[4],6,-145523070),C=N(C,m,T,A,g[11],10,-1120210379),A=N(A,C,m,T,g[2],15,718787259),T=N(T,A,C,m,g[9],21,-343485551),w[0]=pt(m,w[0]),w[1]=pt(T,w[1]),w[2]=pt(A,w[2]),w[3]=pt(C,w[3])}function dt(w,g,m,T,A,C){return g=pt(pt(g,w),pt(T,C)),pt(g<<A|g>>>32-A,m)}function ot(w,g,m,T,A,C,D){return dt(g&m|~g&T,w,g,A,C,D)}function _t(w,g,m,T,A,C,D){return dt(g&T|m&~T,w,g,A,C,D)}function q(w,g,m,T,A,C,D){return dt(g^m^T,w,g,A,C,D)}function N(w,g,m,T,A,C,D){return dt(m^(g|~T),w,g,A,C,D)}function Ot(w){var g,m=w.length,T=[1732584193,-271733879,-1732584194,271733878];for(g=64;g<=w.length;g+=64)Q(T,Et(w.substring(g-64,g)));w=w.substring(g-64);var A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(g=0;g<w.length;g++)A[g>>2]|=w.charCodeAt(g)<<(g%4<<3);if(A[g>>2]|=128<<(g%4<<3),g>55)for(Q(T,A),g=0;g<16;g++)A[g]=0;return A[14]=8*m,Q(T,A),T}function Et(w){var g,m=[];for(g=0;g<64;g+=4)m[g>>2]=w.charCodeAt(g)+(w.charCodeAt(g+1)<<8)+(w.charCodeAt(g+2)<<16)+(w.charCodeAt(g+3)<<24);return m}U=x.atob.bind(x),X=x.btoa.bind(x);var St="0123456789abcdef".split("");function nt(w){for(var g="",m=0;m<4;m++)g+=St[w>>8*m+4&15]+St[w>>8*m&15];return g}function qt(w){return String.fromCharCode((255&w)>>0,(65280&w)>>8,(16711680&w)>>16,(4278190080&w)>>24)}function vt(w){return Ot(w).map(qt).join("")}function pt(w,g){return w+g&4294967295}(function(w){for(var g=0;g<w.length;g++)w[g]=nt(w[g]);return w.join("")})(Ot("hello"))!="5d41402abc4b2a76b9719d911017c592";/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function kt(w,g){var m,T,A,C;if(w!==m){for(var D=(A=w,C=1+(256/w.length>>0),new Array(C+1).join(A)),R=[],j=0;j<256;j++)R[j]=j;var H=0;for(j=0;j<256;j++){var st=R[j];H=(H+st+D.charCodeAt(j))%256,R[j]=R[H],R[H]=st}m=w,T=R}else R=T;var ut=g.length,mt=0,Y=0,Dt="";for(j=0;j<ut;j++)Y=(Y+(st=R[mt=(mt+1)%256]))%256,R[mt]=R[Y],R[Y]=st,D=R[(R[mt]+R[Y])%256],Dt+=String.fromCharCode(g.charCodeAt(j)^D);return Dt}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Qt={print:4,modify:8,copy:16,"annot-forms":32};function je(w,g,m,T){this.v=1,this.r=2;let A=192;w.forEach(function(R){A+=Qt[R]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";let C=(g+this.padding).substr(0,32),D=(m+this.padding).substr(0,32);this.O=this.processOwnerPassword(C,D),this.P=-(1+(255^A)),this.encryptionKey=vt(C+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(T)).substr(0,5),this.U=kt(this.encryptionKey,this.padding)}function $(w){if(typeof w!="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var g={};this.subscribe=function(m,T,A){if(A=A||!1,typeof m!="string"||typeof T!="function"||typeof A!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");g.hasOwnProperty(m)||(g[m]={});var C=Math.random().toString(35);return g[m][C]=[T,!!A],C},this.unsubscribe=function(m){for(var T in g)if(g[T][m])return delete g[T][m],Object.keys(g[T]).length===0&&delete g[T],!0;return!1},this.publish=function(m){if(g.hasOwnProperty(m)){var T=Array.prototype.slice.call(arguments,1),A=[];for(var C in g[m]){var D=g[m][C];try{D[0].apply(w,T)}catch(R){x.console&&F.error("jsPDF PubSub Error",R.message,R)}D[1]&&A.push(C)}A.length&&A.forEach(this.unsubscribe)}},this.getTopics=function(){return g}}function Ct(w){if(!(this instanceof Ct))return new Ct(w);var g="opacity,stroke-opacity".split(",");for(var m in w)w.hasOwnProperty(m)&&g.indexOf(m)>=0&&(this[m]=w[m]);this.id="",this.objectNumber=-1}function Kt(w,g){this.gState=w,this.matrix=g,this.id="",this.objectNumber=-1}function Xe(w,g,m,T,A){if(!(this instanceof Xe))return new Xe(w,g,m,T,A);this.type=w==="axial"?2:3,this.coords=g,this.colors=m,Kt.call(this,T,A)}function qe(w,g,m,T,A){if(!(this instanceof qe))return new qe(w,g,m,T,A);this.boundingBox=w,this.xStep=g,this.yStep=m,this.stream="",this.cloneIndex=0,Kt.call(this,T,A)}function me(w){var g,m=typeof arguments[0]=="string"?arguments[0]:"p",T=arguments[1],A=arguments[2],C=arguments[3],D=[],R=1,j=16,H="S",st=null;typeof(w=w||{})=="object"&&(m=w.orientation,T=w.unit||T,A=w.format||A,C=w.compress||w.compressPdf||C,(st=w.encryption||null)!==null&&(st.userPassword=st.userPassword||"",st.ownerPassword=st.ownerPassword||"",st.userPermissions=st.userPermissions||[]),R=typeof w.userUnit=="number"?Math.abs(w.userUnit):1,w.precision!==void 0&&(g=w.precision),w.floatPrecision!==void 0&&(j=w.floatPrecision),H=w.defaultPathOperation||"S"),D=w.filters||(C===!0?["FlateEncode"]:D),T=T||"mm",m=(""+(m||"P")).toLowerCase();var ut=w.putOnlyUsedFonts||!1,mt={},Y={internal:{},__private__:{}};Y.__private__.PubSub=$;var Dt="1.3",Tt=Y.__private__.getPdfVersion=function(){return Dt};Y.__private__.setPdfVersion=function(O){Dt=O};var ct={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Y.__private__.getPageFormats=function(){return ct};var te=Y.__private__.getPageFormat=function(O){return ct[O]};A=A||"a4";var Nt={COMPAT:"compat",ADVANCED:"advanced"},ue=Nt.COMPAT;function Re(){this.saveGraphicsState(),Ut(new Yr(hr,0,0,-hr,0,vl()*hr).toString()+" cm"),this.setFontSize(this.getFontSize()/hr),H="n",ue=Nt.ADVANCED}function ze(){this.restoreGraphicsState(),H="S",ue=Nt.COMPAT}var tr=function(O,Z){if(O=="bold"&&Z=="normal"||O=="bold"&&Z==400||O=="normal"&&Z=="italic"||O=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&O!==Z&&(O=Z==400?O=="italic"?"italic":"normal":Z==700&&O!=="italic"?"bold":O+""+Z),O};Y.advancedAPI=function(O){var Z=ue===Nt.COMPAT;return Z&&Re.call(this),typeof O!="function"||(O(this),Z&&ze.call(this)),this},Y.compatAPI=function(O){var Z=ue===Nt.ADVANCED;return Z&&ze.call(this),typeof O!="function"||(O(this),Z&&Re.call(this)),this},Y.isAdvancedAPI=function(){return ue===Nt.ADVANCED};var Pt,Ke=function(O){if(ue!==Nt.ADVANCED)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ir=Y.roundToPrecision=Y.__private__.roundToPrecision=function(O,Z){var bt=g||Z;if(isNaN(O)||isNaN(bt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(bt).replace(/0+$/,"")};Pt=Y.hpf=Y.__private__.hpf=typeof j=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return ir(O,j)}:j==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return ir(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return ir(O,16)};var Je=Y.f2=Y.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return ir(O,2)},ft=Y.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return ir(O,3)},jt=Y.scale=Y.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return ue===Nt.COMPAT?O*hr:ue===Nt.ADVANCED?O:void 0},ie=function(O){return ue===Nt.COMPAT?vl()-O:ue===Nt.ADVANCED?O:void 0},$t=function(O){return jt(ie(O))};Y.__private__.setPrecision=Y.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(g=parseInt(O,10))};var Te,Be="00000000000000000000000000000000",be=Y.__private__.getFileId=function(){return Be},ge=Y.__private__.setFileId=function(O){return Be=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():Be.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),st!==null&&(Ro=new je(st.userPermissions,st.userPassword,st.ownerPassword,Be)),Be};Y.setFileId=function(O){return ge(O),this},Y.getFileId=function(){return be()};var J=Y.__private__.convertDateToPDFDate=function(O){var Z=O.getTimezoneOffset(),bt=Z<0?"+":"-",zt=Math.floor(Math.abs(Z/60)),le=Math.abs(Z%60),xe=[bt,ae(zt),"'",ae(le),"'"].join("");return["D:",O.getFullYear(),ae(O.getMonth()+1),ae(O.getDate()),ae(O.getHours()),ae(O.getMinutes()),ae(O.getSeconds()),xe].join("")},Mt=Y.__private__.convertPDFDateToDate=function(O){var Z=parseInt(O.substr(2,4),10),bt=parseInt(O.substr(6,2),10)-1,zt=parseInt(O.substr(8,2),10),le=parseInt(O.substr(10,2),10),xe=parseInt(O.substr(12,2),10),Ze=parseInt(O.substr(14,2),10);return new Date(Z,bt,zt,le,xe,Ze,0)},Gt=Y.__private__.setCreationDate=function(O){var Z;if(O===void 0&&(O=new Date),O instanceof Date)Z=J(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=O}return Te=Z},Bt=Y.__private__.getCreationDate=function(O){var Z=Te;return O==="jsDate"&&(Z=Mt(Te)),Z};Y.setCreationDate=function(O){return Gt(O),this},Y.getCreationDate=function(O){return Bt(O)};var Jt,ae=Y.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},_e=Y.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},Oe=0,Ae=[],ke=[],cr=0,Mr=[],fr=[],Pe=!1,or=ke,$r=function(){Oe=0,cr=0,ke=[],Ae=[],Mr=[],aa=Po(),Vi=Po()};Y.__private__.setCustomOutputDestination=function(O){Pe=!0,or=O};var Rr=function(O){Pe||(or=O)};Y.__private__.resetCustomOutputDestination=function(){Pe=!1,or=ke};var Ut=Y.__private__.out=function(O){return O=O.toString(),cr+=O.length+1,or.push(O),or},Ir=Y.__private__.write=function(O){return Ut(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},rn=Y.__private__.getArrayBuffer=function(O){for(var Z=O.length,bt=new ArrayBuffer(Z),zt=new Uint8Array(bt);Z--;)zt[Z]=O.charCodeAt(Z);return bt},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Y.__private__.getStandardFonts=function(){return Ye};var cn=w.fontSize||16;Y.__private__.setFontSize=Y.setFontSize=function(O){return cn=ue===Nt.ADVANCED?O/hr:O,this};var Kr,mn=Y.__private__.getFontSize=Y.getFontSize=function(){return ue===Nt.COMPAT?cn:cn*hr},In=w.R2L||!1;Y.__private__.setR2L=Y.setR2L=function(O){return In=O,this},Y.__private__.getR2L=Y.getR2L=function(){return In};var Vn,oi=Y.__private__.setZoomMode=function(O){var Z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^\d*\.?\d*%$/.test(O))Kr=O;else if(isNaN(O)){if(Z.indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');Kr=O}else Kr=parseInt(O,10)};Y.__private__.getZoomMode=function(){return Kr};var ln,ro=Y.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');Vn=O};Y.__private__.getPageMode=function(){return Vn};var Ki=Y.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');ln=O};Y.__private__.getLayoutMode=function(){return ln},Y.__private__.setDisplayMode=Y.setDisplayMode=function(O,Z,bt){return oi(O),Ki(Z),ro(bt),this};var Cn={title:"",subject:"",author:"",keywords:"",creator:""};Y.__private__.getDocumentProperty=function(O){if(Object.keys(Cn).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Cn[O]},Y.__private__.getDocumentProperties=function(){return Cn},Y.__private__.setDocumentProperties=Y.setProperties=Y.setDocumentProperties=function(O){for(var Z in Cn)Cn.hasOwnProperty(Z)&&O[Z]&&(Cn[Z]=O[Z]);return this},Y.__private__.setDocumentProperty=function(O,Z){if(Object.keys(Cn).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Cn[O]=Z};var Ln,hr,ul,Xa,cl,$n={},Ci={},ds=[],ai={},Ul={},Li={},Eo={},tn=null,qn=0,fn=[],si=new $(Y),fl=w.hotfixes||[],Ui={},di={},wa=[],Yr=function(O,Z,bt,zt,le,xe){if(!(this instanceof Yr))return new Yr(O,Z,bt,zt,le,xe);isNaN(O)&&(O=1),isNaN(Z)&&(Z=0),isNaN(bt)&&(bt=0),isNaN(zt)&&(zt=1),isNaN(le)&&(le=0),isNaN(xe)&&(xe=0),this._matrix=[O,Z,bt,zt,le,xe]};Object.defineProperty(Yr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Yr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Yr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Yr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Yr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Yr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Yr.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Yr.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Yr.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Yr.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Yr.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Yr.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Yr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Yr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Yr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Yr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Yr.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Pt).join(O)},Yr.prototype.multiply=function(O){var Z=O.sx*this.sx+O.shy*this.shx,bt=O.sx*this.shy+O.shy*this.sy,zt=O.shx*this.sx+O.sy*this.shx,le=O.shx*this.shy+O.sy*this.sy,xe=O.tx*this.sx+O.ty*this.shx+this.tx,Ze=O.tx*this.shy+O.ty*this.sy+this.ty;return new Yr(Z,bt,zt,le,xe,Ze)},Yr.prototype.decompose=function(){var O=this.sx,Z=this.shy,bt=this.shx,zt=this.sy,le=this.tx,xe=this.ty,Ze=Math.sqrt(O*O+Z*Z),mr=(O/=Ze)*bt+(Z/=Ze)*zt;bt-=O*mr,zt-=Z*mr;var Xr=Math.sqrt(bt*bt+zt*zt);return mr/=Xr,O*(zt/=Xr)<Z*(bt/=Xr)&&(O=-O,Z=-Z,mr=-mr,Ze=-Ze),{scale:new Yr(Ze,0,0,Xr,0,0),translate:new Yr(1,0,0,1,le,xe),rotate:new Yr(O,Z,-Z,O,0,0),skew:new Yr(1,0,mr,1,0,0)}},Yr.prototype.toString=function(O){return this.join(" ")},Yr.prototype.inversed=function(){var O=this.sx,Z=this.shy,bt=this.shx,zt=this.sy,le=this.tx,xe=this.ty,Ze=1/(O*zt-Z*bt),mr=zt*Ze,Xr=-Z*Ze,hn=-bt*Ze,nn=O*Ze;return new Yr(mr,Xr,hn,nn,-mr*le-hn*xe,-Xr*le-nn*xe)},Yr.prototype.applyToPoint=function(O){var Z=O.x*this.sx+O.y*this.shx+this.tx,bt=O.x*this.shy+O.y*this.sy+this.ty;return new Iu(Z,bt)},Yr.prototype.applyToRectangle=function(O){var Z=this.applyToPoint(O),bt=this.applyToPoint(new Iu(O.x+O.w,O.y+O.h));return new Pa(Z.x,Z.y,bt.x-Z.x,bt.y-Z.y)},Yr.prototype.clone=function(){var O=this.sx,Z=this.shy,bt=this.shx,zt=this.sy,le=this.tx,xe=this.ty;return new Yr(O,Z,bt,zt,le,xe)},Y.Matrix=Yr;var Fs=Y.matrixMult=function(O,Z){return Z.multiply(O)},Cr=new Yr(1,0,0,1,0,0);Y.unitMatrix=Y.identityMatrix=Cr;var Ka=function(O,Z){if(!Ul[O]){var bt=(Z instanceof Xe?"Sh":"P")+(Object.keys(ai).length+1).toString(10);Z.id=bt,Ul[O]=bt,ai[bt]=Z,si.publish("addPattern",Z)}};Y.ShadingPattern=Xe,Y.TilingPattern=qe,Y.addShadingPattern=function(O,Z){return Ke("addShadingPattern()"),Ka(O,Z),this},Y.beginTilingPattern=function(O){Ke("beginTilingPattern()"),Nu(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},Y.endTilingPattern=function(O,Z){Ke("endTilingPattern()"),Z.stream=fr[Jt].join(`
`),Ka(O,Z),si.publish("endTilingPattern",Z),wa.pop().restore()};var ki=Y.__private__.newObject=function(){var O=Po();return xa(O,!0),O},Po=Y.__private__.newObjectDeferred=function(){return Oe++,Ae[Oe]=function(){return cr},Oe},xa=function(O,Z){return Z=typeof Z=="boolean"&&Z,Ae[O]=cr,Z&&Ut(O+" 0 obj"),O},Xt=Y.__private__.newAdditionalObject=function(){var O={objId:Po(),content:""};return Mr.push(O),O},aa=Po(),Vi=Po(),Ni=Y.__private__.decodeColorString=function(O){var Z=O.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length===5&&(Z[4]==="k"||Z[4]==="K")&&(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var bt=parseFloat(Z[0]);Z=[bt,bt,bt,"r"]}for(var zt="#",le=0;le<3;le++)zt+=("0"+Math.floor(255*parseFloat(Z[le])).toString(16)).slice(-2);return zt},Fn=Y.__private__.encodeColorString=function(O){var Z;typeof O=="string"&&(O={ch1:O});var bt=O.ch1,zt=O.ch2,le=O.ch3,xe=O.ch4,Ze=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof bt=="string"&&bt.charAt(0)!=="#"){var mr=new it(bt);if(mr.ok)bt=mr.toHex();else if(!/^\d*\.?\d*$/.test(bt))throw new Error('Invalid color "'+bt+'" passed to jsPDF.encodeColorString.')}if(typeof bt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(bt)&&(bt="#"+bt[1]+bt[1]+bt[2]+bt[2]+bt[3]+bt[3]),typeof bt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(bt)){var Xr=parseInt(bt.substr(1),16);bt=Xr>>16&255,zt=Xr>>8&255,le=255&Xr}if(zt===void 0||xe===void 0&&bt===zt&&zt===le)if(typeof bt=="string")Z=bt+" "+Ze[0];else switch(O.precision){case 2:Z=Je(bt/255)+" "+Ze[0];break;case 3:default:Z=ft(bt/255)+" "+Ze[0]}else if(xe===void 0||typeof xe=="object"){if(xe&&!isNaN(xe.a)&&xe.a===0)return Z=["1.","1.","1.",Ze[1]].join(" ");if(typeof bt=="string")Z=[bt,zt,le,Ze[1]].join(" ");else switch(O.precision){case 2:Z=[Je(bt/255),Je(zt/255),Je(le/255),Ze[1]].join(" ");break;default:case 3:Z=[ft(bt/255),ft(zt/255),ft(le/255),Ze[1]].join(" ")}}else if(typeof bt=="string")Z=[bt,zt,le,xe,Ze[2]].join(" ");else switch(O.precision){case 2:Z=[Je(bt),Je(zt),Je(le),Je(xe),Ze[2]].join(" ");break;case 3:default:Z=[ft(bt),ft(zt),ft(le),ft(xe),Ze[2]].join(" ")}return Z},zi=Y.__private__.getFilters=function(){return D},Uo=Y.__private__.putStream=function(O){var Z=(O=O||{}).data||"",bt=O.filters||zi(),zt=O.alreadyAppliedFilters||[],le=O.addLength1||!1,xe=Z.length,Ze=O.objectId,mr=function(io){return io};if(st!==null&&Ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");st!==null&&(mr=Ro.encryptor(Ze,0));var Xr={};bt===!0&&(bt=["FlateEncode"]);var hn=O.additionalKeyValues||[],nn=(Xr=me.API.processDataByFilters!==void 0?me.API.processDataByFilters(Z,bt):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(zt)?zt.join(" "):zt.toString());if(Xr.data.length!==0&&(hn.push({key:"Length",value:Xr.data.length}),le===!0&&hn.push({key:"Length1",value:xe})),nn.length!=0)if(nn.split("/").length-1==1)hn.push({key:"Filter",value:nn});else{hn.push({key:"Filter",value:"["+nn+"]"});for(var Un=0;Un<hn.length;Un+=1)if(hn[Un].key==="DecodeParms"){for(var Ti=[],Ai=0;Ai<Xr.reverseChain.split("/").length-1;Ai+=1)Ti.push("null");Ti.push(hn[Un].value),hn[Un].value="["+Ti.join(" ")+"]"}}Ut("<<");for(var Ra=0;Ra<hn.length;Ra++)Ut("/"+hn[Ra].key+" "+hn[Ra].value);Ut(">>"),Xr.data.length!==0&&(Ut("stream"),Ut(mr(Xr.data)),Ut("endstream"))},js=Y.__private__.putPage=function(O){var Z=O.number,bt=O.data,zt=O.objId,le=O.contentsObjId;xa(zt,!0),Ut("<</Type /Page"),Ut("/Parent "+O.rootDictionaryObjId+" 0 R"),Ut("/Resources "+O.resourceDictionaryObjId+" 0 R"),Ut("/MediaBox ["+parseFloat(Pt(O.mediaBox.bottomLeftX))+" "+parseFloat(Pt(O.mediaBox.bottomLeftY))+" "+Pt(O.mediaBox.topRightX)+" "+Pt(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&Ut("/CropBox ["+Pt(O.cropBox.bottomLeftX)+" "+Pt(O.cropBox.bottomLeftY)+" "+Pt(O.cropBox.topRightX)+" "+Pt(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&Ut("/BleedBox ["+Pt(O.bleedBox.bottomLeftX)+" "+Pt(O.bleedBox.bottomLeftY)+" "+Pt(O.bleedBox.topRightX)+" "+Pt(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&Ut("/TrimBox ["+Pt(O.trimBox.bottomLeftX)+" "+Pt(O.trimBox.bottomLeftY)+" "+Pt(O.trimBox.topRightX)+" "+Pt(O.trimBox.topRightY)+"]"),O.artBox!==null&&Ut("/ArtBox ["+Pt(O.artBox.bottomLeftX)+" "+Pt(O.artBox.bottomLeftY)+" "+Pt(O.artBox.topRightX)+" "+Pt(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&Ut("/UserUnit "+O.userUnit),si.publish("putPage",{objId:zt,pageContext:fn[Z],pageNumber:Z,page:bt}),Ut("/Contents "+le+" 0 R"),Ut(">>"),Ut("endobj");var xe=bt.join(`
`);return ue===Nt.ADVANCED&&(xe+=`
Q`),xa(le,!0),Uo({data:xe,filters:zi(),objectId:le}),Ut("endobj"),zt},Su=Y.__private__.putPages=function(){var O,Z,bt=[];for(O=1;O<=qn;O++)fn[O].objId=Po(),fn[O].contentsObjId=Po();for(O=1;O<=qn;O++)bt.push(js({number:O,data:fr[O],objId:fn[O].objId,contentsObjId:fn[O].contentsObjId,mediaBox:fn[O].mediaBox,cropBox:fn[O].cropBox,bleedBox:fn[O].bleedBox,trimBox:fn[O].trimBox,artBox:fn[O].artBox,userUnit:fn[O].userUnit,rootDictionaryObjId:aa,resourceDictionaryObjId:Vi}));xa(aa,!0),Ut("<</Type /Pages");var zt="/Kids [";for(Z=0;Z<qn;Z++)zt+=bt[Z]+" 0 R ";Ut(zt+"]"),Ut("/Count "+qn),Ut(">>"),Ut("endobj"),si.publish("postPutPages")},Oa=function(O){var Z=function(bt,zt){return bt.indexOf(" ")!==-1?"("+no(bt,zt)+")":no(bt,zt)};si.publish("putFont",{font:O,out:Ut,newObject:ki,putStream:Uo,pdfEscapeWithNeededParanthesis:Z}),O.isAlreadyPutted!==!0&&(O.objectNumber=ki(),Ut("<<"),Ut("/Type /Font"),Ut("/BaseFont /"+Z(O.postScriptName)),Ut("/Subtype /Type1"),typeof O.encoding=="string"&&Ut("/Encoding /"+O.encoding),Ut("/FirstChar 32"),Ut("/LastChar 255"),Ut(">>"),Ut("endobj"))},Eu=function(){for(var O in $n)$n.hasOwnProperty(O)&&(ut===!1||ut===!0&&mt.hasOwnProperty(O))&&Oa($n[O])},vs=function(O){O.objectNumber=ki();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[Pt(O.x),Pt(O.y),Pt(O.x+O.width),Pt(O.y+O.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var bt=O.pages[1].join(`
`);Uo({data:bt,additionalKeyValues:Z,objectId:O.objectNumber}),Ut("endobj")},Ta=function(){for(var O in Ui)Ui.hasOwnProperty(O)&&vs(Ui[O])},rp=function(O,Z){var bt,zt=[],le=1/(Z-1);for(bt=0;bt<1;bt+=le)zt.push(bt);if(zt.push(1),O[0].offset!=0){var xe={offset:0,color:O[0].color};O.unshift(xe)}if(O[O.length-1].offset!=1){var Ze={offset:1,color:O[O.length-1].color};O.push(Ze)}for(var mr="",Xr=0,hn=0;hn<zt.length;hn++){for(bt=zt[hn];bt>O[Xr+1].offset;)Xr++;var nn=O[Xr].offset,Un=(bt-nn)/(O[Xr+1].offset-nn),Ti=O[Xr].color,Ai=O[Xr+1].color;mr+=_e(Math.round((1-Un)*Ti[0]+Un*Ai[0]).toString(16))+_e(Math.round((1-Un)*Ti[1]+Un*Ai[1]).toString(16))+_e(Math.round((1-Un)*Ti[2]+Un*Ai[2]).toString(16))}return mr.trim()},np=function(O,Z){Z||(Z=21);var bt=ki(),zt=rp(O.colors,Z),le=[];le.push({key:"FunctionType",value:"0"}),le.push({key:"Domain",value:"[0.0 1.0]"}),le.push({key:"Size",value:"["+Z+"]"}),le.push({key:"BitsPerSample",value:"8"}),le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Uo({data:zt,additionalKeyValues:le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:bt}),Ut("endobj"),O.objectNumber=ki(),Ut("<< /ShadingType "+O.type),Ut("/ColorSpace /DeviceRGB");var xe="/Coords ["+Pt(parseFloat(O.coords[0]))+" "+Pt(parseFloat(O.coords[1]))+" ";O.type===2?xe+=Pt(parseFloat(O.coords[2]))+" "+Pt(parseFloat(O.coords[3])):xe+=Pt(parseFloat(O.coords[2]))+" "+Pt(parseFloat(O.coords[3]))+" "+Pt(parseFloat(O.coords[4]))+" "+Pt(parseFloat(O.coords[5])),Ut(xe+="]"),O.matrix&&Ut("/Matrix ["+O.matrix.toString()+"]"),Ut("/Function "+bt+" 0 R"),Ut("/Extend [true true]"),Ut(">>"),Ut("endobj")},Ds=function(O,Z){var bt=Po(),zt=ki();Z.push({resourcesOid:bt,objectOid:zt}),O.objectNumber=zt;var le=[];le.push({key:"Type",value:"/Pattern"}),le.push({key:"PatternType",value:"1"}),le.push({key:"PaintType",value:"1"}),le.push({key:"TilingType",value:"1"}),le.push({key:"BBox",value:"["+O.boundingBox.map(Pt).join(" ")+"]"}),le.push({key:"XStep",value:Pt(O.xStep)}),le.push({key:"YStep",value:Pt(O.yStep)}),le.push({key:"Resources",value:bt+" 0 R"}),O.matrix&&le.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),Uo({data:O.stream,additionalKeyValues:le,objectId:O.objectNumber}),Ut("endobj")},hl=function(O){var Z;for(Z in ai)ai.hasOwnProperty(Z)&&(ai[Z]instanceof Xe?np(ai[Z]):ai[Z]instanceof qe&&Ds(ai[Z],O))},Nf=function(O){for(var Z in O.objectNumber=ki(),Ut("<<"),O)switch(Z){case"opacity":Ut("/ca "+Je(O[Z]));break;case"stroke-opacity":Ut("/CA "+Je(O[Z]))}Ut(">>"),Ut("endobj")},Rc=function(){var O;for(O in Li)Li.hasOwnProperty(O)&&Nf(Li[O])},ip=function(){for(var O in Ut("/XObject <<"),Ui)Ui.hasOwnProperty(O)&&Ui[O].objectNumber>=0&&Ut("/"+O+" "+Ui[O].objectNumber+" 0 R");si.publish("putXobjectDict"),Ut(">>")},Mf=function(){Ro.oid=ki(),Ut("<<"),Ut("/Filter /Standard"),Ut("/V "+Ro.v),Ut("/R "+Ro.r),Ut("/U <"+Ro.toHexString(Ro.U)+">"),Ut("/O <"+Ro.toHexString(Ro.O)+">"),Ut("/P "+Ro.P),Ut(">>"),Ut("endobj")},op=function(){for(var O in Ut("/Font <<"),$n)$n.hasOwnProperty(O)&&(ut===!1||ut===!0&&mt.hasOwnProperty(O))&&Ut("/"+O+" "+$n[O].objectNumber+" 0 R");Ut(">>")},ba=function(){if(Object.keys(ai).length>0){for(var O in Ut("/Shading <<"),ai)ai.hasOwnProperty(O)&&ai[O]instanceof Xe&&ai[O].objectNumber>=0&&Ut("/"+O+" "+ai[O].objectNumber+" 0 R");si.publish("putShadingPatternDict"),Ut(">>")}},wu=function(O){if(Object.keys(ai).length>0){for(var Z in Ut("/Pattern <<"),ai)ai.hasOwnProperty(Z)&&ai[Z]instanceof Y.TilingPattern&&ai[Z].objectNumber>=0&&ai[Z].objectNumber<O&&Ut("/"+Z+" "+ai[Z].objectNumber+" 0 R");si.publish("putTilingPatternDict"),Ut(">>")}},kl=function(){if(Object.keys(Li).length>0){var O;for(O in Ut("/ExtGState <<"),Li)Li.hasOwnProperty(O)&&Li[O].objectNumber>=0&&Ut("/"+O+" "+Li[O].objectNumber+" 0 R");si.publish("putGStateDict"),Ut(">>")}},Di=function(O){xa(O.resourcesOid,!0),Ut("<<"),Ut("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),op(),ba(),wu(O.objectOid),kl(),ip(),Ut(">>"),Ut("endobj")},xu=function(){var O=[];Eu(),Rc(),Ta(),hl(O),si.publish("putResources"),O.forEach(Di),Di({resourcesOid:Vi,objectOid:Number.MAX_SAFE_INTEGER}),si.publish("postPutResources")},Ff=function(){si.publish("putAdditionalObjects");for(var O=0;O<Mr.length;O++){var Z=Mr[O];xa(Z.objId,!0),Ut(Z.content),Ut("endobj")}si.publish("postPutAdditionalObjects")},jf=function(O){Ci[O.fontName]=Ci[O.fontName]||{},Ci[O.fontName][O.fontStyle]=O.id},gs=function(O,Z,bt,zt,le){var xe={id:"F"+(Object.keys($n).length+1).toString(10),postScriptName:O,fontName:Z,fontStyle:bt,encoding:zt,isStandardFont:le||!1,metadata:{}};return si.publish("addFont",{font:xe,instance:this}),$n[xe.id]=xe,jf(xe),xe.id},Ou=function(O){for(var Z=0,bt=Ye.length;Z<bt;Z++){var zt=gs.call(this,O[Z][0],O[Z][1],O[Z][2],Ye[Z][3],!0);ut===!1&&(mt[zt]=!0);var le=O[Z][0].split("-");jf({id:zt,fontName:le[0],fontStyle:le[1]||""})}si.publish("addFonts",{fonts:$n,dictionary:Ci})},Za=function(O){return O.foo=function(){try{return O.apply(this,arguments)}catch(zt){var Z=zt.stack||"";~Z.indexOf(" at ")&&(Z=Z.split(" at ")[1]);var bt="Error in function "+Z.split(`
`)[0].split("<")[0]+": "+zt.message;if(!x.console)throw new Error(bt);x.console.error(bt,zt),x.alert&&alert(bt)}},O.foo.bar=O,O.foo},Vl=function(O,Z){var bt,zt,le,xe,Ze,mr,Xr,hn,nn;if(le=(Z=Z||{}).sourceEncoding||"Unicode",Ze=Z.outputEncoding,(Z.autoencode||Ze)&&$n[Ln].metadata&&$n[Ln].metadata[le]&&$n[Ln].metadata[le].encoding&&(xe=$n[Ln].metadata[le].encoding,!Ze&&$n[Ln].encoding&&(Ze=$n[Ln].encoding),!Ze&&xe.codePages&&(Ze=xe.codePages[0]),typeof Ze=="string"&&(Ze=xe[Ze]),Ze)){for(Xr=!1,mr=[],bt=0,zt=O.length;bt<zt;bt++)(hn=Ze[O.charCodeAt(bt)])?mr.push(String.fromCharCode(hn)):mr.push(O[bt]),mr[bt].charCodeAt(0)>>8&&(Xr=!0);O=mr.join("")}for(bt=O.length;Xr===void 0&&bt!==0;)O.charCodeAt(bt-1)>>8&&(Xr=!0),bt--;if(!Xr)return O;for(mr=Z.noBOM?[]:[254,255],bt=0,zt=O.length;bt<zt;bt++){if((nn=(hn=O.charCodeAt(bt))>>8)>>8)throw new Error("Character at position "+bt+" of string '"+O+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mr.push(nn),mr.push(hn-(nn<<8))}return String.fromCharCode.apply(void 0,mr)},no=Y.__private__.pdfEscape=Y.pdfEscape=function(O,Z){return Vl(O,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ic=Y.__private__.beginPage=function(O){fr[++qn]=[],fn[qn]={objId:0,contentsObjId:0,userUnit:Number(R),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},Df(qn),Rr(fr[Jt])},Tu=function(O,Z){var bt,zt,le;switch(m=Z||m,typeof O=="string"&&(bt=te(O.toLowerCase()),Array.isArray(bt)&&(zt=bt[0],le=bt[1])),Array.isArray(O)&&(zt=O[0]*hr,le=O[1]*hr),isNaN(zt)&&(zt=A[0],le=A[1]),(zt>14400||le>14400)&&(F.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),zt=Math.min(14400,zt),le=Math.min(14400,le)),A=[zt,le],m.substr(0,1)){case"l":le>zt&&(A=[le,zt]);break;case"p":zt>le&&(A=[le,zt])}Ic(A),wo(Dc),Ut(Aa),Gc!==0&&Ut(Gc+" J"),Uc!==0&&Ut(Uc+" j"),si.publish("addPage",{pageNumber:qn})},bu=function(O){O>0&&O<=qn&&(fr.splice(O,1),fn.splice(O,1),qn--,Jt>qn&&(Jt=qn),this.setPage(Jt))},Df=function(O){O>0&&O<=qn&&(Jt=O)},ap=Y.__private__.getNumberOfPages=Y.getNumberOfPages=function(){return fr.length-1},qr=function(O,Z,bt){var zt,le=void 0;return bt=bt||{},O=O!==void 0?O:$n[Ln].fontName,Z=Z!==void 0?Z:$n[Ln].fontStyle,zt=O.toLowerCase(),Ci[zt]!==void 0&&Ci[zt][Z]!==void 0?le=Ci[zt][Z]:Ci[O]!==void 0&&Ci[O][Z]!==void 0?le=Ci[O][Z]:bt.disableWarning===!1&&F.warn("Unable to look up font label for font '"+O+"', '"+Z+"'. Refer to getFontList() for available fonts."),le||bt.noFallback||(le=Ci.times[Z])==null&&(le=Ci.times.normal),le},Cu=Y.__private__.putInfo=function(){var O=ki(),Z=function(zt){return zt};for(var bt in st!==null&&(Z=Ro.encryptor(O,0)),Ut("<<"),Ut("/Producer ("+no(Z("jsPDF "+me.version))+")"),Cn)Cn.hasOwnProperty(bt)&&Cn[bt]&&Ut("/"+bt.substr(0,1).toUpperCase()+bt.substr(1)+" ("+no(Z(Cn[bt]))+")");Ut("/CreationDate ("+no(Z(Te))+")"),Ut(">>"),Ut("endobj")},Lu=Y.__private__.putCatalog=function(O){var Z=(O=O||{}).rootDictionaryObjId||aa;switch(ki(),Ut("<<"),Ut("/Type /Catalog"),Ut("/Pages "+Z+" 0 R"),Kr||(Kr="fullwidth"),Kr){case"fullwidth":Ut("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ut("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ut("/OpenAction [3 0 R /Fit]");break;case"original":Ut("/OpenAction [3 0 R /XYZ null null 1]");break;default:var bt=""+Kr;bt.substr(bt.length-1)==="%"&&(Kr=parseInt(Kr)/100),typeof Kr=="number"&&Ut("/OpenAction [3 0 R /XYZ null null "+Je(Kr)+"]")}switch(ln||(ln="continuous"),ln){case"continuous":Ut("/PageLayout /OneColumn");break;case"single":Ut("/PageLayout /SinglePage");break;case"two":case"twoleft":Ut("/PageLayout /TwoColumnLeft");break;case"tworight":Ut("/PageLayout /TwoColumnRight")}Vn&&Ut("/PageMode /"+Vn),si.publish("putCatalog"),Ut(">>"),Ut("endobj")},sp=Y.__private__.putTrailer=function(){Ut("trailer"),Ut("<<"),Ut("/Size "+(Oe+1)),Ut("/Root "+Oe+" 0 R"),Ut("/Info "+(Oe-1)+" 0 R"),st!==null&&Ut("/Encrypt "+Ro.oid+" 0 R"),Ut("/ID [ <"+Be+"> <"+Be+"> ]"),Ut(">>")},Nc=Y.__private__.putHeader=function(){Ut("%PDF-"+Dt),Ut("%\xBA\xDF\xAC\xE0")},Ca=Y.__private__.putXRef=function(){var O="0000000000";Ut("xref"),Ut("0 "+(Oe+1)),Ut("0000000000 65535 f ");for(var Z=1;Z<=Oe;Z++)typeof Ae[Z]=="function"?Ut((O+Ae[Z]()).slice(-10)+" 00000 n "):Ae[Z]!==void 0?Ut((O+Ae[Z]).slice(-10)+" 00000 n "):Ut("0000000000 00000 n ")},ko=Y.__private__.buildDocument=function(){$r(),Rr(ke),si.publish("buildDocument"),Nc(),Su(),Ff(),xu(),st!==null&&Mf(),Cu(),Lu();var O=cr;return Ca(),sp(),Ut("startxref"),Ut(""+O),Ut("%%EOF"),Rr(fr[Jt]),ke.join(`
`)},ys=Y.__private__.getBlob=function(O){return new Blob([rn(O)],{type:"application/pdf"})},sa=Y.output=Y.__private__.output=Za(function(O,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",O){case void 0:return ko();case"save":Y.save(Z.filename);break;case"arraybuffer":return rn(ko());case"blob":return ys(ko());case"bloburi":case"bloburl":if(x.URL!==void 0&&typeof x.URL.createObjectURL=="function")return x.URL&&x.URL.createObjectURL(ys(ko()))||void 0;F.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var bt="",zt=ko();try{bt=X(zt)}catch{bt=X(unescape(encodeURIComponent(zt)))}return"data:application/pdf;filename="+Z.filename+";base64,"+bt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(x)==="[object Window]"){var le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+(Z.pdfObjectUrl||"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js")+'"><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",xe=x.open();return xe!==null&&xe.document.write(le),xe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(x)==="[object Window]"){var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',mr=x.open();if(mr!==null){mr.document.write(Ze);var Xr=this;mr.document.documentElement.querySelector("#pdfViewer").onload=function(){mr.document.title=Z.filename,mr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Xr.output("bloburl"))}}return mr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(x)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',nn=x.open();if(nn!==null&&(nn.document.write(hn),nn.document.title=Z.filename),nn||typeof safari=="undefined")return nn;break;case"datauri":case"dataurl":return x.document.location.href=this.output("datauristring",Z);default:return null}}),zl=function(O){return Array.isArray(fl)===!0&&fl.indexOf(O)>-1};switch(T){case"pt":hr=1;break;case"mm":hr=72/25.4;break;case"cm":hr=72/2.54;break;case"in":hr=72;break;case"px":hr=zl("px_scaling")==1?.75:96/72;break;case"pc":case"em":hr=12;break;case"ex":hr=6;break;default:throw new Error("Invalid unit: "+T)}var Ro=null;Gt(),ge();var Bs=function(O){return st!==null?Ro.encryptor(O,0):function(Z){return Z}},ms=Y.__private__.getPageInfo=Y.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:fn[O].objId,pageNumber:O,pageContext:fn[O]}},xr=Y.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in fn)if(fn[Z].objId===O)break;return ms(Z)},Mc=Y.__private__.getCurrentPageInfo=Y.getCurrentPageInfo=function(){return{objId:fn[Jt].objId,pageNumber:Jt,pageContext:fn[Jt]}};Y.addPage=function(){return Tu.apply(this,arguments),this},Y.setPage=function(){return Df.apply(this,arguments),Rr.call(this,fr[Jt]),this},Y.insertPage=function(O){return this.addPage(),this.movePage(Jt,O),this},Y.movePage=function(O,Z){var bt,zt;if(O>Z){bt=fr[O],zt=fn[O];for(var le=O;le>Z;le--)fr[le]=fr[le-1],fn[le]=fn[le-1];fr[Z]=bt,fn[Z]=zt,this.setPage(Z)}else if(O<Z){bt=fr[O],zt=fn[O];for(var xe=O;xe<Z;xe++)fr[xe]=fr[xe+1],fn[xe]=fn[xe+1];fr[Z]=bt,fn[Z]=zt,this.setPage(Z)}return this},Y.deletePage=function(){return bu.apply(this,arguments),this},Y.__private__.text=Y.text=function(O,Z,bt,zt,le){var xe,Ze,mr,Xr,hn,nn,Un,Ti,Ai=(zt=zt||{}).scope||this;if(typeof O=="number"&&typeof Z=="number"&&(typeof bt=="string"||Array.isArray(bt))){var Ra=bt;bt=Z,Z=O,O=Ra}if(arguments[3]instanceof Yr?(Ke("The transform parameter of text() with a Matrix value"),Ti=le):(mr=arguments[4],Xr=arguments[5],typeof(Un=arguments[3])=="object"&&Un!==null||(typeof mr=="string"&&(Xr=mr,mr=null),typeof Un=="string"&&(Xr=Un,Un=null),typeof Un=="number"&&(mr=Un,Un=null),zt={flags:Un,angle:mr,align:Xr})),isNaN(Z)||isNaN(bt)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return Ai;var io="",fo=!1,la=typeof zt.lineHeightFactor=="number"?zt.lineHeightFactor:pl,Uf=Ai.internal.scaleFactor;function zs(_n){return _n=_n.split("	").join(Array(zt.TabLen||9).join(" ")),no(_n,Un)}function yn(_n){for(var wi,Yi=_n.concat(),oo=[],xs=Yi.length;xs--;)typeof(wi=Yi.shift())=="string"?oo.push(wi):Array.isArray(_n)&&(wi.length===1||wi[1]===void 0&&wi[2]===void 0)?oo.push(wi[0]):oo.push([wi[0],wi[1],wi[2]]);return oo}function Vc(_n,wi){var Yi;if(typeof _n=="string")Yi=wi(_n)[0];else if(Array.isArray(_n)){for(var oo,xs,wn=_n.concat(),Xs=[],zf=wn.length;zf--;)typeof(oo=wn.shift())=="string"?Xs.push(wi(oo)[0]):Array.isArray(oo)&&typeof oo[0]=="string"&&(xs=wi(oo[0],oo[1],oo[2]),Xs.push([xs[0],xs[1],xs[2]]));Yi=Xs}return Yi}var Ia=!1,Kl=!0;if(typeof O=="string")Ia=!0;else if(Array.isArray(O)){var zc=O.concat();Ze=[];for(var gl,qo=zc.length;qo--;)(typeof(gl=zc.shift())!="string"||Array.isArray(gl)&&typeof gl[0]!="string")&&(Kl=!1);Ia=Kl}if(Ia===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var Ys=cn/Ai.internal.scaleFactor,Ws=Ys*(pl-1);switch(zt.baseline){case"bottom":bt-=Ws;break;case"top":bt+=Ys-Ws;break;case"hanging":bt+=Ys-2*Ws;break;case"middle":bt+=Ys/2-Ws}if((nn=zt.maxWidth||0)>0&&(typeof O=="string"?O=Ai.splitTextToSize(O,nn):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(_n,wi){return _n.concat(Ai.splitTextToSize(wi,nn))},[]))),xe={text:O,x:Z,y:bt,options:zt,mutex:{pdfEscape:no,activeFontKey:Ln,fonts:$n,activeFontSize:cn}},si.publish("preProcessText",xe),O=xe.text,mr=(zt=xe.options).angle,!(Ti instanceof Yr)&&mr&&typeof mr=="number"){mr*=Math.PI/180,zt.rotationDirection===0&&(mr=-mr),ue===Nt.ADVANCED&&(mr=-mr);var kf=Math.cos(mr),ju=Math.sin(mr);Ti=new Yr(kf,ju,-ju,kf,0,0)}else mr&&mr instanceof Yr&&(Ti=mr);ue!==Nt.ADVANCED||Ti||(Ti=Cr),(hn=zt.charSpace||ks)!==void 0&&(io+=Pt(jt(hn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),zt.lang;var No=-1,dp=zt.renderingMode!==void 0?zt.renderingMode:zt.stroke,Yc=Ai.internal.getCurrentPageInfo().pageContext;switch(dp){case 0:case!1:case"fill":No=0;break;case 1:case!0:case"stroke":No=1;break;case 2:case"fillThenStroke":No=2;break;case 3:case"invisible":No=3;break;case 4:case"fillAndAddForClipping":No=4;break;case 5:case"strokeAndAddPathForClipping":No=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":No=6;break;case 7:case"addToPathForClipping":No=7}var Du=Yc.usedRenderingMode!==void 0?Yc.usedRenderingMode:-1;No!==-1?io+=No+` Tr
`:Du!==-1&&(io+=`0 Tr
`),No!==-1&&(Yc.usedRenderingMode=No),Xr=zt.align||"left";var Na,Bu=cn*la,Wc=Ai.internal.pageSize.getWidth(),Vf=$n[Ln];hn=zt.charSpace||ks,nn=zt.maxWidth||0,Un=Object.assign({autoencode:!0,noBOM:!0},zt.flags);var Gu=[];if(Object.prototype.toString.call(O)==="[object Array]"){var Jo;Ze=yn(O),Xr!=="left"&&(Na=Ze.map(function(_n){return Ai.getStringUnitWidth(_n,{font:Vf,charSpace:hn,fontSize:cn,doKerning:!1})*cn/Uf}));var kn,Zl=0;if(Xr==="right"){Z-=Na[0],O=[],qo=Ze.length;for(var xo=0;xo<qo;xo++)xo===0?(kn=nr(Z),Jo=Io(bt)):(kn=jt(Zl-Na[xo]),Jo=-Bu),O.push([Ze[xo],kn,Jo]),Zl=Na[xo]}else if(Xr==="center"){Z-=Na[0]/2,O=[],qo=Ze.length;for(var $a=0;$a<qo;$a++)$a===0?(kn=nr(Z),Jo=Io(bt)):(kn=jt((Zl-Na[$a])/2),Jo=-Bu),O.push([Ze[$a],kn,Jo]),Zl=Na[$a]}else if(Xr==="left"){O=[],qo=Ze.length;for(var Uu=0;Uu<qo;Uu++)O.push(Ze[Uu])}else{if(Xr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');O=[],qo=Ze.length,nn=nn!==0?nn:Wc;for(var qa=0;qa<qo;qa++)Jo=qa===0?Io(bt):-Bu,kn=qa===0?nr(Z):0,qa<qo-1&&Gu.push(Pt(jt((nn-Na[qa])/(Ze[qa].split(" ").length-1)))),O.push([Ze[qa],kn,Jo])}}var ku=typeof zt.R2L=="boolean"?zt.R2L:In;ku===!0&&(O=Vc(O,function(_n,wi,Yi){return[_n.split("").reverse().join(""),wi,Yi]})),xe={text:O,x:Z,y:bt,options:zt,mutex:{pdfEscape:no,activeFontKey:Ln,fonts:$n,activeFontSize:cn}},si.publish("postProcessText",xe),O=xe.text,fo=xe.mutex.isHex||!1;var $l=$n[Ln].encoding;$l!=="WinAnsiEncoding"&&$l!=="StandardEncoding"||(O=Vc(O,function(_n,wi,Yi){return[zs(_n),wi,Yi]})),Ze=yn(O),O=[];for(var Es,yl,Ma,ml=0,Vu=1,Hs=Array.isArray(Ze[0])?Vu:ml,Ja="",zu=function(_n,wi,Yi){var oo="";return Yi instanceof Yr?(Yi=typeof zt.angle=="number"?Fs(Yi,new Yr(1,0,0,1,_n,wi)):Fs(new Yr(1,0,0,1,_n,wi),Yi),ue===Nt.ADVANCED&&(Yi=Fs(new Yr(1,0,0,-1,0,0),Yi)),oo=Yi.join(" ")+` Tm
`):oo=Pt(_n)+" "+Pt(wi)+` Td
`,oo},ua=0;ua<Ze.length;ua++){switch(Ja="",Hs){case Vu:Ma=(fo?"<":"(")+Ze[ua][0]+(fo?">":")"),Es=parseFloat(Ze[ua][1]),yl=parseFloat(Ze[ua][2]);break;case ml:Ma=(fo?"<":"(")+Ze[ua]+(fo?">":")"),Es=nr(Z),yl=Io(bt)}Gu!==void 0&&Gu[ua]!==void 0&&(Ja=Gu[ua]+` Tw
`),ua===0?O.push(Ja+zu(Es,yl,Ti)+Ma):Hs===ml?O.push(Ja+Ma):Hs===Vu&&O.push(Ja+zu(Es,yl,Ti)+Ma)}O=Hs===ml?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var ws=`BT
/`;return ws+=Ln+" "+cn+` Tf
`,ws+=Pt(cn*la)+` TL
`,ws+=dl+`
`,ws+=io,ws+=O,Ut(ws+="ET"),mt[Ln]=!0,Ai};var La=Y.__private__.clip=Y.clip=function(O){return Ut(O==="evenodd"?"W*":"W"),this};Y.clipEvenOdd=function(){return La("evenodd")},Y.__private__.discardPath=Y.discardPath=function(){return Ut("n"),this};var _s=Y.__private__.isValidStyle=function(O){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(Z=!0),Z};Y.__private__.setDefaultPathOperation=Y.setDefaultPathOperation=function(O){return _s(O)&&(H=O),this};var Fc=Y.__private__.getStyle=Y.getStyle=function(O){var Z=H;switch(O){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=O}return Z},Bf=Y.close=function(){return Ut("h"),this};Y.stroke=function(){return Ut("S"),this},Y.fill=function(O){return vr("f",O),this},Y.fillEvenOdd=function(O){return vr("f*",O),this},Y.fillStroke=function(O){return vr("B",O),this},Y.fillStrokeEvenOdd=function(O){return vr("B*",O),this};var vr=function(O,Z){typeof Z=="object"?lp(Z,O):Ut(O)},Yl=function(O){O===null||ue===Nt.ADVANCED&&O===void 0||(O=Fc(O),Ut(O))};function jc(O,Z,bt,zt,le){var xe=new qe(Z||this.boundingBox,bt||this.xStep,zt||this.yStep,this.gState,le||this.matrix);xe.stream=this.stream;var Ze=O+"$$"+this.cloneIndex+++"$$";return Ka(Ze,xe),xe}var lp=function(O,Z){var bt=Ul[O.key],zt=ai[bt];if(zt instanceof Xe)Ut("q"),Ut(up(Z)),zt.gState&&Y.setGState(zt.gState),Ut(O.matrix.toString()+" cm"),Ut("/"+bt+" sh"),Ut("Q");else if(zt instanceof qe){var le=new Yr(1,0,0,-1,0,vl());O.matrix&&(le=le.multiply(O.matrix||Cr),bt=jc.call(zt,O.key,O.boundingBox,O.xStep,O.yStep,le).id),Ut("q"),Ut("/Pattern cs"),Ut("/"+bt+" scn"),zt.gState&&Y.setGState(zt.gState),Ut(Z),Ut("Q")}},up=function(O){switch(O){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Au=Y.moveTo=function(O,Z){return Ut(Pt(jt(O))+" "+Pt($t(Z))+" m"),this},Gs=Y.lineTo=function(O,Z){return Ut(Pt(jt(O))+" "+Pt($t(Z))+" l"),this},Us=Y.curveTo=function(O,Z,bt,zt,le,xe){return Ut([Pt(jt(O)),Pt($t(Z)),Pt(jt(bt)),Pt($t(zt)),Pt(jt(le)),Pt($t(xe)),"c"].join(" ")),this};Y.__private__.line=Y.line=function(O,Z,bt,zt,le){if(isNaN(O)||isNaN(Z)||isNaN(bt)||isNaN(zt)||!_s(le))throw new Error("Invalid arguments passed to jsPDF.line");return ue===Nt.COMPAT?this.lines([[bt-O,zt-Z]],O,Z,[1,1],le||"S"):this.lines([[bt-O,zt-Z]],O,Z,[1,1]).stroke()},Y.__private__.lines=Y.lines=function(O,Z,bt,zt,le,xe){var Ze,mr,Xr,hn,nn,Un,Ti,Ai,Ra,io,fo,la;if(typeof O=="number"&&(la=bt,bt=Z,Z=O,O=la),zt=zt||[1,1],xe=xe||!1,isNaN(Z)||isNaN(bt)||!Array.isArray(O)||!Array.isArray(zt)||!_s(le)||typeof xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Au(Z,bt),Ze=zt[0],mr=zt[1],hn=O.length,io=Z,fo=bt,Xr=0;Xr<hn;Xr++)(nn=O[Xr]).length===2?(io=nn[0]*Ze+io,fo=nn[1]*mr+fo,Gs(io,fo)):(Un=nn[0]*Ze+io,Ti=nn[1]*mr+fo,Ai=nn[2]*Ze+io,Ra=nn[3]*mr+fo,io=nn[4]*Ze+io,fo=nn[5]*mr+fo,Us(Un,Ti,Ai,Ra,io,fo));return xe&&Bf(),Yl(le),this},Y.path=function(O){for(var Z=0;Z<O.length;Z++){var bt=O[Z],zt=bt.c;switch(bt.op){case"m":Au(zt[0],zt[1]);break;case"l":Gs(zt[0],zt[1]);break;case"c":Us.apply(this,zt);break;case"h":Bf()}}return this},Y.__private__.rect=Y.rect=function(O,Z,bt,zt,le){if(isNaN(O)||isNaN(Z)||isNaN(bt)||isNaN(zt)||!_s(le))throw new Error("Invalid arguments passed to jsPDF.rect");return ue===Nt.COMPAT&&(zt=-zt),Ut([Pt(jt(O)),Pt($t(Z)),Pt(jt(bt)),Pt(jt(zt)),"re"].join(" ")),Yl(le),this},Y.__private__.triangle=Y.triangle=function(O,Z,bt,zt,le,xe,Ze){if(isNaN(O)||isNaN(Z)||isNaN(bt)||isNaN(zt)||isNaN(le)||isNaN(xe)||!_s(Ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[bt-O,zt-Z],[le-bt,xe-zt],[O-le,Z-xe]],O,Z,[1,1],Ze,!0),this},Y.__private__.roundedRect=Y.roundedRect=function(O,Z,bt,zt,le,xe,Ze){if(isNaN(O)||isNaN(Z)||isNaN(bt)||isNaN(zt)||isNaN(le)||isNaN(xe)||!_s(Ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var mr=4/3*(Math.SQRT2-1);return le=Math.min(le,.5*bt),xe=Math.min(xe,.5*zt),this.lines([[bt-2*le,0],[le*mr,0,le,xe-xe*mr,le,xe],[0,zt-2*xe],[0,xe*mr,-le*mr,xe,-le,xe],[2*le-bt,0],[-le*mr,0,-le,-xe*mr,-le,-xe],[0,2*xe-zt],[0,-xe*mr,le*mr,-xe,le,-xe]],O+le,Z,[1,1],Ze,!0),this},Y.__private__.ellipse=Y.ellipse=function(O,Z,bt,zt,le){if(isNaN(O)||isNaN(Z)||isNaN(bt)||isNaN(zt)||!_s(le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xe=4/3*(Math.SQRT2-1)*bt,Ze=4/3*(Math.SQRT2-1)*zt;return Au(O+bt,Z),Us(O+bt,Z-Ze,O+xe,Z-zt,O,Z-zt),Us(O-xe,Z-zt,O-bt,Z-Ze,O-bt,Z),Us(O-bt,Z+Ze,O-xe,Z+zt,O,Z+zt),Us(O+xe,Z+zt,O+bt,Z+Ze,O+bt,Z),Yl(le),this},Y.__private__.circle=Y.circle=function(O,Z,bt,zt){if(isNaN(O)||isNaN(Z)||isNaN(bt)||!_s(zt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,Z,bt,bt,zt)},Y.setFont=function(O,Z,bt){return bt&&(Z=tr(Z,bt)),Ln=qr(O,Z,{disableWarning:!1}),this};var cp=Y.__private__.getFont=Y.getFont=function(){return $n[qr.apply(Y,arguments)]};Y.__private__.getFontList=Y.getFontList=function(){var O,Z,bt={};for(O in Ci)if(Ci.hasOwnProperty(O))for(Z in bt[O]=[],Ci[O])Ci[O].hasOwnProperty(Z)&&bt[O].push(Z);return bt},Y.addFont=function(O,Z,bt,zt,le){var xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xe.indexOf(arguments[3])!==-1?le=arguments[3]:arguments[3]&&xe.indexOf(arguments[3])==-1&&(bt=tr(bt,zt)),le=le||"Identity-H",gs.call(this,O,Z,bt,le)};var pl,Dc=w.lineWidth||.200025,wo=Y.__private__.setLineWidth=Y.setLineWidth=function(O){return Ut(Pt(jt(O))+" w"),this};Y.__private__.setLineDash=me.API.setLineDash=me.API.setLineDashPattern=function(O,Z){if(O=O||[],Z=Z||0,isNaN(Z)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(bt){return Pt(jt(bt))}).join(" "),Z=Pt(jt(Z)),Ut("["+O+"] "+Z+" d"),this};var Wl=Y.__private__.getLineHeight=Y.getLineHeight=function(){return cn*pl};Y.__private__.getLineHeight=Y.getLineHeight=function(){return cn*pl};var Pu=Y.__private__.setLineHeightFactor=Y.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(pl=O),this},Gf=Y.__private__.getLineHeightFactor=Y.getLineHeightFactor=function(){return pl};Pu(w.lineHeight);var nr=Y.__private__.getHorizontalCoordinate=function(O){return jt(O)},Io=Y.__private__.getVerticalCoordinate=function(O){return ue===Nt.ADVANCED?O:fn[Jt].mediaBox.topRightY-fn[Jt].mediaBox.bottomLeftY-jt(O)},Bc=Y.__private__.getHorizontalCoordinateString=Y.getHorizontalCoordinateString=function(O){return Pt(nr(O))},fp=Y.__private__.getVerticalCoordinateString=Y.getVerticalCoordinateString=function(O){return Pt(Io(O))},Aa=w.strokeColor||"0 G";Y.__private__.getStrokeColor=Y.getDrawColor=function(){return Ni(Aa)},Y.__private__.setStrokeColor=Y.setDrawColor=function(O,Z,bt,zt){return Aa=Fn({ch1:O,ch2:Z,ch3:bt,ch4:zt,pdfColorType:"draw",precision:2}),Ut(Aa),this};var Ss=w.fillColor||"0 g";Y.__private__.getFillColor=Y.getFillColor=function(){return Ni(Ss)},Y.__private__.setFillColor=Y.setFillColor=function(O,Z,bt,zt){return Ss=Fn({ch1:O,ch2:Z,ch3:bt,ch4:zt,pdfColorType:"fill",precision:2}),Ut(Ss),this};var dl=w.textColor||"0 g",hp=Y.__private__.getTextColor=Y.getTextColor=function(){return Ni(dl)};Y.__private__.setTextColor=Y.setTextColor=function(O,Z,bt,zt){return dl=Fn({ch1:O,ch2:Z,ch3:bt,ch4:zt,pdfColorType:"text",precision:3}),this};var ks=w.charSpace,pp=Y.__private__.getCharSpace=Y.getCharSpace=function(){return parseFloat(ks||0)};Y.__private__.setCharSpace=Y.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ks=O,this};var Gc=0;Y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Y.__private__.setLineCap=Y.setLineCap=function(O){var Z=Y.CapJoinStyles[O];if(Z===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gc=Z,Ut(Z+" J"),this};var Uc=0;Y.__private__.setLineJoin=Y.setLineJoin=function(O){var Z=Y.CapJoinStyles[O];if(Z===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uc=Z,Ut(Z+" j"),this},Y.__private__.setLineMiterLimit=Y.__private__.setMiterLimit=Y.setLineMiterLimit=Y.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ut(Pt(jt(O))+" M"),this},Y.GState=Ct,Y.setGState=function(O){(O=typeof O=="string"?Li[Eo[O]]:Ru(null,O)).equals(tn)||(Ut("/"+O.id+" gs"),tn=O)};var Ru=function(O,Z){if(!O||!Eo[O]){var bt=!1;for(var zt in Li)if(Li.hasOwnProperty(zt)&&Li[zt].equals(Z)){bt=!0;break}if(bt)Z=Li[zt];else{var le="GS"+(Object.keys(Li).length+1).toString(10);Li[le]=Z,Z.id=le}return O&&(Eo[O]=Z.id),si.publish("addGState",Z),Z}};Y.addGState=function(O,Z){return Ru(O,Z),this},Y.saveGraphicsState=function(){return Ut("q"),ds.push({key:Ln,size:cn,color:dl}),this},Y.restoreGraphicsState=function(){Ut("Q");var O=ds.pop();return Ln=O.key,cn=O.size,dl=O.color,tn=null,this},Y.setCurrentTransformationMatrix=function(O){return Ut(O.toString()+" cm"),this},Y.comment=function(O){return Ut("#"+O),this};var Iu=function(O,Z){var bt=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return bt},set:function(xe){isNaN(xe)||(bt=parseFloat(xe))}});var zt=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return zt},set:function(xe){isNaN(xe)||(zt=parseFloat(xe))}});var le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return le},set:function(xe){le=xe.toString()}}),this},Pa=function(O,Z,bt,zt){Iu.call(this,O,Z),this.type="rect";var le=bt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return le},set:function(Ze){isNaN(Ze)||(le=parseFloat(Ze))}});var xe=zt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xe},set:function(Ze){isNaN(Ze)||(xe=parseFloat(Ze))}}),this},Hl=function(){this.page=qn,this.currentPage=Jt,this.pages=fr.slice(0),this.pagesContext=fn.slice(0),this.x=ul,this.y=Xa,this.matrix=cl,this.width=Xl(Jt),this.height=vl(Jt),this.outputDestination=or,this.id="",this.objectNumber=-1};Hl.prototype.restore=function(){qn=this.page,Jt=this.currentPage,fn=this.pagesContext,fr=this.pages,ul=this.x,Xa=this.y,cl=this.matrix,Vs(Jt,this.width),Fu(Jt,this.height),or=this.outputDestination};var Nu=function(O,Z,bt,zt,le){wa.push(new Hl),qn=Jt=0,fr=[],ul=O,Xa=Z,cl=le,Ic([bt,zt])},kc=function(O){if(!di[O]){var Z=new Hl,bt="Xo"+(Object.keys(Ui).length+1).toString(10);Z.id=bt,di[O]=bt,Ui[bt]=Z,si.publish("addFormObject",Z),wa.pop().restore()}};for(var Mu in Y.beginFormObject=function(O,Z,bt,zt,le){return Nu(O,Z,bt,zt,le),this},Y.endFormObject=function(O){return kc(O),this},Y.doFormObject=function(O,Z){var bt=Ui[di[O]];return Ut("q"),Ut(Z.toString()+" cm"),Ut("/"+bt.id+" Do"),Ut("Q"),this},Y.getFormObject=function(O){var Z=Ui[di[O]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},Y.save=function(O,Z){return O=O||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(W(ys(ko()),O),typeof W.unload=="function"&&x.setTimeout&&setTimeout(W.unload,911),this):new Promise(function(bt,zt){try{var le=W(ys(ko()),O);typeof W.unload=="function"&&x.setTimeout&&setTimeout(W.unload,911),bt(le)}catch(xe){zt(xe.message)}})},me.API)me.API.hasOwnProperty(Mu)&&(Mu==="events"&&me.API.events.length?function(O,Z){var bt,zt,le;for(le=Z.length-1;le!==-1;le--)bt=Z[le][0],zt=Z[le][1],O.subscribe.apply(O,[bt].concat(typeof zt=="function"?[zt]:zt))}(si,me.API.events):Y[Mu]=me.API[Mu]);var Xl=Y.getPageWidth=function(O){return(fn[O=O||Jt].mediaBox.topRightX-fn[O].mediaBox.bottomLeftX)/hr},Vs=Y.setPageWidth=function(O,Z){fn[O].mediaBox.topRightX=Z*hr+fn[O].mediaBox.bottomLeftX},vl=Y.getPageHeight=function(O){return(fn[O=O||Jt].mediaBox.topRightY-fn[O].mediaBox.bottomLeftY)/hr},Fu=Y.setPageHeight=function(O,Z){fn[O].mediaBox.topRightY=Z*hr+fn[O].mediaBox.bottomLeftY};return Y.internal={pdfEscape:no,getStyle:Fc,getFont:cp,getFontSize:mn,getCharSpace:pp,getTextColor:hp,getLineHeight:Wl,getLineHeightFactor:Gf,write:Ir,getHorizontalCoordinate:nr,getVerticalCoordinate:Io,getCoordinateString:Bc,getVerticalCoordinateString:fp,collections:{},newObject:ki,newAdditionalObject:Xt,newObjectDeferred:Po,newObjectDeferredBegin:xa,getFilters:zi,putStream:Uo,events:si,scaleFactor:hr,pageSize:{getWidth:function(){return Xl(Jt)},setWidth:function(O){Vs(Jt,O)},getHeight:function(){return vl(Jt)},setHeight:function(O){Fu(Jt,O)}},encryptionOptions:st,encryption:Ro,getEncryptor:Bs,output:sa,getNumberOfPages:ap,pages:fr,out:Ut,f2:Je,f3:ft,getPageInfo:ms,getPageInfoByObjId:xr,getCurrentPageInfo:Mc,getPDFVersion:Tt,Point:Iu,Rectangle:Pa,Matrix:Yr,hasHotfix:zl},Object.defineProperty(Y.internal.pageSize,"width",{get:function(){return Xl(Jt)},set:function(O){Vs(Jt,O)},enumerable:!0,configurable:!0}),Object.defineProperty(Y.internal.pageSize,"height",{get:function(){return vl(Jt)},set:function(O){Fu(Jt,O)},enumerable:!0,configurable:!0}),Ou.call(Y,Ye),Ln="F1",Tu(A,m),si.publish("initialized"),Y}je.prototype.lsbFirstWord=function(w){return String.fromCharCode(w>>0&255,w>>8&255,w>>16&255,w>>24&255)},je.prototype.toHexString=function(w){return w.split("").map(function(g){return("0"+(255&g.charCodeAt(0)).toString(16)).slice(-2)}).join("")},je.prototype.hexToBytes=function(w){for(var g=[],m=0;m<w.length;m+=2)g.push(String.fromCharCode(parseInt(w.substr(m,2),16)));return g.join("")},je.prototype.processOwnerPassword=function(w,g){return kt(vt(g).substr(0,5),w)},je.prototype.encryptor=function(w,g){let m=vt(this.encryptionKey+String.fromCharCode(255&w,w>>8&255,w>>16&255,255&g,g>>8&255)).substr(0,10);return function(T){return kt(m,T)}},Ct.prototype.equals=function(w){var g,m="id,objectNumber,equals";if(!w||typeof w!=typeof this)return!1;var T=0;for(g in this)if(!(m.indexOf(g)>=0)){if(this.hasOwnProperty(g)&&!w.hasOwnProperty(g)||this[g]!==w[g])return!1;T++}for(g in w)w.hasOwnProperty(g)&&m.indexOf(g)<0&&T--;return T===0},me.API={events:[]},me.version="2.3.1";var ar=me.API,jr=1,Pr=function(w){return w.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xn=function(w){return w.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ur=function(w){return w.toFixed(2)},Zn=function(w){return w.toFixed(5)};ar.__acroform__={};var Ri=function(w,g){w.prototype=Object.create(g.prototype),w.prototype.constructor=w},Ya=function(w){return w*jr},Dn=function(w){var g=new Hr,m=yr.internal.getHeight(w)||0,T=yr.internal.getWidth(w)||0;return g.BBox=[0,0,Number(ur(T)),Number(ur(m))],g},Si=ar.__acroform__.setBit=function(w,g){if(w=w||0,g=g||0,isNaN(w)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return w|=1<<g},ni=ar.__acroform__.clearBit=function(w,g){if(w=w||0,g=g||0,isNaN(w)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return w&=~(1<<g)},At=ar.__acroform__.getBit=function(w,g){if(isNaN(w)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(w&1<<g)==0?0:1},Wt=ar.__acroform__.getBitForPdf=function(w,g){if(isNaN(w)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return At(w,g-1)},yt=ar.__acroform__.setBitForPdf=function(w,g){if(isNaN(w)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Si(w,g-1)},Rt=ar.__acroform__.clearBitForPdf=function(w,g){if(isNaN(w)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ni(w,g-1)},Ft=ar.__acroform__.calculateCoordinates=function(w,g){var m=g.internal.getHorizontalCoordinate,T=g.internal.getVerticalCoordinate,A=w[0],C=w[1],D=w[2],R=w[3],j={};return j.lowerLeft_X=m(A)||0,j.lowerLeft_Y=T(C+R)||0,j.upperRight_X=m(A+D)||0,j.upperRight_Y=T(C)||0,[Number(ur(j.lowerLeft_X)),Number(ur(j.lowerLeft_Y)),Number(ur(j.upperRight_X)),Number(ur(j.upperRight_Y))]},re=function(w){if(w.appearanceStreamContent)return w.appearanceStreamContent;if(w.V||w.DV){var g=[],m=w._V||w.DV,T=he(w,m),A=w.scope.internal.getFont(w.fontName,w.fontStyle).id;g.push("/Tx BMC"),g.push("q"),g.push("BT"),g.push(w.scope.__private__.encodeColorString(w.color)),g.push("/"+A+" "+ur(T.fontSize)+" Tf"),g.push("1 0 0 1 0 0 Tm"),g.push(T.text),g.push("ET"),g.push("Q"),g.push("EMC");var C=Dn(w);return C.scope=w.scope,C.stream=g.join(`
`),C}},he=function(w,g){var m=w.fontSize===0?w.maxFontSize:w.fontSize,T={text:"",fontSize:""},A=(g=(g=g.substr(0,1)=="("?g.substr(1):g).substr(g.length-1)==")"?g.substr(0,g.length-1):g).split(" "),C=m,D=yr.internal.getHeight(w)||0;D=D<0?-D:D;var R=yr.internal.getWidth(w)||0;R=R<0?-R:R;var j=function(Ke,ir,Je){if(Ke+1<A.length){var ft=ir+" "+A[Ke+1];return pe(ft,w,Je).width<=R-4}return!1};C++;t:for(;C>0;){g="",C--;var H,st,ut=pe("3",w,C).height,mt=w.multiline?D-C:(D-ut)/2,Y=mt+=2,Dt=0,Tt=0;if(C<=0){g=`(...) Tj
`,g+="% Width of Text: "+pe(g,w,C=12).width+", FieldWidth:"+R+`
`;break}var ct="",te=0;for(var Nt in A)if(A.hasOwnProperty(Nt)){ct=(ct+=A[Nt]+" ").substr(ct.length-1)==" "?ct.substr(0,ct.length-1):ct;var ue=parseInt(Nt),Re=j(ue,ct,C),ze=Nt>=A.length-1;if(Re&&!ze){ct+=" ";continue}if(Re||ze){if(ze)Tt=ue;else if(w.multiline&&(ut+2)*(te+2)+2>D)continue t}else{if(!w.multiline||(ut+2)*(te+2)+2>D)continue t;Tt=ue}for(var tr="",Pt=Dt;Pt<=Tt;Pt++)tr+=A[Pt]+" ";switch(tr=tr.substr(tr.length-1)==" "?tr.substr(0,tr.length-1):tr,st=pe(tr,w,C).width,w.textAlign){case"right":H=R-st-2;break;case"center":H=(R-st)/2;break;case"left":default:H=2}g+=ur(H)+" "+ur(Y)+` Td
`,g+="("+Pr(tr)+`) Tj
`,g+=-ur(H)+` 0 Td
`,Y=-(C+2),st=0,Dt=Tt+1,te++,ct=""}break}return T.text=g,T.fontSize=C,T},pe=function(w,g,m){var T=g.scope.internal.getFont(g.fontName,g.fontStyle),A=g.scope.getStringUnitWidth(w,{font:T,fontSize:parseFloat(m),charSpace:0})*parseFloat(m);return{height:g.scope.getStringUnitWidth("3",{font:T,fontSize:parseFloat(m),charSpace:0})*parseFloat(m)*1.5,width:A}},Le={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ve=function(w,g){var m={type:"reference",object:w};g.internal.getPageInfo(w.page).pageContext.annotations.find(function(T){return T.type===m.type&&T.object===m.object})===void 0&&g.internal.getPageInfo(w.page).pageContext.annotations.push(m)},Ce=function(w,g){for(var m in w)if(w.hasOwnProperty(m)){var T=m,A=w[m];g.internal.newObjectDeferredBegin(A.objId,!0),typeof A=="object"&&typeof A.putStream=="function"&&A.putStream(),delete w[T]}},Me=function(w,g){if(g.scope=w,w.internal!==void 0&&(w.internal.acroformPlugin===void 0||w.internal.acroformPlugin.isInitialized===!1)){if(Nr.FieldNum=0,w.internal.acroformPlugin=JSON.parse(JSON.stringify(Le)),w.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");jr=w.internal.scaleFactor,w.internal.acroformPlugin.acroFormDictionaryRoot=new Gr,w.internal.acroformPlugin.acroFormDictionaryRoot.scope=w,w.internal.acroformPlugin.acroFormDictionaryRoot._eventID=w.internal.events.subscribe("postPutResources",function(){(function(m){m.internal.events.unsubscribe(m.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete m.internal.acroformPlugin.acroFormDictionaryRoot._eventID,m.internal.acroformPlugin.printedOut=!0})(w)}),w.internal.events.subscribe("buildDocument",function(){(function(m){m.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var T=m.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var A in T)if(T.hasOwnProperty(A)){var C=T[A];C.objId=void 0,C.hasAnnotation&&ve(C,m)}})(w)}),w.internal.events.subscribe("putCatalog",function(){(function(m){if(m.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");m.internal.write("/AcroForm "+m.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(w)}),w.internal.events.subscribe("postPutPages",function(m){(function(T,A){var C=!T;for(var D in T||(A.internal.newObjectDeferredBegin(A.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),A.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),T=T||A.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(T.hasOwnProperty(D)){var R=T[D],j=[],H=R.Rect;if(R.Rect&&(R.Rect=Ft(R.Rect,A)),A.internal.newObjectDeferredBegin(R.objId,!0),R.DA=yr.createDefaultAppearanceStream(R),typeof R=="object"&&typeof R.getKeyValueListForStream=="function"&&(j=R.getKeyValueListForStream()),R.Rect=H,R.hasAppearanceStream&&!R.appearanceStreamContent){var st=re(R);j.push({key:"AP",value:"<</N "+st+">>"}),A.internal.acroformPlugin.xForms.push(st)}if(R.appearanceStreamContent){var ut="";for(var mt in R.appearanceStreamContent)if(R.appearanceStreamContent.hasOwnProperty(mt)){var Y=R.appearanceStreamContent[mt];if(ut+="/"+mt+" ",ut+="<<",Object.keys(Y).length>=1||Array.isArray(Y)){for(var D in Y)if(Y.hasOwnProperty(D)){var Dt=Y[D];typeof Dt=="function"&&(Dt=Dt.call(A,R)),ut+="/"+D+" "+Dt+" ",A.internal.acroformPlugin.xForms.indexOf(Dt)>=0||A.internal.acroformPlugin.xForms.push(Dt)}}else typeof(Dt=Y)=="function"&&(Dt=Dt.call(A,R)),ut+="/"+D+" "+Dt,A.internal.acroformPlugin.xForms.indexOf(Dt)>=0||A.internal.acroformPlugin.xForms.push(Dt);ut+=">>"}j.push({key:"AP",value:`<<
`+ut+">>"})}A.internal.putStream({additionalKeyValues:j,objectId:R.objId}),A.internal.out("endobj")}C&&Ce(A.internal.acroformPlugin.xForms,A)})(m,w)}),w.internal.acroformPlugin.isInitialized=!0}},Ee=ar.__acroform__.arrayToPdfArray=function(w,g,m){var T=function(D){return D};if(Array.isArray(w)){for(var A="[",C=0;C<w.length;C++)switch(C!==0&&(A+=" "),typeof w[C]){case"boolean":case"number":case"object":A+=w[C].toString();break;case"string":w[C].substr(0,1)!=="/"?(g!==void 0&&m&&(T=m.internal.getEncryptor(g)),A+="("+Pr(T(w[C].toString()))+")"):A+=w[C].toString()}return A+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},_r=function(w,g,m){var T=function(A){return A};return g!==void 0&&m&&(T=m.internal.getEncryptor(g)),(w=w||"").toString(),w="("+Pr(T(w))+")"},Sr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(w){this._objId=w}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Sr.prototype.toString=function(){return this.objId+" 0 R"},Sr.prototype.putStream=function(){var w=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:w,objectId:this.objId}),this.scope.internal.out("endobj")},Sr.prototype.getKeyValueListForStream=function(){var w=[],g=Object.getOwnPropertyNames(this).filter(function(C){return C!="content"&&C!="appearanceStreamContent"&&C!="scope"&&C!="objId"&&C.substring(0,1)!="_"});for(var m in g)if(Object.getOwnPropertyDescriptor(this,g[m]).configurable===!1){var T=g[m],A=this[T];A&&(Array.isArray(A)?w.push({key:T,value:Ee(A,this.objId,this.scope)}):A instanceof Sr?(A.scope=this.scope,w.push({key:T,value:A.objId+" 0 R"})):typeof A!="function"&&w.push({key:T,value:A}))}return w};var Hr=function(){Sr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var w,g=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return g},set:function(m){g=m}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(m){w=m.trim()},get:function(){return w||null}})};Ri(Hr,Sr);var Gr=function(){Sr.call(this);var w,g=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return g.length>0?g:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return g}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(w){var m=function(T){return T};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+Pr(m(w))+")"}},set:function(m){w=m}})};Ri(Gr,Sr);var Nr=function(){Sr.call(this);var w=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return w},set:function(ct){if(isNaN(ct))throw new Error('Invalid value "'+ct+'" for attribute F supplied.');w=ct}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(w,3))},set:function(ct){Boolean(ct)===!0?this.F=yt(w,3):this.F=Rt(w,3)}});var g=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return g},set:function(ct){if(isNaN(ct))throw new Error('Invalid value "'+ct+'" for attribute Ff supplied.');g=ct}});var m=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(m.length!==0)return m},set:function(ct){m=ct!==void 0?ct:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!m||isNaN(m[0])?0:m[0]},set:function(ct){m[0]=ct}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!m||isNaN(m[1])?0:m[1]},set:function(ct){m[1]=ct}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!m||isNaN(m[2])?0:m[2]},set:function(ct){m[2]=ct}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!m||isNaN(m[3])?0:m[3]},set:function(ct){m[3]=ct}});var T="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return T},set:function(ct){switch(ct){case"/Btn":case"/Tx":case"/Ch":case"/Sig":T=ct;break;default:throw new Error('Invalid value "'+ct+'" for attribute FT supplied.')}}});var A=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!A||A.length<1){if(this instanceof Lr)return;A="FieldObject"+Nr.FieldNum++}var ct=function(te){return te};return this.scope&&(ct=this.scope.internal.getEncryptor(this.objId)),"("+Pr(ct(A))+")"},set:function(ct){A=ct.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return A},set:function(ct){A=ct}});var C="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return C},set:function(ct){C=ct}});var D="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return D},set:function(ct){D=ct}});var R=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return R},set:function(ct){R=ct}});var j=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return j===void 0?50/jr:j},set:function(ct){j=ct}});var H="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return H},set:function(ct){H=ct}});var st="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!st||this instanceof Lr||this instanceof En))return _r(st,this.objId,this.scope)},set:function(ct){ct=ct.toString(),st=ct}});var ut=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(ut)return this instanceof wr?ut:_r(ut,this.objId,this.scope)},set:function(ct){ct=ct.toString(),ut=this instanceof wr?ct:ct.substr(0,1)==="("?Xn(ct.substr(1,ct.length-2)):Xn(ct)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wr?Xn(ut.substr(1,ut.length-1)):ut},set:function(ct){ct=ct.toString(),ut=this instanceof wr?"/"+ct:ct}});var mt=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(mt)return mt},set:function(ct){this.V=ct}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(mt)return this instanceof wr?mt:_r(mt,this.objId,this.scope)},set:function(ct){ct=ct.toString(),mt=this instanceof wr?ct:ct.substr(0,1)==="("?Xn(ct.substr(1,ct.length-2)):Xn(ct)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wr?Xn(mt.substr(1,mt.length-1)):mt},set:function(ct){ct=ct.toString(),mt=this instanceof wr?"/"+ct:ct}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Y,Dt=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Dt},set:function(ct){ct=Boolean(ct),Dt=ct}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Y)return Y},set:function(ct){Y=ct}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,1))},set:function(ct){Boolean(ct)===!0?this.Ff=yt(this.Ff,1):this.Ff=Rt(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,2))},set:function(ct){Boolean(ct)===!0?this.Ff=yt(this.Ff,2):this.Ff=Rt(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,3))},set:function(ct){Boolean(ct)===!0?this.Ff=yt(this.Ff,3):this.Ff=Rt(this.Ff,3)}});var Tt=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Tt!==null)return Tt},set:function(ct){if([0,1,2].indexOf(ct)===-1)throw new Error('Invalid value "'+ct+'" for attribute Q supplied.');Tt=ct}}),Object.defineProperty(this,"textAlign",{get:function(){var ct;switch(Tt){case 0:default:ct="left";break;case 1:ct="center";break;case 2:ct="right"}return ct},configurable:!0,enumerable:!0,set:function(ct){switch(ct){case"right":case 2:Tt=2;break;case"center":case 1:Tt=1;break;case"left":case 0:default:Tt=0}}})};Ri(Nr,Sr);var Qr=function(){Nr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var w=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return w},set:function(m){w=m}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return w},set:function(m){w=m}});var g=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ee(g,this.objId,this.scope)},set:function(m){var T,A;A=[],typeof(T=m)=="string"&&(A=function(C,D,R){R||(R=1);for(var j,H=[];j=D.exec(C);)H.push(j[R]);return H}(T,/\((.*?)\)/g)),g=A}}),this.getOptions=function(){return g},this.setOptions=function(m){g=m,this.sort&&g.sort()},this.addOption=function(m){m=(m=m||"").toString(),g.push(m),this.sort&&g.sort()},this.removeOption=function(m,T){for(T=T||!1,m=(m=m||"").toString();g.indexOf(m)!==-1&&(g.splice(g.indexOf(m),1),T!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,18))},set:function(m){Boolean(m)===!0?this.Ff=yt(this.Ff,18):this.Ff=Rt(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,19))},set:function(m){this.combo===!0&&(Boolean(m)===!0?this.Ff=yt(this.Ff,19):this.Ff=Rt(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,20))},set:function(m){Boolean(m)===!0?(this.Ff=yt(this.Ff,20),g.sort()):this.Ff=Rt(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,22))},set:function(m){Boolean(m)===!0?this.Ff=yt(this.Ff,22):this.Ff=Rt(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,23))},set:function(m){Boolean(m)===!0?this.Ff=yt(this.Ff,23):this.Ff=Rt(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,27))},set:function(m){Boolean(m)===!0?this.Ff=yt(this.Ff,27):this.Ff=Rt(this.Ff,27)}}),this.hasAppearanceStream=!1};Ri(Qr,Nr);var Bn=function(){Qr.call(this),this.fontName="helvetica",this.combo=!1};Ri(Bn,Qr);var ii=function(){Bn.call(this),this.combo=!0};Ri(ii,Bn);var Oi=function(){ii.call(this),this.edit=!0};Ri(Oi,ii);var wr=function(){Nr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,15))},set:function(m){Boolean(m)===!0?this.Ff=yt(this.Ff,15):this.Ff=Rt(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,16))},set:function(m){Boolean(m)===!0?this.Ff=yt(this.Ff,16):this.Ff=Rt(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,17))},set:function(m){Boolean(m)===!0?this.Ff=yt(this.Ff,17):this.Ff=Rt(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,26))},set:function(m){Boolean(m)===!0?this.Ff=yt(this.Ff,26):this.Ff=Rt(this.Ff,26)}});var w,g={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var m=function(C){return C};if(this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),Object.keys(g).length!==0){var T,A=[];for(T in A.push("<<"),g)A.push("/"+T+" ("+Pr(m(g[T]))+")");return A.push(">>"),A.join(`
`)}},set:function(m){typeof m=="object"&&(g=m)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return g.CA||""},set:function(m){typeof m=="string"&&(g.CA=m)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return w},set:function(m){w=m}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return w.substr(1,w.length-1)},set:function(m){w="/"+m}})};Ri(wr,Nr);var rr=function(){wr.call(this),this.pushButton=!0};Ri(rr,wr);var sr=function(){wr.call(this),this.radio=!0,this.pushButton=!1;var w=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return w},set:function(g){w=g!==void 0?g:[]}})};Ri(sr,wr);var Lr=function(){var w,g;Nr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return w},set:function(A){w=A}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return g},set:function(A){g=A}});var m,T={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var A=function(R){return R};this.scope&&(A=this.scope.internal.getEncryptor(this.objId));var C,D=[];for(C in D.push("<<"),T)D.push("/"+C+" ("+Pr(A(T[C]))+")");return D.push(">>"),D.join(`
`)},set:function(A){typeof A=="object"&&(T=A)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return T.CA||""},set:function(A){typeof A=="string"&&(T.CA=A)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return m},set:function(A){m=A}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return m.substr(1,m.length-1)},set:function(A){m="/"+A}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=yr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ri(Lr,Nr),sr.prototype.setAppearance=function(w){if(!("createAppearanceStream"in w)||!("getCA"in w))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var g in this.Kids)if(this.Kids.hasOwnProperty(g)){var m=this.Kids[g];m.appearanceStreamContent=w.createAppearanceStream(m.optionName),m.caption=w.getCA()}},sr.prototype.createOption=function(w){var g=new Lr;return g.Parent=this,g.optionName=w,this.Kids.push(g),Ii.call(this.scope,g),g};var lr=function(){wr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=yr.CheckBox.createAppearanceStream()};Ri(lr,wr);var En=function(){Nr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,13))},set:function(g){Boolean(g)===!0?this.Ff=yt(this.Ff,13):this.Ff=Rt(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,21))},set:function(g){Boolean(g)===!0?this.Ff=yt(this.Ff,21):this.Ff=Rt(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,23))},set:function(g){Boolean(g)===!0?this.Ff=yt(this.Ff,23):this.Ff=Rt(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,24))},set:function(g){Boolean(g)===!0?this.Ff=yt(this.Ff,24):this.Ff=Rt(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,25))},set:function(g){Boolean(g)===!0?this.Ff=yt(this.Ff,25):this.Ff=Rt(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,26))},set:function(g){Boolean(g)===!0?this.Ff=yt(this.Ff,26):this.Ff=Rt(this.Ff,26)}});var w=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return w},set:function(g){w=g}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return w},set:function(g){Number.isInteger(g)&&(w=g)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ri(En,Nr);var Tn=function(){En.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,14))},set:function(w){Boolean(w)===!0?this.Ff=yt(this.Ff,14):this.Ff=Rt(this.Ff,14)}}),this.password=!0};Ri(Tn,En);var yr={CheckBox:{createAppearanceStream:function(){return{N:{On:yr.CheckBox.YesNormal},D:{On:yr.CheckBox.YesPushDown,Off:yr.CheckBox.OffPushDown}}},YesPushDown:function(w){var g=Dn(w);g.scope=w.scope;var m=[],T=w.scope.internal.getFont(w.fontName,w.fontStyle).id,A=w.scope.__private__.encodeColorString(w.color),C=he(w,w.caption);return m.push("0.749023 g"),m.push("0 0 "+ur(yr.internal.getWidth(w))+" "+ur(yr.internal.getHeight(w))+" re"),m.push("f"),m.push("BMC"),m.push("q"),m.push("0 0 1 rg"),m.push("/"+T+" "+ur(C.fontSize)+" Tf "+A),m.push("BT"),m.push(C.text),m.push("ET"),m.push("Q"),m.push("EMC"),g.stream=m.join(`
`),g},YesNormal:function(w){var g=Dn(w);g.scope=w.scope;var m=w.scope.internal.getFont(w.fontName,w.fontStyle).id,T=w.scope.__private__.encodeColorString(w.color),A=[],C=yr.internal.getHeight(w),D=yr.internal.getWidth(w),R=he(w,w.caption);return A.push("1 g"),A.push("0 0 "+ur(D)+" "+ur(C)+" re"),A.push("f"),A.push("q"),A.push("0 0 1 rg"),A.push("0 0 "+ur(D-1)+" "+ur(C-1)+" re"),A.push("W"),A.push("n"),A.push("0 g"),A.push("BT"),A.push("/"+m+" "+ur(R.fontSize)+" Tf "+T),A.push(R.text),A.push("ET"),A.push("Q"),g.stream=A.join(`
`),g},OffPushDown:function(w){var g=Dn(w);g.scope=w.scope;var m=[];return m.push("0.749023 g"),m.push("0 0 "+ur(yr.internal.getWidth(w))+" "+ur(yr.internal.getHeight(w))+" re"),m.push("f"),g.stream=m.join(`
`),g}},RadioButton:{Circle:{createAppearanceStream:function(w){var g={D:{Off:yr.RadioButton.Circle.OffPushDown},N:{}};return g.N[w]=yr.RadioButton.Circle.YesNormal,g.D[w]=yr.RadioButton.Circle.YesPushDown,g},getCA:function(){return"l"},YesNormal:function(w){var g=Dn(w);g.scope=w.scope;var m=[],T=yr.internal.getWidth(w)<=yr.internal.getHeight(w)?yr.internal.getWidth(w)/4:yr.internal.getHeight(w)/4;T=Number((.9*T).toFixed(5));var A=yr.internal.Bezier_C,C=Number((T*A).toFixed(5));return m.push("q"),m.push("1 0 0 1 "+Zn(yr.internal.getWidth(w)/2)+" "+Zn(yr.internal.getHeight(w)/2)+" cm"),m.push(T+" 0 m"),m.push(T+" "+C+" "+C+" "+T+" 0 "+T+" c"),m.push("-"+C+" "+T+" -"+T+" "+C+" -"+T+" 0 c"),m.push("-"+T+" -"+C+" -"+C+" -"+T+" 0 -"+T+" c"),m.push(C+" -"+T+" "+T+" -"+C+" "+T+" 0 c"),m.push("f"),m.push("Q"),g.stream=m.join(`
`),g},YesPushDown:function(w){var g=Dn(w);g.scope=w.scope;var m=[],T=yr.internal.getWidth(w)<=yr.internal.getHeight(w)?yr.internal.getWidth(w)/4:yr.internal.getHeight(w)/4;T=Number((.9*T).toFixed(5));var A=Number((2*T).toFixed(5)),C=Number((A*yr.internal.Bezier_C).toFixed(5)),D=Number((T*yr.internal.Bezier_C).toFixed(5));return m.push("0.749023 g"),m.push("q"),m.push("1 0 0 1 "+Zn(yr.internal.getWidth(w)/2)+" "+Zn(yr.internal.getHeight(w)/2)+" cm"),m.push(A+" 0 m"),m.push(A+" "+C+" "+C+" "+A+" 0 "+A+" c"),m.push("-"+C+" "+A+" -"+A+" "+C+" -"+A+" 0 c"),m.push("-"+A+" -"+C+" -"+C+" -"+A+" 0 -"+A+" c"),m.push(C+" -"+A+" "+A+" -"+C+" "+A+" 0 c"),m.push("f"),m.push("Q"),m.push("0 g"),m.push("q"),m.push("1 0 0 1 "+Zn(yr.internal.getWidth(w)/2)+" "+Zn(yr.internal.getHeight(w)/2)+" cm"),m.push(T+" 0 m"),m.push(T+" "+D+" "+D+" "+T+" 0 "+T+" c"),m.push("-"+D+" "+T+" -"+T+" "+D+" -"+T+" 0 c"),m.push("-"+T+" -"+D+" -"+D+" -"+T+" 0 -"+T+" c"),m.push(D+" -"+T+" "+T+" -"+D+" "+T+" 0 c"),m.push("f"),m.push("Q"),g.stream=m.join(`
`),g},OffPushDown:function(w){var g=Dn(w);g.scope=w.scope;var m=[],T=yr.internal.getWidth(w)<=yr.internal.getHeight(w)?yr.internal.getWidth(w)/4:yr.internal.getHeight(w)/4;T=Number((.9*T).toFixed(5));var A=Number((2*T).toFixed(5)),C=Number((A*yr.internal.Bezier_C).toFixed(5));return m.push("0.749023 g"),m.push("q"),m.push("1 0 0 1 "+Zn(yr.internal.getWidth(w)/2)+" "+Zn(yr.internal.getHeight(w)/2)+" cm"),m.push(A+" 0 m"),m.push(A+" "+C+" "+C+" "+A+" 0 "+A+" c"),m.push("-"+C+" "+A+" -"+A+" "+C+" -"+A+" 0 c"),m.push("-"+A+" -"+C+" -"+C+" -"+A+" 0 -"+A+" c"),m.push(C+" -"+A+" "+A+" -"+C+" "+A+" 0 c"),m.push("f"),m.push("Q"),g.stream=m.join(`
`),g}},Cross:{createAppearanceStream:function(w){var g={D:{Off:yr.RadioButton.Cross.OffPushDown},N:{}};return g.N[w]=yr.RadioButton.Cross.YesNormal,g.D[w]=yr.RadioButton.Cross.YesPushDown,g},getCA:function(){return"8"},YesNormal:function(w){var g=Dn(w);g.scope=w.scope;var m=[],T=yr.internal.calculateCross(w);return m.push("q"),m.push("1 1 "+ur(yr.internal.getWidth(w)-2)+" "+ur(yr.internal.getHeight(w)-2)+" re"),m.push("W"),m.push("n"),m.push(ur(T.x1.x)+" "+ur(T.x1.y)+" m"),m.push(ur(T.x2.x)+" "+ur(T.x2.y)+" l"),m.push(ur(T.x4.x)+" "+ur(T.x4.y)+" m"),m.push(ur(T.x3.x)+" "+ur(T.x3.y)+" l"),m.push("s"),m.push("Q"),g.stream=m.join(`
`),g},YesPushDown:function(w){var g=Dn(w);g.scope=w.scope;var m=yr.internal.calculateCross(w),T=[];return T.push("0.749023 g"),T.push("0 0 "+ur(yr.internal.getWidth(w))+" "+ur(yr.internal.getHeight(w))+" re"),T.push("f"),T.push("q"),T.push("1 1 "+ur(yr.internal.getWidth(w)-2)+" "+ur(yr.internal.getHeight(w)-2)+" re"),T.push("W"),T.push("n"),T.push(ur(m.x1.x)+" "+ur(m.x1.y)+" m"),T.push(ur(m.x2.x)+" "+ur(m.x2.y)+" l"),T.push(ur(m.x4.x)+" "+ur(m.x4.y)+" m"),T.push(ur(m.x3.x)+" "+ur(m.x3.y)+" l"),T.push("s"),T.push("Q"),g.stream=T.join(`
`),g},OffPushDown:function(w){var g=Dn(w);g.scope=w.scope;var m=[];return m.push("0.749023 g"),m.push("0 0 "+ur(yr.internal.getWidth(w))+" "+ur(yr.internal.getHeight(w))+" re"),m.push("f"),g.stream=m.join(`
`),g}}},createDefaultAppearanceStream:function(w){var g=w.scope.internal.getFont(w.fontName,w.fontStyle).id,m=w.scope.__private__.encodeColorString(w.color);return"/"+g+" "+w.fontSize+" Tf "+m}};yr.internal={Bezier_C:.551915024494,calculateCross:function(w){var g=yr.internal.getWidth(w),m=yr.internal.getHeight(w),T=Math.min(g,m);return{x1:{x:(g-T)/2,y:(m-T)/2+T},x2:{x:(g-T)/2+T,y:(m-T)/2},x3:{x:(g-T)/2,y:(m-T)/2},x4:{x:(g-T)/2+T,y:(m-T)/2+T}}}},yr.internal.getWidth=function(w){var g=0;return typeof w=="object"&&(g=Ya(w.Rect[2])),g},yr.internal.getHeight=function(w){var g=0;return typeof w=="object"&&(g=Ya(w.Rect[3])),g};var Ii=ar.addField=function(w){if(Me(this,w),!(w instanceof Nr))throw new Error("Invalid argument passed to jsPDF.addField.");var g;return(g=w).scope.internal.acroformPlugin.printedOut&&(g.scope.internal.acroformPlugin.printedOut=!1,g.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),g.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(g),w.page=w.scope.internal.getCurrentPageInfo().pageNumber,this};ar.AcroFormChoiceField=Qr,ar.AcroFormListBox=Bn,ar.AcroFormComboBox=ii,ar.AcroFormEditBox=Oi,ar.AcroFormButton=wr,ar.AcroFormPushButton=rr,ar.AcroFormRadioButton=sr,ar.AcroFormCheckBox=lr,ar.AcroFormTextField=En,ar.AcroFormPasswordField=Tn,ar.AcroFormAppearance=yr,ar.AcroForm={ChoiceField:Qr,ListBox:Bn,ComboBox:ii,EditBox:Oi,Button:wr,PushButton:rr,RadioButton:sr,CheckBox:lr,TextField:En,PasswordField:Tn,Appearance:yr},me.AcroForm={ChoiceField:Qr,ListBox:Bn,ComboBox:ii,EditBox:Oi,Button:wr,PushButton:rr,RadioButton:sr,CheckBox:lr,TextField:En,PasswordField:Tn,Appearance:yr};/** @license
* jsPDF addImage plugin
* Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/
*               2013 Chris Dowling, https://github.com/gingerchris
*               2013 Trinh Ho, https://github.com/ineedfat
*               2013 Edwin Alejandro Perez, https://github.com/eaparango
*               2013 Norah Smith, https://github.com/burnburnrocket
*               2014 Diego Casorran, https://github.com/diegocr
*               2014 James Robb, https://github.com/jamesbrobb
*
* Permission is hereby granted, free of charge, to any person obtaining
* a copy of this software and associated documentation files (the
* "Software"), to deal in the Software without restriction, including
* without limitation the rights to use, copy, modify, merge, publish,
* distribute, sublicense, and/or sell copies of the Software, and to
* permit persons to whom the Software is furnished to do so, subject to
* the following conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
* MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
* LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
* OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
* WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/function Gi(w){return w.reduce(function(g,m,T){return g[m]=T,g},{})}(function(w){w.__addimage__={};var g="UNKNOWN",m={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},T=w.__addimage__.getImageFileTypeByImageData=function(ft,jt){var ie,$t;jt=jt||g;var Te,Be,be,ge=g;if(tr(ft))for(be in m)for(Te=m[be],ie=0;ie<Te.length;ie+=1){for(Be=!0,$t=0;$t<Te[ie].length;$t+=1)if(Te[ie][$t]!==void 0&&Te[ie][$t]!==ft[$t]){Be=!1;break}if(Be===!0){ge=be;break}}else for(be in m)for(Te=m[be],ie=0;ie<Te.length;ie+=1){for(Be=!0,$t=0;$t<Te[ie].length;$t+=1)if(Te[ie][$t]!==void 0&&Te[ie][$t]!==ft.charCodeAt($t)){Be=!1;break}if(Be===!0){ge=be;break}}return ge===g&&jt!==g&&(ge=jt),ge},A=function(ft){for(var jt=this.internal.write,ie=this.internal.putStream,$t=(0,this.internal.getFilters)();$t.indexOf("FlateEncode")!==-1;)$t.splice($t.indexOf("FlateEncode"),1);ft.objectId=this.internal.newObject();var Te=[];if(Te.push({key:"Type",value:"/XObject"}),Te.push({key:"Subtype",value:"/Image"}),Te.push({key:"Width",value:ft.width}),Te.push({key:"Height",value:ft.height}),ft.colorSpace===ct.INDEXED?Te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(ft.palette.length/3-1)+" "+("sMask"in ft&&ft.sMask!==void 0?ft.objectId+2:ft.objectId+1)+" 0 R]"}):(Te.push({key:"ColorSpace",value:"/"+ft.colorSpace}),ft.colorSpace===ct.DEVICE_CMYK&&Te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Te.push({key:"BitsPerComponent",value:ft.bitsPerComponent}),"decodeParameters"in ft&&ft.decodeParameters!==void 0&&Te.push({key:"DecodeParms",value:"<<"+ft.decodeParameters+">>"}),"transparency"in ft&&Array.isArray(ft.transparency)){for(var Be="",be=0,ge=ft.transparency.length;be<ge;be++)Be+=ft.transparency[be]+" "+ft.transparency[be]+" ";Te.push({key:"Mask",value:"["+Be+"]"})}ft.sMask!==void 0&&Te.push({key:"SMask",value:ft.objectId+1+" 0 R"});var J=ft.filter!==void 0?["/"+ft.filter]:void 0;if(ie({data:ft.data,additionalKeyValues:Te,alreadyAppliedFilters:J,objectId:ft.objectId}),jt("endobj"),"sMask"in ft&&ft.sMask!==void 0){var Mt="/Predictor "+ft.predictor+" /Colors 1 /BitsPerComponent "+ft.bitsPerComponent+" /Columns "+ft.width,Gt={width:ft.width,height:ft.height,colorSpace:"DeviceGray",bitsPerComponent:ft.bitsPerComponent,decodeParameters:Mt,data:ft.sMask};"filter"in ft&&(Gt.filter=ft.filter),A.call(this,Gt)}if(ft.colorSpace===ct.INDEXED){var Bt=this.internal.newObject();ie({data:Ke(new Uint8Array(ft.palette)),objectId:Bt}),jt("endobj")}},C=function(){var ft=this.internal.collections.addImage_images;for(var jt in ft)A.call(this,ft[jt])},D=function(){var ft,jt=this.internal.collections.addImage_images,ie=this.internal.write;for(var $t in jt)ie("/I"+(ft=jt[$t]).index,ft.objectId,"0","R")},R=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",C),this.internal.events.subscribe("putXobjectDict",D))},j=function(){var ft=this.internal.collections.addImage_images;return R.call(this),ft},H=function(){return Object.keys(this.internal.collections.addImage_images).length},st=function(ft){return typeof w["process"+ft.toUpperCase()]=="function"},ut=function(ft){return typeof ft=="object"&&ft.nodeType===1},mt=function(ft,jt){if(ft.nodeName==="IMG"&&ft.hasAttribute("src")){var ie=""+ft.getAttribute("src");if(ie.indexOf("data:image/")===0)return U(unescape(ie).split("base64,").pop());var $t=w.loadFile(ie,!0);if($t!==void 0)return $t}if(ft.nodeName==="CANVAS"){var Te;switch(jt){case"PNG":Te="image/png";break;case"WEBP":Te="image/webp";break;case"JPEG":case"JPG":default:Te="image/jpeg"}return U(ft.toDataURL(Te,1).split("base64,").pop())}},Y=function(ft){var jt=this.internal.collections.addImage_images;if(jt){for(var ie in jt)if(ft===jt[ie].alias)return jt[ie]}},Dt=function(ft,jt,ie){return ft||jt||(ft=-96,jt=-96),ft<0&&(ft=-1*ie.width*72/ft/this.internal.scaleFactor),jt<0&&(jt=-1*ie.height*72/jt/this.internal.scaleFactor),ft===0&&(ft=jt*ie.width/ie.height),jt===0&&(jt=ft*ie.height/ie.width),[ft,jt]},Tt=function(ft,jt,ie,$t,Te,Be){var be=Dt.call(this,ie,$t,Te),ge=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString,Mt=j.call(this);if(ie=be[0],$t=be[1],Mt[Te.index]=Te,Be){Be*=Math.PI/180;var Gt=Math.cos(Be),Bt=Math.sin(Be),Jt=function(_e){return _e.toFixed(4)},ae=[Jt(Gt),Jt(Bt),Jt(-1*Bt),Jt(Gt),0,0,"cm"]}this.internal.write("q"),Be?(this.internal.write([1,"0","0",1,ge(ft),J(jt+$t),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([ge(ie),"0","0",ge($t),"0","0","cm"].join(" "))):this.internal.write([ge(ie),"0","0",ge($t),ge(ft),J(jt+$t),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Te.index+" Do"),this.internal.write("Q")},ct=w.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};w.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var te=w.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Nt=w.__addimage__.sHashCode=function(ft){var jt,ie,$t=0;if(typeof ft=="string")for(ie=ft.length,jt=0;jt<ie;jt++)$t=($t<<5)-$t+ft.charCodeAt(jt),$t|=0;else if(tr(ft))for(ie=ft.byteLength/2,jt=0;jt<ie;jt++)$t=($t<<5)-$t+ft[jt],$t|=0;return $t},ue=w.__addimage__.validateStringAsBase64=function(ft){(ft=ft||"").toString().trim();var jt=!0;return ft.length===0&&(jt=!1),ft.length%4!=0&&(jt=!1),/^[A-Za-z0-9+/]+$/.test(ft.substr(0,ft.length-2))===!1&&(jt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ft.substr(-2))===!1&&(jt=!1),jt},Re=w.__addimage__.extractImageFromDataUrl=function(ft){var jt=(ft=ft||"").split("base64,"),ie=null;if(jt.length===2){var $t=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(jt[0]);Array.isArray($t)&&(ie={mimeType:$t[1],charset:$t[2],data:jt[1]})}return ie},ze=w.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"};w.__addimage__.isArrayBuffer=function(ft){return ze()&&ft instanceof ArrayBuffer};var tr=w.__addimage__.isArrayBufferView=function(ft){return ze()&&typeof Uint32Array!="undefined"&&(ft instanceof Int8Array||ft instanceof Uint8Array||typeof Uint8ClampedArray!="undefined"&&ft instanceof Uint8ClampedArray||ft instanceof Int16Array||ft instanceof Uint16Array||ft instanceof Int32Array||ft instanceof Uint32Array||ft instanceof Float32Array||ft instanceof Float64Array)},Pt=w.__addimage__.binaryStringToUint8Array=function(ft){for(var jt=ft.length,ie=new Uint8Array(jt),$t=0;$t<jt;$t++)ie[$t]=ft.charCodeAt($t);return ie},Ke=w.__addimage__.arrayBufferToBinaryString=function(ft){try{return U(X(String.fromCharCode.apply(null,ft)))}catch{if(typeof Uint8Array!="undefined"&&Uint8Array.prototype.reduce!==void 0)return new Uint8Array(ft).reduce(function(ie,$t){return ie.push(String.fromCharCode($t)),ie},[]).join("")}};w.addImage=function(){var ft,jt,ie,$t,Te,Be,be,ge,J;if(typeof arguments[1]=="number"?(jt=g,ie=arguments[1],$t=arguments[2],Te=arguments[3],Be=arguments[4],be=arguments[5],ge=arguments[6],J=arguments[7]):(jt=arguments[1],ie=arguments[2],$t=arguments[3],Te=arguments[4],Be=arguments[5],be=arguments[6],ge=arguments[7],J=arguments[8]),typeof(ft=arguments[0])=="object"&&!ut(ft)&&"imageData"in ft){var Mt=ft;ft=Mt.imageData,jt=Mt.format||jt||g,ie=Mt.x||ie||0,$t=Mt.y||$t||0,Te=Mt.w||Mt.width||Te,Be=Mt.h||Mt.height||Be,be=Mt.alias||be,ge=Mt.compression||ge,J=Mt.rotation||Mt.angle||J}var Gt=this.internal.getFilters();if(ge===void 0&&Gt.indexOf("FlateEncode")!==-1&&(ge="SLOW"),isNaN(ie)||isNaN($t))throw new Error("Invalid coordinates passed to jsPDF.addImage");R.call(this);var Bt=ir.call(this,ft,jt,be,ge);return Tt.call(this,ie,$t,Te,Be,Bt,J),this};var ir=function(ft,jt,ie,$t){var Te,Be,be;if(typeof ft=="string"&&T(ft)===g){ft=unescape(ft);var ge=Je(ft,!1);(ge!==""||(ge=w.loadFile(ft,!0))!==void 0)&&(ft=ge)}if(ut(ft)&&(ft=mt(ft,jt)),jt=T(ft,jt),!st(jt))throw new Error("addImage does not support files of type '"+jt+"', please ensure that a plugin for '"+jt+"' support is added.");if(((be=ie)==null||be.length===0)&&(ie=function(J){return typeof J=="string"||tr(J)?Nt(J):null}(ft)),(Te=Y.call(this,ie))||(ze()&&(ft instanceof Uint8Array||(Be=ft,ft=Pt(ft))),Te=this["process"+jt.toUpperCase()](ft,H.call(this),ie,function(J){return J&&typeof J=="string"&&(J=J.toUpperCase()),J in w.image_compression?J:te.NONE}($t),Be)),!Te)throw new Error("An unknown error occurred whilst processing the image.");return Te},Je=w.__addimage__.convertBase64ToBinaryString=function(ft,jt){var ie;jt=typeof jt!="boolean"||jt;var $t,Te="";if(typeof ft=="string"){$t=(ie=Re(ft))!==null?ie.data:ft;try{Te=U($t)}catch(Be){if(jt)throw ue($t)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Be.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Te};w.getImageProperties=function(ft){var jt,ie,$t="";if(ut(ft)&&(ft=mt(ft)),typeof ft=="string"&&T(ft)===g&&(($t=Je(ft,!1))===""&&($t=w.loadFile(ft)||""),ft=$t),ie=T(ft),!st(ie))throw new Error("addImage does not support files of type '"+ie+"', please ensure that a plugin for '"+ie+"' support is added.");if(!ze()||ft instanceof Uint8Array||(ft=Pt(ft)),!(jt=this["process"+ie.toUpperCase()](ft)))throw new Error("An unknown error occurred whilst processing the image");return jt.fileType=ie,jt}})(me.API),function(w){var g=function(m){if(m!==void 0&&m!="")return!0};me.API.events.push(["addPage",function(m){this.internal.getPageInfo(m.pageNumber).pageContext.annotations=[]}]),w.events.push(["putPage",function(m){for(var T,A,C,D=this.internal.getCoordinateString,R=this.internal.getVerticalCoordinateString,j=this.internal.getPageInfoByObjId(m.objId),H=m.pageContext.annotations,st=!1,ut=0;ut<H.length&&!st;ut++)switch((T=H[ut]).type){case"link":(g(T.options.url)||g(T.options.pageNumber))&&(st=!0);break;case"reference":case"text":case"freetext":st=!0}if(st!=0){this.internal.write("/Annots [");for(var mt=0;mt<H.length;mt++){T=H[mt];var Y=this.internal.pdfEscape,Dt=this.internal.getEncryptor(m.objId);switch(T.type){case"reference":this.internal.write(" "+T.object.objId+" 0 R ");break;case"text":var Tt=this.internal.newAdditionalObject(),ct=this.internal.newAdditionalObject(),te=this.internal.getEncryptor(Tt.objId),Nt=T.title||"Note";C="<</Type /Annot /Subtype /Text "+(A="/Rect ["+D(T.bounds.x)+" "+R(T.bounds.y+T.bounds.h)+" "+D(T.bounds.x+T.bounds.w)+" "+R(T.bounds.y)+"] ")+"/Contents ("+Y(te(T.contents))+")",C+=" /Popup "+ct.objId+" 0 R",C+=" /P "+j.objId+" 0 R",C+=" /T ("+Y(te(Nt))+") >>",Tt.content=C;var ue=Tt.objId+" 0 R";C="<</Type /Annot /Subtype /Popup "+(A="/Rect ["+D(T.bounds.x+30)+" "+R(T.bounds.y+T.bounds.h)+" "+D(T.bounds.x+T.bounds.w+30)+" "+R(T.bounds.y)+"] ")+" /Parent "+ue,T.open&&(C+=" /Open true"),C+=" >>",ct.content=C,this.internal.write(Tt.objId,"0 R",ct.objId,"0 R");break;case"freetext":A="/Rect ["+D(T.bounds.x)+" "+R(T.bounds.y)+" "+D(T.bounds.x+T.bounds.w)+" "+R(T.bounds.y+T.bounds.h)+"] ";var Re=T.color||"#000000";C="<</Type /Annot /Subtype /FreeText "+A+"/Contents ("+Y(Dt(T.contents))+")",C+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Re+")",C+=" /Border [0 0 0]",C+=" >>",this.internal.write(C);break;case"link":if(T.options.name){var ze=this.annotations._nameMap[T.options.name];T.options.pageNumber=ze.page,T.options.top=ze.y}else T.options.top||(T.options.top=0);if(A="/Rect ["+T.finalBounds.x+" "+T.finalBounds.y+" "+T.finalBounds.w+" "+T.finalBounds.h+"] ",C="",T.options.url)C="<</Type /Annot /Subtype /Link "+A+"/Border [0 0 0] /A <</S /URI /URI ("+Y(Dt(T.options.url))+") >>";else if(T.options.pageNumber)switch(C="<</Type /Annot /Subtype /Link "+A+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(T.options.pageNumber).objId+" 0 R",T.options.magFactor=T.options.magFactor||"XYZ",T.options.magFactor){case"Fit":C+=" /Fit]";break;case"FitH":C+=" /FitH "+T.options.top+"]";break;case"FitV":T.options.left=T.options.left||0,C+=" /FitV "+T.options.left+"]";break;case"XYZ":default:var tr=R(T.options.top);T.options.left=T.options.left||0,T.options.zoom===void 0&&(T.options.zoom=0),C+=" /XYZ "+T.options.left+" "+tr+" "+T.options.zoom+"]"}C!=""&&(C+=" >>",this.internal.write(C))}}this.internal.write("]")}}]),w.createAnnotation=function(m){var T=this.internal.getCurrentPageInfo();switch(m.type){case"link":this.link(m.bounds.x,m.bounds.y,m.bounds.w,m.bounds.h,m);break;case"text":case"freetext":T.pageContext.annotations.push(m)}},w.link=function(m,T,A,C,D){var R=this.internal.getCurrentPageInfo(),j=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString;R.pageContext.annotations.push({finalBounds:{x:j(m),y:H(T),w:j(m+A),h:H(T+C)},options:D,type:"link"})},w.textWithLink=function(m,T,A,C){var D=this.getTextWidth(m),R=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(m,T,A,C),A+=.2*R,C.align==="center"&&(T-=D/2),C.align==="right"&&(T-=D),this.link(T,A-R,D,R,C),D},w.getTextWidth=function(m){var T=this.internal.getFontSize();return this.getStringUnitWidth(m)*T/this.internal.scaleFactor}}(me.API),function(w){var g={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},m={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},T={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},A=[1570,1571,1573,1575];w.__arabicParser__={};var C=w.__arabicParser__.isInArabicSubstitutionA=function(Tt){return g[Tt.charCodeAt(0)]!==void 0},D=w.__arabicParser__.isArabicLetter=function(Tt){return typeof Tt=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Tt)},R=w.__arabicParser__.isArabicEndLetter=function(Tt){return D(Tt)&&C(Tt)&&g[Tt.charCodeAt(0)].length<=2},j=w.__arabicParser__.isArabicAlfLetter=function(Tt){return D(Tt)&&A.indexOf(Tt.charCodeAt(0))>=0};w.__arabicParser__.arabicLetterHasIsolatedForm=function(Tt){return D(Tt)&&C(Tt)&&g[Tt.charCodeAt(0)].length>=1};var H=w.__arabicParser__.arabicLetterHasFinalForm=function(Tt){return D(Tt)&&C(Tt)&&g[Tt.charCodeAt(0)].length>=2};w.__arabicParser__.arabicLetterHasInitialForm=function(Tt){return D(Tt)&&C(Tt)&&g[Tt.charCodeAt(0)].length>=3};var st=w.__arabicParser__.arabicLetterHasMedialForm=function(Tt){return D(Tt)&&C(Tt)&&g[Tt.charCodeAt(0)].length==4},ut=w.__arabicParser__.resolveLigatures=function(Tt){var ct=0,te=m,Nt="",ue=0;for(ct=0;ct<Tt.length;ct+=1)te[Tt.charCodeAt(ct)]!==void 0?(ue++,typeof(te=te[Tt.charCodeAt(ct)])=="number"&&(Nt+=String.fromCharCode(te),te=m,ue=0),ct===Tt.length-1&&(te=m,Nt+=Tt.charAt(ct-(ue-1)),ct-=ue-1,ue=0)):(te=m,Nt+=Tt.charAt(ct-ue),ct-=ue,ue=0);return Nt};w.__arabicParser__.isArabicDiacritic=function(Tt){return Tt!==void 0&&T[Tt.charCodeAt(0)]!==void 0};var mt=w.__arabicParser__.getCorrectForm=function(Tt,ct,te){return D(Tt)?C(Tt)===!1?-1:!H(Tt)||!D(ct)&&!D(te)||!D(te)&&R(ct)||R(Tt)&&!D(ct)||R(Tt)&&j(ct)||R(Tt)&&R(ct)?0:st(Tt)&&D(ct)&&!R(ct)&&D(te)&&H(te)?3:R(Tt)||!D(te)?1:2:-1},Y=function(Tt){var ct=0,te=0,Nt=0,ue="",Re="",ze="",tr=(Tt=Tt||"").split("\\s+"),Pt=[];for(ct=0;ct<tr.length;ct+=1){for(Pt.push(""),te=0;te<tr[ct].length;te+=1)ue=tr[ct][te],Re=tr[ct][te-1],ze=tr[ct][te+1],D(ue)?(Nt=mt(ue,Re,ze),Pt[ct]+=Nt!==-1?String.fromCharCode(g[ue.charCodeAt(0)][Nt]):ue):Pt[ct]+=ue;Pt[ct]=ut(Pt[ct])}return Pt.join(" ")},Dt=w.__arabicParser__.processArabic=w.processArabic=function(){var Tt,ct=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,te=[];if(Array.isArray(ct)){var Nt=0;for(te=[],Nt=0;Nt<ct.length;Nt+=1)Array.isArray(ct[Nt])?te.push([Y(ct[Nt][0]),ct[Nt][1],ct[Nt][2]]):te.push([Y(ct[Nt])]);Tt=te}else Tt=Y(ct);return typeof arguments[0]=="string"?Tt:(arguments[0].text=Tt,arguments[0])};w.events.push(["preProcessText",Dt])}(me.API),me.API.autoPrint=function(w){var g;switch((w=w||{}).variant=w.variant||"non-conform",w.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){g=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+g+" 0 R")})}return this},function(w){var g=function(){var m=void 0;Object.defineProperty(this,"pdf",{get:function(){return m},set:function(R){m=R}});var T=150;Object.defineProperty(this,"width",{get:function(){return T},set:function(R){T=isNaN(R)||Number.isInteger(R)===!1||R<0?150:R,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=T+1)}});var A=300;Object.defineProperty(this,"height",{get:function(){return A},set:function(R){A=isNaN(R)||Number.isInteger(R)===!1||R<0?300:R,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=A+1)}});var C=[];Object.defineProperty(this,"childNodes",{get:function(){return C},set:function(R){C=R}});var D={};Object.defineProperty(this,"style",{get:function(){return D},set:function(R){D=R}}),Object.defineProperty(this,"parentNode",{})};g.prototype.getContext=function(m,T){var A;if((m=m||"2d")!=="2d")return null;for(A in T)this.pdf.context2d.hasOwnProperty(A)&&(this.pdf.context2d[A]=T[A]);return this.pdf.context2d._canvas=this,this.pdf.context2d},g.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},w.events.push(["initialized",function(){this.canvas=new g,this.canvas.pdf=this}])}(me.API),function(w){var g={left:0,top:0,bottom:0,right:0},m=!1,T=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},g),this.internal.__cell__.margins.width=this.getPageWidth(),A.call(this))},A=function(){this.internal.__cell__.lastCell=new C,this.internal.__cell__.pages=1},C=function(){var j=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return j},set:function(Tt){j=Tt}});var H=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return H},set:function(Tt){H=Tt}});var st=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return st},set:function(Tt){st=Tt}});var ut=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return ut},set:function(Tt){ut=Tt}});var mt=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return mt},set:function(Tt){mt=Tt}});var Y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Y},set:function(Tt){Y=Tt}});var Dt=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return Dt},set:function(Tt){Dt=Tt}}),this};C.prototype.clone=function(){return new C(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},C.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},w.setHeaderFunction=function(j){return T.call(this),this.internal.__cell__.headerFunction=typeof j=="function"?j:void 0,this},w.getTextDimensions=function(j,H){T.call(this);var st=(H=H||{}).fontSize||this.getFontSize(),ut=H.font||this.getFont(),mt=H.scaleFactor||this.internal.scaleFactor,Y=0,Dt=0,Tt=0,ct=this;if(!Array.isArray(j)&&typeof j!="string"){if(typeof j!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");j=String(j)}const te=H.maxWidth;te>0?typeof j=="string"?j=this.splitTextToSize(j,te):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(ue,Re){return ue.concat(ct.splitTextToSize(Re,te))},[])):j=Array.isArray(j)?j:[j];for(var Nt=0;Nt<j.length;Nt++)Y<(Tt=this.getStringUnitWidth(j[Nt],{font:ut})*st)&&(Y=Tt);return Y!==0&&(Dt=j.length),{w:Y/=mt,h:Math.max((Dt*st*this.getLineHeightFactor()-st*(this.getLineHeightFactor()-1))/mt,0)}},w.cellAddPage=function(){T.call(this),this.addPage();var j=this.internal.__cell__.margins||g;return this.internal.__cell__.lastCell=new C(j.left,j.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var D=w.cell=function(){var j;j=arguments[0]instanceof C?arguments[0]:new C(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),T.call(this);var H=this.internal.__cell__.lastCell,st=this.internal.__cell__.padding,ut=this.internal.__cell__.margins||g,mt=this.internal.__cell__.tableHeaderRow,Y=this.internal.__cell__.printHeaders;return H.lineNumber!==void 0&&(H.lineNumber===j.lineNumber?(j.x=(H.x||0)+(H.width||0),j.y=H.y||0):H.y+H.height+j.height+ut.bottom>this.getPageHeight()?(this.cellAddPage(),j.y=ut.top,Y&&mt&&(this.printHeaderRow(j.lineNumber,!0),j.y+=mt[0].height)):j.y=H.y+H.height||j.y),j.text[0]!==void 0&&(this.rect(j.x,j.y,j.width,j.height,m===!0?"FD":void 0),j.align==="right"?this.text(j.text,j.x+j.width-st,j.y+st,{align:"right",baseline:"top"}):j.align==="center"?this.text(j.text,j.x+j.width/2,j.y+st,{align:"center",baseline:"top",maxWidth:j.width-st-st}):this.text(j.text,j.x+st,j.y+st,{align:"left",baseline:"top",maxWidth:j.width-st-st})),this.internal.__cell__.lastCell=j,this};w.table=function(j,H,st,ut,mt){if(T.call(this),!st)throw new Error("No data for PDF table.");var Y,Dt,Tt,ct,te=[],Nt=[],ue=[],Re={},ze={},tr=[],Pt=[],Ke=(mt=mt||{}).autoSize||!1,ir=mt.printHeaders!==!1,Je=mt.css&&mt.css["font-size"]!==void 0?16*mt.css["font-size"]:mt.fontSize||12,ft=mt.margins||Object.assign({width:this.getPageWidth()},g),jt=typeof mt.padding=="number"?mt.padding:3,ie=mt.headerBackgroundColor||"#c8c8c8";if(A.call(this),this.internal.__cell__.printHeaders=ir,this.internal.__cell__.margins=ft,this.internal.__cell__.table_font_size=Je,this.internal.__cell__.padding=jt,this.internal.__cell__.headerBackgroundColor=ie,this.setFontSize(Je),ut==null)Nt=te=Object.keys(st[0]),ue=te.map(function(){return"left"});else if(Array.isArray(ut)&&typeof ut[0]=="object")for(te=ut.map(function(ge){return ge.name}),Nt=ut.map(function(ge){return ge.prompt||ge.name||""}),ue=ut.map(function(ge){return ge.align||"left"}),Y=0;Y<ut.length;Y+=1)ze[ut[Y].name]=ut[Y].width*(19.049976/25.4);else Array.isArray(ut)&&typeof ut[0]=="string"&&(Nt=te=ut,ue=te.map(function(){return"left"}));if(Ke||Array.isArray(ut)&&typeof ut[0]=="string")for(Y=0;Y<te.length;Y+=1){for(Re[ct=te[Y]]=st.map(function(ge){return ge[ct]}),this.setFont(void 0,"bold"),tr.push(this.getTextDimensions(Nt[Y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Dt=Re[ct],this.setFont(void 0,"normal"),Tt=0;Tt<Dt.length;Tt+=1)tr.push(this.getTextDimensions(Dt[Tt],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ze[ct]=Math.max.apply(null,tr)+jt+jt,tr=[]}if(ir){var $t={};for(Y=0;Y<te.length;Y+=1)$t[te[Y]]={},$t[te[Y]].text=Nt[Y],$t[te[Y]].align=ue[Y];var Te=R.call(this,$t,ze);Pt=te.map(function(ge){return new C(j,H,ze[ge],Te,$t[ge].text,void 0,$t[ge].align)}),this.setTableHeaderRow(Pt),this.printHeaderRow(1,!1)}var Be=ut.reduce(function(ge,J){return ge[J.name]=J.align,ge},{});for(Y=0;Y<st.length;Y+=1){var be=R.call(this,st[Y],ze);for(Tt=0;Tt<te.length;Tt+=1)D.call(this,new C(j,H,ze[te[Tt]],be,st[Y][te[Tt]],Y+2,Be[te[Tt]]))}return this.internal.__cell__.table_x=j,this.internal.__cell__.table_y=H,this};var R=function(j,H){var st=this.internal.__cell__.padding,ut=this.internal.__cell__.table_font_size,mt=this.internal.scaleFactor;return Object.keys(j).map(function(Y){var Dt=j[Y];return this.splitTextToSize(Dt.hasOwnProperty("text")?Dt.text:Dt,H[Y]-st-st)},this).map(function(Y){return this.getLineHeightFactor()*Y.length*ut/mt+st+st},this).reduce(function(Y,Dt){return Math.max(Y,Dt)},0)};w.setTableHeaderRow=function(j){T.call(this),this.internal.__cell__.tableHeaderRow=j},w.printHeaderRow=function(j,H){if(T.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var st;if(m=!0,typeof this.internal.__cell__.headerFunction=="function"){var ut=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new C(ut[0],ut[1],ut[2],ut[3],void 0,-1)}this.setFont(void 0,"bold");for(var mt=[],Y=0;Y<this.internal.__cell__.tableHeaderRow.length;Y+=1)st=this.internal.__cell__.tableHeaderRow[Y].clone(),H&&(st.y=this.internal.__cell__.margins.top||0,mt.push(st)),st.lineNumber=j,this.setFillColor(this.internal.__cell__.headerBackgroundColor),D.call(this,st);mt.length>0&&this.setTableHeaderRow(mt),this.setFont(void 0,"normal"),m=!1}}(me.API);var bn={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},yo=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Kn=Gi(yo),ji=[100,200,300,400,500,600,700,800,900],Go=Gi(ji);function bi(w){var g=w.family.replace(/"|'/g,"").toLowerCase(),m=function(C){return bn[C=C||"normal"]?C:"normal"}(w.style),T=function(C){if(!C)return 400;if(typeof C=="number")return C>=100&&C<=900&&C%100==0?C:400;if(/^\d00$/.test(C))return parseInt(C);switch(C){case"bold":return 700;case"normal":default:return 400}}(w.weight),A=function(C){return typeof Kn[C=C||"normal"]=="number"?C:"normal"}(w.stretch);return{family:g,style:m,weight:T,stretch:A,src:w.src||[],ref:w.ref||{name:g,style:[A,m,T].join(" ")}}}function mo(w,g,m,T){var A;for(A=m;A>=0&&A<g.length;A+=T)if(w[g[A]])return w[g[A]];for(A=m;A>=0&&A<g.length;A-=T)if(w[g[A]])return w[g[A]]}var un={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Gn={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function _o(w){return[w.stretch,w.style,w.weight,w.family].join(" ")}function So(w,g,m){for(var T=(m=m||{}).defaultFontFamily||"times",A=Object.assign({},un,m.genericFontFamilies||{}),C=null,D=null,R=0;R<g.length;++R)if(A[(C=bi(g[R])).family]&&(C.family=A[C.family]),w.hasOwnProperty(C.family)){D=w[C.family];break}if(!(D=D||w[T]))throw new Error("Could not find a font-family for the rule '"+_o(C)+"' and default family '"+T+"'.");if(D=function(j,H){if(H[j])return H[j];var st=Kn[j],ut=st<=Kn.normal?-1:1,mt=mo(H,yo,st,ut);if(!mt)throw new Error("Could not find a matching font-stretch value for "+j);return mt}(C.stretch,D),D=function(j,H){if(H[j])return H[j];for(var st=bn[j],ut=0;ut<st.length;++ut)if(H[st[ut]])return H[st[ut]];throw new Error("Could not find a matching font-style for "+j)}(C.style,D),!(D=function(j,H){if(H[j])return H[j];if(j===400&&H[500])return H[500];if(j===500&&H[400])return H[400];var st=Go[j],ut=mo(H,ji,st,j<400?-1:1);if(!ut)throw new Error("Could not find a matching font-weight for value "+j);return ut}(C.weight,D)))throw new Error("Failed to resolve a font for the rule '"+_o(C)+"'.");return D}function Xi(w){return w.trimLeft()}function Gl(w,g){for(var m=0;m<w.length;){if(w.charAt(m)===g)return[w.substring(0,m),w.substring(m+1)];m+=1}return null}function Rs(w){var g=w.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return g===null?null:[g[0],w.substring(g[0].length)]}var Sa,Ei,Ac,mu=["times"];(function(w){var g,m,T,A,C,D,R,j,H,st=function(J){return J=J||{},this.isStrokeTransparent=J.isStrokeTransparent||!1,this.strokeOpacity=J.strokeOpacity||1,this.strokeStyle=J.strokeStyle||"#000000",this.fillStyle=J.fillStyle||"#000000",this.isFillTransparent=J.isFillTransparent||!1,this.fillOpacity=J.fillOpacity||1,this.font=J.font||"10px sans-serif",this.textBaseline=J.textBaseline||"alphabetic",this.textAlign=J.textAlign||"left",this.lineWidth=J.lineWidth||1,this.lineJoin=J.lineJoin||"miter",this.lineCap=J.lineCap||"butt",this.path=J.path||[],this.transform=J.transform!==void 0?J.transform.clone():new j,this.globalCompositeOperation=J.globalCompositeOperation||"normal",this.globalAlpha=J.globalAlpha||1,this.clip_path=J.clip_path||[],this.currentPoint=J.currentPoint||new D,this.miterLimit=J.miterLimit||10,this.lastPoint=J.lastPoint||new D,this.ignoreClearRect=typeof J.ignoreClearRect!="boolean"||J.ignoreClearRect,this};w.events.push(["initialized",function(){this.context2d=new ut(this),g=this.internal.f2,m=this.internal.getCoordinateString,T=this.internal.getVerticalCoordinateString,A=this.internal.getHorizontalCoordinate,C=this.internal.getVerticalCoordinate,D=this.internal.Point,R=this.internal.Rectangle,j=this.internal.Matrix,H=new st}]);var ut=function(J){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Mt=J;Object.defineProperty(this,"pdf",{get:function(){return Mt}});var Gt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Gt},set:function(Pe){Gt=Boolean(Pe)}});var Bt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Bt},set:function(Pe){Bt=Boolean(Pe)}});var Jt=0;Object.defineProperty(this,"posX",{get:function(){return Jt},set:function(Pe){isNaN(Pe)||(Jt=Pe)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(Pe){isNaN(Pe)||(ae=Pe)}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(Pe){_e=Boolean(Pe)}});var Oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Oe},set:function(Pe){Oe=Pe}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(Pe){Ae=Pe}}),Object.defineProperty(this,"ctx",{get:function(){return H},set:function(Pe){Pe instanceof st&&(H=Pe)}}),Object.defineProperty(this,"path",{get:function(){return H.path},set:function(Pe){H.path=Pe}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(Pe){ke=Pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Pe){var or;or=mt(Pe),this.ctx.fillStyle=or.style,this.ctx.isFillTransparent=or.a===0,this.ctx.fillOpacity=or.a,this.pdf.setFillColor(or.r,or.g,or.b,{a:or.a}),this.pdf.setTextColor(or.r,or.g,or.b,{a:or.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Pe){var or=mt(Pe);this.ctx.strokeStyle=or.style,this.ctx.isStrokeTransparent=or.a===0,this.ctx.strokeOpacity=or.a,or.a===0?this.pdf.setDrawColor(255,255,255):(or.a,this.pdf.setDrawColor(or.r,or.g,or.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Pe){["butt","round","square"].indexOf(Pe)!==-1&&(this.ctx.lineCap=Pe,this.pdf.setLineCap(Pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Pe){isNaN(Pe)||(this.ctx.lineWidth=Pe,this.pdf.setLineWidth(Pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Pe){["bevel","round","miter"].indexOf(Pe)!==-1&&(this.ctx.lineJoin=Pe,this.pdf.setLineJoin(Pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Pe){isNaN(Pe)||(this.ctx.miterLimit=Pe,this.pdf.setMiterLimit(Pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Pe){this.ctx.textBaseline=Pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Pe){["right","end","center","left","start"].indexOf(Pe)!==-1&&(this.ctx.textAlign=Pe)}});var cr=null;function Mr(Pe,or){if(cr===null){var $r=function(Rr){var Ut=[];return Object.keys(Rr).forEach(function(Ir){Rr[Ir].forEach(function(rn){var Ye=null;switch(rn){case"bold":Ye={family:Ir,weight:"bold"};break;case"italic":Ye={family:Ir,style:"italic"};break;case"bolditalic":Ye={family:Ir,weight:"bold",style:"italic"};break;case"":case"normal":Ye={family:Ir}}Ye!==null&&(Ye.ref={name:Ir,style:rn},Ut.push(Ye))})}),Ut}(Pe.getFontList());cr=function(Rr){for(var Ut={},Ir=0;Ir<Rr.length;++Ir){var rn=bi(Rr[Ir]),Ye=rn.family,cn=rn.stretch,Kr=rn.style,mn=rn.weight;Ut[Ye]=Ut[Ye]||{},Ut[Ye][cn]=Ut[Ye][cn]||{},Ut[Ye][cn][Kr]=Ut[Ye][cn][Kr]||{},Ut[Ye][cn][Kr][mn]=rn}return Ut}($r.concat(or))}return cr}var fr=null;Object.defineProperty(this,"fontFaces",{get:function(){return fr},set:function(Pe){cr=null,fr=Pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Pe){var or;if(this.ctx.font=Pe,(or=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Pe))!==null){var $r=or[1],Rr=(or[2],or[3]),Ut=or[4],Ir=(or[5],or[6]),rn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ut)[2];Ut=Math.floor(rn==="px"?parseFloat(Ut)*this.pdf.internal.scaleFactor:rn==="em"?parseFloat(Ut)*this.pdf.getFontSize():parseFloat(Ut)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ut);var Ye=function(ln){var ro,Ki,Cn=[],Ln=ln.trim();if(Ln==="")return mu;if(Ln in Gn)return[Gn[Ln]];for(;Ln!=="";){switch(Ki=null,ro=(Ln=Xi(Ln)).charAt(0)){case'"':case"'":Ki=Gl(Ln.substring(1),ro);break;default:Ki=Rs(Ln)}if(Ki===null||(Cn.push(Ki[0]),(Ln=Xi(Ki[1]))!==""&&Ln.charAt(0)!==","))return mu;Ln=Ln.replace(/^,/,"")}return Cn}(Ir);if(this.fontFaces){var cn=So(Mr(this.pdf,this.fontFaces),Ye.map(function(ln){return{family:ln,stretch:"normal",weight:Rr,style:$r}}));this.pdf.setFont(cn.ref.name,cn.ref.style)}else{var Kr="";(Rr==="bold"||parseInt(Rr,10)>=700||$r==="bold")&&(Kr="bold"),$r==="italic"&&(Kr+="italic"),Kr.length===0&&(Kr="normal");for(var mn="",In={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Vn=0;Vn<Ye.length;Vn++){if(this.pdf.internal.getFont(Ye[Vn],Kr,{noFallback:!0,disableWarning:!0})!==void 0){mn=Ye[Vn];break}if(Kr==="bolditalic"&&this.pdf.internal.getFont(Ye[Vn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)mn=Ye[Vn],Kr="bold";else if(this.pdf.internal.getFont(Ye[Vn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){mn=Ye[Vn],Kr="normal";break}}if(mn===""){for(var oi=0;oi<Ye.length;oi++)if(In[Ye[oi]]){mn=In[Ye[oi]];break}}mn=mn===""?"Times":mn,this.pdf.setFont(mn,Kr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Pe){this.ctx.globalCompositeOperation=Pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Pe){this.ctx.globalAlpha=Pe}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Pe){this.ctx.ignoreClearRect=Boolean(Pe)}})};ut.prototype.fill=function(){ue.call(this,"fill",!1)},ut.prototype.stroke=function(){ue.call(this,"stroke",!1)},ut.prototype.beginPath=function(){this.path=[{type:"begin"}]},ut.prototype.moveTo=function(J,Mt){if(isNaN(J)||isNaN(Mt))throw F.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Gt=this.ctx.transform.applyToPoint(new D(J,Mt));this.path.push({type:"mt",x:Gt.x,y:Gt.y}),this.ctx.lastPoint=new D(J,Mt)},ut.prototype.closePath=function(){var J=new D(0,0),Mt=0;for(Mt=this.path.length-1;Mt!==-1;Mt--)if(this.path[Mt].type==="begin"&&typeof this.path[Mt+1]=="object"&&typeof this.path[Mt+1].x=="number"){J=new D(this.path[Mt+1].x,this.path[Mt+1].y),this.path.push({type:"lt",x:J.x,y:J.y});break}typeof this.path[Mt+2]=="object"&&typeof this.path[Mt+2].x=="number"&&this.path.push(JSON.parse(JSON.stringify(this.path[Mt+2]))),this.path.push({type:"close"}),this.ctx.lastPoint=new D(J.x,J.y)},ut.prototype.lineTo=function(J,Mt){if(isNaN(J)||isNaN(Mt))throw F.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Gt=this.ctx.transform.applyToPoint(new D(J,Mt));this.path.push({type:"lt",x:Gt.x,y:Gt.y}),this.ctx.lastPoint=new D(Gt.x,Gt.y)},ut.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ue.call(this,null,!0)},ut.prototype.quadraticCurveTo=function(J,Mt,Gt,Bt){if(isNaN(Gt)||isNaN(Bt)||isNaN(J)||isNaN(Mt))throw F.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Jt=this.ctx.transform.applyToPoint(new D(Gt,Bt)),ae=this.ctx.transform.applyToPoint(new D(J,Mt));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:Jt.x,y:Jt.y}),this.ctx.lastPoint=new D(Jt.x,Jt.y)},ut.prototype.bezierCurveTo=function(J,Mt,Gt,Bt,Jt,ae){if(isNaN(Jt)||isNaN(ae)||isNaN(J)||isNaN(Mt)||isNaN(Gt)||isNaN(Bt))throw F.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new D(Jt,ae)),Oe=this.ctx.transform.applyToPoint(new D(J,Mt)),Ae=this.ctx.transform.applyToPoint(new D(Gt,Bt));this.path.push({type:"bct",x1:Oe.x,y1:Oe.y,x2:Ae.x,y2:Ae.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new D(_e.x,_e.y)},ut.prototype.arc=function(J,Mt,Gt,Bt,Jt,ae){if(isNaN(J)||isNaN(Mt)||isNaN(Gt)||isNaN(Bt)||isNaN(Jt))throw F.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=Boolean(ae),!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new D(J,Mt));J=_e.x,Mt=_e.y;var Oe=this.ctx.transform.applyToPoint(new D(0,Gt)),Ae=this.ctx.transform.applyToPoint(new D(0,0));Gt=Math.sqrt(Math.pow(Oe.x-Ae.x,2)+Math.pow(Oe.y-Ae.y,2))}Math.abs(Jt-Bt)>=2*Math.PI&&(Bt=0,Jt=2*Math.PI),this.path.push({type:"arc",x:J,y:Mt,radius:Gt,startAngle:Bt,endAngle:Jt,counterclockwise:ae})},ut.prototype.arcTo=function(J,Mt,Gt,Bt,Jt){throw new Error("arcTo not implemented.")},ut.prototype.rect=function(J,Mt,Gt,Bt){if(isNaN(J)||isNaN(Mt)||isNaN(Gt)||isNaN(Bt))throw F.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(J,Mt),this.lineTo(J+Gt,Mt),this.lineTo(J+Gt,Mt+Bt),this.lineTo(J,Mt+Bt),this.lineTo(J,Mt),this.lineTo(J+Gt,Mt),this.lineTo(J,Mt)},ut.prototype.fillRect=function(J,Mt,Gt,Bt){if(isNaN(J)||isNaN(Mt)||isNaN(Gt)||isNaN(Bt))throw F.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Y.call(this)){var Jt={};this.lineCap!=="butt"&&(Jt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Jt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(J,Mt,Gt,Bt),this.fill(),Jt.hasOwnProperty("lineCap")&&(this.lineCap=Jt.lineCap),Jt.hasOwnProperty("lineJoin")&&(this.lineJoin=Jt.lineJoin)}},ut.prototype.strokeRect=function(J,Mt,Gt,Bt){if(isNaN(J)||isNaN(Mt)||isNaN(Gt)||isNaN(Bt))throw F.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Dt.call(this)||(this.beginPath(),this.rect(J,Mt,Gt,Bt),this.stroke())},ut.prototype.clearRect=function(J,Mt,Gt,Bt){if(isNaN(J)||isNaN(Mt)||isNaN(Gt)||isNaN(Bt))throw F.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(J,Mt,Gt,Bt))},ut.prototype.save=function(J){J=typeof J!="boolean"||J;for(var Mt=this.pdf.internal.getCurrentPageInfo().pageNumber,Gt=0;Gt<this.pdf.internal.getNumberOfPages();Gt++)this.pdf.setPage(Gt+1),this.pdf.internal.out("q");if(this.pdf.setPage(Mt),J){this.ctx.fontSize=this.pdf.internal.getFontSize();var Bt=new st(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Bt}},ut.prototype.restore=function(J){J=typeof J!="boolean"||J;for(var Mt=this.pdf.internal.getCurrentPageInfo().pageNumber,Gt=0;Gt<this.pdf.internal.getNumberOfPages();Gt++)this.pdf.setPage(Gt+1),this.pdf.internal.out("Q");this.pdf.setPage(Mt),J&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin)},ut.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var mt=function(J){var Mt,Gt,Bt,Jt;if(J.isCanvasGradient===!0&&(J=J.getColor()),!J)return{r:0,g:0,b:0,a:0,style:J};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(J))Mt=0,Gt=0,Bt=0,Jt=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(J);if(ae!==null)Mt=parseInt(ae[1]),Gt=parseInt(ae[2]),Bt=parseInt(ae[3]),Jt=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(J))!==null)Mt=parseInt(ae[1]),Gt=parseInt(ae[2]),Bt=parseInt(ae[3]),Jt=parseFloat(ae[4]);else{if(Jt=1,typeof J=="string"&&J.charAt(0)!=="#"){var _e=new it(J);J=_e.ok?_e.toHex():"#000000"}J.length===4?(Mt=J.substring(1,2),Mt+=Mt,Gt=J.substring(2,3),Gt+=Gt,Bt=J.substring(3,4),Bt+=Bt):(Mt=J.substring(1,3),Gt=J.substring(3,5),Bt=J.substring(5,7)),Mt=parseInt(Mt,16),Gt=parseInt(Gt,16),Bt=parseInt(Bt,16)}}return{r:Mt,g:Gt,b:Bt,a:Jt,style:J}},Y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},Dt=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};ut.prototype.fillText=function(J,Mt,Gt,Bt){if(isNaN(Mt)||isNaN(Gt)||typeof J!="string")throw F.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Bt=isNaN(Bt)?void 0:Bt,!Y.call(this)){Gt=ze.call(this,Gt);var Jt=Be(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;Je.call(this,{text:J,x:Mt,y:Gt,scale:ae,angle:Jt,align:this.textAlign,maxWidth:Bt})}},ut.prototype.strokeText=function(J,Mt,Gt,Bt){if(isNaN(Mt)||isNaN(Gt)||typeof J!="string")throw F.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Dt.call(this)){Bt=isNaN(Bt)?void 0:Bt,Gt=ze.call(this,Gt);var Jt=Be(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;Je.call(this,{text:J,x:Mt,y:Gt,scale:ae,renderingMode:"stroke",angle:Jt,align:this.textAlign,maxWidth:Bt})}},ut.prototype.measureText=function(J){if(typeof J!="string")throw F.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Mt=this.pdf,Gt=this.pdf.internal.scaleFactor,Bt=Mt.internal.getFontSize(),Jt=Mt.getStringUnitWidth(J)*Bt/Mt.internal.scaleFactor,ae=function(_e){var Oe=(_e=_e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Oe}}),this};return new ae({width:Jt*=Math.round(96*Gt/72*1e4)/1e4})},ut.prototype.scale=function(J,Mt){if(isNaN(J)||isNaN(Mt))throw F.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Gt=new j(J,0,0,Mt,0,0);this.ctx.transform=this.ctx.transform.multiply(Gt)},ut.prototype.rotate=function(J){if(isNaN(J))throw F.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Mt=new j(Math.cos(J),Math.sin(J),-Math.sin(J),Math.cos(J),0,0);this.ctx.transform=this.ctx.transform.multiply(Mt)},ut.prototype.translate=function(J,Mt){if(isNaN(J)||isNaN(Mt))throw F.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Gt=new j(1,0,0,1,J,Mt);this.ctx.transform=this.ctx.transform.multiply(Gt)},ut.prototype.transform=function(J,Mt,Gt,Bt,Jt,ae){if(isNaN(J)||isNaN(Mt)||isNaN(Gt)||isNaN(Bt)||isNaN(Jt)||isNaN(ae))throw F.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new j(J,Mt,Gt,Bt,Jt,ae);this.ctx.transform=this.ctx.transform.multiply(_e)},ut.prototype.setTransform=function(J,Mt,Gt,Bt,Jt,ae){J=isNaN(J)?1:J,Mt=isNaN(Mt)?0:Mt,Gt=isNaN(Gt)?0:Gt,Bt=isNaN(Bt)?1:Bt,Jt=isNaN(Jt)?0:Jt,ae=isNaN(ae)?0:ae,this.ctx.transform=new j(J,Mt,Gt,Bt,Jt,ae)},ut.prototype.drawImage=function(J,Mt,Gt,Bt,Jt,ae,_e,Oe,Ae){var ke=this.pdf.getImageProperties(J),cr=1,Mr=1,fr=1,Pe=1;Bt!==void 0&&Oe!==void 0&&(fr=Oe/Bt,Pe=Ae/Jt,cr=ke.width/Bt*Oe/Bt,Mr=ke.height/Jt*Ae/Jt),ae===void 0&&(ae=Mt,_e=Gt,Mt=0,Gt=0),Bt!==void 0&&Oe===void 0&&(Oe=Bt,Ae=Jt),Bt===void 0&&Oe===void 0&&(Oe=ke.width,Ae=ke.height);for(var or,$r=this.ctx.transform.decompose(),Rr=Be($r.rotate.shx),Ut=new j,Ir=(Ut=(Ut=(Ut=Ut.multiply($r.translate)).multiply($r.skew)).multiply($r.scale)).applyToRectangle(new R(ae-Mt*fr,_e-Gt*Pe,Bt*cr,Jt*Mr)),rn=Tt.call(this,Ir),Ye=[],cn=0;cn<rn.length;cn+=1)Ye.indexOf(rn[cn])===-1&&Ye.push(rn[cn]);if(Nt(Ye),this.autoPaging)for(var Kr=Ye[0],mn=Ye[Ye.length-1],In=Kr;In<mn+1;In++){if(this.pdf.setPage(In),this.ctx.clip_path.length!==0){var Vn=this.path;or=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(or,this.posX,-1*this.pdf.internal.pageSize.height*(In-1)+this.posY),Re.call(this,"fill",!0),this.path=Vn}var oi=JSON.parse(JSON.stringify(Ir));oi=te([oi],this.posX,-1*this.pdf.internal.pageSize.height*(In-1)+this.posY)[0],this.pdf.addImage(J,"JPEG",oi.x,oi.y,oi.w,oi.h,null,null,Rr)}else this.pdf.addImage(J,"JPEG",Ir.x,Ir.y,Ir.w,Ir.h,null,null,Rr)};var Tt=function(J,Mt,Gt){var Bt=[];switch(Mt=Mt||this.pdf.internal.pageSize.width,Gt=Gt||this.pdf.internal.pageSize.height,J.type){default:case"mt":case"lt":Bt.push(Math.floor((J.y+this.posY)/Gt)+1);break;case"arc":Bt.push(Math.floor((J.y+this.posY-J.radius)/Gt)+1),Bt.push(Math.floor((J.y+this.posY+J.radius)/Gt)+1);break;case"qct":var Jt=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,J.x1,J.y1,J.x,J.y);Bt.push(Math.floor(Jt.y/Gt)+1),Bt.push(Math.floor((Jt.y+Jt.h)/Gt)+1);break;case"bct":var ae=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,J.x1,J.y1,J.x2,J.y2,J.x,J.y);Bt.push(Math.floor(ae.y/Gt)+1),Bt.push(Math.floor((ae.y+ae.h)/Gt)+1);break;case"rect":Bt.push(Math.floor((J.y+this.posY)/Gt)+1),Bt.push(Math.floor((J.y+J.h+this.posY)/Gt)+1)}for(var _e=0;_e<Bt.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<Bt[_e];)ct.call(this);return Bt},ct=function(){var J=this.fillStyle,Mt=this.strokeStyle,Gt=this.font,Bt=this.lineCap,Jt=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=J,this.strokeStyle=Mt,this.font=Gt,this.lineCap=Bt,this.lineWidth=Jt,this.lineJoin=ae},te=function(J,Mt,Gt){for(var Bt=0;Bt<J.length;Bt++)switch(J[Bt].type){case"bct":J[Bt].x2+=Mt,J[Bt].y2+=Gt;case"qct":J[Bt].x1+=Mt,J[Bt].y1+=Gt;case"mt":case"lt":case"arc":default:J[Bt].x+=Mt,J[Bt].y+=Gt}return J},Nt=function(J){return J.sort(function(Mt,Gt){return Mt-Gt})},ue=function(J,Mt){for(var Gt,Bt,Jt=this.fillStyle,ae=this.strokeStyle,_e=this.lineCap,Oe=this.lineWidth,Ae=Oe*this.ctx.transform.scaleX,ke=this.lineJoin,cr=JSON.parse(JSON.stringify(this.path)),Mr=JSON.parse(JSON.stringify(this.path)),fr=[],Pe=0;Pe<Mr.length;Pe++)if(Mr[Pe].x!==void 0)for(var or=Tt.call(this,Mr[Pe]),$r=0;$r<or.length;$r+=1)fr.indexOf(or[$r])===-1&&fr.push(or[$r]);for(var Rr=0;Rr<fr.length;Rr++)for(;this.pdf.internal.getNumberOfPages()<fr[Rr];)ct.call(this);if(Nt(fr),this.autoPaging)for(var Ut=fr[0],Ir=fr[fr.length-1],rn=Ut;rn<Ir+1;rn++){if(this.pdf.setPage(rn),this.fillStyle=Jt,this.strokeStyle=ae,this.lineCap=_e,this.lineWidth=Ae,this.lineJoin=ke,this.ctx.clip_path.length!==0){var Ye=this.path;Gt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(Gt,this.posX,-1*this.pdf.internal.pageSize.height*(rn-1)+this.posY),Re.call(this,J,!0),this.path=Ye}Bt=JSON.parse(JSON.stringify(cr)),this.path=te(Bt,this.posX,-1*this.pdf.internal.pageSize.height*(rn-1)+this.posY),Mt!==!1&&rn!==0||Re.call(this,J,Mt),this.lineWidth=Oe}else this.lineWidth=Ae,Re.call(this,J,Mt),this.lineWidth=Oe;this.path=cr},Re=function(J,Mt){if((J!=="stroke"||Mt||!Dt.call(this))&&(J==="stroke"||Mt||!Y.call(this))){for(var Gt,Bt,Jt=[],ae=this.path,_e=0;_e<ae.length;_e++){var Oe=ae[_e];switch(Oe.type){case"begin":Jt.push({begin:!0});break;case"close":Jt.push({close:!0});break;case"mt":Jt.push({start:Oe,deltas:[],abs:[]});break;case"lt":var Ae=Jt.length;if(!isNaN(ae[_e-1].x)&&(Gt=[Oe.x-ae[_e-1].x,Oe.y-ae[_e-1].y],Ae>0)){for(;Ae>=0;Ae--)if(Jt[Ae-1].close!==!0&&Jt[Ae-1].begin!==!0){Jt[Ae-1].deltas.push(Gt),Jt[Ae-1].abs.push(Oe);break}}break;case"bct":Gt=[Oe.x1-ae[_e-1].x,Oe.y1-ae[_e-1].y,Oe.x2-ae[_e-1].x,Oe.y2-ae[_e-1].y,Oe.x-ae[_e-1].x,Oe.y-ae[_e-1].y],Jt[Jt.length-1].deltas.push(Gt);break;case"qct":var ke=ae[_e-1].x+2/3*(Oe.x1-ae[_e-1].x),cr=ae[_e-1].y+2/3*(Oe.y1-ae[_e-1].y),Mr=Oe.x+2/3*(Oe.x1-Oe.x),fr=Oe.y+2/3*(Oe.y1-Oe.y),Pe=Oe.x,or=Oe.y;Gt=[ke-ae[_e-1].x,cr-ae[_e-1].y,Mr-ae[_e-1].x,fr-ae[_e-1].y,Pe-ae[_e-1].x,or-ae[_e-1].y],Jt[Jt.length-1].deltas.push(Gt);break;case"arc":Jt.push({deltas:[],abs:[],arc:!0}),Array.isArray(Jt[Jt.length-1].abs)&&Jt[Jt.length-1].abs.push(Oe)}}Bt=Mt?null:J==="stroke"?"stroke":"fill";for(var $r=0;$r<Jt.length;$r++){if(Jt[$r].arc){for(var Rr=Jt[$r].abs,Ut=0;Ut<Rr.length;Ut++){var Ir=Rr[Ut];Ir.type==="arc"?tr.call(this,Ir.x,Ir.y,Ir.radius,Ir.startAngle,Ir.endAngle,Ir.counterclockwise,void 0,Mt):ft.call(this,Ir.x,Ir.y)}Pt.call(this,Bt),this.pdf.internal.out("h")}if(!Jt[$r].arc&&Jt[$r].close!==!0&&Jt[$r].begin!==!0){var rn=Jt[$r].start.x,Ye=Jt[$r].start.y;jt.call(this,Jt[$r].deltas,rn,Ye)}}Bt&&Pt.call(this,Bt),Mt&&Ke.call(this)}},ze=function(J){var Mt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Gt=Mt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return J-Gt;case"top":return J+Mt-Gt;case"hanging":return J+Mt-2*Gt;case"middle":return J+Mt/2-Gt;case"ideographic":return J;case"alphabetic":default:return J}};ut.prototype.createLinearGradient=function(){var J=function(){};return J.colorStops=[],J.addColorStop=function(Mt,Gt){this.colorStops.push([Mt,Gt])},J.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},J.isCanvasGradient=!0,J},ut.prototype.createPattern=function(){return this.createLinearGradient()},ut.prototype.createRadialGradient=function(){return this.createLinearGradient()};var tr=function(J,Mt,Gt,Bt,Jt,ae,_e,Oe){for(var Ae=$t.call(this,Gt,Bt,Jt,ae),ke=0;ke<Ae.length;ke++){var cr=Ae[ke];ke===0&&ir.call(this,cr.x1+J,cr.y1+Mt),ie.call(this,J,Mt,cr.x2,cr.y2,cr.x3,cr.y3,cr.x4,cr.y4)}Oe?Ke.call(this):Pt.call(this,_e)},Pt=function(J){switch(J){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ke=function(){this.pdf.clip(),this.pdf.discardPath()},ir=function(J,Mt){this.pdf.internal.out(m(J)+" "+T(Mt)+" m")},Je=function(J){var Mt;switch(J.align){case"right":case"end":Mt="right";break;case"center":Mt="center";break;case"left":case"start":default:Mt="left"}var Gt=this.ctx.transform.applyToPoint(new D(J.x,J.y)),Bt=this.ctx.transform.decompose(),Jt=new j;Jt=(Jt=(Jt=Jt.multiply(Bt.translate)).multiply(Bt.skew)).multiply(Bt.scale);for(var ae,_e,Oe,Ae=this.pdf.getTextDimensions(J.text),ke=this.ctx.transform.applyToRectangle(new R(J.x,J.y,Ae.w,Ae.h)),cr=Jt.applyToRectangle(new R(J.x,J.y-Ae.h,Ae.w,Ae.h)),Mr=Tt.call(this,cr),fr=[],Pe=0;Pe<Mr.length;Pe+=1)fr.indexOf(Mr[Pe])===-1&&fr.push(Mr[Pe]);if(Nt(fr),this.autoPaging===!0)for(var or=fr[0],$r=fr[fr.length-1],Rr=or;Rr<$r+1;Rr++){if(this.pdf.setPage(Rr),this.ctx.clip_path.length!==0){var Ut=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(ae,this.posX,-1*this.pdf.internal.pageSize.height*(Rr-1)+this.posY),Re.call(this,"fill",!0),this.path=Ut}var Ir=JSON.parse(JSON.stringify(ke));Ir=te([Ir],this.posX,-1*this.pdf.internal.pageSize.height*(Rr-1)+this.posY)[0],J.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*J.scale),Oe=this.lineWidth,this.lineWidth=Oe*J.scale),this.pdf.text(J.text,Ir.x,Ir.y,{angle:J.angle,align:Mt,renderingMode:J.renderingMode,maxWidth:J.maxWidth}),J.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=Oe)}else J.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*J.scale),Oe=this.lineWidth,this.lineWidth=Oe*J.scale),this.pdf.text(J.text,Gt.x+this.posX,Gt.y+this.posY,{angle:J.angle,align:Mt,renderingMode:J.renderingMode,maxWidth:J.maxWidth}),J.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=Oe)},ft=function(J,Mt,Gt,Bt){Gt=Gt||0,Bt=Bt||0,this.pdf.internal.out(m(J+Gt)+" "+T(Mt+Bt)+" l")},jt=function(J,Mt,Gt){return this.pdf.lines(J,Mt,Gt,null,null)},ie=function(J,Mt,Gt,Bt,Jt,ae,_e,Oe){this.pdf.internal.out([g(A(Gt+J)),g(C(Bt+Mt)),g(A(Jt+J)),g(C(ae+Mt)),g(A(_e+J)),g(C(Oe+Mt)),"c"].join(" "))},$t=function(J,Mt,Gt,Bt){for(var Jt=2*Math.PI,ae=Math.PI/2;Mt>Gt;)Mt-=Jt;var _e=Math.abs(Gt-Mt);_e<Jt&&Bt&&(_e=Jt-_e);for(var Oe=[],Ae=Bt?-1:1,ke=Mt;_e>1e-5;){var cr=ke+Ae*Math.min(_e,ae);Oe.push(Te.call(this,J,ke,cr)),_e-=Math.abs(cr-ke),ke=cr}return Oe},Te=function(J,Mt,Gt){var Bt=(Gt-Mt)/2,Jt=J*Math.cos(Bt),ae=J*Math.sin(Bt),_e=Jt,Oe=-ae,Ae=_e*_e+Oe*Oe,ke=Ae+_e*Jt+Oe*ae,cr=4/3*(Math.sqrt(2*Ae*ke)-ke)/(_e*ae-Oe*Jt),Mr=_e-cr*Oe,fr=Oe+cr*_e,Pe=Mr,or=-fr,$r=Bt+Mt,Rr=Math.cos($r),Ut=Math.sin($r);return{x1:J*Math.cos(Mt),y1:J*Math.sin(Mt),x2:Mr*Rr-fr*Ut,y2:Mr*Ut+fr*Rr,x3:Pe*Rr-or*Ut,y3:Pe*Ut+or*Rr,x4:J*Math.cos(Gt),y4:J*Math.sin(Gt)}},Be=function(J){return 180*J/Math.PI},be=function(J,Mt,Gt,Bt,Jt,ae){var _e=J+.5*(Gt-J),Oe=Mt+.5*(Bt-Mt),Ae=Jt+.5*(Gt-Jt),ke=ae+.5*(Bt-ae),cr=Math.min(J,Jt,_e,Ae),Mr=Math.max(J,Jt,_e,Ae),fr=Math.min(Mt,ae,Oe,ke),Pe=Math.max(Mt,ae,Oe,ke);return new R(cr,fr,Mr-cr,Pe-fr)},ge=function(J,Mt,Gt,Bt,Jt,ae,_e,Oe){var Ae,ke,cr,Mr,fr,Pe,or,$r,Rr,Ut,Ir,rn,Ye,cn,Kr=Gt-J,mn=Bt-Mt,In=Jt-Gt,Vn=ae-Bt,oi=_e-Jt,ln=Oe-ae;for(ke=0;ke<41;ke++)Rr=(or=(cr=J+(Ae=ke/40)*Kr)+Ae*((fr=Gt+Ae*In)-cr))+Ae*(fr+Ae*(Jt+Ae*oi-fr)-or),Ut=($r=(Mr=Mt+Ae*mn)+Ae*((Pe=Bt+Ae*Vn)-Mr))+Ae*(Pe+Ae*(ae+Ae*ln-Pe)-$r),ke==0?(Ir=Rr,rn=Ut,Ye=Rr,cn=Ut):(Ir=Math.min(Ir,Rr),rn=Math.min(rn,Ut),Ye=Math.max(Ye,Rr),cn=Math.max(cn,Ut));return new R(Math.round(Ir),Math.round(rn),Math.round(Ye-Ir),Math.round(cn-rn))}})(me.API),function(w){var g=function(C){var D,R,j,H,st,ut,mt,Y,Dt,Tt;for(/[^\x00-\xFF]/.test(C),R=[],j=0,H=(C+=D="\0\0\0\0".slice(C.length%4||4)).length;H>j;j+=4)(st=(C.charCodeAt(j)<<24)+(C.charCodeAt(j+1)<<16)+(C.charCodeAt(j+2)<<8)+C.charCodeAt(j+3))!==0?(ut=(st=((st=((st=((st=(st-(Tt=st%85))/85)-(Dt=st%85))/85)-(Y=st%85))/85)-(mt=st%85))/85)%85,R.push(ut+33,mt+33,Y+33,Dt+33,Tt+33)):R.push(122);return function(ct,te){for(var Nt=te;Nt>0;Nt--)ct.pop()}(R,D.length),String.fromCharCode.apply(String,R)+"~>"},m=function(C){var D,R,j,H,st,ut=String,mt="length",Y=255,Dt="charCodeAt",Tt="slice",ct="replace";for(C[Tt](-2),C=C[Tt](0,-2)[ct](/\s/g,"")[ct]("z","!!!!!"),j=[],H=0,st=(C+=D="uuuuu"[Tt](C[mt]%5||5))[mt];st>H;H+=5)R=52200625*(C[Dt](H)-33)+614125*(C[Dt](H+1)-33)+7225*(C[Dt](H+2)-33)+85*(C[Dt](H+3)-33)+(C[Dt](H+4)-33),j.push(Y&R>>24,Y&R>>16,Y&R>>8,Y&R);return function(te,Nt){for(var ue=Nt;ue>0;ue--)te.pop()}(j,D[mt]),ut.fromCharCode.apply(ut,j)},T=function(C){var D=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((C=C.replace(/\s/g,"")).indexOf(">")!==-1&&(C=C.substr(0,C.indexOf(">"))),C.length%2&&(C+="0"),D.test(C)===!1)return"";for(var R="",j=0;j<C.length;j+=2)R+=String.fromCharCode("0x"+(C[j]+C[j+1]));return R},A=function(C){for(var D=new Uint8Array(C.length),R=C.length;R--;)D[R]=C.charCodeAt(R);return C=(D=Object(S.b)(D)).reduce(function(j,H){return j+String.fromCharCode(H)},"")};w.processDataByFilters=function(C,D){var R=0,j=C||"",H=[];for(typeof(D=D||[])=="string"&&(D=[D]),R=0;R<D.length;R+=1)switch(D[R]){case"ASCII85Decode":case"/ASCII85Decode":j=m(j),H.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":j=g(j),H.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":j=T(j),H.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":j=j.split("").map(function(st){return("0"+st.charCodeAt().toString(16)).slice(-2)}).join("")+">",H.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":j=A(j),H.push("/FlateDecode");break;default:throw new Error('The filter: "'+D[R]+'" is not implemented')}return{data:j,reverseChain:H.reverse().join(" ")}}}(me.API),function(w){w.loadFile=function(g,m,T){return function(A,C,D){C=C!==!1,D=typeof D=="function"?D:function(){};var R=void 0;try{R=function(j,H,st){var ut=new XMLHttpRequest,mt=0,Y=function(Dt){var Tt=Dt.length,ct=[],te=String.fromCharCode;for(mt=0;mt<Tt;mt+=1)ct.push(te(255&Dt.charCodeAt(mt)));return ct.join("")};if(ut.open("GET",j,!H),ut.overrideMimeType("text/plain; charset=x-user-defined"),H===!1&&(ut.onload=function(){ut.status===200?st(Y(this.responseText)):st(void 0)}),ut.send(null),H&&ut.status===200)return Y(ut.responseText)}(A,C,D)}catch{}return R}(g,m,T)},w.loadImageFile=w.loadFile}(me.API),function(w){function g(){return(x.html2canvas?Promise.resolve(x.html2canvas):c.e(3).then(c.t.bind(null,"c0e9",7))).catch(function(R){return Promise.reject(new Error("Could not load html2canvas: "+R))}).then(function(R){return R.default?R.default:R})}function m(){return(x.DOMPurify?Promise.resolve(x.DOMPurify):c.e(2).then(c.t.bind(null,"c0c4",7))).catch(function(R){return Promise.reject(new Error("Could not load dompurify: "+R))}).then(function(R){return R.default?R.default:R})}var T=function(R){var j=typeof R;return j==="undefined"?"undefined":j==="string"||R instanceof String?"string":j==="number"||R instanceof Number?"number":j==="function"||R instanceof Function?"function":R&&R.constructor===Array?"array":R&&R.nodeType===1?"element":j==="object"?"object":"unknown"},A=function(R,j){var H=document.createElement(R);for(var st in j.className&&(H.className=j.className),j.innerHTML&&j.dompurify&&(H.innerHTML=j.dompurify.sanitize(j.innerHTML)),j.style)H.style[st]=j.style[st];return H},C=function(R,j){for(var H=R.nodeType===3?document.createTextNode(R.nodeValue):R.cloneNode(!1),st=R.firstChild;st;st=st.nextSibling)j!==!0&&st.nodeType===1&&st.nodeName==="SCRIPT"||H.appendChild(C(st,j));return R.nodeType===1&&(R.nodeName==="CANVAS"?(H.width=R.width,H.height=R.height,H.getContext("2d").drawImage(R,0,0)):R.nodeName!=="TEXTAREA"&&R.nodeName!=="SELECT"||(H.value=R.value),H.addEventListener("load",function(){H.scrollTop=R.scrollTop,H.scrollLeft=R.scrollLeft},!0)),H},D=function R(j){var H=Object.assign(R.convert(Promise.resolve()),JSON.parse(JSON.stringify(R.template))),st=R.convert(Promise.resolve(),H);return st=(st=st.setProgress(1,R,1,[R])).set(j)};(D.prototype=Object.create(Promise.prototype)).constructor=D,D.convert=function(R,j){return R.__proto__=j||D.prototype,R},D.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},D.prototype.from=function(R,j){return this.then(function(){switch(j=j||function(H){switch(T(H)){case"string":return"string";case"element":return H.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(R)){case"string":return this.then(m).then(function(H){return this.set({src:A("div",{innerHTML:R,dompurify:H})})});case"element":return this.set({src:R});case"canvas":return this.set({canvas:R});case"img":return this.set({img:R});default:return this.error("Unknown source type.")}})},D.prototype.to=function(R){switch(R){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},D.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var R={position:"relative",display:"inline-block",width:Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},j=C(this.prop.src,this.opt.html2canvas.javascriptEnabled);j.tagName==="BODY"&&(R.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=A("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=A("div",{className:"html2pdf__container",style:R}),this.prop.container.appendChild(j),this.prop.container.firstChild.appendChild(A("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},D.prototype.toCanvas=function(){var R=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(R).then(g).then(function(j){var H=Object.assign({},this.opt.html2canvas);return delete H.onrendered,j(this.prop.container,H)}).then(function(j){(this.opt.html2canvas.onrendered||function(){})(j),this.prop.canvas=j,document.body.removeChild(this.prop.overlay)})},D.prototype.toContext2d=function(){var R=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(R).then(g).then(function(j){var H=this.opt.jsPDF,st=this.opt.fontFaces,ut=Object.assign({async:!0,allowTaint:!0,scale:1,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete ut.onrendered,H.context2d.autoPaging=!0,H.context2d.posX=this.opt.x,H.context2d.posY=this.opt.y,H.context2d.fontFaces=st,st)for(var mt=0;mt<st.length;++mt){var Y=st[mt],Dt=Y.src.find(function(Tt){return Tt.format==="truetype"});Dt&&H.addFont(Dt.url,Y.ref.name,Y.ref.style)}return ut.windowHeight=ut.windowHeight||0,ut.windowHeight=ut.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):ut.windowHeight,j(this.prop.container,ut)}).then(function(j){(this.opt.html2canvas.onrendered||function(){})(j),this.prop.canvas=j,document.body.removeChild(this.prop.overlay)})},D.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var R=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=R})},D.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},D.prototype.output=function(R,j,H){return(H=H||"pdf").toLowerCase()==="img"||H.toLowerCase()==="image"?this.outputImg(R,j):this.outputPdf(R,j)},D.prototype.outputPdf=function(R,j){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(R,j)})},D.prototype.outputImg=function(R){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(R){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+R+'" is not supported.'}})},D.prototype.save=function(R){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(R?{filename:R}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},D.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},D.prototype.set=function(R){if(T(R)!=="object")return this;var j=Object.keys(R||{}).map(function(H){if(H in D.template.prop)return function(){this.prop[H]=R[H]};switch(H){case"margin":return this.setMargin.bind(this,R.margin);case"jsPDF":return function(){return this.opt.jsPDF=R.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,R.pageSize);default:return function(){this.opt[H]=R[H]}}},this);return this.then(function(){return this.thenList(j)})},D.prototype.get=function(R,j){return this.then(function(){var H=R in D.template.prop?this.prop[R]:this.opt[R];return j?j(H):H})},D.prototype.setMargin=function(R){return this.then(function(){switch(T(R)){case"number":R=[R,R,R,R];case"array":if(R.length===2&&(R=[R[0],R[1],R[0],R[1]]),R.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=R}).then(this.setPageSize)},D.prototype.setPageSize=function(R){function j(H,st){return Math.floor(H*st/72*96)}return this.then(function(){(R=R||me.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(R.inner={width:R.width-this.opt.margin[1]-this.opt.margin[3],height:R.height-this.opt.margin[0]-this.opt.margin[2]},R.inner.px={width:j(R.inner.width,R.k),height:j(R.inner.height,R.k)},R.inner.ratio=R.inner.height/R.inner.width),this.prop.pageSize=R})},D.prototype.setProgress=function(R,j,H,st){return R!=null&&(this.progress.val=R),j!=null&&(this.progress.state=j),H!=null&&(this.progress.n=H),st!=null&&(this.progress.stack=st),this.progress.ratio=this.progress.val/this.progress.state,this},D.prototype.updateProgress=function(R,j,H,st){return this.setProgress(R?this.progress.val+R:null,j||null,H?this.progress.n+H:null,st?this.progress.stack.concat(st):null)},D.prototype.then=function(R,j){var H=this;return this.thenCore(R,j,function(st,ut){return H.updateProgress(null,null,1,[st]),Promise.prototype.then.call(this,function(mt){return H.updateProgress(null,st),mt}).then(st,ut).then(function(mt){return H.updateProgress(1),mt})})},D.prototype.thenCore=function(R,j,H){H=H||Promise.prototype.then,R&&(R=R.bind(this)),j&&(j=j.bind(this));var st=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:D.convert(Object.assign({},this),Promise.prototype),ut=H.call(st,R,j);return D.convert(ut,this.__proto__)},D.prototype.thenExternal=function(R,j){return Promise.prototype.then.call(this,R,j)},D.prototype.thenList=function(R){var j=this;return R.forEach(function(H){j=j.thenCore(H)}),j},D.prototype.catch=function(R){R&&(R=R.bind(this));var j=Promise.prototype.catch.call(this,R);return D.convert(j,this)},D.prototype.catchExternal=function(R){return Promise.prototype.catch.call(this,R)},D.prototype.error=function(R){return this.then(function(){throw new Error(R)})},D.prototype.using=D.prototype.set,D.prototype.saveAs=D.prototype.save,D.prototype.export=D.prototype.output,D.prototype.run=D.prototype.then,me.getPageSize=function(R,j,H){if(typeof R=="object"){var st=R;R=st.orientation,j=st.unit||j,H=st.format||H}j=j||"mm",H=H||"a4",R=(""+(R||"P")).toLowerCase();var ut,mt=(""+H).toLowerCase(),Y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(j){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=.75;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:throw"Invalid unit: "+j}var Dt,Tt=0,ct=0;if(Y.hasOwnProperty(mt))Tt=Y[mt][1]/ut,ct=Y[mt][0]/ut;else try{Tt=H[1],ct=H[0]}catch{throw new Error("Invalid format: "+H)}if(R==="p"||R==="portrait")R="p",ct>Tt&&(Dt=ct,ct=Tt,Tt=Dt);else{if(R!=="l"&&R!=="landscape")throw"Invalid orientation: "+R;R="l",Tt>ct&&(Dt=ct,ct=Tt,Tt=Dt)}return{width:ct,height:Tt,unit:j,k:ut,orientation:R}},w.html=function(R,j){(j=j||{}).callback=j.callback||function(){},j.html2canvas=j.html2canvas||{},j.html2canvas.canvas=j.html2canvas.canvas||this.canvas,j.jsPDF=j.jsPDF||this,j.fontFaces=j.fontFaces?j.fontFaces.map(bi):null;var H=new D(j);return j.worker?H:H.from(R).doCallback()}}(me.API),me.API.addJS=function(w){return Ac=w,this.internal.events.subscribe("postPutResources",function(){Sa=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Sa+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ei=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ac+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Sa!==void 0&&Ei!==void 0&&this.internal.out("/Names <</JavaScript "+Sa+" 0 R>>")}),this},function(w){var g;w.events.push(["postPutResources",function(){var m=this,T=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var A=m.outline.render().split(/\r\n/),C=0;C<A.length;C++){var D=A[C],R=T.exec(D);if(R!=null){var j=R[1];m.internal.newObjectDeferredBegin(j,!1)}m.internal.write(D)}if(this.outline.createNamedDestinations){var H=this.internal.pages.length,st=[];for(C=0;C<H;C++){var ut=m.internal.newObject();st.push(ut);var mt=m.internal.getPageInfo(C+1);m.internal.write("<< /D["+mt.objId+" 0 R /XYZ null null null]>> endobj")}var Y=m.internal.newObject();for(m.internal.write("<< /Names [ "),C=0;C<st.length;C++)m.internal.write("(page_"+(C+1)+")"+st[C]+" 0 R");m.internal.write(" ] >>","endobj"),g=m.internal.newObject(),m.internal.write("<< /Dests "+Y+" 0 R"),m.internal.write(">>","endobj")}}]),w.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+g+" 0 R"))}]),w.events.push(["initialized",function(){var m=this;m.outline={createNamedDestinations:!1,root:{children:[]}},m.outline.add=function(T,A,C){var D={title:A,options:C,children:[]};return T==null&&(T=this.root),T.children.push(D),D},m.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=m,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},m.outline.genIds_r=function(T){T.id=m.internal.newObjectDeferred();for(var A=0;A<T.children.length;A++)this.genIds_r(T.children[A])},m.outline.renderRoot=function(T){this.objStart(T),this.line("/Type /Outlines"),T.children.length>0&&(this.line("/First "+this.makeRef(T.children[0])),this.line("/Last "+this.makeRef(T.children[T.children.length-1]))),this.line("/Count "+this.count_r({count:0},T)),this.objEnd()},m.outline.renderItems=function(T){for(var A=this.ctx.pdf.internal.getVerticalCoordinateString,C=0;C<T.children.length;C++){var D=T.children[C];this.objStart(D),this.line("/Title "+this.makeString(D.title)),this.line("/Parent "+this.makeRef(T)),C>0&&this.line("/Prev "+this.makeRef(T.children[C-1])),C<T.children.length-1&&this.line("/Next "+this.makeRef(T.children[C+1])),D.children.length>0&&(this.line("/First "+this.makeRef(D.children[0])),this.line("/Last "+this.makeRef(D.children[D.children.length-1])));var R=this.count=this.count_r({count:0},D);if(R>0&&this.line("/Count "+R),D.options&&D.options.pageNumber){var j=m.internal.getPageInfo(D.options.pageNumber);this.line("/Dest ["+j.objId+" 0 R /XYZ 0 "+A(0)+" 0]")}this.objEnd()}for(var H=0;H<T.children.length;H++)this.renderItems(T.children[H])},m.outline.line=function(T){this.ctx.val+=T+`\r
`},m.outline.makeRef=function(T){return T.id+" 0 R"},m.outline.makeString=function(T){return"("+m.internal.pdfEscape(T)+")"},m.outline.objStart=function(T){this.ctx.val+=`\r
`+T.id+` 0 obj\r
<<\r
`},m.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},m.outline.count_r=function(T,A){for(var C=0;C<A.children.length;C++)T.count++,this.count_r(T,A.children[C]);return T.count}}])}(me.API),function(w){var g=[192,193,194,195,196,197,198,199];w.processJPEG=function(m,T,A,C,D,R){var j,H=this.decode.DCT_DECODE,st=null;if(typeof m=="string"||this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m)){switch(m=D||m,m=this.__addimage__.isArrayBuffer(m)?new Uint8Array(m):m,(j=function(ut){for(var mt,Y=256*ut.charCodeAt(4)+ut.charCodeAt(5),Dt=ut.length,Tt={width:0,height:0,numcomponents:1},ct=4;ct<Dt;ct+=2){if(ct+=Y,g.indexOf(ut.charCodeAt(ct+1))!==-1){mt=256*ut.charCodeAt(ct+5)+ut.charCodeAt(ct+6),Tt={width:256*ut.charCodeAt(ct+7)+ut.charCodeAt(ct+8),height:mt,numcomponents:ut.charCodeAt(ct+9)};break}Y=256*ut.charCodeAt(ct+2)+ut.charCodeAt(ct+3)}return Tt}(m=this.__addimage__.isArrayBufferView(m)?this.__addimage__.arrayBufferToBinaryString(m):m)).numcomponents){case 1:R=this.color_spaces.DEVICE_GRAY;break;case 4:R=this.color_spaces.DEVICE_CMYK;break;case 3:R=this.color_spaces.DEVICE_RGB}st={data:m,width:j.width,height:j.height,colorSpace:R,bitsPerComponent:8,filter:H,index:T,alias:A}}return st}}(me.API);var Is,fs,_u,Jh,Ns,ll=function(){var w,g,m;function T(C){var D,R,j,H,st,ut,mt,Y,Dt,Tt,ct,te,Nt,ue;for(this.data=C,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},ut=null;;){switch(D=this.readUInt32(),Dt=function(){var Re,ze;for(ze=[],Re=0;Re<4;++Re)ze.push(String.fromCharCode(this.data[this.pos++]));return ze}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(D);break;case"fcTL":ut&&this.animation.frames.push(ut),this.pos+=4,ut={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},st=this.readUInt16(),H=this.readUInt16()||100,ut.delay=1e3*st/H,ut.disposeOp=this.data[this.pos++],ut.blendOp=this.data[this.pos++],ut.data=[];break;case"IDAT":case"fdAT":for(Dt==="fdAT"&&(this.pos+=4,D-=4),C=(ut!=null?ut.data:void 0)||this.imgData,te=0;0<=D?te<D:te>D;0<=D?++te:--te)C.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(j=this.palette.length/3,this.transparency.indexed=this.read(D),this.transparency.indexed.length>j)throw new Error("More transparent colors than palette size");if((Tt=j-this.transparency.indexed.length)>0)for(Nt=0;0<=Tt?Nt<Tt:Nt>Tt;0<=Tt?++Nt:--Nt)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(D)[0];break;case 2:this.transparency.rgb=this.read(D)}break;case"tEXt":mt=(ct=this.read(D)).indexOf(0),Y=String.fromCharCode.apply(String,ct.slice(0,mt)),this.text[Y]=String.fromCharCode.apply(String,ct.slice(mt+1));break;case"IEND":return ut&&this.animation.frames.push(ut),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(ue=this.colorType)===4||ue===6,R=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*R,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=D}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}T.prototype.read=function(C){var D,R;for(R=[],D=0;0<=C?D<C:D>C;0<=C?++D:--D)R.push(this.data[this.pos++]);return R},T.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},T.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},T.prototype.decodePixels=function(C){var D=this.pixelBitlength/8,R=new Uint8Array(this.width*this.height*D),j=0,H=this;if(C==null&&(C=this.imgData),C.length===0)return new Uint8Array(0);function st(ut,mt,Y,Dt){var Tt,ct,te,Nt,ue,Re,ze,tr,Pt,Ke,ir,Je,ft,jt,ie,$t,Te,Be,be,ge,J,Mt=Math.ceil((H.width-ut)/Y),Gt=Math.ceil((H.height-mt)/Dt),Bt=H.width==Mt&&H.height==Gt;for(jt=D*Mt,Je=Bt?R:new Uint8Array(jt*Gt),Re=C.length,ft=0,ct=0;ft<Gt&&j<Re;){switch(C[j++]){case 0:for(Nt=Te=0;Te<jt;Nt=Te+=1)Je[ct++]=C[j++];break;case 1:for(Nt=Be=0;Be<jt;Nt=Be+=1)Tt=C[j++],ue=Nt<D?0:Je[ct-D],Je[ct++]=(Tt+ue)%256;break;case 2:for(Nt=be=0;be<jt;Nt=be+=1)Tt=C[j++],te=(Nt-Nt%D)/D,ie=ft&&Je[(ft-1)*jt+te*D+Nt%D],Je[ct++]=(ie+Tt)%256;break;case 3:for(Nt=ge=0;ge<jt;Nt=ge+=1)Tt=C[j++],te=(Nt-Nt%D)/D,ue=Nt<D?0:Je[ct-D],ie=ft&&Je[(ft-1)*jt+te*D+Nt%D],Je[ct++]=(Tt+Math.floor((ue+ie)/2))%256;break;case 4:for(Nt=J=0;J<jt;Nt=J+=1)Tt=C[j++],te=(Nt-Nt%D)/D,ue=Nt<D?0:Je[ct-D],ft===0?ie=$t=0:(ie=Je[(ft-1)*jt+te*D+Nt%D],$t=te&&Je[(ft-1)*jt+(te-1)*D+Nt%D]),ze=ue+ie-$t,tr=Math.abs(ze-ue),Ke=Math.abs(ze-ie),ir=Math.abs(ze-$t),Pt=tr<=Ke&&tr<=ir?ue:Ke<=ir?ie:$t,Je[ct++]=(Tt+Pt)%256;break;default:throw new Error("Invalid filter algorithm: "+C[j-1])}if(!Bt){var Jt=((mt+ft*Dt)*H.width+ut)*D,ae=ft*jt;for(Nt=0;Nt<Mt;Nt+=1){for(var _e=0;_e<D;_e+=1)R[Jt++]=Je[ae++];Jt+=(Y-1)*D}}ft++}}return C=Object(S.a)(C),H.interlaceMethod==1?(st(0,0,8,8),st(4,0,8,8),st(0,4,4,8),st(2,0,4,4),st(0,2,2,4),st(1,0,2,2),st(0,1,1,2)):st(0,0,1,1),R},T.prototype.decodePalette=function(){var C,D,R,j,H,st,ut,mt,Y;for(R=this.palette,st=this.transparency.indexed||[],H=new Uint8Array((st.length||0)+R.length),j=0,C=0,D=ut=0,mt=R.length;ut<mt;D=ut+=3)H[j++]=R[D],H[j++]=R[D+1],H[j++]=R[D+2],H[j++]=(Y=st[C++])!=null?Y:255;return H},T.prototype.copyToImageData=function(C,D){var R,j,H,st,ut,mt,Y,Dt,Tt,ct,te;if(j=this.colors,Tt=null,R=this.hasAlphaChannel,this.palette.length&&(Tt=(te=this._decodedPalette)!=null?te:this._decodedPalette=this.decodePalette(),j=4,R=!0),Dt=(H=C.data||C).length,ut=Tt||D,st=mt=0,j===1)for(;st<Dt;)Y=Tt?4*D[st/4]:mt,ct=ut[Y++],H[st++]=ct,H[st++]=ct,H[st++]=ct,H[st++]=R?ut[Y++]:255,mt=Y;else for(;st<Dt;)Y=Tt?4*D[st/4]:mt,H[st++]=ut[Y++],H[st++]=ut[Y++],H[st++]=ut[Y++],H[st++]=R?ut[Y++]:255,mt=Y},T.prototype.decode=function(){var C;return C=new Uint8Array(this.width*this.height*4),this.copyToImageData(C,this.decodePixels()),C};var A=function(){if(Object.prototype.toString.call(x)==="[object Window]"){try{g=x.document.createElement("canvas"),m=g.getContext("2d")}catch{return!1}return!0}return!1};return A(),w=function(C){var D;if(A()===!0)return m.width=C.width,m.height=C.height,m.clearRect(0,0,C.width,C.height),m.putImageData(C,0,0),(D=new Image).src=g.toDataURL(),D;throw new Error("This method requires a Browser with Canvas-capability.")},T.prototype.decodeFrames=function(C){var D,R,j,H,st,ut,mt,Y;if(this.animation){for(Y=[],R=st=0,ut=(mt=this.animation.frames).length;st<ut;R=++st)D=mt[R],j=C.createImageData(D.width,D.height),H=this.decodePixels(new Uint8Array(D.data)),this.copyToImageData(j,H),D.imageData=j,Y.push(D.image=w(j));return Y}},T.prototype.renderFrame=function(C,D){var R,j,H;return R=(j=this.animation.frames)[D],H=j[D-1],D===0&&C.clearRect(0,0,this.width,this.height),(H!=null?H.disposeOp:void 0)===1?C.clearRect(H.xOffset,H.yOffset,H.width,H.height):(H!=null?H.disposeOp:void 0)===2&&C.putImageData(H.imageData,H.xOffset,H.yOffset),R.blendOp===0&&C.clearRect(R.xOffset,R.yOffset,R.width,R.height),C.drawImage(R.image,R.xOffset,R.yOffset)},T.prototype.animate=function(C){var D,R,j,H,st,ut,mt=this;return R=0,ut=this.animation,H=ut.numFrames,j=ut.frames,st=ut.numPlays,(D=function(){var Y,Dt;if(Y=R++%H,Dt=j[Y],mt.renderFrame(C,Y),H>1&&R/H<st)return mt.animation._timeout=setTimeout(D,Dt.delay)})()},T.prototype.stopAnimation=function(){var C;return clearTimeout((C=this.animation)!=null?C._timeout:void 0)},T.prototype.render=function(C){var D,R;return C._png&&C._png.stopAnimation(),C._png=this,C.width=this.width,C.height=this.height,D=C.getContext("2d"),this.animation?(this.decodeFrames(D),this.animate(D)):(R=D.createImageData(this.width,this.height),this.copyToImageData(R,this.decodePixels()),D.putImageData(R,0,0))},T}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Ms(w){var g=0;if(w[g++]!==71||w[g++]!==73||w[g++]!==70||w[g++]!==56||(w[g++]+1&253)!=56||w[g++]!==97)throw new Error("Invalid GIF 87a/89a header.");var m=w[g++]|w[g++]<<8,T=w[g++]|w[g++]<<8,A=w[g++],C=A>>7,D=1<<(7&A)+1;w[g++],w[g++];var R=null,j=null;C&&(R=g,j=D,g+=3*D);var H=!0,st=[],ut=0,mt=null,Y=0,Dt=null;for(this.width=m,this.height=T;H&&g<w.length;)switch(w[g++]){case 33:switch(w[g++]){case 255:if(w[g]!==11||w[g+1]==78&&w[g+2]==69&&w[g+3]==84&&w[g+4]==83&&w[g+5]==67&&w[g+6]==65&&w[g+7]==80&&w[g+8]==69&&w[g+9]==50&&w[g+10]==46&&w[g+11]==48&&w[g+12]==3&&w[g+13]==1&&w[g+16]==0)g+=14,Dt=w[g++]|w[g++]<<8,g++;else for(g+=12;;){if(!((ft=w[g++])>=0))throw Error("Invalid block size");if(ft===0)break;g+=ft}break;case 249:if(w[g++]!==4||w[g+4]!==0)throw new Error("Invalid graphics extension block.");var Tt=w[g++];ut=w[g++]|w[g++]<<8,mt=w[g++],(1&Tt)==0&&(mt=null),Y=Tt>>2&7,g++;break;case 254:for(;;){if(!((ft=w[g++])>=0))throw Error("Invalid block size");if(ft===0)break;g+=ft}break;default:throw new Error("Unknown graphic control label: 0x"+w[g-1].toString(16))}break;case 44:var ct=w[g++]|w[g++]<<8,te=w[g++]|w[g++]<<8,Nt=w[g++]|w[g++]<<8,ue=w[g++]|w[g++]<<8,Re=w[g++],ze=Re>>6&1,tr=1<<(7&Re)+1,Pt=R,Ke=j,ir=!1;Re>>7&&(ir=!0,Pt=g,Ke=tr,g+=3*tr);var Je=g;for(g++;;){var ft;if(!((ft=w[g++])>=0))throw Error("Invalid block size");if(ft===0)break;g+=ft}st.push({x:ct,y:te,width:Nt,height:ue,has_local_palette:ir,palette_offset:Pt,palette_size:Ke,data_offset:Je,data_length:g-Je,transparent_index:mt,interlaced:!!ze,delay:ut,disposal:Y});break;case 59:H=!1;break;default:throw new Error("Unknown gif block: 0x"+w[g-1].toString(16))}this.numFrames=function(){return st.length},this.loopCount=function(){return Dt},this.frameInfo=function(jt){if(jt<0||jt>=st.length)throw new Error("Frame index out of range.");return st[jt]},this.decodeAndBlitFrameBGRA=function(jt,ie){var $t=this.frameInfo(jt),Te=$t.width*$t.height,Be=new Uint8Array(Te);Bd(w,$t.data_offset,Be,Te);var be=$t.palette_offset,ge=$t.transparent_index;ge===null&&(ge=256);var J=$t.width,Mt=m-J,Gt=J,Bt=4*($t.y*m+$t.x),Jt=4*(($t.y+$t.height)*m+$t.x),ae=Bt,_e=4*Mt;$t.interlaced===!0&&(_e+=4*m*7);for(var Oe=8,Ae=0,ke=Be.length;Ae<ke;++Ae){var cr=Be[Ae];if(Gt===0&&(Gt=J,(ae+=_e)>=Jt&&(_e=4*Mt+4*m*(Oe-1),ae=Bt+(J+Mt)*(Oe<<1),Oe>>=1)),cr===ge)ae+=4;else{var Mr=w[be+3*cr],fr=w[be+3*cr+1],Pe=w[be+3*cr+2];ie[ae++]=Pe,ie[ae++]=fr,ie[ae++]=Mr,ie[ae++]=255}--Gt}},this.decodeAndBlitFrameRGBA=function(jt,ie){var $t=this.frameInfo(jt),Te=$t.width*$t.height,Be=new Uint8Array(Te);Bd(w,$t.data_offset,Be,Te);var be=$t.palette_offset,ge=$t.transparent_index;ge===null&&(ge=256);var J=$t.width,Mt=m-J,Gt=J,Bt=4*($t.y*m+$t.x),Jt=4*(($t.y+$t.height)*m+$t.x),ae=Bt,_e=4*Mt;$t.interlaced===!0&&(_e+=4*m*7);for(var Oe=8,Ae=0,ke=Be.length;Ae<ke;++Ae){var cr=Be[Ae];if(Gt===0&&(Gt=J,(ae+=_e)>=Jt&&(_e=4*Mt+4*m*(Oe-1),ae=Bt+(J+Mt)*(Oe<<1),Oe>>=1)),cr===ge)ae+=4;else{var Mr=w[be+3*cr],fr=w[be+3*cr+1],Pe=w[be+3*cr+2];ie[ae++]=Mr,ie[ae++]=fr,ie[ae++]=Pe,ie[ae++]=255}--Gt}}}function Bd(w,g,m,T){for(var A=w[g++],C=1<<A,D=C+1,R=D+1,j=A+1,H=(1<<j)-1,st=0,ut=0,mt=0,Y=w[g++],Dt=new Int32Array(4096),Tt=null;;){for(;st<16&&Y!==0;)ut|=w[g++]<<st,st+=8,Y===1?Y=w[g++]:--Y;if(st<j)break;var ct=ut&H;if(ut>>=j,st-=j,ct!==C){if(ct===D)break;for(var te=ct<R?ct:Tt,Nt=0,ue=te;ue>C;)ue=Dt[ue]>>8,++Nt;var Re=ue;if(mt+Nt+(te!==ct?1:0)>T)return void F.log("Warning, gif stream longer than expected.");m[mt++]=Re;var ze=mt+=Nt;for(te!==ct&&(m[mt++]=Re),ue=te;Nt--;)ue=Dt[ue],m[--ze]=255&ue,ue>>=8;Tt!==null&&R<4096&&(Dt[R++]=Tt<<8|Re,R>=H+1&&j<12&&(++j,H=H<<1|1)),Tt=ct}else R=D+1,H=(1<<(j=A+1))-1,Tt=null}return mt!==T&&F.log("Warning, gif stream shorter than expected."),m}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qh(w){var g,m,T,A,C,D=Math.floor,R=new Array(64),j=new Array(64),H=new Array(64),st=new Array(64),ut=new Array(65535),mt=new Array(65535),Y=new Array(64),Dt=new Array(64),Tt=[],ct=0,te=7,Nt=new Array(64),ue=new Array(64),Re=new Array(64),ze=new Array(256),tr=new Array(2048),Pt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ke=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ir=[0,1,2,3,4,5,6,7,8,9,10,11],Je=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ft=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],jt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],$t=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Be(Bt,Jt){for(var ae=0,_e=0,Oe=new Array,Ae=1;Ae<=16;Ae++){for(var ke=1;ke<=Bt[Ae];ke++)Oe[Jt[_e]]=[],Oe[Jt[_e]][0]=ae,Oe[Jt[_e]][1]=Ae,_e++,ae++;ae*=2}return Oe}function be(Bt){for(var Jt=Bt[0],ae=Bt[1]-1;ae>=0;)Jt&1<<ae&&(ct|=1<<te),ae--,--te<0&&(ct==255?(ge(255),ge(0)):ge(ct),te=7,ct=0)}function ge(Bt){Tt.push(Bt)}function J(Bt){ge(Bt>>8&255),ge(255&Bt)}function Mt(Bt,Jt,ae,_e,Oe){for(var Ae,ke=Oe[0],cr=Oe[240],Mr=function(Ye,cn){var Kr,mn,In,Vn,oi,ln,ro,Ki,Cn,Ln,hr=0;for(Cn=0;Cn<8;++Cn){Kr=Ye[hr],mn=Ye[hr+1],In=Ye[hr+2],Vn=Ye[hr+3],oi=Ye[hr+4],ln=Ye[hr+5],ro=Ye[hr+6];var ul=Kr+(Ki=Ye[hr+7]),Xa=Kr-Ki,cl=mn+ro,$n=mn-ro,Ci=In+ln,ds=In-ln,ai=Vn+oi,Ul=Vn-oi,Li=ul+ai,Eo=ul-ai,tn=cl+Ci,qn=cl-Ci;Ye[hr]=Li+tn,Ye[hr+4]=Li-tn;var fn=.707106781*(qn+Eo);Ye[hr+2]=Eo+fn,Ye[hr+6]=Eo-fn;var si=.382683433*((Li=Ul+ds)-(qn=$n+Xa)),fl=.5411961*Li+si,Ui=1.306562965*qn+si,di=.707106781*(tn=ds+$n),wa=Xa+di,Yr=Xa-di;Ye[hr+5]=Yr+fl,Ye[hr+3]=Yr-fl,Ye[hr+1]=wa+Ui,Ye[hr+7]=wa-Ui,hr+=8}for(hr=0,Cn=0;Cn<8;++Cn){Kr=Ye[hr],mn=Ye[hr+8],In=Ye[hr+16],Vn=Ye[hr+24],oi=Ye[hr+32],ln=Ye[hr+40],ro=Ye[hr+48];var Fs=Kr+(Ki=Ye[hr+56]),Cr=Kr-Ki,Ka=mn+ro,ki=mn-ro,Po=In+ln,xa=In-ln,Xt=Vn+oi,aa=Vn-oi,Vi=Fs+Xt,Ni=Fs-Xt,Fn=Ka+Po,zi=Ka-Po;Ye[hr]=Vi+Fn,Ye[hr+32]=Vi-Fn;var Uo=.707106781*(zi+Ni);Ye[hr+16]=Ni+Uo,Ye[hr+48]=Ni-Uo;var js=.382683433*((Vi=aa+xa)-(zi=ki+Cr)),Su=.5411961*Vi+js,Oa=1.306562965*zi+js,Eu=.707106781*(Fn=xa+ki),vs=Cr+Eu,Ta=Cr-Eu;Ye[hr+40]=Ta+Su,Ye[hr+24]=Ta-Su,Ye[hr+8]=vs+Oa,Ye[hr+56]=vs-Oa,hr++}for(Cn=0;Cn<64;++Cn)Ln=Ye[Cn]*cn[Cn],Y[Cn]=Ln>0?Ln+.5|0:Ln-.5|0;return Y}(Bt,Jt),fr=0;fr<64;++fr)Dt[Pt[fr]]=Mr[fr];var Pe=Dt[0]-ae;ae=Dt[0],Pe==0?be(_e[0]):(be(_e[mt[Ae=32767+Pe]]),be(ut[Ae]));for(var or=63;or>0&&Dt[or]==0;)or--;if(or==0)return be(ke),ae;for(var $r,Rr=1;Rr<=or;){for(var Ut=Rr;Dt[Rr]==0&&Rr<=or;)++Rr;var Ir=Rr-Ut;if(Ir>=16){$r=Ir>>4;for(var rn=1;rn<=$r;++rn)be(cr);Ir&=15}Ae=32767+Dt[Rr],be(Oe[(Ir<<4)+mt[Ae]]),be(ut[Ae]),Rr++}return or!=63&&be(ke),ae}function Gt(Bt){Bt=Math.min(Math.max(Bt,1),100),C!=Bt&&(function(Jt){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],_e=0;_e<64;_e++){var Oe=D((ae[_e]*Jt+50)/100);Oe=Math.min(Math.max(Oe,1),255),R[Pt[_e]]=Oe}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var cr=D((Ae[ke]*Jt+50)/100);cr=Math.min(Math.max(cr,1),255),j[Pt[ke]]=cr}for(var Mr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],fr=0,Pe=0;Pe<8;Pe++)for(var or=0;or<8;or++)H[fr]=1/(R[Pt[fr]]*Mr[Pe]*Mr[or]*8),st[fr]=1/(j[Pt[fr]]*Mr[Pe]*Mr[or]*8),fr++}(Bt<50?Math.floor(5e3/Bt):Math.floor(200-2*Bt)),C=Bt)}this.encode=function(Bt,Jt){Jt&&Gt(Jt),Tt=new Array,ct=0,te=7,J(65496),J(65504),J(16),ge(74),ge(70),ge(73),ge(70),ge(0),ge(1),ge(1),ge(0),J(1),J(1),ge(0),ge(0),function(){J(65499),J(132),ge(0);for(var mn=0;mn<64;mn++)ge(R[mn]);ge(1);for(var In=0;In<64;In++)ge(j[In])}(),function(mn,In){J(65472),J(17),ge(8),J(In),J(mn),ge(3),ge(1),ge(17),ge(0),ge(2),ge(17),ge(1),ge(3),ge(17),ge(1)}(Bt.width,Bt.height),function(){J(65476),J(418),ge(0);for(var mn=0;mn<16;mn++)ge(Ke[mn+1]);for(var In=0;In<=11;In++)ge(ir[In]);ge(16);for(var Vn=0;Vn<16;Vn++)ge(Je[Vn+1]);for(var oi=0;oi<=161;oi++)ge(ft[oi]);ge(1);for(var ln=0;ln<16;ln++)ge(jt[ln+1]);for(var ro=0;ro<=11;ro++)ge(ie[ro]);ge(17);for(var Ki=0;Ki<16;Ki++)ge($t[Ki+1]);for(var Cn=0;Cn<=161;Cn++)ge(Te[Cn])}(),J(65498),J(12),ge(3),ge(1),ge(0),ge(2),ge(17),ge(3),ge(17),ge(0),ge(63),ge(0);var ae=0,_e=0,Oe=0;ct=0,te=7,this.encode.displayName="_encode_";for(var Ae,ke,cr,Mr,fr,Pe,or,$r,Rr,Ut=Bt.data,Ir=Bt.width,rn=Bt.height,Ye=4*Ir,cn=0;cn<rn;){for(Ae=0;Ae<Ye;){for(fr=Ye*cn+Ae,or=-1,$r=0,Rr=0;Rr<64;Rr++)Pe=fr+($r=Rr>>3)*Ye+(or=4*(7&Rr)),cn+$r>=rn&&(Pe-=Ye*(cn+1+$r-rn)),Ae+or>=Ye&&(Pe-=Ae+or-Ye+4),ke=Ut[Pe++],cr=Ut[Pe++],Mr=Ut[Pe++],Nt[Rr]=(tr[ke]+tr[cr+256>>0]+tr[Mr+512>>0]>>16)-128,ue[Rr]=(tr[ke+768>>0]+tr[cr+1024>>0]+tr[Mr+1280>>0]>>16)-128,Re[Rr]=(tr[ke+1280>>0]+tr[cr+1536>>0]+tr[Mr+1792>>0]>>16)-128;ae=Mt(Nt,H,ae,g,T),_e=Mt(ue,st,_e,m,A),Oe=Mt(Re,st,Oe,m,A),Ae+=32}cn+=8}if(te>=0){var Kr=[];Kr[1]=te+1,Kr[0]=(1<<te+1)-1,be(Kr)}return J(65497),new Uint8Array(Tt)},w=w||50,function(){for(var Bt=String.fromCharCode,Jt=0;Jt<256;Jt++)ze[Jt]=Bt(Jt)}(),g=Be(Ke,ir),m=Be(jt,ie),T=Be(Je,ft),A=Be($t,Te),function(){for(var Bt=1,Jt=2,ae=1;ae<=15;ae++){for(var _e=Bt;_e<Jt;_e++)mt[32767+_e]=ae,ut[32767+_e]=[],ut[32767+_e][1]=ae,ut[32767+_e][0]=_e;for(var Oe=-(Jt-1);Oe<=-Bt;Oe++)mt[32767+Oe]=ae,ut[32767+Oe]=[],ut[32767+Oe][1]=ae,ut[32767+Oe][0]=Jt-1+Oe;Bt<<=1,Jt<<=1}}(),function(){for(var Bt=0;Bt<256;Bt++)tr[Bt]=19595*Bt,tr[Bt+256>>0]=38470*Bt,tr[Bt+512>>0]=7471*Bt+32768,tr[Bt+768>>0]=-11059*Bt,tr[Bt+1024>>0]=-21709*Bt,tr[Bt+1280>>0]=32768*Bt+8421375,tr[Bt+1536>>0]=-27439*Bt,tr[Bt+1792>>0]=-5329*Bt}(),Gt(w)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function eo(w,g){if(this.pos=0,this.buffer=w,this.datav=new DataView(w.buffer),this.is_with_alpha=!!g,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Rf(w){function g(Pt){if(!Pt)throw Error("assert :P")}function m(Pt,Ke,ir){for(var Je=0;4>Je;Je++)if(Pt[Ke+Je]!=ir.charCodeAt(Je))return!0;return!1}function T(Pt,Ke,ir,Je,ft){for(var jt=0;jt<ft;jt++)Pt[Ke+jt]=ir[Je+jt]}function A(Pt,Ke,ir,Je){for(var ft=0;ft<Je;ft++)Pt[Ke+ft]=ir}function C(Pt){return new Int32Array(Pt)}function D(Pt,Ke){for(var ir=[],Je=0;Je<Pt;Je++)ir.push(new Ke);return ir}function R(Pt,Ke){var ir=[];return function Je(ft,jt,ie){for(var $t=ie[jt],Te=0;Te<$t&&(ft.push(ie.length>jt+1?[]:new Ke),!(ie.length<jt+1));Te++)Je(ft[Te],jt+1,ie)}(ir,0,Pt),ir}function j(Pt,Ke){for(var ir="",Je=0;Je<4;Je++)ir+=String.fromCharCode(Pt[Ke++]);return ir}function H(Pt,Ke){return(Pt[Ke+0]<<0|Pt[Ke+1]<<8|Pt[Ke+2]<<16)>>>0}function st(Pt,Ke){return(Pt[Ke+0]<<0|Pt[Ke+1]<<8|Pt[Ke+2]<<16|Pt[Ke+3]<<24)>>>0}new(Rf=function(){var Pt=this;function Ke(p,_){for(var L=1<<_-1>>>0;p&L;)L>>>=1;return L?(p&L-1)+L:p}function ir(p,_,L,B,K){g(!(B%L));do p[_+(B-=L)]=K;while(0<B)}function Je(p,_,L,B,K){if(g(2328>=K),512>=K)var tt=C(512);else if((tt=C(K))==null)return 0;return function(rt,at,lt,gt,Zt,ce){var ee,Yt,Ue=at,we=1<<lt,xt=C(16),ne=C(16);for(g(Zt!=0),g(gt!=null),g(rt!=null),g(0<lt),Yt=0;Yt<Zt;++Yt){if(15<gt[Yt])return 0;++xt[gt[Yt]]}if(xt[0]==Zt)return 0;for(ne[1]=0,ee=1;15>ee;++ee){if(xt[ee]>1<<ee)return 0;ne[ee+1]=ne[ee]+xt[ee]}for(Yt=0;Yt<Zt;++Yt)ee=gt[Yt],0<gt[Yt]&&(ce[ne[ee]++]=Yt);if(ne[15]==1)return(gt=new ft).g=0,gt.value=ce[0],ir(rt,Ue,1,we,gt),we;var Fe,Ve=-1,Ge=we-1,Or=0,pr=1,Wr=1,gr=1<<lt;for(Yt=0,ee=1,Zt=2;ee<=lt;++ee,Zt<<=1){if(pr+=Wr<<=1,0>(Wr-=xt[ee]))return 0;for(;0<xt[ee];--xt[ee])(gt=new ft).g=ee,gt.value=ce[Yt++],ir(rt,Ue+Or,Zt,gr,gt),Or=Ke(Or,ee)}for(ee=lt+1,Zt=2;15>=ee;++ee,Zt<<=1){if(pr+=Wr<<=1,0>(Wr-=xt[ee]))return 0;for(;0<xt[ee];--xt[ee]){if(gt=new ft,(Or&Ge)!=Ve){for(Ue+=gr,Fe=1<<(Ve=ee)-lt;15>Ve&&!(0>=(Fe-=xt[Ve]));)++Ve,Fe<<=1;we+=gr=1<<(Fe=Ve-lt),rt[at+(Ve=Or&Ge)].g=Fe+lt,rt[at+Ve].value=Ue-at-Ve}gt.g=ee-lt,gt.value=ce[Yt++],ir(rt,Ue+(Or>>lt),Zt,gr,gt),Or=Ke(Or,ee)}}return pr!=2*ne[15]-1?0:we}(p,_,L,B,K,tt)}function ft(){this.value=this.g=0}function jt(){this.value=this.g=0}function ie(){this.G=D(5,ft),this.H=C(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=D(Ys,jt)}function $t(p,_,L,B){g(p!=null),g(_!=null),g(2147483648>B),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=_,p.pa=L,p.Jd=_,p.Yc=L+B,p.Zc=4<=B?L+B-4+1:L,Oe(p)}function Te(p,_){for(var L=0;0<_--;)L|=ke(p,128)<<_;return L}function Be(p,_){var L=Te(p,_);return Ae(p)?-L:L}function be(p,_,L,B){var K,tt=0;for(g(p!=null),g(_!=null),g(4294967288>B),p.Sb=B,p.Ra=0,p.u=0,p.h=0,4<B&&(B=4),K=0;K<B;++K)tt+=_[L+K]<<8*K;p.Ra=tt,p.bb=B,p.oa=_,p.pa=L}function ge(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<ju-8>>>0,++p.bb,p.u-=8;Jt(p)&&(p.h=1,p.u=0)}function J(p,_){if(g(0<=_),!p.h&&_<=kf){var L=Bt(p)&Ws[_];return p.u+=_,ge(p),L}return p.h=1,p.u=0}function Mt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Gt(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Bt(p){return p.Ra>>>(p.u&ju-1)>>>0}function Jt(p){return g(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>ju}function ae(p,_){p.u=_,p.h=Jt(p)}function _e(p){p.u>=No&&(g(p.u>=No),ge(p))}function Oe(p){g(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(g(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Ae(p){return Te(p,1)}function ke(p,_){var L=p.Ca;0>p.b&&Oe(p);var B=p.b,K=L*_>>>8,tt=(p.I>>>B>K)+0;for(tt?(L-=K,p.I-=K+1<<B>>>0):L=K+1,B=L,K=0;256<=B;)K+=8,B>>=8;return B=7^K+dp[B],p.b-=B,p.Ca=(L<<B)-1,tt}function cr(p,_,L){p[_+0]=L>>24&255,p[_+1]=L>>16&255,p[_+2]=L>>8&255,p[_+3]=L>>0&255}function Mr(p,_){return p[_+0]<<0|p[_+1]<<8}function fr(p,_){return Mr(p,_)|p[_+2]<<16}function Pe(p,_){return Mr(p,_)|Mr(p,_+2)<<16}function or(p,_){var L=1<<_;return g(p!=null),g(0<_),p.X=C(L),p.X==null?0:(p.Mb=32-_,p.Xa=_,1)}function $r(p,_){g(p!=null),g(_!=null),g(p.Xa==_.Xa),T(_.X,0,p.X,0,1<<_.Xa)}function Rr(){this.X=[],this.Xa=this.Mb=0}function Ut(p,_,L,B){g(L!=null),g(B!=null);var K=L[0],tt=B[0];return K==0&&(K=(p*tt+_/2)/_),tt==0&&(tt=(_*K+p/2)/p),0>=K||0>=tt?0:(L[0]=K,B[0]=tt,1)}function Ir(p,_){return p+(1<<_)-1>>>_}function rn(p,_){return((4278255360&p)+(4278255360&_)>>>0&4278255360)+((16711935&p)+(16711935&_)>>>0&16711935)>>>0}function Ye(p,_){Pt[_]=function(L,B,K,tt,rt,at,lt){var gt;for(gt=0;gt<rt;++gt){var Zt=Pt[p](at[lt+gt-1],K,tt+gt);at[lt+gt]=rn(L[B+gt],Zt)}}}function cn(){this.ud=this.hd=this.jd=0}function Kr(p,_){return((4278124286&(p^_))>>>1)+(p&_)>>>0}function mn(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function In(p,_){return mn(p+(p-_+.5>>1))}function Vn(p,_,L){return Math.abs(_-L)-Math.abs(p-L)}function oi(p,_,L,B,K,tt,rt){for(B=tt[rt-1],L=0;L<K;++L)tt[rt+L]=B=rn(p[_+L],B)}function ln(p,_,L,B,K){var tt;for(tt=0;tt<L;++tt){var rt=p[_+tt],at=rt>>8&255,lt=16711935&(lt=(lt=16711935&rt)+((at<<16)+at));B[K+tt]=(4278255360&rt)+lt>>>0}}function ro(p,_){_.jd=p>>0&255,_.hd=p>>8&255,_.ud=p>>16&255}function Ki(p,_,L,B,K,tt){var rt;for(rt=0;rt<B;++rt){var at=_[L+rt],lt=at>>>8,gt=at,Zt=255&(Zt=(Zt=at>>>16)+((p.jd<<24>>24)*(lt<<24>>24)>>>5));gt=255&(gt=(gt=gt+((p.hd<<24>>24)*(lt<<24>>24)>>>5))+((p.ud<<24>>24)*(Zt<<24>>24)>>>5)),K[tt+rt]=(4278255360&at)+(Zt<<16)+gt}}function Cn(p,_,L,B,K){Pt[_]=function(tt,rt,at,lt,gt,Zt,ce,ee,Yt){for(lt=ce;lt<ee;++lt)for(ce=0;ce<Yt;++ce)gt[Zt++]=K(at[B(tt[rt++])])},Pt[p]=function(tt,rt,at,lt,gt,Zt,ce){var ee=8>>tt.b,Yt=tt.Ea,Ue=tt.K[0],we=tt.w;if(8>ee)for(tt=(1<<tt.b)-1,we=(1<<ee)-1;rt<at;++rt){var xt,ne=0;for(xt=0;xt<Yt;++xt)xt&tt||(ne=B(lt[gt++])),Zt[ce++]=K(Ue[ne&we]),ne>>=ee}else Pt["VP8LMapColor"+L](lt,gt,Ue,we,Zt,ce,rt,at,Yt)}}function Ln(p,_,L,B,K){for(L=_+L;_<L;){var tt=p[_++];B[K++]=tt>>16&255,B[K++]=tt>>8&255,B[K++]=tt>>0&255}}function hr(p,_,L,B,K){for(L=_+L;_<L;){var tt=p[_++];B[K++]=tt>>16&255,B[K++]=tt>>8&255,B[K++]=tt>>0&255,B[K++]=tt>>24&255}}function ul(p,_,L,B,K){for(L=_+L;_<L;){var tt=(rt=p[_++])>>16&240|rt>>12&15,rt=rt>>0&240|rt>>28&15;B[K++]=tt,B[K++]=rt}}function Xa(p,_,L,B,K){for(L=_+L;_<L;){var tt=(rt=p[_++])>>16&248|rt>>13&7,rt=rt>>5&224|rt>>3&31;B[K++]=tt,B[K++]=rt}}function cl(p,_,L,B,K){for(L=_+L;_<L;){var tt=p[_++];B[K++]=tt>>0&255,B[K++]=tt>>8&255,B[K++]=tt>>16&255}}function $n(p,_,L,B,K,tt){if(tt==0)for(L=_+L;_<L;)cr(B,((tt=p[_++])[0]>>24|tt[1]>>8&65280|tt[2]<<8&16711680|tt[3]<<24)>>>0),K+=32;else T(B,K,p,_,L)}function Ci(p,_){Pt[_][0]=Pt[p+"0"],Pt[_][1]=Pt[p+"1"],Pt[_][2]=Pt[p+"2"],Pt[_][3]=Pt[p+"3"],Pt[_][4]=Pt[p+"4"],Pt[_][5]=Pt[p+"5"],Pt[_][6]=Pt[p+"6"],Pt[_][7]=Pt[p+"7"],Pt[_][8]=Pt[p+"8"],Pt[_][9]=Pt[p+"9"],Pt[_][10]=Pt[p+"10"],Pt[_][11]=Pt[p+"11"],Pt[_][12]=Pt[p+"12"],Pt[_][13]=Pt[p+"13"],Pt[_][14]=Pt[p+"0"],Pt[_][15]=Pt[p+"0"]}function ds(p){return p==Sp||p==Hc||p==Xf||p==Vo}function ai(){this.eb=[],this.size=this.A=this.fb=0}function Ul(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Li(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ai,this.f.kb=new Ul,this.sd=null}function Eo(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function tn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qn(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function fn(p,_){var L=p.T,B=_.ba.f.RGBA,K=B.eb,tt=B.fb+p.ka*B.A,rt=ja[_.ba.S],at=p.y,lt=p.O,gt=p.f,Zt=p.N,ce=p.ea,ee=p.W,Yt=_.cc,Ue=_.dc,we=_.Mc,xt=_.Nc,ne=p.ka,Fe=p.ka+p.T,Ve=p.U,Ge=Ve+1>>1;for(ne==0?rt(at,lt,null,null,gt,Zt,ce,ee,gt,Zt,ce,ee,K,tt,null,null,Ve):(rt(_.ec,_.fc,at,lt,Yt,Ue,we,xt,gt,Zt,ce,ee,K,tt-B.A,K,tt,Ve),++L);ne+2<Fe;ne+=2)Yt=gt,Ue=Zt,we=ce,xt=ee,Zt+=p.Rc,ee+=p.Rc,tt+=2*B.A,rt(at,(lt+=2*p.fa)-p.fa,at,lt,Yt,Ue,we,xt,gt,Zt,ce,ee,K,tt-B.A,K,tt,Ve);return lt+=p.fa,p.j+Fe<p.o?(T(_.ec,_.fc,at,lt,Ve),T(_.cc,_.dc,gt,Zt,Ge),T(_.Mc,_.Nc,ce,ee,Ge),L--):1&Fe||rt(at,lt,null,null,gt,Zt,ce,ee,gt,Zt,ce,ee,K,tt+B.A,null,null,Ve),L}function si(p,_,L){var B=p.F,K=[p.J];if(B!=null){var tt=p.U,rt=_.ba.S,at=rt==Hf||rt==Xf;_=_.ba.f.RGBA;var lt=[0],gt=p.ka;lt[0]=p.T,p.Kb&&(gt==0?--lt[0]:(--gt,K[0]-=p.width),p.j+p.ka+p.T==p.o&&(lt[0]=p.o-p.j-gt));var Zt=_.eb;gt=_.fb+gt*_.A,p=vp(B,K[0],p.width,tt,lt,Zt,gt+(at?0:3),_.A),g(L==lt),p&&ds(rt)&&Xs(Zt,gt,at,tt,lt,_.A)}return 0}function fl(p){var _=p.ma,L=_.ba.S,B=11>L,K=L==Wu||L==Wf||L==Hf||L==_p||L==12||ds(L);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!zc(_.Oa,p,K?11:12))return 0;if(K&&ds(L)&&mr(),p.da)alert("todo:use_scaling");else{if(B){if(_.Ib=qn,p.Kb){if(L=p.U+1>>1,_.memory=C(p.U+2*L),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+p.U,_.Mc=_.cc,_.Nc=_.dc+L,_.Ib=fn,mr()}}else alert("todo:EmitYUV");K&&(_.Jb=si,B&&xe())}if(B&&!Jd){for(p=0;256>p;++p)Ay[p]=89858*(p-128)+Jf>>qf,Iy[p]=-22014*(p-128)+Jf,Ry[p]=-45773*(p-128),Py[p]=113618*(p-128)+Jf>>qf;for(p=$c;p<Lp;++p)_=76283*(p-16)+Jf>>qf,Ny[p-$c]=ba(_,255),My[p-$c]=ba(_+8>>4,15);Jd=1}return 1}function Ui(p){var _=p.ma,L=p.U,B=p.T;return g(!(1&p.ka)),0>=L||0>=B?0:(L=_.Ib(p,_),_.Jb!=null&&_.Jb(p,_,L),_.Dc+=L,1)}function di(p){p.ma.memory=null}function wa(p,_,L,B){return J(p,8)!=47?0:(_[0]=J(p,14)+1,L[0]=J(p,14)+1,B[0]=J(p,1),J(p,3)!=0?0:!p.h)}function Yr(p,_){if(4>p)return p+1;var L=p-2>>1;return(2+(1&p)<<L)+J(_,L)+1}function Fs(p,_){return 120<_?_-120:1<=(L=((L=Zf[_-1])>>4)*p+(8-(15&L)))?L:1;var L}function Cr(p,_,L){var B=Bt(L),K=p[_+=255&B].g-8;return 0<K&&(ae(L,L.u+8),B=Bt(L),_+=p[_].value,_+=B&(1<<K)-1),ae(L,L.u+p[_].g),p[_].value}function Ka(p,_,L){return L.g+=p.g,L.value+=p.value<<_>>>0,g(8>=L.g),p.g}function ki(p,_,L){var B=p.xc;return g((_=B==0?0:p.vc[p.md*(L>>B)+(_>>B)])<p.Wb),p.Ya[_]}function Po(p,_,L,B){var K=p.ab,tt=p.c*_,rt=p.C;_=rt+_;var at=L,lt=B;for(B=p.Ta,L=p.Ua;0<K--;){var gt=p.gc[K],Zt=rt,ce=_,ee=at,Yt=lt,Ue=(lt=B,at=L,gt.Ea);switch(g(Zt<ce),g(ce<=gt.nc),gt.hc){case 2:Na(ee,Yt,(ce-Zt)*Ue,lt,at);break;case 0:var we=Zt,xt=ce,ne=lt,Fe=at,Ve=(gr=gt).Ea;we==0&&(Yc(ee,Yt,null,null,1,ne,Fe),oi(ee,Yt+1,0,0,Ve-1,ne,Fe+1),Yt+=Ve,Fe+=Ve,++we);for(var Ge=1<<gr.b,Or=Ge-1,pr=Ir(Ve,gr.b),Wr=gr.K,gr=gr.w+(we>>gr.b)*pr;we<xt;){var Jn=Wr,ui=gr,zn=1;for(Du(ee,Yt,ne,Fe-Ve,1,ne,Fe);zn<Ve;){var Er=(zn&~Or)+Ge;Er>Ve&&(Er=Ve),(0,Jo[Jn[ui++]>>8&15])(ee,Yt+ +zn,ne,Fe+zn-Ve,Er-zn,ne,Fe+zn),zn=Er}Yt+=Ve,Fe+=Ve,++we&Or||(gr+=pr)}ce!=gt.nc&&T(lt,at-Ue,lt,at+(ce-Zt-1)*Ue,Ue);break;case 1:for(Ue=ee,xt=Yt,Ve=(ee=gt.Ea)-(Fe=ee&~(ne=(Yt=1<<gt.b)-1)),we=Ir(ee,gt.b),Ge=gt.K,gt=gt.w+(Zt>>gt.b)*we;Zt<ce;){for(Or=Ge,pr=gt,Wr=new cn,gr=xt+Fe,Jn=xt+ee;xt<gr;)ro(Or[pr++],Wr),kn(Wr,Ue,xt,Yt,lt,at),xt+=Yt,at+=Yt;xt<Jn&&(ro(Or[pr++],Wr),kn(Wr,Ue,xt,Ve,lt,at),xt+=Ve,at+=Ve),++Zt&ne||(gt+=we)}break;case 3:if(ee==lt&&Yt==at&&0<gt.b){for(xt=lt,ee=Ue=at+(ce-Zt)*Ue-(Fe=(ce-Zt)*Ir(gt.Ea,gt.b)),Yt=lt,ne=at,we=[],Fe=(Ve=Fe)-1;0<=Fe;--Fe)we[Fe]=Yt[ne+Fe];for(Fe=Ve-1;0<=Fe;--Fe)xt[ee+Fe]=we[Fe];Bu(gt,Zt,ce,lt,Ue,lt,at)}else Bu(gt,Zt,ce,ee,Yt,lt,at)}at=B,lt=L}lt!=L&&T(B,L,at,lt,tt)}function xa(p,_){var L=p.V,B=p.Ba+p.c*p.C,K=_-p.C;if(g(_<=p.l.o),g(16>=K),0<K){var tt=p.l,rt=p.Ta,at=p.Ua,lt=tt.width;if(Po(p,K,L,B),K=at=[at],g((L=p.C)<(B=_)),g(tt.v<tt.va),B>tt.o&&(B=tt.o),L<tt.j){var gt=tt.j-L;L=tt.j,K[0]+=gt*lt}if(L>=B?L=0:(K[0]+=4*tt.v,tt.ka=L-tt.j,tt.U=tt.va-tt.v,tt.T=B-L,L=1),L){if(at=at[0],11>(L=p.ca).S){var Zt=L.f.RGBA,ce=(B=L.S,K=tt.U,tt=tt.T,gt=Zt.eb,Zt.A),ee=tt;for(Zt=Zt.fb+p.Ma*Zt.A;0<ee--;){var Yt=rt,Ue=at,we=K,xt=gt,ne=Zt;switch(B){case Yf:Zl(Yt,Ue,we,xt,ne);break;case Wu:xo(Yt,Ue,we,xt,ne);break;case Sp:xo(Yt,Ue,we,xt,ne),Xs(xt,ne,0,we,1,0);break;case ql:qa(Yt,Ue,we,xt,ne);break;case Wf:$n(Yt,Ue,we,xt,ne,1);break;case Hc:$n(Yt,Ue,we,xt,ne,1),Xs(xt,ne,0,we,1,0);break;case Hf:$n(Yt,Ue,we,xt,ne,0);break;case Xf:$n(Yt,Ue,we,xt,ne,0),Xs(xt,ne,1,we,1,0);break;case _p:$a(Yt,Ue,we,xt,ne);break;case Vo:$a(Yt,Ue,we,xt,ne),zf(xt,ne,we,1,0);break;case Yd:Uu(Yt,Ue,we,xt,ne);break;default:g(0)}at+=lt,Zt+=ce}p.Ma+=tt}else alert("todo:EmitRescaledRowsYUVA");g(p.Ma<=L.height)}}p.C=_,g(p.C<=p.i)}function Xt(p){var _;if(0<p.ua)return 0;for(_=0;_<p.Wb;++_){var L=p.Ya[_].G,B=p.Ya[_].H;if(0<L[1][B[1]+0].g||0<L[2][B[2]+0].g||0<L[3][B[3]+0].g)return 0}return 1}function aa(p,_,L,B,K,tt){if(p.Z!=0){var rt=p.qd,at=p.rd;for(g(Sl[p.Z]!=null);_<L;++_)Sl[p.Z](rt,at,B,K,B,K,tt),rt=B,at=K,K+=tt;p.qd=rt,p.rd=at}}function Vi(p,_){var L=p.l.ma,B=L.Z==0||L.Z==1?p.l.j:p.C;if(B=p.C<B?B:p.C,g(_<=p.l.o),_>B){var K=p.l.width,tt=L.ca,rt=L.tb+K*B,at=p.V,lt=p.Ba+p.c*B,gt=p.gc;g(p.ab==1),g(gt[0].hc==3),Vf(gt[0],B,_,at,lt,tt,rt),aa(L,B,_,tt,rt,K)}p.C=p.Ma=_}function Ni(p,_,L,B,K,tt,rt){var at=p.$/B,lt=p.$%B,gt=p.m,Zt=p.s,ce=L+p.$,ee=ce;K=L+B*K;var Yt=L+B*tt,Ue=280+Zt.ua,we=p.Pb?at:16777216,xt=0<Zt.ua?Zt.Wa:null,ne=Zt.wc,Fe=ce<Yt?ki(Zt,lt,at):null;g(p.C<tt),g(Yt<=K);var Ve=!1;t:for(;;){for(;Ve||ce<Yt;){var Ge=0;if(at>=we){var Or=ce-L;g((we=p).Pb),we.wd=we.m,we.xd=Or,0<we.s.ua&&$r(we.s.Wa,we.s.vb),we=at+xp}if(lt&ne||(Fe=ki(Zt,lt,at)),g(Fe!=null),Fe.Qb&&(_[ce]=Fe.qb,Ve=!0),!Ve)if(_e(gt),Fe.jc){Ge=gt,Or=_;var pr=ce,Wr=Fe.pd[Bt(Ge)&Ys-1];g(Fe.jc),256>Wr.g?(ae(Ge,Ge.u+Wr.g),Or[pr]=Wr.value,Ge=0):(ae(Ge,Ge.u+Wr.g-256),g(256<=Wr.value),Ge=Wr.value),Ge==0&&(Ve=!0)}else Ge=Cr(Fe.G[0],Fe.H[0],gt);if(gt.h)break;if(Ve||256>Ge){if(!Ve)if(Fe.nd)_[ce]=(Fe.qb|Ge<<8)>>>0;else{if(_e(gt),Ve=Cr(Fe.G[1],Fe.H[1],gt),_e(gt),Or=Cr(Fe.G[2],Fe.H[2],gt),pr=Cr(Fe.G[3],Fe.H[3],gt),gt.h)break;_[ce]=(pr<<24|Ve<<16|Ge<<8|Or)>>>0}if(Ve=!1,++ce,++lt>=B&&(lt=0,++at,rt!=null&&at<=tt&&!(at%16)&&rt(p,at),xt!=null))for(;ee<ce;)Ge=_[ee++],xt.X[(506832829*Ge&4294967295)>>>xt.Mb]=Ge}else if(280>Ge){if(Ge=Yr(Ge-256,gt),Or=Cr(Fe.G[4],Fe.H[4],gt),_e(gt),Or=Fs(B,Or=Yr(Or,gt)),gt.h)break;if(ce-L<Or||K-ce<Ge)break t;for(pr=0;pr<Ge;++pr)_[ce+pr]=_[ce+pr-Or];for(ce+=Ge,lt+=Ge;lt>=B;)lt-=B,++at,rt!=null&&at<=tt&&!(at%16)&&rt(p,at);if(g(ce<=K),lt&ne&&(Fe=ki(Zt,lt,at)),xt!=null)for(;ee<ce;)Ge=_[ee++],xt.X[(506832829*Ge&4294967295)>>>xt.Mb]=Ge}else{if(!(Ge<Ue))break t;for(Ve=Ge-280,g(xt!=null);ee<ce;)Ge=_[ee++],xt.X[(506832829*Ge&4294967295)>>>xt.Mb]=Ge;Ge=ce,g(!(Ve>>>(Or=xt).Xa)),_[Ge]=Or.X[Ve],Ve=!0}Ve||g(gt.h==Jt(gt))}if(p.Pb&&gt.h&&ce<K)g(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&$r(p.s.vb,p.s.Wa);else{if(gt.h)break t;rt!=null&&rt(p,at>tt?tt:at),p.a=0,p.$=ce-L}return 1}return p.a=3,0}function Fn(p){g(p!=null),p.vc=null,p.yc=null,p.Ya=null;var _=p.Wa;_!=null&&(_.X=null),p.vb=null,g(p!=null)}function zi(){var p=new Mu;return p==null?null:(p.a=0,p.xb=Kd,Ci("Predictor","VP8LPredictors"),Ci("Predictor","VP8LPredictors_C"),Ci("PredictorAdd","VP8LPredictorsAdd"),Ci("PredictorAdd","VP8LPredictorsAdd_C"),Na=ln,kn=Ki,Zl=Ln,xo=hr,$a=ul,Uu=Xa,qa=cl,Pt.VP8LMapColor32b=Wc,Pt.VP8LMapColor8b=Gu,p)}function Uo(p,_,L,B,K){var tt=1,rt=[p],at=[_],lt=B.m,gt=B.s,Zt=null,ce=0;t:for(;;){if(L)for(;tt&&J(lt,1);){var ee=rt,Yt=at,Ue=B,we=1,xt=Ue.m,ne=Ue.gc[Ue.ab],Fe=J(xt,2);if(Ue.Oc&1<<Fe)tt=0;else{switch(Ue.Oc|=1<<Fe,ne.hc=Fe,ne.Ea=ee[0],ne.nc=Yt[0],ne.K=[null],++Ue.ab,g(4>=Ue.ab),Fe){case 0:case 1:ne.b=J(xt,3)+2,we=Uo(Ir(ne.Ea,ne.b),Ir(ne.nc,ne.b),0,Ue,ne.K),ne.K=ne.K[0];break;case 3:var Ve,Ge=J(xt,8)+1,Or=16<Ge?0:4<Ge?1:2<Ge?2:3;if(ee[0]=Ir(ne.Ea,Or),ne.b=Or,Ve=we=Uo(Ge,1,0,Ue,ne.K)){var pr,Wr=Ge,gr=ne,Jn=1<<(8>>gr.b),ui=C(Jn);if(ui==null)Ve=0;else{var zn=gr.K[0],Er=gr.w;for(ui[0]=gr.K[0][0],pr=1;pr<1*Wr;++pr)ui[pr]=rn(zn[Er+pr],ui[pr-1]);for(;pr<4*Jn;++pr)ui[pr]=0;gr.K[0]=null,gr.K[0]=ui,Ve=1}}we=Ve;break;case 2:break;default:g(0)}tt=we}}if(rt=rt[0],at=at[0],tt&&J(lt,1)&&!(tt=1<=(ce=J(lt,4))&&11>=ce)){B.a=3;break t}var vi;if(vi=tt)e:{var gi,pn,Zi,Qo=B,Yn=rt,ta=at,dn=ce,ha=L,ea=Qo.m,ho=Qo.s,Oo=[null],ra=1,na=0,Os=xy[dn];r:for(;;){if(ha&&J(ea,1)){var ao=J(ea,3)+2,Qn=Ir(Yn,ao),eu=Ir(ta,ao),Hu=Qn*eu;if(!Uo(Qn,eu,0,Qo,Oo))break r;for(Oo=Oo[0],ho.xc=ao,gi=0;gi<Hu;++gi){var El=Oo[gi]>>8&65535;Oo[gi]=El,El>=ra&&(ra=El+1)}}if(ea.h)break r;for(pn=0;5>pn;++pn){var Bi=Ep[pn];!pn&&0<dn&&(Bi+=1<<dn),na<Bi&&(na=Bi)}var ev=D(ra*Os,ft),th=ra,qc=D(th,ie);if(qc==null)var eh=null;else g(65536>=th),eh=qc;var Jc=C(na);if(eh==null||Jc==null||ev==null){Qo.a=1;break r}var Qa=ev;for(gi=Zi=0;gi<ra;++gi){var ts=eh[gi],Xu=ts.G,Ku=ts.H,Sn=0,Mo=1,rv=0;for(pn=0;5>pn;++pn){Bi=Ep[pn],Xu[pn]=Qa,Ku[pn]=Zi,!pn&&0<dn&&(Bi+=1<<dn);i:{var rh,nh=Bi,ih=Qo,Qc=Jc,Pp=Qa,nv=Zi,wl=0,Zs=ih.m,jy=J(Zs,1);if(A(Qc,0,0,nh),jy){var iv=J(Zs,1)+1,ov=J(Zs,1),av=J(Zs,ov==0?1:8);Qc[av]=1,iv==2&&(Qc[av=J(Zs,8)]=1);var oh=1}else{var ah=C(19),sv=J(Zs,4)+4;if(19<sv){ih.a=3;var sh=0;break i}for(rh=0;rh<sv;++rh)ah[wp[rh]]=J(Zs,3);var lv=void 0,xl=void 0,uv=ih,M1=ah,Zu=nh,cv=Qc,Rp=0,Ol=uv.m,fv=8,Ip=D(128,ft);n:for(;Je(Ip,0,7,M1,19);){if(J(Ol,1)){var Dy=2+2*J(Ol,3);if((lv=2+J(Ol,Dy))>Zu)break n}else lv=Zu;for(xl=0;xl<Zu&&lv--;){_e(Ol);var hv=Ip[0+(127&Bt(Ol))];ae(Ol,Ol.u+hv.g);var $u=hv.value;if(16>$u)cv[xl++]=$u,$u!=0&&(fv=$u);else{var By=$u==16,pv=$u-16,dv=Wd[pv],vv=J(Ol,Kf[pv])+dv;if(xl+vv>Zu)break n;for(var F1=By?fv:0;0<vv--;)cv[xl++]=F1}}Rp=1;break n}Rp||(uv.a=3),oh=Rp}(oh=oh&&!Zs.h)&&(wl=Je(Pp,nv,8,Qc,nh)),oh&&wl!=0?sh=wl:(ih.a=3,sh=0)}if(sh==0)break r;if(Mo&&Hd[pn]==1&&(Mo=Qa[Zi].g==0),Sn+=Qa[Zi].g,Zi+=sh,3>=pn){var ru,Np=Jc[0];for(ru=1;ru<Bi;++ru)Jc[ru]>Np&&(Np=Jc[ru]);rv+=Np}}if(ts.nd=Mo,ts.Qb=0,Mo&&(ts.qb=(Xu[3][Ku[3]+0].value<<24|Xu[1][Ku[1]+0].value<<16|Xu[2][Ku[2]+0].value)>>>0,Sn==0&&256>Xu[0][Ku[0]+0].value&&(ts.Qb=1,ts.qb+=Xu[0][Ku[0]+0].value<<8)),ts.jc=!ts.Qb&&6>rv,ts.jc){var lh,Ts=ts;for(lh=0;lh<Ys;++lh){var Tl=lh,$s=Ts.pd[Tl],pa=Ts.G[0][Ts.H[0]+Tl];256<=pa.value?($s.g=pa.g+256,$s.value=pa.value):($s.g=0,$s.value=0,Tl>>=Ka(pa,8,$s),Tl>>=Ka(Ts.G[1][Ts.H[1]+Tl],16,$s),Tl>>=Ka(Ts.G[2][Ts.H[2]+Tl],0,$s),Ka(Ts.G[3][Ts.H[3]+Tl],24,$s))}}}ho.vc=Oo,ho.Wb=ra,ho.Ya=eh,ho.yc=ev,vi=1;break e}vi=0}if(!(tt=vi)){B.a=3;break t}if(0<ce){if(gt.ua=1<<ce,!or(gt.Wa,ce)){B.a=1,tt=0;break t}}else gt.ua=0;var Mp=B,gv=rt,uh=at,Fp=Mp.s,jp=Fp.xc;if(Mp.c=gv,Mp.i=uh,Fp.md=Ir(gv,jp),Fp.wc=jp==0?-1:(1<<jp)-1,L){B.xb=by;break t}if((Zt=C(rt*at))==null){B.a=1,tt=0;break t}tt=(tt=Ni(B,Zt,0,rt,at,at,null))&&!lt.h;break t}return tt?(K!=null?K[0]=Zt:(g(Zt==null),g(L)),B.$=0,L||Fn(gt)):Fn(gt),tt}function js(p,_){var L=p.c*p.i,B=L+_+16*_;return g(p.c<=_),p.V=C(B),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+L+_,1)}function Su(p,_){var L=p.C,B=_-L,K=p.V,tt=p.Ba+p.c*L;for(g(_<=p.l.o);0<B;){var rt=16<B?16:B,at=p.l.ma,lt=p.l.width,gt=lt*rt,Zt=at.ca,ce=at.tb+lt*L,ee=p.Ta,Yt=p.Ua;Po(p,rt,K,tt),Ud(ee,Yt,Zt,ce,gt),aa(at,L,L+rt,Zt,ce,lt),B-=rt,K+=rt*p.c,L+=rt}g(L==_),p.C=p.Ma=_}function Oa(){this.ub=this.yd=this.td=this.Rb=0}function Eu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function vs(){this.Fb=this.Bb=this.Cb=0,this.Zb=C(4),this.Lb=C(4)}function Ta(){this.Yb=function(){var p=[];return function _(L,B,K){for(var tt=K[B],rt=0;rt<tt&&(L.push(K.length>B+1?[]:0),!(K.length<B+1));rt++)_(L[rt],B+1,K)}(p,0,[3,11]),p}()}function rp(){this.jb=C(3),this.Wc=R([4,8],Ta),this.Xc=R([4,17],Ta)}function np(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new C(4),this.od=new C(4)}function Ds(){this.ld=this.La=this.dd=this.tc=0}function hl(){this.Na=this.la=0}function Nf(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Rc(){this.ad=C(384),this.Za=0,this.Ob=C(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ip(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ds),this.Y=0,this.ya=Array(new Rc),this.aa=0,this.l=new wu}function Mf(){this.y=C(16),this.f=C(8),this.ea=C(8)}function op(){this.cb=this.a=0,this.sc="",this.m=new Mt,this.Od=new Oa,this.Kc=new Eu,this.ed=new np,this.Qa=new vs,this.Ic=this.$c=this.Aa=0,this.D=new ip,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=D(8,Mt),this.ia=0,this.pb=D(4,Nf),this.Pa=new rp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Mf),this.Hd=0,this.rb=Array(new hl),this.sb=0,this.wa=Array(new Ds),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Rc),this.L=this.aa=0,this.gd=R([4,2],Ds),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ba(p,_){return 0>p?0:p>_?_:p}function wu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function kl(){var p=new op;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Jl||(Jl=jf)),p}function Di(p,_,L){return p.a==0&&(p.a=_,p.sc=L,p.cb=0),0}function xu(p,_,L){return 3<=L&&p[_+0]==157&&p[_+1]==1&&p[_+2]==42}function Ff(p,_){if(p==null)return 0;if(p.a=0,p.sc="OK",_==null)return Di(p,2,"null VP8Io passed to VP8GetHeaders()");var L=_.data,B=_.w,K=_.ha;if(4>K)return Di(p,7,"Truncated header.");var tt=L[B+0]|L[B+1]<<8|L[B+2]<<16,rt=p.Od;if(rt.Rb=!(1&tt),rt.td=tt>>1&7,rt.yd=tt>>4&1,rt.ub=tt>>5,3<rt.td)return Di(p,3,"Incorrect keyframe parameters.");if(!rt.yd)return Di(p,4,"Frame not displayable.");B+=3,K-=3;var at=p.Kc;if(rt.Rb){if(7>K)return Di(p,7,"cannot parse picture header");if(!xu(L,B,K))return Di(p,3,"Bad code word");at.c=16383&(L[B+4]<<8|L[B+3]),at.Td=L[B+4]>>6,at.i=16383&(L[B+6]<<8|L[B+5]),at.Ud=L[B+6]>>6,B+=7,K-=7,p.za=at.c+15>>4,p.Ub=at.i+15>>4,_.width=at.c,_.height=at.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,A((tt=p.Pa).jb,0,255,tt.jb.length),g((tt=p.Qa)!=null),tt.Cb=0,tt.Bb=0,tt.Fb=1,A(tt.Zb,0,0,tt.Zb.length),A(tt.Lb,0,0,tt.Lb)}if(rt.ub>K)return Di(p,7,"bad partition length");$t(tt=p.m,L,B,rt.ub),B+=rt.ub,K-=rt.ub,rt.Rb&&(at.Ld=Ae(tt),at.Kd=Ae(tt)),at=p.Qa;var lt,gt=p.Pa;if(g(tt!=null),g(at!=null),at.Cb=Ae(tt),at.Cb){if(at.Bb=Ae(tt),Ae(tt)){for(at.Fb=Ae(tt),lt=0;4>lt;++lt)at.Zb[lt]=Ae(tt)?Be(tt,7):0;for(lt=0;4>lt;++lt)at.Lb[lt]=Ae(tt)?Be(tt,6):0}if(at.Bb)for(lt=0;3>lt;++lt)gt.jb[lt]=Ae(tt)?Te(tt,8):255}else at.Bb=0;if(tt.Ka)return Di(p,3,"cannot parse segment header");if((at=p.ed).zd=Ae(tt),at.Tb=Te(tt,6),at.wb=Te(tt,3),at.Pc=Ae(tt),at.Pc&&Ae(tt)){for(gt=0;4>gt;++gt)Ae(tt)&&(at.vd[gt]=Be(tt,6));for(gt=0;4>gt;++gt)Ae(tt)&&(at.od[gt]=Be(tt,6))}if(p.L=at.Tb==0?0:at.zd?1:2,tt.Ka)return Di(p,3,"cannot parse filter header");var Zt=K;if(K=lt=B,B=lt+Zt,at=Zt,p.Xb=(1<<Te(p.m,2))-1,Zt<3*(gt=p.Xb))L=7;else{for(lt+=3*gt,at-=3*gt,Zt=0;Zt<gt;++Zt){var ce=L[K+0]|L[K+1]<<8|L[K+2]<<16;ce>at&&(ce=at),$t(p.Jc[+Zt],L,lt,ce),lt+=ce,at-=ce,K+=3}$t(p.Jc[+gt],L,lt,at),L=lt<B?0:5}if(L!=0)return Di(p,L,"cannot parse partitions");for(L=Te(lt=p.m,7),K=Ae(lt)?Be(lt,4):0,B=Ae(lt)?Be(lt,4):0,at=Ae(lt)?Be(lt,4):0,gt=Ae(lt)?Be(lt,4):0,lt=Ae(lt)?Be(lt,4):0,Zt=p.Qa,ce=0;4>ce;++ce){if(Zt.Cb){var ee=Zt.Zb[ce];Zt.Fb||(ee+=L)}else{if(0<ce){p.pb[ce]=p.pb[0];continue}ee=L}var Yt=p.pb[ce];Yt.Sc[0]=Xc[ba(ee+K,127)],Yt.Sc[1]=Op[ba(ee+0,127)],Yt.Eb[0]=2*Xc[ba(ee+B,127)],Yt.Eb[1]=101581*Op[ba(ee+at,127)]>>16,8>Yt.Eb[1]&&(Yt.Eb[1]=8),Yt.Qc[0]=Xc[ba(ee+gt,117)],Yt.Qc[1]=Op[ba(ee+lt,127)],Yt.lc=ee+lt}if(!rt.Rb)return Di(p,4,"Not a key frame.");for(Ae(tt),rt=p.Pa,L=0;4>L;++L){for(K=0;8>K;++K)for(B=0;3>B;++B)for(at=0;11>at;++at)gt=ke(tt,Ql[L][K][B][at])?Te(tt,8):Kc[L][K][B][at],rt.Wc[L][K].Yb[B][at]=gt;for(K=0;17>K;++K)rt.Xc[L][K]=rt.Wc[L][Ty[K]]}return p.kc=Ae(tt),p.kc&&(p.Bd=Te(tt,8)),p.cb=1}function jf(p,_,L,B,K,tt,rt){var at=_[K].Yb[L];for(L=0;16>K;++K){if(!ke(p,at[L+0]))return K;for(;!ke(p,at[L+1]);)if(at=_[++K].Yb[0],L=0,K==16)return 16;var lt=_[K+1].Yb;if(ke(p,at[L+2])){var gt=p,Zt=0;if(ke(gt,(ee=at)[(ce=L)+3]))if(ke(gt,ee[ce+6])){for(at=0,ce=2*(Zt=ke(gt,ee[ce+8]))+(ee=ke(gt,ee[ce+9+Zt])),Zt=0,ee=Oy[ce];ee[at];++at)Zt+=Zt+ke(gt,ee[at]);Zt+=3+(8<<ce)}else ke(gt,ee[ce+7])?(Zt=7+2*ke(gt,165),Zt+=ke(gt,145)):Zt=5+ke(gt,159);else Zt=ke(gt,ee[ce+4])?3+ke(gt,ee[ce+5]):2;at=lt[2]}else Zt=1,at=lt[1];lt=rt+$f[K],0>(gt=p).b&&Oe(gt);var ce,ee=gt.b,Yt=(ce=gt.Ca>>1)-(gt.I>>ee)>>31;--gt.b,gt.Ca+=Yt,gt.Ca|=1,gt.I-=(ce+1&Yt)<<ee,tt[lt]=((Zt^Yt)-Yt)*B[(0<K)+0]}return 16}function gs(p){var _=p.rb[p.sb-1];_.la=0,_.Na=0,A(p.zc,0,0,p.zc.length),p.ja=0}function Ou(p,_){if(p==null)return 0;if(_==null)return Di(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!Ff(p,_))return 0;if(g(p.cb),_.ac==null||_.ac(_)){_.ob&&(p.L=0);var L=Qf[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=_.v-L>>4,p.zb=_.j-L>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=_.o+15+L>>4,p.Hb=_.va+15+L>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var B=p.ed;for(L=0;4>L;++L){var K;if(p.Qa.Cb){var tt=p.Qa.Lb[L];p.Qa.Fb||(tt+=B.Tb)}else tt=B.Tb;for(K=0;1>=K;++K){var rt=p.gd[L][K],at=tt;if(B.Pc&&(at+=B.vd[0],K&&(at+=B.od[0])),0<(at=0>at?0:63<at?63:at)){var lt=at;0<B.wb&&(lt=4<B.wb?lt>>2:lt>>1)>9-B.wb&&(lt=9-B.wb),1>lt&&(lt=1),rt.dd=lt,rt.tc=2*at+lt,rt.ld=40<=at?2:15<=at?1:0}else rt.tc=0;rt.La=K}}}L=0}else Di(p,6,"Frame setup failed"),L=p.a;if(L=L==0){if(L){p.$c=0,0<p.Aa||(p.Ic=Fy);t:{L=p.Ic,B=4*(lt=p.za);var gt=32*lt,Zt=lt+1,ce=0<p.L?lt*(0<p.Aa?2:1):0,ee=(p.Aa==2?2:1)*lt;if((rt=B+832+(K=3*(16*L+Qf[p.L])/2*gt)+(tt=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=rt)L=0;else{if(rt>p.Vb){if(p.Vb=0,p.Ec=C(rt),p.Fc=0,p.Ec==null){L=Di(p,1,"no memory during frame initialization.");break t}p.Vb=rt}rt=p.Ec,at=p.Fc,p.Ac=rt,p.Bc=at,at+=B,p.Gd=D(gt,Mf),p.Hd=0,p.rb=D(Zt+1,hl),p.sb=1,p.wa=ce?D(ce,Ds):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=lt),g(!0),p.oc=rt,p.pc=at,at+=832,p.ya=D(ee,Rc),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=lt),p.R=16*lt,p.B=8*lt,lt=(gt=Qf[p.L])*p.R,gt=gt/2*p.B,p.sa=rt,p.ta=at+lt,p.qa=p.sa,p.ra=p.ta+16*L*p.R+gt,p.Ha=p.qa,p.Ia=p.ra+8*L*p.B+gt,p.$c=0,at+=K,p.mb=tt?rt:null,p.nb=tt?at:null,g(at+tt<=p.Fc+p.Vb),gs(p),A(p.Ac,p.Bc,0,B),L=1}}if(L){if(_.ka=0,_.y=p.sa,_.O=p.ta,_.f=p.qa,_.N=p.ra,_.ea=p.Ha,_.Vd=p.Ia,_.fa=p.R,_.Rc=p.B,_.F=null,_.J=0,!yp){for(L=-255;255>=L;++L)kd[255+L]=0>L?-L:L;for(L=-1020;1020>=L;++L)gp[1020+L]=-128>L?-128:127<L?127:L;for(L=-112;112>=L;++L)Vd[112+L]=-16>L?-16:15<L?15:L;for(L=-255;510>=L;++L)zd[255+L]=0>L?0:255<L?255:L;yp=1}ku=Cu,$l=bu,yl=Df,Ma=ap,ml=qr,Es=Tu,Vu=dl,Hs=hp,Ja=Gc,zu=Uc,ua=ks,ws=pp,_n=Ru,wi=Iu,Yi=nr,oo=Io,xs=Bc,wn=fp,fa[0]=_s,fa[1]=sp,fa[2]=Mc,fa[3]=La,fa[4]=Fc,fa[5]=vr,fa[6]=Bf,fa[7]=Yl,fa[8]=lp,fa[9]=jc,_l[0]=zl,_l[1]=Ca,_l[2]=ko,_l[3]=ys,_l[4]=Ro,_l[5]=Bs,_l[6]=ms,Ks[0]=Us,Ks[1]=Nc,Ks[2]=up,Ks[3]=Au,Ks[4]=pl,Ks[5]=cp,Ks[6]=Dc,L=1}else L=0}L&&(L=function(Yt,Ue){for(Yt.M=0;Yt.M<Yt.Va;++Yt.M){var we,xt=Yt.Jc[Yt.M&Yt.Xb],ne=Yt.m,Fe=Yt;for(we=0;we<Fe.za;++we){var Ve=ne,Ge=Fe,Or=Ge.Ac,pr=Ge.Bc+4*we,Wr=Ge.zc,gr=Ge.ya[Ge.aa+we];if(Ge.Qa.Bb?gr.$b=ke(Ve,Ge.Pa.jb[0])?2+ke(Ve,Ge.Pa.jb[2]):ke(Ve,Ge.Pa.jb[1]):gr.$b=0,Ge.kc&&(gr.Ad=ke(Ve,Ge.Bd)),gr.Za=!ke(Ve,145)+0,gr.Za){var Jn=gr.Ob,ui=0;for(Ge=0;4>Ge;++Ge){var zn,Er=Wr[0+Ge];for(zn=0;4>zn;++zn){Er=Tp[Or[pr+zn]][Er];for(var vi=Xd[ke(Ve,Er[0])];0<vi;)vi=Xd[2*vi+ke(Ve,Er[vi])];Er=-vi,Or[pr+zn]=Er}T(Jn,ui,Or,pr,4),ui+=4,Wr[0+Ge]=Er}}else Er=ke(Ve,156)?ke(Ve,128)?1:3:ke(Ve,163)?2:0,gr.Ob[0]=Er,A(Or,pr,Er,4),A(Wr,0,Er,4);gr.Dd=ke(Ve,142)?ke(Ve,114)?ke(Ve,183)?1:3:2:0}if(Fe.m.Ka)return Di(Yt,7,"Premature end-of-partition0 encountered.");for(;Yt.ja<Yt.za;++Yt.ja){if(Fe=xt,Ve=(ne=Yt).rb[ne.sb-1],Or=ne.rb[ne.sb+ne.ja],we=ne.ya[ne.aa+ne.ja],pr=ne.kc?we.Ad:0)Ve.la=Or.la=0,we.Za||(Ve.Na=Or.Na=0),we.Hc=0,we.Gc=0,we.ia=0;else{var gi,pn;if(Ve=Or,Or=Fe,pr=ne.Pa.Xc,Wr=ne.ya[ne.aa+ne.ja],gr=ne.pb[Wr.$b],Ge=Wr.ad,Jn=0,ui=ne.rb[ne.sb-1],Er=zn=0,A(Ge,Jn,0,384),Wr.Za)var Zi=0,Qo=pr[3];else{vi=C(16);var Yn=Ve.Na+ui.Na;if(Yn=Jl(Or,pr[1],Yn,gr.Eb,0,vi,0),Ve.Na=ui.Na=(0<Yn)+0,1<Yn)ku(vi,0,Ge,Jn);else{var ta=vi[0]+3>>3;for(vi=0;256>vi;vi+=16)Ge[Jn+vi]=ta}Zi=1,Qo=pr[0]}var dn=15&Ve.la,ha=15&ui.la;for(vi=0;4>vi;++vi){var ea=1&ha;for(ta=pn=0;4>ta;++ta)dn=dn>>1|(ea=(Yn=Jl(Or,Qo,Yn=ea+(1&dn),gr.Sc,Zi,Ge,Jn))>Zi)<<7,pn=pn<<2|(3<Yn?3:1<Yn?2:Ge[Jn+0]!=0),Jn+=16;dn>>=4,ha=ha>>1|ea<<7,zn=(zn<<8|pn)>>>0}for(Qo=dn,Zi=ha>>4,gi=0;4>gi;gi+=2){for(pn=0,dn=Ve.la>>4+gi,ha=ui.la>>4+gi,vi=0;2>vi;++vi){for(ea=1&ha,ta=0;2>ta;++ta)Yn=ea+(1&dn),dn=dn>>1|(ea=0<(Yn=Jl(Or,pr[2],Yn,gr.Qc,0,Ge,Jn)))<<3,pn=pn<<2|(3<Yn?3:1<Yn?2:Ge[Jn+0]!=0),Jn+=16;dn>>=2,ha=ha>>1|ea<<5}Er|=pn<<4*gi,Qo|=dn<<4<<gi,Zi|=(240&ha)<<gi}Ve.la=Qo,ui.la=Zi,Wr.Hc=zn,Wr.Gc=Er,Wr.ia=43690&Er?0:gr.ia,pr=!(zn|Er)}if(0<ne.L&&(ne.wa[ne.Y+ne.ja]=ne.gd[we.$b][we.Za],ne.wa[ne.Y+ne.ja].La|=!pr),Fe.Ka)return Di(Yt,7,"Premature end-of-file encountered.")}if(gs(Yt),ne=Ue,Fe=1,we=(xt=Yt).D,Ve=0<xt.L&&xt.M>=xt.zb&&xt.M<=xt.Va,xt.Aa==0)t:{if(we.M=xt.M,we.uc=Ve,Ia(xt,we),Fe=1,we=(pn=xt.D).Nb,Ve=(Er=Qf[xt.L])*xt.R,Or=Er/2*xt.B,vi=16*we*xt.R,ta=8*we*xt.B,pr=xt.sa,Wr=xt.ta-Ve+vi,gr=xt.qa,Ge=xt.ra-Or+ta,Jn=xt.Ha,ui=xt.Ia-Or+ta,ha=(dn=pn.M)==0,zn=dn>=xt.Va-1,xt.Aa==2&&Ia(xt,pn),pn.uc)for(ea=(Yn=xt).D.M,g(Yn.D.uc),pn=Yn.yb;pn<Yn.Hb;++pn){Zi=pn,Qo=ea;var ho=(Oo=(Bi=Yn).D).Nb;gi=Bi.R;var Oo=Oo.wa[Oo.Y+Zi],ra=Bi.sa,na=Bi.ta+16*ho*gi+16*Zi,Os=Oo.dd,ao=Oo.tc;if(ao!=0)if(g(3<=ao),Bi.L==1)0<Zi&&oo(ra,na,gi,ao+4),Oo.La&&wn(ra,na,gi,ao),0<Qo&&Yi(ra,na,gi,ao+4),Oo.La&&xs(ra,na,gi,ao);else{var Qn=Bi.B,eu=Bi.qa,Hu=Bi.ra+8*ho*Qn+8*Zi,El=Bi.Ha,Bi=Bi.Ia+8*ho*Qn+8*Zi;ho=Oo.ld,0<Zi&&(Hs(ra,na,gi,ao+4,Os,ho),zu(eu,Hu,El,Bi,Qn,ao+4,Os,ho)),Oo.La&&(ws(ra,na,gi,ao,Os,ho),wi(eu,Hu,El,Bi,Qn,ao,Os,ho)),0<Qo&&(Vu(ra,na,gi,ao+4,Os,ho),Ja(eu,Hu,El,Bi,Qn,ao+4,Os,ho)),Oo.La&&(ua(ra,na,gi,ao,Os,ho),_n(eu,Hu,El,Bi,Qn,ao,Os,ho))}}if(xt.ia&&alert("todo:DitherRow"),ne.put!=null){if(pn=16*dn,dn=16*(dn+1),ha?(ne.y=xt.sa,ne.O=xt.ta+vi,ne.f=xt.qa,ne.N=xt.ra+ta,ne.ea=xt.Ha,ne.W=xt.Ia+ta):(pn-=Er,ne.y=pr,ne.O=Wr,ne.f=gr,ne.N=Ge,ne.ea=Jn,ne.W=ui),zn||(dn-=Er),dn>ne.o&&(dn=ne.o),ne.F=null,ne.J=null,xt.Fa!=null&&0<xt.Fa.length&&pn<dn&&(ne.J=O(xt,ne,pn,dn-pn),ne.F=xt.mb,ne.F==null&&ne.F.length==0)){Fe=Di(xt,3,"Could not decode alpha data.");break t}pn<ne.j&&(Er=ne.j-pn,pn=ne.j,g(!(1&Er)),ne.O+=xt.R*Er,ne.N+=xt.B*(Er>>1),ne.W+=xt.B*(Er>>1),ne.F!=null&&(ne.J+=ne.width*Er)),pn<dn&&(ne.O+=ne.v,ne.N+=ne.v>>1,ne.W+=ne.v>>1,ne.F!=null&&(ne.J+=ne.v),ne.ka=pn-ne.j,ne.U=ne.va-ne.v,ne.T=dn-pn,Fe=ne.put(ne))}we+1!=xt.Ic||zn||(T(xt.sa,xt.ta-Ve,pr,Wr+16*xt.R,Ve),T(xt.qa,xt.ra-Or,gr,Ge+8*xt.B,Or),T(xt.Ha,xt.Ia-Or,Jn,ui+8*xt.B,Or))}if(!Fe)return Di(Yt,6,"Output aborted.")}return 1}(p,_)),_.bc!=null&&_.bc(_),L&=1}return L?(p.cb=0,L):0}function Za(p,_,L,B,K){K=p[_+L+32*B]+(K>>3),p[_+L+32*B]=-256&K?0>K?0:255:K}function Vl(p,_,L,B,K,tt){Za(p,_,0,L,B+K),Za(p,_,1,L,B+tt),Za(p,_,2,L,B-tt),Za(p,_,3,L,B-K)}function no(p){return(20091*p>>16)+p}function Ic(p,_,L,B){var K,tt=0,rt=C(16);for(K=0;4>K;++K){var at=p[_+0]+p[_+8],lt=p[_+0]-p[_+8],gt=(35468*p[_+4]>>16)-no(p[_+12]),Zt=no(p[_+4])+(35468*p[_+12]>>16);rt[tt+0]=at+Zt,rt[tt+1]=lt+gt,rt[tt+2]=lt-gt,rt[tt+3]=at-Zt,tt+=4,_++}for(K=tt=0;4>K;++K)at=(p=rt[tt+0]+4)+rt[tt+8],lt=p-rt[tt+8],gt=(35468*rt[tt+4]>>16)-no(rt[tt+12]),Za(L,B,0,0,at+(Zt=no(rt[tt+4])+(35468*rt[tt+12]>>16))),Za(L,B,1,0,lt+gt),Za(L,B,2,0,lt-gt),Za(L,B,3,0,at-Zt),tt++,B+=32}function Tu(p,_,L,B){var K=p[_+0]+4,tt=35468*p[_+4]>>16,rt=no(p[_+4]),at=35468*p[_+1]>>16;Vl(L,B,0,K+rt,p=no(p[_+1]),at),Vl(L,B,1,K+tt,p,at),Vl(L,B,2,K-tt,p,at),Vl(L,B,3,K-rt,p,at)}function bu(p,_,L,B,K){Ic(p,_,L,B),K&&Ic(p,_+16,L,B+4)}function Df(p,_,L,B){$l(p,_+0,L,B,1),$l(p,_+32,L,B+128,1)}function ap(p,_,L,B){var K;for(p=p[_+0]+4,K=0;4>K;++K)for(_=0;4>_;++_)Za(L,B,_,K,p)}function qr(p,_,L,B){p[_+0]&&Ma(p,_+0,L,B),p[_+16]&&Ma(p,_+16,L,B+4),p[_+32]&&Ma(p,_+32,L,B+128),p[_+48]&&Ma(p,_+48,L,B+128+4)}function Cu(p,_,L,B){var K,tt=C(16);for(K=0;4>K;++K){var rt=p[_+0+K]+p[_+12+K],at=p[_+4+K]+p[_+8+K],lt=p[_+4+K]-p[_+8+K],gt=p[_+0+K]-p[_+12+K];tt[0+K]=rt+at,tt[8+K]=rt-at,tt[4+K]=gt+lt,tt[12+K]=gt-lt}for(K=0;4>K;++K)rt=(p=tt[0+4*K]+3)+tt[3+4*K],at=tt[1+4*K]+tt[2+4*K],lt=tt[1+4*K]-tt[2+4*K],gt=p-tt[3+4*K],L[B+0]=rt+at>>3,L[B+16]=gt+lt>>3,L[B+32]=rt-at>>3,L[B+48]=gt-lt>>3,B+=64}function Lu(p,_,L){var B,K=_-32,tt=ca,rt=255-p[K-1];for(B=0;B<L;++B){var at,lt=tt,gt=rt+p[_-1];for(at=0;at<L;++at)p[_+at]=lt[gt+p[K+at]];_+=32}}function sp(p,_){Lu(p,_,4)}function Nc(p,_){Lu(p,_,8)}function Ca(p,_){Lu(p,_,16)}function ko(p,_){var L;for(L=0;16>L;++L)T(p,_+32*L,p,_-32,16)}function ys(p,_){var L;for(L=16;0<L;--L)A(p,_,p[_-1],16),_+=32}function sa(p,_,L){var B;for(B=0;16>B;++B)A(_,L+32*B,p,16)}function zl(p,_){var L,B=16;for(L=0;16>L;++L)B+=p[_-1+32*L]+p[_+L-32];sa(B>>5,p,_)}function Ro(p,_){var L,B=8;for(L=0;16>L;++L)B+=p[_-1+32*L];sa(B>>4,p,_)}function Bs(p,_){var L,B=8;for(L=0;16>L;++L)B+=p[_+L-32];sa(B>>4,p,_)}function ms(p,_){sa(128,p,_)}function xr(p,_,L){return p+2*_+L+2>>2}function Mc(p,_){var L,B=_-32;for(B=new Uint8Array([xr(p[B-1],p[B+0],p[B+1]),xr(p[B+0],p[B+1],p[B+2]),xr(p[B+1],p[B+2],p[B+3]),xr(p[B+2],p[B+3],p[B+4])]),L=0;4>L;++L)T(p,_+32*L,B,0,B.length)}function La(p,_){var L=p[_-1],B=p[_-1+32],K=p[_-1+64],tt=p[_-1+96];cr(p,_+0,16843009*xr(p[_-1-32],L,B)),cr(p,_+32,16843009*xr(L,B,K)),cr(p,_+64,16843009*xr(B,K,tt)),cr(p,_+96,16843009*xr(K,tt,tt))}function _s(p,_){var L,B=4;for(L=0;4>L;++L)B+=p[_+L-32]+p[_-1+32*L];for(B>>=3,L=0;4>L;++L)A(p,_+32*L,B,4)}function Fc(p,_){var L=p[_-1+0],B=p[_-1+32],K=p[_-1+64],tt=p[_-1-32],rt=p[_+0-32],at=p[_+1-32],lt=p[_+2-32],gt=p[_+3-32];p[_+0+96]=xr(B,K,p[_-1+96]),p[_+1+96]=p[_+0+64]=xr(L,B,K),p[_+2+96]=p[_+1+64]=p[_+0+32]=xr(tt,L,B),p[_+3+96]=p[_+2+64]=p[_+1+32]=p[_+0+0]=xr(rt,tt,L),p[_+3+64]=p[_+2+32]=p[_+1+0]=xr(at,rt,tt),p[_+3+32]=p[_+2+0]=xr(lt,at,rt),p[_+3+0]=xr(gt,lt,at)}function Bf(p,_){var L=p[_+1-32],B=p[_+2-32],K=p[_+3-32],tt=p[_+4-32],rt=p[_+5-32],at=p[_+6-32],lt=p[_+7-32];p[_+0+0]=xr(p[_+0-32],L,B),p[_+1+0]=p[_+0+32]=xr(L,B,K),p[_+2+0]=p[_+1+32]=p[_+0+64]=xr(B,K,tt),p[_+3+0]=p[_+2+32]=p[_+1+64]=p[_+0+96]=xr(K,tt,rt),p[_+3+32]=p[_+2+64]=p[_+1+96]=xr(tt,rt,at),p[_+3+64]=p[_+2+96]=xr(rt,at,lt),p[_+3+96]=xr(at,lt,lt)}function vr(p,_){var L=p[_-1+0],B=p[_-1+32],K=p[_-1+64],tt=p[_-1-32],rt=p[_+0-32],at=p[_+1-32],lt=p[_+2-32],gt=p[_+3-32];p[_+0+0]=p[_+1+64]=tt+rt+1>>1,p[_+1+0]=p[_+2+64]=rt+at+1>>1,p[_+2+0]=p[_+3+64]=at+lt+1>>1,p[_+3+0]=lt+gt+1>>1,p[_+0+96]=xr(K,B,L),p[_+0+64]=xr(B,L,tt),p[_+0+32]=p[_+1+96]=xr(L,tt,rt),p[_+1+32]=p[_+2+96]=xr(tt,rt,at),p[_+2+32]=p[_+3+96]=xr(rt,at,lt),p[_+3+32]=xr(at,lt,gt)}function Yl(p,_){var L=p[_+0-32],B=p[_+1-32],K=p[_+2-32],tt=p[_+3-32],rt=p[_+4-32],at=p[_+5-32],lt=p[_+6-32],gt=p[_+7-32];p[_+0+0]=L+B+1>>1,p[_+1+0]=p[_+0+64]=B+K+1>>1,p[_+2+0]=p[_+1+64]=K+tt+1>>1,p[_+3+0]=p[_+2+64]=tt+rt+1>>1,p[_+0+32]=xr(L,B,K),p[_+1+32]=p[_+0+96]=xr(B,K,tt),p[_+2+32]=p[_+1+96]=xr(K,tt,rt),p[_+3+32]=p[_+2+96]=xr(tt,rt,at),p[_+3+64]=xr(rt,at,lt),p[_+3+96]=xr(at,lt,gt)}function jc(p,_){var L=p[_-1+0],B=p[_-1+32],K=p[_-1+64],tt=p[_-1+96];p[_+0+0]=L+B+1>>1,p[_+2+0]=p[_+0+32]=B+K+1>>1,p[_+2+32]=p[_+0+64]=K+tt+1>>1,p[_+1+0]=xr(L,B,K),p[_+3+0]=p[_+1+32]=xr(B,K,tt),p[_+3+32]=p[_+1+64]=xr(K,tt,tt),p[_+3+64]=p[_+2+64]=p[_+0+96]=p[_+1+96]=p[_+2+96]=p[_+3+96]=tt}function lp(p,_){var L=p[_-1+0],B=p[_-1+32],K=p[_-1+64],tt=p[_-1+96],rt=p[_-1-32],at=p[_+0-32],lt=p[_+1-32],gt=p[_+2-32];p[_+0+0]=p[_+2+32]=L+rt+1>>1,p[_+0+32]=p[_+2+64]=B+L+1>>1,p[_+0+64]=p[_+2+96]=K+B+1>>1,p[_+0+96]=tt+K+1>>1,p[_+3+0]=xr(at,lt,gt),p[_+2+0]=xr(rt,at,lt),p[_+1+0]=p[_+3+32]=xr(L,rt,at),p[_+1+32]=p[_+3+64]=xr(B,L,rt),p[_+1+64]=p[_+3+96]=xr(K,B,L),p[_+1+96]=xr(tt,K,B)}function up(p,_){var L;for(L=0;8>L;++L)T(p,_+32*L,p,_-32,8)}function Au(p,_){var L;for(L=0;8>L;++L)A(p,_,p[_-1],8),_+=32}function Gs(p,_,L){var B;for(B=0;8>B;++B)A(_,L+32*B,p,8)}function Us(p,_){var L,B=8;for(L=0;8>L;++L)B+=p[_+L-32]+p[_-1+32*L];Gs(B>>4,p,_)}function cp(p,_){var L,B=4;for(L=0;8>L;++L)B+=p[_+L-32];Gs(B>>3,p,_)}function pl(p,_){var L,B=4;for(L=0;8>L;++L)B+=p[_-1+32*L];Gs(B>>3,p,_)}function Dc(p,_){Gs(128,p,_)}function wo(p,_,L){var B=p[_-L],K=p[_+0],tt=3*(K-B)+mp[1020+p[_-2*L]-p[_+L]],rt=Yu[112+(tt+4>>3)];p[_-L]=ca[255+B+Yu[112+(tt+3>>3)]],p[_+0]=ca[255+K-rt]}function Wl(p,_,L,B){var K=p[_+0],tt=p[_+L];return Fa[255+p[_-2*L]-p[_-L]]>B||Fa[255+tt-K]>B}function Pu(p,_,L,B){return 4*Fa[255+p[_-L]-p[_+0]]+Fa[255+p[_-2*L]-p[_+L]]<=B}function Gf(p,_,L,B,K){var tt=p[_-3*L],rt=p[_-2*L],at=p[_-L],lt=p[_+0],gt=p[_+L],Zt=p[_+2*L],ce=p[_+3*L];return 4*Fa[255+at-lt]+Fa[255+rt-gt]>B?0:Fa[255+p[_-4*L]-tt]<=K&&Fa[255+tt-rt]<=K&&Fa[255+rt-at]<=K&&Fa[255+ce-Zt]<=K&&Fa[255+Zt-gt]<=K&&Fa[255+gt-lt]<=K}function nr(p,_,L,B){var K=2*B+1;for(B=0;16>B;++B)Pu(p,_+B,L,K)&&wo(p,_+B,L)}function Io(p,_,L,B){var K=2*B+1;for(B=0;16>B;++B)Pu(p,_+B*L,1,K)&&wo(p,_+B*L,1)}function Bc(p,_,L,B){var K;for(K=3;0<K;--K)nr(p,_+=4*L,L,B)}function fp(p,_,L,B){var K;for(K=3;0<K;--K)Io(p,_+=4,L,B)}function Aa(p,_,L,B,K,tt,rt,at){for(tt=2*tt+1;0<K--;){if(Gf(p,_,L,tt,rt))if(Wl(p,_,L,at))wo(p,_,L);else{var lt=p,gt=_,Zt=L,ce=lt[gt-2*Zt],ee=lt[gt-Zt],Yt=lt[gt+0],Ue=lt[gt+Zt],we=lt[gt+2*Zt],xt=27*(Fe=mp[1020+3*(Yt-ee)+mp[1020+ce-Ue]])+63>>7,ne=18*Fe+63>>7,Fe=9*Fe+63>>7;lt[gt-3*Zt]=ca[255+lt[gt-3*Zt]+Fe],lt[gt-2*Zt]=ca[255+ce+ne],lt[gt-Zt]=ca[255+ee+xt],lt[gt+0]=ca[255+Yt-xt],lt[gt+Zt]=ca[255+Ue-ne],lt[gt+2*Zt]=ca[255+we-Fe]}_+=B}}function Ss(p,_,L,B,K,tt,rt,at){for(tt=2*tt+1;0<K--;){if(Gf(p,_,L,tt,rt))if(Wl(p,_,L,at))wo(p,_,L);else{var lt=p,gt=_,Zt=L,ce=lt[gt-Zt],ee=lt[gt+0],Yt=lt[gt+Zt],Ue=Yu[112+((we=3*(ee-ce))+4>>3)],we=Yu[112+(we+3>>3)],xt=Ue+1>>1;lt[gt-2*Zt]=ca[255+lt[gt-2*Zt]+xt],lt[gt-Zt]=ca[255+ce+we],lt[gt+0]=ca[255+ee-Ue],lt[gt+Zt]=ca[255+Yt-xt]}_+=B}}function dl(p,_,L,B,K,tt){Aa(p,_,L,1,16,B,K,tt)}function hp(p,_,L,B,K,tt){Aa(p,_,1,L,16,B,K,tt)}function ks(p,_,L,B,K,tt){var rt;for(rt=3;0<rt;--rt)Ss(p,_+=4*L,L,1,16,B,K,tt)}function pp(p,_,L,B,K,tt){var rt;for(rt=3;0<rt;--rt)Ss(p,_+=4,1,L,16,B,K,tt)}function Gc(p,_,L,B,K,tt,rt,at){Aa(p,_,K,1,8,tt,rt,at),Aa(L,B,K,1,8,tt,rt,at)}function Uc(p,_,L,B,K,tt,rt,at){Aa(p,_,1,K,8,tt,rt,at),Aa(L,B,1,K,8,tt,rt,at)}function Ru(p,_,L,B,K,tt,rt,at){Ss(p,_+4*K,K,1,8,tt,rt,at),Ss(L,B+4*K,K,1,8,tt,rt,at)}function Iu(p,_,L,B,K,tt,rt,at){Ss(p,_+4,1,K,8,tt,rt,at),Ss(L,B+4,1,K,8,tt,rt,at)}function Pa(){this.ba=new Li,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new tn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Hl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Nu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function kc(){this.ua=0,this.Wa=new Rr,this.vb=new Rr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ie,this.yc=new ft}function Mu(){this.xb=this.a=0,this.l=new wu,this.ca=new Li,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Gt,this.Pb=0,this.wd=new Gt,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new kc,this.ab=0,this.gc=D(4,Nu),this.Oc=0}function Xl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Vs(p,_,L,B,K,tt,rt){for(p=p==null?0:p[_+0],_=0;_<rt;++_)K[tt+_]=p+L[B+_]&255,p=K[tt+_]}function vl(p,_,L,B,K,tt,rt){var at;if(p==null)Vs(null,null,L,B,K,tt,rt);else for(at=0;at<rt;++at)K[tt+at]=p[_+at]+L[B+at]&255}function Fu(p,_,L,B,K,tt,rt){if(p==null)Vs(null,null,L,B,K,tt,rt);else{var at,lt=p[_+0],gt=lt,Zt=lt;for(at=0;at<rt;++at)gt=Zt+(lt=p[_+at])-gt,Zt=L[B+at]+(-256&gt?0>gt?0:255:gt)&255,gt=lt,K[tt+at]=Zt}}function O(p,_,L,B){var K=_.width,tt=_.o;if(g(p!=null&&_!=null),0>L||0>=B||L+B>tt)return null;if(!p.Cc){if(p.ga==null){var rt;if(p.ga=new Xl,(rt=p.ga==null)||(rt=_.width*_.o,g(p.Gb.length==0),p.Gb=C(rt),p.Uc=0,p.Gb==null?rt=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,rt=1),rt=!rt),!rt){rt=p.ga;var at=p.Fa,lt=p.P,gt=p.qc,Zt=p.mb,ce=p.nb,ee=lt+1,Yt=gt-1,Ue=rt.l;if(g(at!=null&&Zt!=null&&_!=null),Sl[0]=null,Sl[1]=Vs,Sl[2]=vl,Sl[3]=Fu,rt.ca=Zt,rt.tb=ce,rt.c=_.width,rt.i=_.height,g(0<rt.c&&0<rt.i),1>=gt)_=0;else if(rt.$a=at[lt+0]>>0&3,rt.Z=at[lt+0]>>2&3,rt.Lc=at[lt+0]>>4&3,lt=at[lt+0]>>6&3,0>rt.$a||1<rt.$a||4<=rt.Z||1<rt.Lc||lt)_=0;else if(Ue.put=Ui,Ue.ac=fl,Ue.bc=di,Ue.ma=rt,Ue.width=_.width,Ue.height=_.height,Ue.Da=_.Da,Ue.v=_.v,Ue.va=_.va,Ue.j=_.j,Ue.o=_.o,rt.$a)t:{g(rt.$a==1),_=zi();e:for(;;){if(_==null){_=0;break t}if(g(rt!=null),rt.mc=_,_.c=rt.c,_.i=rt.i,_.l=rt.l,_.l.ma=rt,_.l.width=rt.c,_.l.height=rt.i,_.a=0,be(_.m,at,ee,Yt),!Uo(rt.c,rt.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Xt(_.s)?(rt.ic=1,at=_.c*_.i,_.Ta=null,_.Ua=0,_.V=C(at),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(rt.ic=0,_=js(_,rt.c)),!_))break e;_=1;break t}rt.mc=null,_=0}else _=Yt>=rt.c*rt.i;rt=!_}if(rt)return null;p.ga.Lc!=1?p.Ga=0:B=tt-L}g(p.ga!=null),g(L+B<=tt);t:{if(_=(at=p.ga).c,tt=at.l.o,at.$a==0){if(ee=p.rc,Yt=p.Vc,Ue=p.Fa,lt=p.P+1+L*_,gt=p.mb,Zt=p.nb+L*_,g(lt<=p.P+p.qc),at.Z!=0)for(g(Sl[at.Z]!=null),rt=0;rt<B;++rt)Sl[at.Z](ee,Yt,Ue,lt,gt,Zt,_),ee=gt,Yt=Zt,Zt+=_,lt+=_;else for(rt=0;rt<B;++rt)T(gt,Zt,Ue,lt,_),ee=gt,Yt=Zt,Zt+=_,lt+=_;p.rc=ee,p.Vc=Yt}else{if(g(at.mc!=null),_=L+B,g((rt=at.mc)!=null),g(_<=rt.i),rt.C>=_)_=1;else if(at.ic||xe(),at.ic){at=rt.V,ee=rt.Ba,Yt=rt.c;var we=rt.i,xt=(Ue=1,lt=rt.$/Yt,gt=rt.$%Yt,Zt=rt.m,ce=rt.s,rt.$),ne=Yt*we,Fe=Yt*_,Ve=ce.wc,Ge=xt<Fe?ki(ce,gt,lt):null;g(xt<=ne),g(_<=we),g(Xt(ce));e:for(;;){for(;!Zt.h&&xt<Fe;){if(gt&Ve||(Ge=ki(ce,gt,lt)),g(Ge!=null),_e(Zt),256>(we=Cr(Ge.G[0],Ge.H[0],Zt)))at[ee+xt]=we,++xt,++gt>=Yt&&(gt=0,++lt<=_&&!(lt%16)&&Vi(rt,lt));else{if(!(280>we)){Ue=0;break e}we=Yr(we-256,Zt);var Or,pr=Cr(Ge.G[4],Ge.H[4],Zt);if(_e(Zt),!(xt>=(pr=Fs(Yt,pr=Yr(pr,Zt)))&&ne-xt>=we)){Ue=0;break e}for(Or=0;Or<we;++Or)at[ee+xt+Or]=at[ee+xt+Or-pr];for(xt+=we,gt+=we;gt>=Yt;)gt-=Yt,++lt<=_&&!(lt%16)&&Vi(rt,lt);xt<Fe&&gt&Ve&&(Ge=ki(ce,gt,lt))}g(Zt.h==Jt(Zt))}Vi(rt,lt>_?_:lt);break e}!Ue||Zt.h&&xt<ne?(Ue=0,rt.a=Zt.h?5:3):rt.$=xt,_=Ue}else _=Ni(rt,rt.V,rt.Ba,rt.c,rt.i,_,Su);if(!_){B=0;break t}}L+B>=tt&&(p.Cc=1),B=1}if(!B)return null;if(p.Cc&&((B=p.ga)!=null&&(B.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+L*K}function Z(p,_,L,B,K,tt){for(;0<K--;){var rt,at=p,lt=_+(L?1:0),gt=p,Zt=_+(L?0:3);for(rt=0;rt<B;++rt){var ce=gt[Zt+4*rt];ce!=255&&(ce*=32897,at[lt+4*rt+0]=at[lt+4*rt+0]*ce>>23,at[lt+4*rt+1]=at[lt+4*rt+1]*ce>>23,at[lt+4*rt+2]=at[lt+4*rt+2]*ce>>23)}_+=tt}}function bt(p,_,L,B,K){for(;0<B--;){var tt;for(tt=0;tt<L;++tt){var rt=p[_+2*tt+0],at=15&(gt=p[_+2*tt+1]),lt=4369*at,gt=(240&gt|gt>>4)*lt>>16;p[_+2*tt+0]=(240&rt|rt>>4)*lt>>16&240|(15&rt|rt<<4)*lt>>16>>4&15,p[_+2*tt+1]=240&gt|at}_+=K}}function zt(p,_,L,B,K,tt,rt,at){var lt,gt,Zt=255;for(gt=0;gt<K;++gt){for(lt=0;lt<B;++lt){var ce=p[_+lt];tt[rt+4*lt]=ce,Zt&=ce}_+=L,rt+=at}return Zt!=255}function le(p,_,L,B,K){var tt;for(tt=0;tt<K;++tt)L[B+tt]=p[_+tt]>>8}function xe(){Xs=Z,zf=bt,vp=zt,Ud=le}function Ze(p,_,L){Pt[p]=function(B,K,tt,rt,at,lt,gt,Zt,ce,ee,Yt,Ue,we,xt,ne,Fe,Ve){var Ge,Or=Ve-1>>1,pr=at[lt+0]|gt[Zt+0]<<16,Wr=ce[ee+0]|Yt[Ue+0]<<16;g(B!=null);var gr=3*pr+Wr+131074>>2;for(_(B[K+0],255&gr,gr>>16,we,xt),tt!=null&&(gr=3*Wr+pr+131074>>2,_(tt[rt+0],255&gr,gr>>16,ne,Fe)),Ge=1;Ge<=Or;++Ge){var Jn=at[lt+Ge]|gt[Zt+Ge]<<16,ui=ce[ee+Ge]|Yt[Ue+Ge]<<16,zn=pr+Jn+Wr+ui+524296,Er=zn+2*(Jn+Wr)>>3;gr=Er+pr>>1,pr=(zn=zn+2*(pr+ui)>>3)+Jn>>1,_(B[K+2*Ge-1],255&gr,gr>>16,we,xt+(2*Ge-1)*L),_(B[K+2*Ge-0],255&pr,pr>>16,we,xt+(2*Ge-0)*L),tt!=null&&(gr=zn+Wr>>1,pr=Er+ui>>1,_(tt[rt+2*Ge-1],255&gr,gr>>16,ne,Fe+(2*Ge-1)*L),_(tt[rt+2*Ge+0],255&pr,pr>>16,ne,Fe+(2*Ge+0)*L)),pr=Jn,Wr=ui}1&Ve||(gr=3*pr+Wr+131074>>2,_(B[K+Ve-1],255&gr,gr>>16,we,xt+(Ve-1)*L),tt!=null&&(gr=3*Wr+pr+131074>>2,_(tt[rt+Ve-1],255&gr,gr>>16,ne,Fe+(Ve-1)*L)))}}function mr(){ja[Yf]=Cy,ja[Wu]=Zd,ja[ql]=Ly,ja[Wf]=$d,ja[Hf]=bp,ja[_p]=Zc,ja[Yd]=Cp,ja[Sp]=Zd,ja[Hc]=$d,ja[Xf]=bp,ja[Vo]=Zc}function Xr(p){return p&~tu?0>p?0:255:p>>qd}function hn(p,_){return Xr((19077*p>>8)+(26149*_>>8)-14234)}function nn(p,_,L){return Xr((19077*p>>8)-(6419*_>>8)-(13320*L>>8)+8708)}function Un(p,_){return Xr((19077*p>>8)+(33050*_>>8)-17685)}function Ti(p,_,L,B,K){B[K+0]=hn(p,L),B[K+1]=nn(p,_,L),B[K+2]=Un(p,_)}function Ai(p,_,L,B,K){B[K+0]=Un(p,_),B[K+1]=nn(p,_,L),B[K+2]=hn(p,L)}function Ra(p,_,L,B,K){var tt=nn(p,_,L);_=tt<<3&224|Un(p,_)>>3,B[K+0]=248&hn(p,L)|tt>>5,B[K+1]=_}function io(p,_,L,B,K){var tt=240&Un(p,_)|15;B[K+0]=240&hn(p,L)|nn(p,_,L)>>4,B[K+1]=tt}function fo(p,_,L,B,K){B[K+0]=255,Ti(p,_,L,B,K+1)}function la(p,_,L,B,K){Ai(p,_,L,B,K),B[K+3]=255}function Uf(p,_,L,B,K){Ti(p,_,L,B,K),B[K+3]=255}function ba(p,_){return 0>p?0:p>_?_:p}function zs(p,_,L){Pt[p]=function(B,K,tt,rt,at,lt,gt,Zt,ce){for(var ee=Zt+(-2&ce)*L;Zt!=ee;)_(B[K+0],tt[rt+0],at[lt+0],gt,Zt),_(B[K+1],tt[rt+0],at[lt+0],gt,Zt+L),K+=2,++rt,++lt,Zt+=2*L;1&ce&&_(B[K+0],tt[rt+0],at[lt+0],gt,Zt)}}function yn(p,_,L){return L==0?p==0?_==0?6:5:_==0?4:0:L}function Vc(p,_,L,B,K){switch(p>>>30){case 3:$l(_,L,B,K,0);break;case 2:Es(_,L,B,K);break;case 1:Ma(_,L,B,K)}}function Ia(p,_){var L,B,K=_.M,tt=_.Nb,rt=p.oc,at=p.pc+40,lt=p.oc,gt=p.pc+584,Zt=p.oc,ce=p.pc+600;for(L=0;16>L;++L)rt[at+32*L-1]=129;for(L=0;8>L;++L)lt[gt+32*L-1]=129,Zt[ce+32*L-1]=129;for(0<K?rt[at-1-32]=lt[gt-1-32]=Zt[ce-1-32]=129:(A(rt,at-32-1,127,21),A(lt,gt-32-1,127,9),A(Zt,ce-32-1,127,9)),B=0;B<p.za;++B){var ee=_.ya[_.aa+B];if(0<B){for(L=-1;16>L;++L)T(rt,at+32*L-4,rt,at+32*L+12,4);for(L=-1;8>L;++L)T(lt,gt+32*L-4,lt,gt+32*L+4,4),T(Zt,ce+32*L-4,Zt,ce+32*L+4,4)}var Yt=p.Gd,Ue=p.Hd+B,we=ee.ad,xt=ee.Hc;if(0<K&&(T(rt,at-32,Yt[Ue].y,0,16),T(lt,gt-32,Yt[Ue].f,0,8),T(Zt,ce-32,Yt[Ue].ea,0,8)),ee.Za){var ne=rt,Fe=at-32+16;for(0<K&&(B>=p.za-1?A(ne,Fe,Yt[Ue].y[15],4):T(ne,Fe,Yt[Ue+1].y,0,4)),L=0;4>L;L++)ne[Fe+128+L]=ne[Fe+256+L]=ne[Fe+384+L]=ne[Fe+0+L];for(L=0;16>L;++L,xt<<=2)ne=rt,Fe=at+Qd[L],fa[ee.Ob[L]](ne,Fe),Vc(xt,we,16*+L,ne,Fe)}else if(ne=yn(B,K,ee.Ob[0]),_l[ne](rt,at),xt!=0)for(L=0;16>L;++L,xt<<=2)Vc(xt,we,16*+L,rt,at+Qd[L]);for(L=ee.Gc,ne=yn(B,K,ee.Dd),Ks[ne](lt,gt),Ks[ne](Zt,ce),xt=we,ne=lt,Fe=gt,255&(ee=L>>0)&&(170&ee?yl(xt,256,ne,Fe):ml(xt,256,ne,Fe)),ee=Zt,xt=ce,255&(L>>=8)&&(170&L?yl(we,320,ee,xt):ml(we,320,ee,xt)),K<p.Ub-1&&(T(Yt[Ue].y,0,rt,at+480,16),T(Yt[Ue].f,0,lt,gt+224,8),T(Yt[Ue].ea,0,Zt,ce+224,8)),L=8*tt*p.B,Yt=p.sa,Ue=p.ta+16*B+16*tt*p.R,we=p.qa,ee=p.ra+8*B+L,xt=p.Ha,ne=p.Ia+8*B+L,L=0;16>L;++L)T(Yt,Ue+L*p.R,rt,at+32*L,16);for(L=0;8>L;++L)T(we,ee+L*p.B,lt,gt+32*L,8),T(xt,ne+L*p.B,Zt,ce+32*L,8)}}function Kl(p,_,L,B,K,tt,rt,at,lt){var gt=[0],Zt=[0],ce=0,ee=lt!=null?lt.kd:0,Yt=lt!=null?lt:new Hl;if(p==null||12>L)return 7;Yt.data=p,Yt.w=_,Yt.ha=L,_=[_],L=[L],Yt.gb=[Yt.gb];t:{var Ue=_,we=L,xt=Yt.gb;if(g(p!=null),g(we!=null),g(xt!=null),xt[0]=0,12<=we[0]&&!m(p,Ue[0],"RIFF")){if(m(p,Ue[0]+8,"WEBP")){xt=3;break t}var ne=Pe(p,Ue[0]+4);if(12>ne||4294967286<ne){xt=3;break t}if(ee&&ne>we[0]-8){xt=7;break t}xt[0]=ne,Ue[0]+=12,we[0]-=12}xt=0}if(xt!=0)return xt;for(ne=0<Yt.gb[0],L=L[0];;){t:{var Fe=p;we=_,xt=L;var Ve=gt,Ge=Zt,Or=Ue=[0];if((gr=ce=[ce])[0]=0,8>xt[0])xt=7;else{if(!m(Fe,we[0],"VP8X")){if(Pe(Fe,we[0]+4)!=10){xt=3;break t}if(18>xt[0]){xt=7;break t}var pr=Pe(Fe,we[0]+8),Wr=1+fr(Fe,we[0]+12);if(2147483648<=Wr*(Fe=1+fr(Fe,we[0]+15))){xt=3;break t}Or!=null&&(Or[0]=pr),Ve!=null&&(Ve[0]=Wr),Ge!=null&&(Ge[0]=Fe),we[0]+=18,xt[0]-=18,gr[0]=1}xt=0}}if(ce=ce[0],Ue=Ue[0],xt!=0)return xt;if(we=!!(2&Ue),!ne&&ce)return 3;if(tt!=null&&(tt[0]=!!(16&Ue)),rt!=null&&(rt[0]=we),at!=null&&(at[0]=0),rt=gt[0],Ue=Zt[0],ce&&we&&lt==null){xt=0;break}if(4>L){xt=7;break}if(ne&&ce||!ne&&!ce&&!m(p,_[0],"ALPH")){L=[L],Yt.na=[Yt.na],Yt.P=[Yt.P],Yt.Sa=[Yt.Sa];t:{pr=p,xt=_,ne=L;var gr=Yt.gb;Ve=Yt.na,Ge=Yt.P,Or=Yt.Sa,Wr=22,g(pr!=null),g(ne!=null),Fe=xt[0];var Jn=ne[0];for(g(Ve!=null),g(Or!=null),Ve[0]=null,Ge[0]=null,Or[0]=0;;){if(xt[0]=Fe,ne[0]=Jn,8>Jn){xt=7;break t}var ui=Pe(pr,Fe+4);if(4294967286<ui){xt=3;break t}var zn=8+ui+1&-2;if(Wr+=zn,0<gr&&Wr>gr){xt=3;break t}if(!m(pr,Fe,"VP8 ")||!m(pr,Fe,"VP8L")){xt=0;break t}if(Jn[0]<zn){xt=7;break t}m(pr,Fe,"ALPH")||(Ve[0]=pr,Ge[0]=Fe+8,Or[0]=ui),Fe+=zn,Jn-=zn}}if(L=L[0],Yt.na=Yt.na[0],Yt.P=Yt.P[0],Yt.Sa=Yt.Sa[0],xt!=0)break}L=[L],Yt.Ja=[Yt.Ja],Yt.xa=[Yt.xa];t:if(gr=p,xt=_,ne=L,Ve=Yt.gb[0],Ge=Yt.Ja,Or=Yt.xa,pr=xt[0],Fe=!m(gr,pr,"VP8 "),Wr=!m(gr,pr,"VP8L"),g(gr!=null),g(ne!=null),g(Ge!=null),g(Or!=null),8>ne[0])xt=7;else{if(Fe||Wr){if(gr=Pe(gr,pr+4),12<=Ve&&gr>Ve-12){xt=3;break t}if(ee&&gr>ne[0]-8){xt=7;break t}Ge[0]=gr,xt[0]+=8,ne[0]-=8,Or[0]=Wr}else Or[0]=5<=ne[0]&&gr[pr+0]==47&&!(gr[pr+4]>>5),Ge[0]=ne[0];xt=0}if(L=L[0],Yt.Ja=Yt.Ja[0],Yt.xa=Yt.xa[0],_=_[0],xt!=0)break;if(4294967286<Yt.Ja)return 3;if(at==null||we||(at[0]=Yt.xa?2:1),rt=[rt],Ue=[Ue],Yt.xa){if(5>L){xt=7;break}at=rt,ee=Ue,we=tt,p==null||5>L?p=0:5<=L&&p[_+0]==47&&!(p[_+4]>>5)?(ne=[0],gr=[0],Ve=[0],be(Ge=new Gt,p,_,L),wa(Ge,ne,gr,Ve)?(at!=null&&(at[0]=ne[0]),ee!=null&&(ee[0]=gr[0]),we!=null&&(we[0]=Ve[0]),p=1):p=0):p=0}else{if(10>L){xt=7;break}at=Ue,p==null||10>L||!xu(p,_+3,L-3)?p=0:(ee=p[_+0]|p[_+1]<<8|p[_+2]<<16,we=16383&(p[_+7]<<8|p[_+6]),p=16383&(p[_+9]<<8|p[_+8]),1&ee||3<(ee>>1&7)||!(ee>>4&1)||ee>>5>=Yt.Ja||!we||!p?p=0:(rt&&(rt[0]=we),at&&(at[0]=p),p=1))}if(!p||(rt=rt[0],Ue=Ue[0],ce&&(gt[0]!=rt||Zt[0]!=Ue)))return 3;lt!=null&&(lt[0]=Yt,lt.offset=_-lt.w,g(4294967286>_-lt.w),g(lt.offset==lt.ha-L));break}return xt==0||xt==7&&ce&&lt==null?(tt!=null&&(tt[0]|=Yt.na!=null&&0<Yt.na.length),B!=null&&(B[0]=rt),K!=null&&(K[0]=Ue),0):xt}function zc(p,_,L){var B=_.width,K=_.height,tt=0,rt=0,at=B,lt=K;if(_.Da=p!=null&&0<p.Da,_.Da&&(at=p.cd,lt=p.bd,tt=p.v,rt=p.j,11>L||(tt&=-2,rt&=-2),0>tt||0>rt||0>=at||0>=lt||tt+at>B||rt+lt>K))return 0;if(_.v=tt,_.j=rt,_.va=tt+at,_.o=rt+lt,_.U=at,_.T=lt,_.da=p!=null&&0<p.da,_.da){if(!Ut(at,lt,L=[p.ib],tt=[p.hb]))return 0;_.ib=L[0],_.hb=tt[0]}return _.ob=p!=null&&p.ob,_.Kb=p==null||!p.Sd,_.da&&(_.ob=_.ib<3*B/4&&_.hb<3*K/4,_.Kb=0),1}function gl(p){if(p==null)return 2;if(11>p.S){var _=p.f.RGBA;_.fb+=(p.height-1)*_.A,_.A=-_.A}else _=p.f.kb,p=p.height,_.O+=(p-1)*_.fa,_.fa=-_.fa,_.N+=(p-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(p-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(p-1)*_.lb,_.lb=-_.lb);return 0}function qo(p,_,L,B){if(B==null||0>=p||0>=_)return 2;if(L!=null){if(L.Da){var K=L.cd,tt=L.bd,rt=-2&L.v,at=-2&L.j;if(0>rt||0>at||0>=K||0>=tt||rt+K>p||at+tt>_)return 2;p=K,_=tt}if(L.da){if(!Ut(p,_,K=[L.ib],tt=[L.hb]))return 2;p=K[0],_=tt[0]}}B.width=p,B.height=_;t:{var lt=B.width,gt=B.height;if(p=B.S,0>=lt||0>=gt||!(p>=Yf&&13>p))p=2;else{if(0>=B.Rd&&B.sd==null){rt=tt=K=_=0;var Zt=(at=lt*tv[p])*gt;if(11>p||(tt=(gt+1)/2*(_=(lt+1)/2),p==12&&(rt=(K=lt)*gt)),(gt=C(Zt+2*tt+rt))==null){p=1;break t}B.sd=gt,11>p?((lt=B.f.RGBA).eb=gt,lt.fb=0,lt.A=at,lt.size=Zt):((lt=B.f.kb).y=gt,lt.O=0,lt.fa=at,lt.Fd=Zt,lt.f=gt,lt.N=0+Zt,lt.Ab=_,lt.Cd=tt,lt.ea=gt,lt.W=0+Zt+tt,lt.Db=_,lt.Ed=tt,p==12&&(lt.F=gt,lt.J=0+Zt+2*tt),lt.Tc=rt,lt.lb=K)}if(_=1,K=B.S,tt=B.width,rt=B.height,K>=Yf&&13>K)if(11>K)p=B.f.RGBA,_&=(at=Math.abs(p.A))*(rt-1)+tt<=p.size,_&=at>=tt*tv[K],_&=p.eb!=null;else{p=B.f.kb,at=(tt+1)/2,Zt=(rt+1)/2,lt=Math.abs(p.fa),gt=Math.abs(p.Ab);var ce=Math.abs(p.Db),ee=Math.abs(p.lb),Yt=ee*(rt-1)+tt;_&=lt*(rt-1)+tt<=p.Fd,_&=gt*(Zt-1)+at<=p.Cd,_=(_&=ce*(Zt-1)+at<=p.Ed)&lt>=tt&gt>=at&ce>=at,_&=p.y!=null,_&=p.f!=null,_&=p.ea!=null,K==12&&(_&=ee>=tt,_&=Yt<=p.Tc,_&=p.F!=null)}else _=0;p=_?0:2}}return p!=0||L!=null&&L.fd&&(p=gl(B)),p}var Ys=64,Ws=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],kf=24,ju=32,No=8,dp=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),Pt.Predictor0=function(){return 4278190080},Pt.Predictor1=function(p){return p},Pt.Predictor2=function(p,_,L){return _[L+0]},Pt.Predictor3=function(p,_,L){return _[L+1]},Pt.Predictor4=function(p,_,L){return _[L-1]},Pt.Predictor5=function(p,_,L){return Kr(Kr(p,_[L+1]),_[L+0])},Pt.Predictor6=function(p,_,L){return Kr(p,_[L-1])},Pt.Predictor7=function(p,_,L){return Kr(p,_[L+0])},Pt.Predictor8=function(p,_,L){return Kr(_[L-1],_[L+0])},Pt.Predictor9=function(p,_,L){return Kr(_[L+0],_[L+1])},Pt.Predictor10=function(p,_,L){return Kr(Kr(p,_[L-1]),Kr(_[L+0],_[L+1]))},Pt.Predictor11=function(p,_,L){var B=_[L+0];return 0>=Vn(B>>24&255,p>>24&255,(_=_[L-1])>>24&255)+Vn(B>>16&255,p>>16&255,_>>16&255)+Vn(B>>8&255,p>>8&255,_>>8&255)+Vn(255&B,255&p,255&_)?B:p},Pt.Predictor12=function(p,_,L){var B=_[L+0];return(mn((p>>24&255)+(B>>24&255)-((_=_[L-1])>>24&255))<<24|mn((p>>16&255)+(B>>16&255)-(_>>16&255))<<16|mn((p>>8&255)+(B>>8&255)-(_>>8&255))<<8|mn((255&p)+(255&B)-(255&_)))>>>0},Pt.Predictor13=function(p,_,L){var B=_[L-1];return(In((p=Kr(p,_[L+0]))>>24&255,B>>24&255)<<24|In(p>>16&255,B>>16&255)<<16|In(p>>8&255,B>>8&255)<<8|In(p>>0&255,B>>0&255))>>>0};var Yc=Pt.PredictorAdd0;Pt.PredictorAdd1=oi,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var Du=Pt.PredictorAdd2;Cn("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Cn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Na,Bu=Pt.ColorIndexInverseTransform,Wc=Pt.MapARGB,Vf=Pt.VP8LColorIndexInverseTransformAlpha,Gu=Pt.MapAlpha,Jo=Pt.VP8LPredictorsAdd=[];Jo.length=16,(Pt.VP8LPredictors=[]).length=16,(Pt.VP8LPredictorsAdd_C=[]).length=16,(Pt.VP8LPredictors_C=[]).length=16;var kn,Zl,xo,$a,Uu,qa,ku,$l,Es,yl,Ma,ml,Vu,Hs,Ja,zu,ua,ws,_n,wi,Yi,oo,xs,wn,Xs,zf,vp,Ud,kd=C(511),gp=C(2041),Vd=C(225),zd=C(767),yp=0,mp=gp,Yu=Vd,ca=zd,Fa=kd,Yf=0,Wu=1,ql=2,Wf=3,Hf=4,_p=5,Yd=6,Sp=7,Hc=8,Xf=9,Vo=10,Kf=[2,3,7],Wd=[3,3,11],Ep=[280,256,256,256,40],Hd=[0,1,1,1,0],wp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zf=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xy=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xp=8,Xc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Op=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Jl=null,Oy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$f=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Xd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Kc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Tp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ql=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ty=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],_l=[],fa=[],Ks=[],by=1,Kd=2,Sl=[],ja=[];Ze("UpsampleRgbLinePair",Ti,3),Ze("UpsampleBgrLinePair",Ai,3),Ze("UpsampleRgbaLinePair",Uf,4),Ze("UpsampleBgraLinePair",la,4),Ze("UpsampleArgbLinePair",fo,4),Ze("UpsampleRgba4444LinePair",io,2),Ze("UpsampleRgb565LinePair",Ra,2);var Cy=Pt.UpsampleRgbLinePair,Ly=Pt.UpsampleBgrLinePair,Zd=Pt.UpsampleRgbaLinePair,$d=Pt.UpsampleBgraLinePair,bp=Pt.UpsampleArgbLinePair,Zc=Pt.UpsampleRgba4444LinePair,Cp=Pt.UpsampleRgb565LinePair,qf=16,Jf=1<<qf-1,$c=-227,Lp=482,qd=6,tu=(256<<qd)-1,Jd=0,Ay=C(256),Py=C(256),Ry=C(256),Iy=C(256),Ny=C(Lp-$c),My=C(Lp-$c);zs("YuvToRgbRow",Ti,3),zs("YuvToBgrRow",Ai,3),zs("YuvToRgbaRow",Uf,4),zs("YuvToBgraRow",la,4),zs("YuvToArgbRow",fo,4),zs("YuvToRgba4444Row",io,2),zs("YuvToRgb565Row",Ra,2);var Qd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Qf=[0,2,8],Ap=[8,7,6,4,4,2,2,2,1,1,1,1],Fy=1;this.WebPDecodeRGBA=function(p,_,L,B,K){var tt=Wu,rt=new Pa,at=new Li;rt.ba=at,at.S=tt,at.width=[at.width],at.height=[at.height];var lt=at.width,gt=at.height,Zt=new Eo;if(Zt==null||p==null)var ce=2;else g(Zt!=null),ce=Kl(p,_,L,Zt.width,Zt.height,Zt.Pd,Zt.Qd,Zt.format,null);if(ce!=0?lt=0:(lt!=null&&(lt[0]=Zt.width[0]),gt!=null&&(gt[0]=Zt.height[0]),lt=1),lt){at.width=at.width[0],at.height=at.height[0],B!=null&&(B[0]=at.width),K!=null&&(K[0]=at.height);t:{if(B=new wu,(K=new Hl).data=p,K.w=_,K.ha=L,K.kd=1,_=[0],g(K!=null),((p=Kl(K.data,K.w,K.ha,null,null,null,_,null,K))==0||p==7)&&_[0]&&(p=4),(_=p)==0){if(g(rt!=null),B.data=K.data,B.w=K.w+K.offset,B.ha=K.ha-K.offset,B.put=Ui,B.ac=fl,B.bc=di,B.ma=rt,K.xa){if((p=zi())==null){rt=1;break t}if(function(ee,Yt){var Ue=[0],we=[0],xt=[0];e:for(;;){if(ee==null)return 0;if(Yt==null)return ee.a=2,0;if(ee.l=Yt,ee.a=0,be(ee.m,Yt.data,Yt.w,Yt.ha),!wa(ee.m,Ue,we,xt)){ee.a=3;break e}if(ee.xb=Kd,Yt.width=Ue[0],Yt.height=we[0],!Uo(Ue[0],we[0],1,ee,null))break e;return 1}return g(ee.a!=0),0}(p,B)){if(B=(_=qo(B.width,B.height,rt.Oa,rt.ba))==0){e:{B=p;r:for(;;){if(B==null){B=0;break e}if(g(B.s.yc!=null),g(B.s.Ya!=null),g(0<B.s.Wb),g((L=B.l)!=null),g((K=L.ma)!=null),B.xb!=0){if(B.ca=K.ba,B.tb=K.tb,g(B.ca!=null),!zc(K.Oa,L,Wf)){B.a=2;break r}if(!js(B,L.width)||L.da)break r;if((L.da||ds(B.ca.S))&&xe(),11>B.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),B.ca.f.kb.F!=null&&xe()),B.Pb&&0<B.s.ua&&B.s.vb.X==null&&!or(B.s.vb,B.s.Wa.Xa)){B.a=1;break r}B.xb=0}if(!Ni(B,B.V,B.Ba,B.c,B.i,L.o,xa))break r;K.Dc=B.Ma,B=1;break e}g(B.a!=0),B=0}B=!B}B&&(_=p.a)}else _=p.a}else{if((p=new kl)==null){rt=1;break t}if(p.Fa=K.na,p.P=K.P,p.qc=K.Sa,Ff(p,B)){if((_=qo(B.width,B.height,rt.Oa,rt.ba))==0){if(p.Aa=0,L=rt.Oa,g((K=p)!=null),L!=null){if(0<(lt=0>(lt=L.Md)?0:100<lt?255:255*lt/100)){for(gt=Zt=0;4>gt;++gt)12>(ce=K.pb[gt]).lc&&(ce.ia=lt*Ap[0>ce.lc?0:ce.lc]>>3),Zt|=ce.ia;Zt&&(alert("todo:VP8InitRandom"),K.ia=1)}K.Ga=L.Id,100<K.Ga?K.Ga=100:0>K.Ga&&(K.Ga=0)}Ou(p,B)||(_=p.a)}}else _=p.a}_==0&&rt.Oa!=null&&rt.Oa.fd&&(_=gl(rt.ba))}rt=_}tt=rt!=0?null:11>tt?at.f.RGBA.eb:at.f.kb.y}else tt=null;return tt};var tv=[3,4,3,4,4,2,2,4,4,4,2,1,1]});var ut=[0],mt=[0],Y=[],Dt=new Rf,Tt=w,ct=function(Pt,Ke){var ir={},Je=0,ft=!1,jt=0,ie=0;if(ir.frames=[],!function(Bt,Jt,ae,_e){for(var Oe=0;Oe<_e;Oe++)if(Bt[Jt+Oe]!=ae.charCodeAt(Oe))return!0;return!1}(Pt,Ke,"RIFF",4)){var $t,Te;for(st(Pt,Ke+=4),Ke+=8;Ke<Pt.length;){var Be=j(Pt,Ke),be=st(Pt,Ke+=4);Ke+=4;var ge=be+(1&be);switch(Be){case"VP8 ":case"VP8L":ir.frames[Je]===void 0&&(ir.frames[Je]={}),(Gt=ir.frames[Je]).src_off=ft?ie:Ke-8,Gt.src_size=jt+be+8,Je++,ft&&(ft=!1,jt=0,ie=0);break;case"VP8X":(Gt=ir.header={}).feature_flags=Pt[Ke];var J=Ke+4;Gt.canvas_width=1+H(Pt,J),J+=3,Gt.canvas_height=1+H(Pt,J),J+=3;break;case"ALPH":ft=!0,jt=ge+8,ie=Ke-8;break;case"ANIM":(Gt=ir.header).bgcolor=st(Pt,Ke),J=Ke+4,Gt.loop_count=($t=Pt)[(Te=J)+0]<<0|$t[Te+1]<<8,J+=2;break;case"ANMF":var Mt,Gt;(Gt=ir.frames[Je]={}).offset_x=2*H(Pt,Ke),Ke+=3,Gt.offset_y=2*H(Pt,Ke),Ke+=3,Gt.width=1+H(Pt,Ke),Ke+=3,Gt.height=1+H(Pt,Ke),Ke+=3,Gt.duration=H(Pt,Ke),Ke+=3,Mt=Pt[Ke++],Gt.dispose=1&Mt,Gt.blend=Mt>>1&1}Be!="ANMF"&&(Ke+=ge)}return ir}}(Tt,0);ct.response=Tt,ct.rgbaoutput=!0,ct.dataurl=!1;var te=ct.header?ct.header:null,Nt=ct.frames?ct.frames:null;if(te){te.loop_counter=te.loop_count,ut=[te.canvas_height],mt=[te.canvas_width];for(var ue=0;ue<Nt.length&&Nt[ue].blend!=0;ue++);}var Re=Nt[0],ze=Dt.WebPDecodeRGBA(Tt,Re.src_off,Re.src_size,mt,ut);Re.rgba=ze,Re.imgwidth=mt[0],Re.imgheight=ut[0];for(var tr=0;tr<mt[0]*ut[0]*4;tr++)Y[tr]=ze[tr];return this.width=mt,this.height=ut,this.data=Y,this}(function(w){var g=function(){return typeof S.b=="function"},m=function(mt,Y,Dt,Tt){var ct=4,te=D;switch(Tt){case w.image_compression.FAST:ct=1,te=C;break;case w.image_compression.MEDIUM:ct=6,te=R;break;case w.image_compression.SLOW:ct=9,te=j}mt=T(mt,Y,Dt,te);var Nt=Object(S.b)(mt,{level:ct});return w.__addimage__.arrayBufferToBinaryString(Nt)},T=function(mt,Y,Dt,Tt){for(var ct,te,Nt,ue=mt.length/Y,Re=new Uint8Array(mt.length+ue),ze=st(),tr=0;tr<ue;tr+=1){if(Nt=tr*Y,ct=mt.subarray(Nt,Nt+Y),Tt)Re.set(Tt(ct,Dt,te),Nt+tr);else{for(var Pt,Ke=ze.length,ir=[];Pt<Ke;Pt+=1)ir[Pt]=ze[Pt](ct,Dt,te);var Je=ut(ir.concat());Re.set(ir[Je],Nt+tr)}te=ct}return Re},A=function(mt){var Y=Array.apply([],mt);return Y.unshift(0),Y},C=function(mt,Y){var Dt,Tt=[],ct=mt.length;Tt[0]=1;for(var te=0;te<ct;te+=1)Dt=mt[te-Y]||0,Tt[te+1]=mt[te]-Dt+256&255;return Tt},D=function(mt,Y,Dt){var Tt,ct=[],te=mt.length;ct[0]=2;for(var Nt=0;Nt<te;Nt+=1)Tt=Dt&&Dt[Nt]||0,ct[Nt+1]=mt[Nt]-Tt+256&255;return ct},R=function(mt,Y,Dt){var Tt,ct,te=[],Nt=mt.length;te[0]=3;for(var ue=0;ue<Nt;ue+=1)Tt=mt[ue-Y]||0,ct=Dt&&Dt[ue]||0,te[ue+1]=mt[ue]+256-(Tt+ct>>>1)&255;return te},j=function(mt,Y,Dt){var Tt,ct,te,Nt,ue=[],Re=mt.length;ue[0]=4;for(var ze=0;ze<Re;ze+=1)Tt=mt[ze-Y]||0,ct=Dt&&Dt[ze]||0,te=Dt&&Dt[ze-Y]||0,Nt=H(Tt,ct,te),ue[ze+1]=mt[ze]-Nt+256&255;return ue},H=function(mt,Y,Dt){if(mt===Y&&Y===Dt)return mt;var Tt=Math.abs(Y-Dt),ct=Math.abs(mt-Dt),te=Math.abs(mt+Y-Dt-Dt);return Tt<=ct&&Tt<=te?mt:ct<=te?Y:Dt},st=function(){return[A,C,D,R,j]},ut=function(mt){var Y=mt.map(function(Dt){return Dt.reduce(function(Tt,ct){return Tt+Math.abs(ct)},0)});return Y.indexOf(Math.min.apply(null,Y))};w.processPNG=function(mt,Y,Dt,Tt){var ct,te,Nt,ue,Re,ze,tr,Pt,Ke,ir,Je,ft,jt,ie,$t,Te=this.decode.FLATE_DECODE,Be="";if(this.__addimage__.isArrayBuffer(mt)&&(mt=new Uint8Array(mt)),this.__addimage__.isArrayBufferView(mt)){if(mt=(Nt=new ll(mt)).imgData,te=Nt.bits,ct=Nt.colorSpace,Re=Nt.colors,[4,6].indexOf(Nt.colorType)!==-1){if(Nt.bits===8){Ke=(Pt=Nt.pixelBitlength==32?new Uint32Array(Nt.decodePixels().buffer):Nt.pixelBitlength==16?new Uint16Array(Nt.decodePixels().buffer):new Uint8Array(Nt.decodePixels().buffer)).length,Je=new Uint8Array(Ke*Nt.colors),ir=new Uint8Array(Ke);var be,ge=Nt.pixelBitlength-Nt.bits;for(ie=0,$t=0;ie<Ke;ie++){for(jt=Pt[ie],be=0;be<ge;)Je[$t++]=jt>>>be&255,be+=Nt.bits;ir[ie]=jt>>>be&255}}if(Nt.bits===16){Ke=(Pt=new Uint32Array(Nt.decodePixels().buffer)).length,Je=new Uint8Array(Ke*(32/Nt.pixelBitlength)*Nt.colors),ir=new Uint8Array(Ke*(32/Nt.pixelBitlength)),ft=Nt.colors>1,ie=0,$t=0;for(var J=0;ie<Ke;)jt=Pt[ie++],Je[$t++]=jt>>>0&255,ft&&(Je[$t++]=jt>>>16&255,jt=Pt[ie++],Je[$t++]=jt>>>0&255),ir[J++]=jt>>>16&255;te=8}Tt!==w.image_compression.NONE&&g()?(mt=m(Je,Nt.width*Nt.colors,Nt.colors,Tt),tr=m(ir,Nt.width,1,Tt)):(mt=Je,tr=ir,Te=void 0)}if(Nt.colorType===3&&(ct=this.color_spaces.INDEXED,ze=Nt.palette,Nt.transparency.indexed)){var Mt=Nt.transparency.indexed,Gt=0;for(ie=0,Ke=Mt.length;ie<Ke;++ie)Gt+=Mt[ie];if((Gt/=255)==Ke-1&&Mt.indexOf(0)!==-1)ue=[Mt.indexOf(0)];else if(Gt!==Ke){for(Pt=Nt.decodePixels(),ir=new Uint8Array(Pt.length),ie=0,Ke=Pt.length;ie<Ke;ie++)ir[ie]=Mt[Pt[ie]];tr=m(ir,Nt.width,1)}}var Bt=function(Jt){var ae;switch(Jt){case w.image_compression.FAST:ae=11;break;case w.image_compression.MEDIUM:ae=13;break;case w.image_compression.SLOW:ae=14;break;default:ae=12}return ae}(Tt);return Te===this.decode.FLATE_DECODE&&(Be="/Predictor "+Bt+" "),Be+="/Colors "+Re+" /BitsPerComponent "+te+" /Columns "+Nt.width,(this.__addimage__.isArrayBuffer(mt)||this.__addimage__.isArrayBufferView(mt))&&(mt=this.__addimage__.arrayBufferToBinaryString(mt)),(tr&&this.__addimage__.isArrayBuffer(tr)||this.__addimage__.isArrayBufferView(tr))&&(tr=this.__addimage__.arrayBufferToBinaryString(tr)),{alias:Dt,data:mt,index:Y,filter:Te,decodeParameters:Be,transparency:ue,palette:ze,sMask:tr,predictor:Bt,width:Nt.width,height:Nt.height,bitsPerComponent:te,colorSpace:ct}}}})(me.API),function(w){w.processGIF89A=function(g,m,T,A){var C=new Ms(g),D=C.width,R=C.height,j=[];C.decodeAndBlitFrameRGBA(0,j);var H={data:j,width:D,height:R},st=new Qh(100).encode(H,100);return w.processJPEG.call(this,st,m,T,A)},w.processGIF87A=w.processGIF89A}(me.API),eo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var w=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(w);for(var g=0;g<w;g++){var m=this.datav.getUint8(this.pos++,!0),T=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),C=this.datav.getUint8(this.pos++,!0);this.palette[g]={red:A,green:T,blue:m,quad:C}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},eo.prototype.parseBGR=function(){this.pos=this.offset;try{var w="bit"+this.bitPP,g=this.width*this.height*4;this.data=new Uint8Array(g),this[w]()}catch(m){F.log("bit decode error:"+m)}},eo.prototype.bit1=function(){var w,g=Math.ceil(this.width/8),m=g%4;for(w=this.height-1;w>=0;w--){for(var T=this.bottom_up?w:this.height-1-w,A=0;A<g;A++)for(var C=this.datav.getUint8(this.pos++,!0),D=T*this.width*4+8*A*4,R=0;R<8&&8*A+R<this.width;R++){var j=this.palette[C>>7-R&1];this.data[D+4*R]=j.blue,this.data[D+4*R+1]=j.green,this.data[D+4*R+2]=j.red,this.data[D+4*R+3]=255}m!==0&&(this.pos+=4-m)}},eo.prototype.bit4=function(){for(var w=Math.ceil(this.width/2),g=w%4,m=this.height-1;m>=0;m--){for(var T=this.bottom_up?m:this.height-1-m,A=0;A<w;A++){var C=this.datav.getUint8(this.pos++,!0),D=T*this.width*4+2*A*4,R=C>>4,j=15&C,H=this.palette[R];if(this.data[D]=H.blue,this.data[D+1]=H.green,this.data[D+2]=H.red,this.data[D+3]=255,2*A+1>=this.width)break;H=this.palette[j],this.data[D+4]=H.blue,this.data[D+4+1]=H.green,this.data[D+4+2]=H.red,this.data[D+4+3]=255}g!==0&&(this.pos+=4-g)}},eo.prototype.bit8=function(){for(var w=this.width%4,g=this.height-1;g>=0;g--){for(var m=this.bottom_up?g:this.height-1-g,T=0;T<this.width;T++){var A=this.datav.getUint8(this.pos++,!0),C=m*this.width*4+4*T;if(A<this.palette.length){var D=this.palette[A];this.data[C]=D.red,this.data[C+1]=D.green,this.data[C+2]=D.blue,this.data[C+3]=255}else this.data[C]=255,this.data[C+1]=255,this.data[C+2]=255,this.data[C+3]=255}w!==0&&(this.pos+=4-w)}},eo.prototype.bit15=function(){for(var w=this.width%3,g=parseInt("11111",2),m=this.height-1;m>=0;m--){for(var T=this.bottom_up?m:this.height-1-m,A=0;A<this.width;A++){var C=this.datav.getUint16(this.pos,!0);this.pos+=2;var D=(C&g)/g*255|0,R=(C>>5&g)/g*255|0,j=(C>>10&g)/g*255|0,H=C>>15?255:0,st=T*this.width*4+4*A;this.data[st]=j,this.data[st+1]=R,this.data[st+2]=D,this.data[st+3]=H}this.pos+=w}},eo.prototype.bit16=function(){for(var w=this.width%3,g=parseInt("11111",2),m=parseInt("111111",2),T=this.height-1;T>=0;T--){for(var A=this.bottom_up?T:this.height-1-T,C=0;C<this.width;C++){var D=this.datav.getUint16(this.pos,!0);this.pos+=2;var R=(D&g)/g*255|0,j=(D>>5&m)/m*255|0,H=(D>>11)/g*255|0,st=A*this.width*4+4*C;this.data[st]=H,this.data[st+1]=j,this.data[st+2]=R,this.data[st+3]=255}this.pos+=w}},eo.prototype.bit24=function(){for(var w=this.height-1;w>=0;w--){for(var g=this.bottom_up?w:this.height-1-w,m=0;m<this.width;m++){var T=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),C=this.datav.getUint8(this.pos++,!0),D=g*this.width*4+4*m;this.data[D]=C,this.data[D+1]=A,this.data[D+2]=T,this.data[D+3]=255}this.pos+=this.width%4}},eo.prototype.bit32=function(){for(var w=this.height-1;w>=0;w--)for(var g=this.bottom_up?w:this.height-1-w,m=0;m<this.width;m++){var T=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),C=this.datav.getUint8(this.pos++,!0),D=this.datav.getUint8(this.pos++,!0),R=g*this.width*4+4*m;this.data[R]=C,this.data[R+1]=A,this.data[R+2]=T,this.data[R+3]=D}},eo.prototype.getData=function(){return this.data},function(w){w.processBMP=function(g,m,T,A){var C=new eo(g,!1),D=C.width,R=C.height,j={data:C.getData(),width:D,height:R},H=new Qh(100).encode(j,100);return w.processJPEG.call(this,H,m,T,A)}}(me.API),Rf.prototype.getData=function(){return this.data},function(w){w.processWEBP=function(g,m,T,A){var C=new Rf(g,!1),D=C.width,R=C.height,j={data:C.getData(),width:D,height:R},H=new Qh(100).encode(j,100);return w.processJPEG.call(this,H,m,T,A)}}(me.API),me.API.setLanguage=function(w){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[w]!==void 0&&(this.internal.languageSettings.languageCode=w,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Is=me.API,fs=Is.getCharWidthsArray=function(w,g){var m,T,A=(g=g||{}).font||this.internal.getFont(),C=g.fontSize||this.internal.getFontSize(),D=g.charSpace||this.internal.getCharSpace(),R=g.widths?g.widths:A.metadata.Unicode.widths,j=R.fof?R.fof:1,H=g.kerning?g.kerning:A.metadata.Unicode.kerning,st=H.fof?H.fof:1,ut=g.doKerning!==!1,mt=0,Y=w.length,Dt=0,Tt=R[0]||j,ct=[];for(m=0;m<Y;m++)T=w.charCodeAt(m),typeof A.metadata.widthOfString=="function"?ct.push((A.metadata.widthOfGlyph(A.metadata.characterToGlyph(T))+D*(1e3/C)||0)/1e3):(mt=ut&&typeof H[T]=="object"&&!isNaN(parseInt(H[T][Dt],10))?H[T][Dt]/st:0,ct.push((R[T]||Tt)/j+mt)),Dt=T;return ct},_u=Is.getStringUnitWidth=function(w,g){var m=(g=g||{}).fontSize||this.internal.getFontSize(),T=g.font||this.internal.getFont(),A=g.charSpace||this.internal.getCharSpace();return Is.processArabic&&(w=Is.processArabic(w)),typeof T.metadata.widthOfString=="function"?T.metadata.widthOfString(w,m,A)/m:fs.apply(this,arguments).reduce(function(C,D){return C+D},0)},Jh=function(w,g,m,T){for(var A=[],C=0,D=w.length,R=0;C!==D&&R+g[C]<m;)R+=g[C],C++;A.push(w.slice(0,C));var j=C;for(R=0;C!==D;)R+g[C]>T&&(A.push(w.slice(j,C)),R=0,j=C),R+=g[C],C++;return j!==C&&A.push(w.slice(j,C)),A},Ns=function(w,g,m){m||(m={});var T,A,C,D,R,j,H,st=[],ut=[st],mt=m.textIndent||0,Y=0,Dt=0,Tt=w.split(" "),ct=fs.apply(this,[" ",m])[0];if(j=m.lineIndent===-1?Tt[0].length+2:m.lineIndent||0){var te=Array(j).join(" "),Nt=[];Tt.map(function(Re){(Re=Re.split(/\s*\n/)).length>1?Nt=Nt.concat(Re.map(function(ze,tr){return(tr&&ze.length?`
`:"")+ze})):Nt.push(Re[0])}),Tt=Nt,j=_u.apply(this,[te,m])}for(C=0,D=Tt.length;C<D;C++){var ue=0;if(T=Tt[C],j&&T[0]==`
`&&(T=T.substr(1),ue=1),mt+Y+(Dt=(A=fs.apply(this,[T,m])).reduce(function(Re,ze){return Re+ze},0))>g||ue){if(Dt>g){for(R=Jh.apply(this,[T,A,g-(mt+Y),g]),st.push(R.shift()),st=[R.pop()];R.length;)ut.push([R.shift()]);Dt=A.slice(T.length-(st[0]?st[0].length:0)).reduce(function(Re,ze){return Re+ze},0)}else st=[T];ut.push(st),mt=Dt+j,Y=ct}else st.push(T),mt+=Y+Dt,Y=ct}return H=j?function(Re,ze){return(ze?te:"")+Re.join(" ")}:function(Re){return Re.join(" ")},ut.map(H)},Is.splitTextToSize=function(w,g,m){var T,A=(m=m||{}).fontSize||this.internal.getFontSize(),C=function(st){if(st.widths&&st.kerning)return{widths:st.widths,kerning:st.kerning};var ut=this.internal.getFont(st.fontName,st.fontStyle);return ut.metadata.Unicode?{widths:ut.metadata.Unicode.widths||{0:1},kerning:ut.metadata.Unicode.kerning||{}}:{font:ut.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,m);T=Array.isArray(w)?w:String(w).split(/\r?\n/);var D=1*this.internal.scaleFactor*g/A;C.textIndent=m.textIndent?1*m.textIndent*this.internal.scaleFactor/A:0,C.lineIndent=m.lineIndent;var R,j,H=[];for(R=0,j=T.length;R<j;R++)H=H.concat(Ns.apply(this,[T[R],D,C]));return H},function(w){w.__fontmetrics__=w.__fontmetrics__||{};for(var g="klmnopqrstuvwxyz",m={},T={},A=0;A<g.length;A++)m[g[A]]="0123456789abcdef"[A],T["0123456789abcdef"[A]]=g[A];var C=function(ut){return"0x"+parseInt(ut,10).toString(16)},D=w.__fontmetrics__.compress=function(ut){var mt,Y,Dt,Tt,ct=["{"];for(var te in ut){if(mt=ut[te],isNaN(parseInt(te,10))?Y="'"+te+"'":(te=parseInt(te,10),Y=(Y=C(te).slice(2)).slice(0,-1)+T[Y.slice(-1)]),typeof mt=="number")mt<0?(Dt=C(mt).slice(3),Tt="-"):(Dt=C(mt).slice(2),Tt=""),Dt=Tt+Dt.slice(0,-1)+T[Dt.slice(-1)];else{if(typeof mt!="object")throw new Error("Don't know what to do with value type "+typeof mt+".");Dt=D(mt)}ct.push(Y+Dt)}return ct.push("}"),ct.join("")},R=w.__fontmetrics__.uncompress=function(ut){if(typeof ut!="string")throw new Error("Invalid argument passed to uncompress.");for(var mt,Y,Dt,Tt,ct={},te=1,Nt=ct,ue=[],Re="",ze="",tr=ut.length-1,Pt=1;Pt<tr;Pt+=1)(Tt=ut[Pt])=="'"?mt?(Dt=mt.join(""),mt=void 0):mt=[]:mt?mt.push(Tt):Tt=="{"?(ue.push([Nt,Dt]),Nt={},Dt=void 0):Tt=="}"?((Y=ue.pop())[0][Y[1]]=Nt,Dt=void 0,Nt=Y[0]):Tt=="-"?te=-1:Dt===void 0?m.hasOwnProperty(Tt)?(Re+=m[Tt],Dt=parseInt(Re,16)*te,te=1,Re=""):Re+=Tt:m.hasOwnProperty(Tt)?(ze+=m[Tt],Nt[Dt]=parseInt(ze,16)*te,te=1,Dt=void 0,ze=""):ze+=Tt;return ct},j={codePages:["WinAnsiEncoding"],WinAnsiEncoding:R("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},H={Unicode:{Courier:j,"Courier-Bold":j,"Courier-BoldOblique":j,"Courier-Oblique":j,Helvetica:j,"Helvetica-Bold":j,"Helvetica-BoldOblique":j,"Helvetica-Oblique":j,"Times-Roman":j,"Times-Bold":j,"Times-BoldItalic":j,"Times-Italic":j}},st={Unicode:{"Courier-Oblique":R("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":R("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":R("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:R("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":R("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":R("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:R("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:R("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":R("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:R("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":R("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":R("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":R("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":R("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};w.events.push(["addFont",function(ut){var mt=ut.font,Y=st.Unicode[mt.postScriptName];Y&&(mt.metadata.Unicode={},mt.metadata.Unicode.widths=Y.widths,mt.metadata.Unicode.kerning=Y.kerning);var Dt=H.Unicode[mt.postScriptName];Dt&&(mt.metadata.Unicode.encoding=Dt,mt.encoding=Dt.codePages[0])}])}(me.API),function(w){var g=function(m){for(var T=m.length,A=new Uint8Array(T),C=0;C<T;C++)A[C]=m.charCodeAt(C);return A};w.API.events.push(["addFont",function(m){var T=void 0,A=m.font,C=m.instance;if(!A.isStandardFont){if(C===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+A.postScriptName+"').");if(typeof(T=C.existsFileInVFS(A.postScriptName)===!1?C.loadFile(A.postScriptName):C.getFileFromVFS(A.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+A.postScriptName+"').");(function(D,R){R=/^\x00\x01\x00\x00/.test(R)?g(R):g(U(R)),D.metadata=w.API.TTFFont.open(R),D.metadata.Unicode=D.metadata.Unicode||{encoding:{},kerning:{},widths:[]},D.metadata.glyIdsUsed=[0]})(A,T)}}])}(me),function(w){function g(){return(x.canvg?Promise.resolve(x.canvg):c.e(1).then(c.bind(null,"0d73"))).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m})}me.API.addSvgAsImage=function(m,T,A,C,D,R,j,H){if(isNaN(T)||isNaN(A))throw F.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(C)||isNaN(D))throw F.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var st=document.createElement("canvas");st.width=C,st.height=D;var ut=st.getContext("2d");ut.fillStyle="#fff",ut.fillRect(0,0,st.width,st.height);var mt={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},Y=this;return g().then(function(Dt){return Dt.fromString(ut,m,mt)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Dt){return Dt.render(mt)}).then(function(){Y.addImage(st.toDataURL("image/jpeg",1),T,A,C,D,j,H)})}}(),me.API.putTotalPages=function(w){var g,m=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(g=new RegExp(w,"g"),m=this.internal.getNumberOfPages()):(g=new RegExp(this.pdfEscape16(w,this.internal.getFont()),"g"),m=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var T=1;T<=this.internal.getNumberOfPages();T++)for(var A=0;A<this.internal.pages[T].length;A++)this.internal.pages[T][A]=this.internal.pages[T][A].replace(g,m);return this},me.API.viewerPreferences=function(w,g){var m;w=w||{},g=g||!1;var T,A,C,D={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},R=Object.keys(D),j=[],H=0,st=0,ut=0;function mt(Dt,Tt){var ct,te=!1;for(ct=0;ct<Dt.length;ct+=1)Dt[ct]===Tt&&(te=!0);return te}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(D)),this.internal.viewerpreferences.isSubscribed=!1),m=this.internal.viewerpreferences.configuration,w==="reset"||g===!0){var Y=R.length;for(ut=0;ut<Y;ut+=1)m[R[ut]].value=m[R[ut]].defaultValue,m[R[ut]].explicitSet=!1}if(typeof w=="object"){for(A in w)if(C=w[A],mt(R,A)&&C!==void 0){if(m[A].type==="boolean"&&typeof C=="boolean")m[A].value=C;else if(m[A].type==="name"&&mt(m[A].valueSet,C))m[A].value=C;else if(m[A].type==="integer"&&Number.isInteger(C))m[A].value=C;else if(m[A].type==="array"){for(H=0;H<C.length;H+=1)if(T=!0,C[H].length===1&&typeof C[H][0]=="number")j.push(String(C[H]-1));else if(C[H].length>1){for(st=0;st<C[H].length;st+=1)typeof C[H][st]!="number"&&(T=!1);T===!0&&j.push([C[H][0]-1,C[H][1]-1].join(" "))}m[A].value="["+j.join(" ")+"]"}else m[A].value=m[A].defaultValue;m[A].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var Dt,Tt=[];for(Dt in m)m[Dt].explicitSet===!0&&(m[Dt].type==="name"?Tt.push("/"+Dt+" /"+m[Dt].value):Tt.push("/"+Dt+" "+m[Dt].value));Tt.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+Tt.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=m,this},function(w){var g=function(){var T='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',A=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),C=unescape(encodeURIComponent(T)),D=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),R=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),j=unescape(encodeURIComponent("</x:xmpmeta>")),H=C.length+D.length+R.length+A.length+j.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+H+" >>"),this.internal.write("stream"),this.internal.write(A+C+D+R+j),this.internal.write("endstream"),this.internal.write("endobj")},m=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};w.addMetadata=function(T,A){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:T,namespaceuri:A||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",m),this.internal.events.subscribe("postPutResources",g)),this}}(me.API),function(w){var g=w.API,m=g.pdfEscape16=function(C,D){for(var R,j=D.metadata.Unicode.widths,H=["","0","00","000","0000"],st=[""],ut=0,mt=C.length;ut<mt;++ut){if(R=D.metadata.characterToGlyph(C.charCodeAt(ut)),D.metadata.glyIdsUsed.push(R),D.metadata.toUnicode[R]=C.charCodeAt(ut),j.indexOf(R)==-1&&(j.push(R),j.push([parseInt(D.metadata.widthOfGlyph(R),10)])),R=="0")return st.join("");R=R.toString(16),st.push(H[4-R.length],R)}return st.join("")},T=function(C){var D,R,j,H,st,ut,mt;for(st=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,j=[],ut=0,mt=(R=Object.keys(C).sort(function(Y,Dt){return Y-Dt})).length;ut<mt;ut++)D=R[ut],j.length>=100&&(st+=`
`+j.length+` beginbfchar
`+j.join(`
`)+`
endbfchar`,j=[]),C[D]!==void 0&&C[D]!==null&&typeof C[D].toString=="function"&&(H=("0000"+C[D].toString(16)).slice(-4),D=("0000"+(+D).toString(16)).slice(-4),j.push("<"+D+"><"+H+">"));return j.length&&(st+=`
`+j.length+` beginbfchar
`+j.join(`
`)+`
endbfchar
`),st+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};g.events.push(["putFont",function(C){(function(D){var R=D.font,j=D.out,H=D.newObject,st=D.putStream,ut=D.pdfEscapeWithNeededParanthesis;if(R.metadata instanceof w.API.TTFFont&&R.encoding==="Identity-H"){for(var mt=R.metadata.Unicode.widths,Y=R.metadata.subset.encode(R.metadata.glyIdsUsed,1),Dt="",Tt=0;Tt<Y.length;Tt++)Dt+=String.fromCharCode(Y[Tt]);var ct=H();st({data:Dt,addLength1:!0,objectId:ct}),j("endobj");var te=H();st({data:T(R.metadata.toUnicode),addLength1:!0,objectId:te}),j("endobj");var Nt=H();j("<<"),j("/Type /FontDescriptor"),j("/FontName /"+ut(R.fontName)),j("/FontFile2 "+ct+" 0 R"),j("/FontBBox "+w.API.PDFObject.convert(R.metadata.bbox)),j("/Flags "+R.metadata.flags),j("/StemV "+R.metadata.stemV),j("/ItalicAngle "+R.metadata.italicAngle),j("/Ascent "+R.metadata.ascender),j("/Descent "+R.metadata.decender),j("/CapHeight "+R.metadata.capHeight),j(">>"),j("endobj");var ue=H();j("<<"),j("/Type /Font"),j("/BaseFont /"+ut(R.fontName)),j("/FontDescriptor "+Nt+" 0 R"),j("/W "+w.API.PDFObject.convert(mt)),j("/CIDToGIDMap /Identity"),j("/DW 1000"),j("/Subtype /CIDFontType2"),j("/CIDSystemInfo"),j("<<"),j("/Supplement 0"),j("/Registry (Adobe)"),j("/Ordering ("+R.encoding+")"),j(">>"),j(">>"),j("endobj"),R.objectNumber=H(),j("<<"),j("/Type /Font"),j("/Subtype /Type0"),j("/ToUnicode "+te+" 0 R"),j("/BaseFont /"+ut(R.fontName)),j("/Encoding /"+R.encoding),j("/DescendantFonts ["+ue+" 0 R]"),j(">>"),j("endobj"),R.isAlreadyPutted=!0}})(C)}]),g.events.push(["putFont",function(C){(function(D){var R=D.font,j=D.out,H=D.newObject,st=D.putStream,ut=D.pdfEscapeWithNeededParanthesis;if(R.metadata instanceof w.API.TTFFont&&R.encoding==="WinAnsiEncoding"){for(var mt=R.metadata.rawData,Y="",Dt=0;Dt<mt.length;Dt++)Y+=String.fromCharCode(mt[Dt]);var Tt=H();st({data:Y,addLength1:!0,objectId:Tt}),j("endobj");var ct=H();st({data:T(R.metadata.toUnicode),addLength1:!0,objectId:ct}),j("endobj");var te=H();j("<<"),j("/Descent "+R.metadata.decender),j("/CapHeight "+R.metadata.capHeight),j("/StemV "+R.metadata.stemV),j("/Type /FontDescriptor"),j("/FontFile2 "+Tt+" 0 R"),j("/Flags 96"),j("/FontBBox "+w.API.PDFObject.convert(R.metadata.bbox)),j("/FontName /"+ut(R.fontName)),j("/ItalicAngle "+R.metadata.italicAngle),j("/Ascent "+R.metadata.ascender),j(">>"),j("endobj"),R.objectNumber=H();for(var Nt=0;Nt<R.metadata.hmtx.widths.length;Nt++)R.metadata.hmtx.widths[Nt]=parseInt(R.metadata.hmtx.widths[Nt]*(1e3/R.metadata.head.unitsPerEm));j("<</Subtype/TrueType/Type/Font/ToUnicode "+ct+" 0 R/BaseFont/"+ut(R.fontName)+"/FontDescriptor "+te+" 0 R/Encoding/"+R.encoding+" /FirstChar 29 /LastChar 255 /Widths "+w.API.PDFObject.convert(R.metadata.hmtx.widths)+">>"),j("endobj"),R.isAlreadyPutted=!0}})(C)}]);var A=function(C){var D,R=C.text||"",j=C.x,H=C.y,st=C.options||{},ut=C.mutex||{},mt=ut.pdfEscape,Y=ut.activeFontKey,Dt=ut.fonts,Tt=Y,ct="",te=0,Nt="",ue=Dt[Tt].encoding;if(Dt[Tt].encoding!=="Identity-H")return{text:R,x:j,y:H,options:st,mutex:ut};for(Nt=R,Tt=Y,Array.isArray(R)&&(Nt=R[0]),te=0;te<Nt.length;te+=1)Dt[Tt].metadata.hasOwnProperty("cmap")&&(D=Dt[Tt].metadata.cmap.unicode.codeMap[Nt[te].charCodeAt(0)]),D||Nt[te].charCodeAt(0)<256&&Dt[Tt].metadata.hasOwnProperty("Unicode")?ct+=Nt[te]:ct+="";var Re="";return parseInt(Tt.slice(1))<14||ue==="WinAnsiEncoding"?Re=mt(ct,Tt).split("").map(function(ze){return ze.charCodeAt(0).toString(16)}).join(""):ue==="Identity-H"&&(Re=m(ct,Dt[Tt])),ut.isHex=!0,{text:Re,x:j,y:H,options:st,mutex:ut}};g.events.push(["postProcessText",function(C){var D=C.text||"",R=[],j={text:D,x:C.x,y:C.y,options:C.options,mutex:C.mutex};if(Array.isArray(D)){var H=0;for(H=0;H<D.length;H+=1)Array.isArray(D[H])&&D[H].length===3?R.push([A(Object.assign({},j,{text:D[H][0]})).text,D[H][1],D[H][2]]):R.push(A(Object.assign({},j,{text:D[H]})).text);C.text=R}else C.text=A(Object.assign({},j,{text:D})).text}])}(me),function(w){var g=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};w.existsFileInVFS=function(m){return g.call(this),this.internal.vFS[m]!==void 0},w.addFileToVFS=function(m,T){return g.call(this),this.internal.vFS[m]=T,this},w.getFileFromVFS=function(m){return g.call(this),this.internal.vFS[m]!==void 0?this.internal.vFS[m]:null}}(me.API),function(w){w.__bidiEngine__=w.prototype.__bidiEngine__=function(T){var A,C,D,R,j,H,st,ut=g,mt=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Dt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Tt={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},ct=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],te=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Nt=!1,ue=0;this.__bidiEngine__={};var Re=function(ft){var jt=ft.charCodeAt(),ie=jt>>8,$t=Tt[ie];return $t!==void 0?ut[256*$t+(255&jt)]:ie===252||ie===253?"AL":te.test(ie)?"L":ie===8?"R":"N"},ze=function(ft){for(var jt,ie=0;ie<ft.length;ie++){if((jt=Re(ft.charAt(ie)))==="L")return!1;if(jt==="R")return!0}return!1},tr=function(ft,jt,ie,$t){var Te,Be,be,ge,J=jt[$t];switch(J){case"L":case"R":Nt=!1;break;case"N":case"AN":break;case"EN":Nt&&(J="AN");break;case"AL":Nt=!0,J="R";break;case"WS":J="N";break;case"CS":$t<1||$t+1>=jt.length||(Te=ie[$t-1])!=="EN"&&Te!=="AN"||(Be=jt[$t+1])!=="EN"&&Be!=="AN"?J="N":Nt&&(Be="AN"),J=Be===Te?Be:"N";break;case"ES":J=(Te=$t>0?ie[$t-1]:"B")==="EN"&&$t+1<jt.length&&jt[$t+1]==="EN"?"EN":"N";break;case"ET":if($t>0&&ie[$t-1]==="EN"){J="EN";break}if(Nt){J="N";break}for(be=$t+1,ge=jt.length;be<ge&&jt[be]==="ET";)be++;J=be<ge&&jt[be]==="EN"?"EN":"N";break;case"NSM":if(D&&!R){for(ge=jt.length,be=$t+1;be<ge&&jt[be]==="NSM";)be++;if(be<ge){var Mt=ft[$t],Gt=Mt>=1425&&Mt<=2303||Mt===64286;if(Te=jt[be],Gt&&(Te==="R"||Te==="AL")){J="R";break}}}J=$t<1||(Te=jt[$t-1])==="B"?"N":ie[$t-1];break;case"B":Nt=!1,A=!0,J=ue;break;case"S":C=!0,J="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Nt=!1;break;case"BN":J="N"}return J},Pt=function(ft,jt,ie){var $t=ft.split("");return ie&&Ke($t,ie,{hiLevel:ue}),$t.reverse(),jt&&jt.reverse(),$t.join("")},Ke=function(ft,jt,ie){var $t,Te,Be,be,ge,J=-1,Mt=ft.length,Gt=0,Bt=[],Jt=ue?Y:mt,ae=[];for(Nt=!1,A=!1,C=!1,Te=0;Te<Mt;Te++)ae[Te]=Re(ft[Te]);for(Be=0;Be<Mt;Be++){if(ge=Gt,Bt[Be]=tr(ft,ae,Bt,Be),$t=240&(Gt=Jt[ge][Dt[Bt[Be]]]),Gt&=15,jt[Be]=be=Jt[Gt][5],$t>0)if($t===16){for(Te=J;Te<Be;Te++)jt[Te]=1;J=-1}else J=-1;if(Jt[Gt][6])J===-1&&(J=Be);else if(J>-1){for(Te=J;Te<Be;Te++)jt[Te]=be;J=-1}ae[Be]==="B"&&(jt[Be]=0),ie.hiLevel|=be}C&&function(_e,Oe,Ae){for(var ke=0;ke<Ae;ke++)if(_e[ke]==="S"){Oe[ke]=ue;for(var cr=ke-1;cr>=0&&_e[cr]==="WS";cr--)Oe[cr]=ue}}(ae,jt,Mt)},ir=function(ft,jt,ie,$t,Te){if(!(Te.hiLevel<ft)){if(ft===1&&ue===1&&!A)return jt.reverse(),void(ie&&ie.reverse());for(var Be,be,ge,J,Mt=jt.length,Gt=0;Gt<Mt;){if($t[Gt]>=ft){for(ge=Gt+1;ge<Mt&&$t[ge]>=ft;)ge++;for(J=Gt,be=ge-1;J<be;J++,be--)Be=jt[J],jt[J]=jt[be],jt[be]=Be,ie&&(Be=ie[J],ie[J]=ie[be],ie[be]=Be);Gt=ge}Gt++}}},Je=function(ft,jt,ie){var $t=ft.split(""),Te={hiLevel:ue};return ie||(ie=[]),Ke($t,ie,Te),function(Be,be,ge){if(ge.hiLevel!==0&&st)for(var J,Mt=0;Mt<Be.length;Mt++)be[Mt]===1&&(J=ct.indexOf(Be[Mt]))>=0&&(Be[Mt]=ct[J+1])}($t,ie,Te),ir(2,$t,jt,ie,Te),ir(1,$t,jt,ie,Te),$t.join("")};return this.__bidiEngine__.doBidiReorder=function(ft,jt,ie){if(function(Te,Be){if(Be)for(var be=0;be<Te.length;be++)Be[be]=be;R===void 0&&(R=ze(Te)),H===void 0&&(H=ze(Te))}(ft,jt),D||!j||H)if(D&&j&&R^H)ue=R?1:0,ft=Pt(ft,jt,ie);else if(!D&&j&&H)ue=R?1:0,ft=Je(ft,jt,ie),ft=Pt(ft,jt);else if(!D||R||j||H){if(D&&!j&&R^H)ft=Pt(ft,jt),R?(ue=0,ft=Je(ft,jt,ie)):(ue=1,ft=Je(ft,jt,ie),ft=Pt(ft,jt));else if(D&&R&&!j&&H)ue=1,ft=Je(ft,jt,ie),ft=Pt(ft,jt);else if(!D&&!j&&R^H){var $t=st;R?(ue=1,ft=Je(ft,jt,ie),ue=0,st=!1,ft=Je(ft,jt,ie),st=$t):(ue=0,ft=Je(ft,jt,ie),ft=Pt(ft,jt),ue=1,st=!1,ft=Je(ft,jt,ie),st=$t,ft=Pt(ft,jt))}}else ue=0,ft=Je(ft,jt,ie);else ue=R?1:0,ft=Je(ft,jt,ie);return ft},this.__bidiEngine__.setOptions=function(ft){ft&&(D=ft.isInputVisual,j=ft.isOutputVisual,R=ft.isInputRtl,H=ft.isOutputRtl,st=ft.isSymmetricSwapping)},this.__bidiEngine__.setOptions(T),this.__bidiEngine__};var g=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],m=new w.__bidiEngine__({isInputVisual:!0});w.API.events.push(["postProcessText",function(T){var A=T.text,C=(T.x,T.y,T.options||{}),D=(T.mutex,C.lang,[]);if(C.isInputVisual=typeof C.isInputVisual!="boolean"||C.isInputVisual,m.setOptions(C),Object.prototype.toString.call(A)==="[object Array]"){var R=0;for(D=[],R=0;R<A.length;R+=1)Object.prototype.toString.call(A[R])==="[object Array]"?D.push([m.doBidiReorder(A[R][0]),A[R][1],A[R][2]]):D.push([m.doBidiReorder(A[R])]);T.text=D}else T.text=m.doBidiReorder(A);m.setOptions({isInputVisual:!0})}])}(me),me.API.TTFFont=function(){function w(g){var m;if(this.rawData=g,m=this.contents=new Ea(g),this.contents.pos=4,m.readString(4)==="ttcf")throw new Error("TTCF not supported.");m.pos=0,this.parse(),this.subset=new If(this),this.registerTTF()}return w.open=function(g){return new w(g)},w.prototype.parse=function(){return this.directory=new yy(this.contents),this.head=new my(this),this.name=new Sy(this),this.cmap=new Pc(this),this.toUnicode={},this.hhea=new co(this),this.maxp=new ep(this),this.hmtx=new Dr(this),this.post=new br(this),this.os2=new pi(this),this.loca=new wy(this),this.glyf=new ps(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},w.prototype.registerTTF=function(){var g,m,T,A,C;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var D,R,j,H;for(H=[],D=0,R=(j=this.bbox).length;D<R;D++)g=j[D],H.push(Math.round(g*this.scaleFactor));return H}.call(this),this.stemV=0,this.post.exists?(T=255&(A=this.post.italic_angle),(32768&(m=A>>16))!=0&&(m=-(1+(65535^m))),this.italicAngle=+(m+"."+T)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(C=this.familyClass)===1||C===2||C===3||C===4||C===5||C===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},w.prototype.characterToGlyph=function(g){var m;return((m=this.cmap.unicode)!=null?m.codeMap[g]:void 0)||0},w.prototype.widthOfGlyph=function(g){var m;return m=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(g).advance*m},w.prototype.widthOfString=function(g,m,T){var A,C,D,R;for(D=0,C=0,R=(g=""+g).length;0<=R?C<R:C>R;C=0<=R?++C:--C)A=g.charCodeAt(C),D+=this.widthOfGlyph(this.characterToGlyph(A))+T*(1e3/m)||0;return D*(m/1e3)},w.prototype.lineHeight=function(g,m){var T;return m==null&&(m=!1),T=m?this.lineGap:0,(this.ascender+T-this.decender)/1e3*g},w}();var Wa,Ea=function(){function w(g){this.data=g!=null?g:[],this.pos=0,this.length=this.data.length}return w.prototype.readByte=function(){return this.data[this.pos++]},w.prototype.writeByte=function(g){return this.data[this.pos++]=g},w.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},w.prototype.writeUInt32=function(g){return this.writeByte(g>>>24&255),this.writeByte(g>>16&255),this.writeByte(g>>8&255),this.writeByte(255&g)},w.prototype.readInt32=function(){var g;return(g=this.readUInt32())>=2147483648?g-4294967296:g},w.prototype.writeInt32=function(g){return g<0&&(g+=4294967296),this.writeUInt32(g)},w.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},w.prototype.writeUInt16=function(g){return this.writeByte(g>>8&255),this.writeByte(255&g)},w.prototype.readInt16=function(){var g;return(g=this.readUInt16())>=32768?g-65536:g},w.prototype.writeInt16=function(g){return g<0&&(g+=65536),this.writeUInt16(g)},w.prototype.readString=function(g){var m,T;for(T=[],m=0;0<=g?m<g:m>g;m=0<=g?++m:--m)T[m]=String.fromCharCode(this.readByte());return T.join("")},w.prototype.writeString=function(g){var m,T,A;for(A=[],m=0,T=g.length;0<=T?m<T:m>T;m=0<=T?++m:--m)A.push(this.writeByte(g.charCodeAt(m)));return A},w.prototype.readShort=function(){return this.readInt16()},w.prototype.writeShort=function(g){return this.writeInt16(g)},w.prototype.readLongLong=function(){var g,m,T,A,C,D,R,j;return g=this.readByte(),m=this.readByte(),T=this.readByte(),A=this.readByte(),C=this.readByte(),D=this.readByte(),R=this.readByte(),j=this.readByte(),128&g?-1*(72057594037927940*(255^g)+281474976710656*(255^m)+1099511627776*(255^T)+4294967296*(255^A)+16777216*(255^C)+65536*(255^D)+256*(255^R)+(255^j)+1):72057594037927940*g+281474976710656*m+1099511627776*T+4294967296*A+16777216*C+65536*D+256*R+j},w.prototype.writeLongLong=function(g){var m,T;return m=Math.floor(g/4294967296),T=4294967295&g,this.writeByte(m>>24&255),this.writeByte(m>>16&255),this.writeByte(m>>8&255),this.writeByte(255&m),this.writeByte(T>>24&255),this.writeByte(T>>16&255),this.writeByte(T>>8&255),this.writeByte(255&T)},w.prototype.readInt=function(){return this.readInt32()},w.prototype.writeInt=function(g){return this.writeInt32(g)},w.prototype.read=function(g){var m,T;for(m=[],T=0;0<=g?T<g:T>g;T=0<=g?++T:--T)m.push(this.readByte());return m},w.prototype.write=function(g){var m,T,A,C;for(C=[],T=0,A=g.length;T<A;T++)m=g[T],C.push(this.writeByte(m));return C},w}(),yy=function(){var w;function g(m){var T,A,C;for(this.scalarType=m.readInt(),this.tableCount=m.readShort(),this.searchRange=m.readShort(),this.entrySelector=m.readShort(),this.rangeShift=m.readShort(),this.tables={},A=0,C=this.tableCount;0<=C?A<C:A>C;A=0<=C?++A:--A)T={tag:m.readString(4),checksum:m.readInt(),offset:m.readInt(),length:m.readInt()},this.tables[T.tag]=T}return g.prototype.encode=function(m){var T,A,C,D,R,j,H,st,ut,mt,Y,Dt,Tt;for(Tt in Y=Object.keys(m).length,j=Math.log(2),ut=16*Math.floor(Math.log(Y)/j),D=Math.floor(ut/j),st=16*Y-ut,(A=new Ea).writeInt(this.scalarType),A.writeShort(Y),A.writeShort(ut),A.writeShort(D),A.writeShort(st),C=16*Y,H=A.pos+C,R=null,Dt=[],m)for(mt=m[Tt],A.writeString(Tt),A.writeInt(w(mt)),A.writeInt(H),A.writeInt(mt.length),Dt=Dt.concat(mt),Tt==="head"&&(R=H),H+=mt.length;H%4;)Dt.push(0),H++;return A.write(Dt),T=2981146554-w(A.data),A.pos=R+8,A.writeUInt32(T),A.data},w=function(m){var T,A,C,D;for(m=hs.call(m);m.length%4;)m.push(0);for(C=new Ea(m),A=0,T=0,D=m.length;T<D;T=T+=4)A+=C.readUInt32();return 4294967295&A},g}(),Gd={}.hasOwnProperty,Ha=function(w,g){for(var m in g)Gd.call(g,m)&&(w[m]=g[m]);function T(){this.constructor=w}return T.prototype=g.prototype,w.prototype=new T,w.__super__=g.prototype,w};Wa=function(){function w(g){var m;this.file=g,m=this.file.directory.tables[this.tag],this.exists=!!m,m&&(this.offset=m.offset,this.length=m.length,this.parse(this.file.contents))}return w.prototype.parse=function(){},w.prototype.encode=function(){},w.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},w}();var my=function(w){function g(){return g.__super__.constructor.apply(this,arguments)}return Ha(g,Wa),g.prototype.tag="head",g.prototype.parse=function(m){return m.pos=this.offset,this.version=m.readInt(),this.revision=m.readInt(),this.checkSumAdjustment=m.readInt(),this.magicNumber=m.readInt(),this.flags=m.readShort(),this.unitsPerEm=m.readShort(),this.created=m.readLongLong(),this.modified=m.readLongLong(),this.xMin=m.readShort(),this.yMin=m.readShort(),this.xMax=m.readShort(),this.yMax=m.readShort(),this.macStyle=m.readShort(),this.lowestRecPPEM=m.readShort(),this.fontDirectionHint=m.readShort(),this.indexToLocFormat=m.readShort(),this.glyphDataFormat=m.readShort()},g.prototype.encode=function(m){var T;return(T=new Ea).writeInt(this.version),T.writeInt(this.revision),T.writeInt(this.checkSumAdjustment),T.writeInt(this.magicNumber),T.writeShort(this.flags),T.writeShort(this.unitsPerEm),T.writeLongLong(this.created),T.writeLongLong(this.modified),T.writeShort(this.xMin),T.writeShort(this.yMin),T.writeShort(this.xMax),T.writeShort(this.yMax),T.writeShort(this.macStyle),T.writeShort(this.lowestRecPPEM),T.writeShort(this.fontDirectionHint),T.writeShort(m),T.writeShort(this.glyphDataFormat),T.data},g}(),tp=function(){function w(g,m){var T,A,C,D,R,j,H,st,ut,mt,Y,Dt,Tt,ct,te,Nt,ue;switch(this.platformID=g.readUInt16(),this.encodingID=g.readShort(),this.offset=m+g.readInt(),ut=g.pos,g.pos=this.offset,this.format=g.readUInt16(),this.length=g.readUInt16(),this.language=g.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(j=0;j<256;++j)this.codeMap[j]=g.readByte();break;case 4:for(Y=g.readUInt16(),mt=Y/2,g.pos+=6,C=function(){var Re,ze;for(ze=[],j=Re=0;0<=mt?Re<mt:Re>mt;j=0<=mt?++Re:--Re)ze.push(g.readUInt16());return ze}(),g.pos+=2,Tt=function(){var Re,ze;for(ze=[],j=Re=0;0<=mt?Re<mt:Re>mt;j=0<=mt?++Re:--Re)ze.push(g.readUInt16());return ze}(),H=function(){var Re,ze;for(ze=[],j=Re=0;0<=mt?Re<mt:Re>mt;j=0<=mt?++Re:--Re)ze.push(g.readUInt16());return ze}(),st=function(){var Re,ze;for(ze=[],j=Re=0;0<=mt?Re<mt:Re>mt;j=0<=mt?++Re:--Re)ze.push(g.readUInt16());return ze}(),A=(this.length-g.pos+this.offset)/2,R=function(){var Re,ze;for(ze=[],j=Re=0;0<=A?Re<A:Re>A;j=0<=A?++Re:--Re)ze.push(g.readUInt16());return ze}(),j=te=0,ue=C.length;te<ue;j=++te)for(ct=C[j],T=Nt=Dt=Tt[j];Dt<=ct?Nt<=ct:Nt>=ct;T=Dt<=ct?++Nt:--Nt)st[j]===0?D=T+H[j]:(D=R[st[j]/2+(T-Dt)-(mt-j)]||0)!==0&&(D+=H[j]),this.codeMap[T]=65535&D}g.pos=ut}return w.encode=function(g,m){var T,A,C,D,R,j,H,st,ut,mt,Y,Dt,Tt,ct,te,Nt,ue,Re,ze,tr,Pt,Ke,ir,Je,ft,jt,ie,$t,Te,Be,be,ge,J,Mt,Gt,Bt,Jt,ae,_e,Oe,Ae,ke,cr,Mr,fr,Pe;switch($t=new Ea,D=Object.keys(g).sort(function(or,$r){return or-$r}),m){case"macroman":for(Tt=0,ct=function(){var or=[];for(Dt=0;Dt<256;++Dt)or.push(0);return or}(),Nt={0:0},C={},Te=0,J=D.length;Te<J;Te++)Nt[cr=g[A=D[Te]]]==null&&(Nt[cr]=++Tt),C[A]={old:g[A],new:Nt[g[A]]},ct[A]=Nt[g[A]];return $t.writeUInt16(1),$t.writeUInt16(0),$t.writeUInt32(12),$t.writeUInt16(0),$t.writeUInt16(262),$t.writeUInt16(0),$t.write(ct),{charMap:C,subtable:$t.data,maxGlyphID:Tt+1};case"unicode":for(jt=[],ut=[],ue=0,Nt={},T={},te=H=null,Be=0,Mt=D.length;Be<Mt;Be++)Nt[ze=g[A=D[Be]]]==null&&(Nt[ze]=++ue),T[A]={old:ze,new:Nt[ze]},R=Nt[ze]-A,te!=null&&R===H||(te&&ut.push(te),jt.push(A),H=R),te=A;for(te&&ut.push(te),ut.push(65535),jt.push(65535),Je=2*(ir=jt.length),Ke=2*Math.pow(Math.log(ir)/Math.LN2,2),mt=Math.log(Ke/2)/Math.LN2,Pt=2*ir-Ke,j=[],tr=[],Y=[],Dt=be=0,Gt=jt.length;be<Gt;Dt=++be){if(ft=jt[Dt],st=ut[Dt],ft===65535){j.push(0),tr.push(0);break}if(ft-(ie=T[ft].new)>=32768)for(j.push(0),tr.push(2*(Y.length+ir-Dt)),A=ge=ft;ft<=st?ge<=st:ge>=st;A=ft<=st?++ge:--ge)Y.push(T[A].new);else j.push(ie-ft),tr.push(0)}for($t.writeUInt16(3),$t.writeUInt16(1),$t.writeUInt32(12),$t.writeUInt16(4),$t.writeUInt16(16+8*ir+2*Y.length),$t.writeUInt16(0),$t.writeUInt16(Je),$t.writeUInt16(Ke),$t.writeUInt16(mt),$t.writeUInt16(Pt),Ae=0,Bt=ut.length;Ae<Bt;Ae++)A=ut[Ae],$t.writeUInt16(A);for($t.writeUInt16(0),ke=0,Jt=jt.length;ke<Jt;ke++)A=jt[ke],$t.writeUInt16(A);for(Mr=0,ae=j.length;Mr<ae;Mr++)R=j[Mr],$t.writeUInt16(R);for(fr=0,_e=tr.length;fr<_e;fr++)Re=tr[fr],$t.writeUInt16(Re);for(Pe=0,Oe=Y.length;Pe<Oe;Pe++)Tt=Y[Pe],$t.writeUInt16(Tt);return{charMap:T,subtable:$t.data,maxGlyphID:ue+1}}},w}(),Pc=function(w){function g(){return g.__super__.constructor.apply(this,arguments)}return Ha(g,Wa),g.prototype.tag="cmap",g.prototype.parse=function(m){var T,A,C;for(m.pos=this.offset,this.version=m.readUInt16(),C=m.readUInt16(),this.tables=[],this.unicode=null,A=0;0<=C?A<C:A>C;A=0<=C?++A:--A)T=new tp(m,this.offset),this.tables.push(T),T.isUnicode&&this.unicode==null&&(this.unicode=T);return!0},g.encode=function(m,T){var A,C;return T==null&&(T="macroman"),A=tp.encode(m,T),(C=new Ea).writeUInt16(0),C.writeUInt16(1),A.table=C.data.concat(A.subtable),A},g}(),co=function(w){function g(){return g.__super__.constructor.apply(this,arguments)}return Ha(g,Wa),g.prototype.tag="hhea",g.prototype.parse=function(m){return m.pos=this.offset,this.version=m.readInt(),this.ascender=m.readShort(),this.decender=m.readShort(),this.lineGap=m.readShort(),this.advanceWidthMax=m.readShort(),this.minLeftSideBearing=m.readShort(),this.minRightSideBearing=m.readShort(),this.xMaxExtent=m.readShort(),this.caretSlopeRise=m.readShort(),this.caretSlopeRun=m.readShort(),this.caretOffset=m.readShort(),m.pos+=8,this.metricDataFormat=m.readShort(),this.numberOfMetrics=m.readUInt16()},g}(),pi=function(w){function g(){return g.__super__.constructor.apply(this,arguments)}return Ha(g,Wa),g.prototype.tag="OS/2",g.prototype.parse=function(m){if(m.pos=this.offset,this.version=m.readUInt16(),this.averageCharWidth=m.readShort(),this.weightClass=m.readUInt16(),this.widthClass=m.readUInt16(),this.type=m.readShort(),this.ySubscriptXSize=m.readShort(),this.ySubscriptYSize=m.readShort(),this.ySubscriptXOffset=m.readShort(),this.ySubscriptYOffset=m.readShort(),this.ySuperscriptXSize=m.readShort(),this.ySuperscriptYSize=m.readShort(),this.ySuperscriptXOffset=m.readShort(),this.ySuperscriptYOffset=m.readShort(),this.yStrikeoutSize=m.readShort(),this.yStrikeoutPosition=m.readShort(),this.familyClass=m.readShort(),this.panose=function(){var T,A;for(A=[],T=0;T<10;++T)A.push(m.readByte());return A}(),this.charRange=function(){var T,A;for(A=[],T=0;T<4;++T)A.push(m.readInt());return A}(),this.vendorID=m.readString(4),this.selection=m.readShort(),this.firstCharIndex=m.readShort(),this.lastCharIndex=m.readShort(),this.version>0&&(this.ascent=m.readShort(),this.descent=m.readShort(),this.lineGap=m.readShort(),this.winAscent=m.readShort(),this.winDescent=m.readShort(),this.codePageRange=function(){var T,A;for(A=[],T=0;T<2;T=++T)A.push(m.readInt());return A}(),this.version>1))return this.xHeight=m.readShort(),this.capHeight=m.readShort(),this.defaultChar=m.readShort(),this.breakChar=m.readShort(),this.maxContext=m.readShort()},g}(),br=function(w){function g(){return g.__super__.constructor.apply(this,arguments)}return Ha(g,Wa),g.prototype.tag="post",g.prototype.parse=function(m){var T,A,C;switch(m.pos=this.offset,this.format=m.readInt(),this.italicAngle=m.readInt(),this.underlinePosition=m.readShort(),this.underlineThickness=m.readShort(),this.isFixedPitch=m.readInt(),this.minMemType42=m.readInt(),this.maxMemType42=m.readInt(),this.minMemType1=m.readInt(),this.maxMemType1=m.readInt(),this.format){case 65536:break;case 131072:var D;for(A=m.readUInt16(),this.glyphNameIndex=[],D=0;0<=A?D<A:D>A;D=0<=A?++D:--D)this.glyphNameIndex.push(m.readUInt16());for(this.names=[],C=[];m.pos<this.offset+this.length;)T=m.readByte(),C.push(this.names.push(m.readString(T)));return C;case 151552:return A=m.readUInt16(),this.offsets=m.read(A);case 196608:break;case 262144:return this.map=function(){var R,j,H;for(H=[],D=R=0,j=this.file.maxp.numGlyphs;0<=j?R<j:R>j;D=0<=j?++R:--R)H.push(m.readUInt32());return H}.call(this)}},g}(),_y=function(w,g){this.raw=w,this.length=w.length,this.platformID=g.platformID,this.encodingID=g.encodingID,this.languageID=g.languageID},Sy=function(w){function g(){return g.__super__.constructor.apply(this,arguments)}return Ha(g,Wa),g.prototype.tag="name",g.prototype.parse=function(m){var T,A,C,D,R,j,H,st,ut,mt,Y;for(m.pos=this.offset,m.readShort(),T=m.readShort(),j=m.readShort(),A=[],D=0;0<=T?D<T:D>T;D=0<=T?++D:--D)A.push({platformID:m.readShort(),encodingID:m.readShort(),languageID:m.readShort(),nameID:m.readShort(),length:m.readShort(),offset:this.offset+j+m.readShort()});for(H={},D=ut=0,mt=A.length;ut<mt;D=++ut)C=A[D],m.pos=C.offset,st=m.readString(C.length),R=new _y(st,C),H[Y=C.nameID]==null&&(H[Y]=[]),H[C.nameID].push(R);this.strings=H,this.copyright=H[0],this.fontFamily=H[1],this.fontSubfamily=H[2],this.uniqueSubfamily=H[3],this.fontName=H[4],this.version=H[5];try{this.postscriptName=H[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=H[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=H[7],this.manufacturer=H[8],this.designer=H[9],this.description=H[10],this.vendorUrl=H[11],this.designerUrl=H[12],this.license=H[13],this.licenseUrl=H[14],this.preferredFamily=H[15],this.preferredSubfamily=H[17],this.compatibleFull=H[18],this.sampleText=H[19]},g}(),ep=function(w){function g(){return g.__super__.constructor.apply(this,arguments)}return Ha(g,Wa),g.prototype.tag="maxp",g.prototype.parse=function(m){return m.pos=this.offset,this.version=m.readInt(),this.numGlyphs=m.readUInt16(),this.maxPoints=m.readUInt16(),this.maxContours=m.readUInt16(),this.maxCompositePoints=m.readUInt16(),this.maxComponentContours=m.readUInt16(),this.maxZones=m.readUInt16(),this.maxTwilightPoints=m.readUInt16(),this.maxStorage=m.readUInt16(),this.maxFunctionDefs=m.readUInt16(),this.maxInstructionDefs=m.readUInt16(),this.maxStackElements=m.readUInt16(),this.maxSizeOfInstructions=m.readUInt16(),this.maxComponentElements=m.readUInt16(),this.maxComponentDepth=m.readUInt16()},g}(),Dr=function(w){function g(){return g.__super__.constructor.apply(this,arguments)}return Ha(g,Wa),g.prototype.tag="hmtx",g.prototype.parse=function(m){var T,A,C,D,R,j,H;for(m.pos=this.offset,this.metrics=[],T=0,j=this.file.hhea.numberOfMetrics;0<=j?T<j:T>j;T=0<=j?++T:--T)this.metrics.push({advance:m.readUInt16(),lsb:m.readInt16()});for(C=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var st,ut;for(ut=[],T=st=0;0<=C?st<C:st>C;T=0<=C?++st:--st)ut.push(m.readInt16());return ut}(),this.widths=function(){var st,ut,mt,Y;for(Y=[],st=0,ut=(mt=this.metrics).length;st<ut;st++)D=mt[st],Y.push(D.advance);return Y}.call(this),A=this.widths[this.widths.length-1],H=[],T=R=0;0<=C?R<C:R>C;T=0<=C?++R:--R)H.push(this.widths.push(A));return H},g.prototype.forGlyph=function(m){return m in this.metrics?this.metrics[m]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[m-this.metrics.length]}},g}(),hs=[].slice,ps=function(w){function g(){return g.__super__.constructor.apply(this,arguments)}return Ha(g,Wa),g.prototype.tag="glyf",g.prototype.parse=function(){return this.cache={}},g.prototype.glyphFor=function(m){var T,A,C,D,R,j,H,st,ut,mt;return m in this.cache?this.cache[m]:(D=this.file.loca,T=this.file.contents,A=D.indexOf(m),(C=D.lengthOf(m))===0?this.cache[m]=null:(T.pos=this.offset+A,R=(j=new Ea(T.read(C))).readShort(),st=j.readShort(),mt=j.readShort(),H=j.readShort(),ut=j.readShort(),this.cache[m]=R===-1?new Ey(j,st,mt,H,ut):new dr(j,R,st,mt,H,ut),this.cache[m]))},g.prototype.encode=function(m,T,A){var C,D,R,j,H;for(R=[],D=[],j=0,H=T.length;j<H;j++)C=m[T[j]],D.push(R.length),C&&(R=R.concat(C.encode(A)));return D.push(R.length),{table:R,offsets:D}},g}(),dr=function(){function w(g,m,T,A,C,D){this.raw=g,this.numberOfContours=m,this.xMin=T,this.yMin=A,this.xMax=C,this.yMax=D,this.compound=!1}return w.prototype.encode=function(){return this.raw.data},w}(),Ey=function(){function w(g,m,T,A,C){var D,R;for(this.raw=g,this.xMin=m,this.yMin=T,this.xMax=A,this.yMax=C,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],D=this.raw;R=D.readShort(),this.glyphOffsets.push(D.pos),this.glyphIDs.push(D.readUInt16()),32&R;)D.pos+=1&R?4:2,128&R?D.pos+=8:64&R?D.pos+=4:8&R&&(D.pos+=2)}return w.prototype.encode=function(){var g,m,T;for(m=new Ea(hs.call(this.raw.data)),g=0,T=this.glyphIDs.length;g<T;++g)m.pos=this.glyphOffsets[g];return m.data},w}(),wy=function(w){function g(){return g.__super__.constructor.apply(this,arguments)}return Ha(g,Wa),g.prototype.tag="loca",g.prototype.parse=function(m){var T,A;return m.pos=this.offset,T=this.file.head.indexToLocFormat,this.offsets=T===0?function(){var C,D;for(D=[],A=0,C=this.length;A<C;A+=2)D.push(2*m.readUInt16());return D}.call(this):function(){var C,D;for(D=[],A=0,C=this.length;A<C;A+=4)D.push(m.readUInt32());return D}.call(this)},g.prototype.indexOf=function(m){return this.offsets[m]},g.prototype.lengthOf=function(m){return this.offsets[m+1]-this.offsets[m]},g.prototype.encode=function(m,T){for(var A=new Uint32Array(this.offsets.length),C=0,D=0,R=0;R<A.length;++R)if(A[R]=C,D<T.length&&T[D]==R){++D,A[R]=C;var j=this.offsets[R],H=this.offsets[R+1]-j;H>0&&(C+=H)}for(var st=new Array(4*A.length),ut=0;ut<A.length;++ut)st[4*ut+3]=255&A[ut],st[4*ut+2]=(65280&A[ut])>>8,st[4*ut+1]=(16711680&A[ut])>>16,st[4*ut]=(4278190080&A[ut])>>24;return st},g}(),If=function(){function w(g){this.font=g,this.subset={},this.unicodes={},this.next=33}return w.prototype.generateCmap=function(){var g,m,T,A,C;for(m in A=this.font.cmap.tables[0].codeMap,g={},C=this.subset)T=C[m],g[m]=A[T];return g},w.prototype.glyphsFor=function(g){var m,T,A,C,D,R,j;for(A={},D=0,R=g.length;D<R;D++)A[C=g[D]]=this.font.glyf.glyphFor(C);for(C in m=[],A)((T=A[C])!=null?T.compound:void 0)&&m.push.apply(m,T.glyphIDs);if(m.length>0)for(C in j=this.glyphsFor(m))T=j[C],A[C]=T;return A},w.prototype.encode=function(g,m){var T,A,C,D,R,j,H,st,ut,mt,Y,Dt,Tt,ct,te;for(A in T=Pc.encode(this.generateCmap(),"unicode"),D=this.glyphsFor(g),Y={0:0},te=T.charMap)Y[(j=te[A]).old]=j.new;for(Dt in mt=T.maxGlyphID,D)Dt in Y||(Y[Dt]=mt++);return st=function(Nt){var ue,Re;for(ue in Re={},Nt)Re[Nt[ue]]=ue;return Re}(Y),ut=Object.keys(st).sort(function(Nt,ue){return Nt-ue}),Tt=function(){var Nt,ue,Re;for(Re=[],Nt=0,ue=ut.length;Nt<ue;Nt++)R=ut[Nt],Re.push(st[R]);return Re}(),C=this.font.glyf.encode(D,Tt,Y),H=this.font.loca.encode(C.offsets,Tt),ct={cmap:this.font.cmap.raw(),glyf:C.table,loca:H,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(m)},this.font.os2.exists&&(ct["OS/2"]=this.font.os2.raw()),this.font.directory.encode(ct)},w}();me.API.PDFObject=function(){var w;function g(){}return w=function(m,T){return(Array(T+1).join("0")+m).slice(-T)},g.convert=function(m){var T,A,C,D;if(Array.isArray(m))return"["+function(){var R,j,H;for(H=[],R=0,j=m.length;R<j;R++)T=m[R],H.push(g.convert(T));return H}().join(" ")+"]";if(typeof m=="string")return"/"+m;if(m!=null?m.isString:void 0)return"("+m+")";if(m instanceof Date)return"(D:"+w(m.getUTCFullYear(),4)+w(m.getUTCMonth(),2)+w(m.getUTCDate(),2)+w(m.getUTCHours(),2)+w(m.getUTCMinutes(),2)+w(m.getUTCSeconds(),2)+"Z)";if({}.toString.call(m)==="[object Object]"){for(A in C=["<<"],m)D=m[A],C.push("/"+A+" "+g.convert(D));return C.push(">>"),C.join(`
`)}return""+m},g}()}).call(this,c("c8ba"))},"8bbf":function(f,v){f.exports=_D},"90e3":function(f,v){var c=0,y=Math.random();f.exports=function(S){return"Symbol("+String(S===void 0?"":S)+")_"+(++c+y).toString(36)}},"9112":function(f,v,c){var y=c("83ab"),S=c("9bf2"),x=c("5c6c");f.exports=y?function(P,F,G){return S.f(P,F,x(1,G))}:function(P,F,G){return P[F]=G,P}},"9152":function(f,v){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */v.read=function(c,y,S,x,P){var F,G,z=P*8-x-1,V=(1<<z)-1,U=V>>1,X=-7,W=S?P-1:0,it=S?-1:1,Q=c[y+W];for(W+=it,F=Q&(1<<-X)-1,Q>>=-X,X+=z;X>0;F=F*256+c[y+W],W+=it,X-=8);for(G=F&(1<<-X)-1,F>>=-X,X+=x;X>0;G=G*256+c[y+W],W+=it,X-=8);if(F===0)F=1-U;else{if(F===V)return G?NaN:(Q?-1:1)*(1/0);G=G+Math.pow(2,x),F=F-U}return(Q?-1:1)*G*Math.pow(2,F-x)},v.write=function(c,y,S,x,P,F){var G,z,V,U=F*8-P-1,X=(1<<U)-1,W=X>>1,it=P===23?Math.pow(2,-24)-Math.pow(2,-77):0,Q=x?0:F-1,dt=x?1:-1,ot=y<0||y===0&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(z=isNaN(y)?1:0,G=X):(G=Math.floor(Math.log(y)/Math.LN2),y*(V=Math.pow(2,-G))<1&&(G--,V*=2),G+W>=1?y+=it/V:y+=it*Math.pow(2,1-W),y*V>=2&&(G++,V/=2),G+W>=X?(z=0,G=X):G+W>=1?(z=(y*V-1)*Math.pow(2,P),G=G+W):(z=y*Math.pow(2,W-1)*Math.pow(2,P),G=0));P>=8;c[S+Q]=z&255,Q+=dt,z/=256,P-=8);for(G=G<<P|z,U+=P;U>0;c[S+Q]=G&255,Q+=dt,G/=256,U-=8);c[S+Q-dt]|=ot*128}},"9263":function(f,v,c){var y=c("ad6d"),S=c("9f7f"),x=c("5692"),P=RegExp.prototype.exec,F=x("native-string-replace",String.prototype.replace),G=P,z=function(){var W=/a/,it=/b*/g;return P.call(W,"a"),P.call(it,"a"),W.lastIndex!==0||it.lastIndex!==0}(),V=S.UNSUPPORTED_Y||S.BROKEN_CARET,U=/()??/.exec("")[1]!==void 0,X=z||U||V;X&&(G=function(it){var Q=this,dt,ot,_t,q,N=V&&Q.sticky,Ot=y.call(Q),Et=Q.source,St=0,nt=it;return N&&(Ot=Ot.replace("y",""),Ot.indexOf("g")===-1&&(Ot+="g"),nt=String(it).slice(Q.lastIndex),Q.lastIndex>0&&(!Q.multiline||Q.multiline&&it[Q.lastIndex-1]!==`
`)&&(Et="(?: "+Et+")",nt=" "+nt,St++),ot=new RegExp("^(?:"+Et+")",Ot)),U&&(ot=new RegExp("^"+Et+"$(?!\\s)",Ot)),z&&(dt=Q.lastIndex),_t=P.call(N?ot:Q,nt),N?_t?(_t.input=_t.input.slice(St),_t[0]=_t[0].slice(St),_t.index=Q.lastIndex,Q.lastIndex+=_t[0].length):Q.lastIndex=0:z&&_t&&(Q.lastIndex=Q.global?_t.index+_t[0].length:dt),U&&_t&&_t.length>1&&F.call(_t[0],ot,function(){for(q=1;q<arguments.length-2;q++)arguments[q]===void 0&&(_t[q]=void 0)}),_t}),f.exports=G},"94ca":function(f,v,c){var y=c("d039"),S=/#|\.prototype\./,x=function(V,U){var X=F[P(V)];return X==z?!0:X==G?!1:typeof U=="function"?y(U):!!U},P=x.normalize=function(V){return String(V).replace(S,".").toLowerCase()},F=x.data={},G=x.NATIVE="N",z=x.POLYFILL="P";f.exports=x},"99af":function(f,v,c){var y=c("23e7"),S=c("d039"),x=c("e8b5"),P=c("861d"),F=c("7b0b"),G=c("50c4"),z=c("8418"),V=c("65f0"),U=c("1dde"),X=c("b622"),W=c("2d00"),it=X("isConcatSpreadable"),Q=9007199254740991,dt="Maximum allowed index exceeded",ot=W>=51||!S(function(){var Ot=[];return Ot[it]=!1,Ot.concat()[0]!==Ot}),_t=U("concat"),q=function(Ot){if(!P(Ot))return!1;var Et=Ot[it];return Et!==void 0?!!Et:x(Ot)},N=!ot||!_t;y({target:"Array",proto:!0,forced:N},{concat:function(Et){var St=F(this),nt=V(St,0),qt=0,vt,pt,kt,Qt,je;for(vt=-1,kt=arguments.length;vt<kt;vt++)if(je=vt===-1?St:arguments[vt],q(je)){if(Qt=G(je.length),qt+Qt>Q)throw TypeError(dt);for(pt=0;pt<Qt;pt++,qt++)pt in je&&z(nt,qt,je[pt])}else{if(qt>=Q)throw TypeError(dt);z(nt,qt++,je)}return nt.length=qt,nt}})},"9bdd":function(f,v,c){var y=c("825a"),S=c("2a62");f.exports=function(x,P,F,G){try{return G?P(y(F)[0],F[1]):P(F)}catch(z){throw S(x),z}}},"9bf2":function(f,v,c){var y=c("83ab"),S=c("0cfb"),x=c("825a"),P=c("c04e"),F=Object.defineProperty;v.f=y?F:function(z,V,U){if(x(z),V=P(V,!0),x(U),S)try{return F(z,V,U)}catch{}if("get"in U||"set"in U)throw TypeError("Accessors not supported");return"value"in U&&(z[V]=U.value),z}},"9ed3":function(f,v,c){var y=c("ae93").IteratorPrototype,S=c("7c73"),x=c("5c6c"),P=c("d44e"),F=c("3f8c"),G=function(){return this};f.exports=function(z,V,U){var X=V+" Iterator";return z.prototype=S(y,{next:x(1,U)}),P(z,X,!1,!0),F[X]=G,z}},"9f5e":function(f,v,c){c.d(v,"a",function(){return y}),c.d(v,"i",function(){return S}),c.d(v,"f",function(){return x}),c.d(v,"h",function(){return P}),c.d(v,"j",function(){return F}),c.d(v,"c",function(){return G}),c.d(v,"d",function(){return z}),c.d(v,"b",function(){return V}),c.d(v,"e",function(){return U}),c.d(v,"g",function(){return X});function y(W,it,Q){for(var dt,ot,_t=Q||S,q=0,N=W.length,Ot=!1;q<N;)dt=q+(N-q>>1),ot=+_t(W[dt],it),ot<0?q=dt+1:(N=dt,Ot=!ot);return Ot?q:~q}function S(W,it){return W>it?1:W<it?-1:0}function x(W,it){return W.indexOf(it)>=0}function P(W,it,Q){var dt=W.length;if(W[0]<=it)return 0;if(it<=W[dt-1])return dt-1;var ot=void 0;if(Q>0){for(ot=1;ot<dt;++ot)if(W[ot]<it)return ot-1}else if(Q<0){for(ot=1;ot<dt;++ot)if(W[ot]<=it)return ot}else for(ot=1;ot<dt;++ot){if(W[ot]==it)return ot;if(W[ot]<it)return typeof Q=="function"?Q(it,W[ot-1],W[ot])>0?ot-1:ot:W[ot-1]-it<it-W[ot]?ot-1:ot}return dt-1}function F(W,it,Q){for(;it<Q;){var dt=W[it];W[it]=W[Q],W[Q]=dt,++it,--Q}}function G(W,it){for(var Q=Array.isArray(it)?it:[it],dt=Q.length,ot=0;ot<dt;ot++)W[W.length]=Q[ot]}function z(W,it){for(var Q=W.length>>>0,dt,ot=0;ot<Q;ot++)if(dt=W[ot],it(dt,ot,W))return dt;return null}function V(W,it){var Q=W.length;if(Q!==it.length)return!1;for(var dt=0;dt<Q;dt++)if(W[dt]!==it[dt])return!1;return!0}function U(W,it){var Q,dt=!W.every(function(ot,_t){return Q=_t,!it(ot,_t,W)});return dt?Q:-1}function X(W,it,Q){var dt=it||S;return W.every(function(ot,_t){if(_t===0)return!0;var q=dt(W[_t-1],ot);return!(q>0||Q&&q===0)})}},"9f7f":function(f,v,c){var y=c("d039");function S(x,P){return RegExp(x,P)}v.UNSUPPORTED_Y=y(function(){var x=S("a","y");return x.lastIndex=2,x.exec("abcd")!=null}),v.BROKEN_CARET=y(function(){var x=S("^r","gy");return x.lastIndex=2,x.exec("str")!=null})},a434:function(f,v,c){var y=c("23e7"),S=c("23cb"),x=c("a691"),P=c("50c4"),F=c("7b0b"),G=c("65f0"),z=c("8418"),V=c("1dde"),U=V("splice"),X=Math.max,W=Math.min,it=9007199254740991,Q="Maximum allowed length exceeded";y({target:"Array",proto:!0,forced:!U},{splice:function(ot,_t){var q=F(this),N=P(q.length),Ot=S(ot,N),Et=arguments.length,St,nt,qt,vt,pt,kt;if(Et===0?St=nt=0:Et===1?(St=0,nt=N-Ot):(St=Et-2,nt=W(X(x(_t),0),N-Ot)),N+St-nt>it)throw TypeError(Q);for(qt=G(q,nt),vt=0;vt<nt;vt++)pt=Ot+vt,pt in q&&z(qt,vt,q[pt]);if(qt.length=nt,St<nt){for(vt=Ot;vt<N-nt;vt++)pt=vt+nt,kt=vt+St,pt in q?q[kt]=q[pt]:delete q[kt];for(vt=N;vt>N-nt+St;vt--)delete q[vt-1]}else if(St>nt)for(vt=N-nt;vt>Ot;vt--)pt=vt+nt-1,kt=vt+St-1,pt in q?q[kt]=q[pt]:delete q[kt];for(vt=0;vt<St;vt++)q[vt+Ot]=arguments[vt+2];return q.length=N-nt+St,qt}})},a4d3:function(f,v,c){var y=c("23e7"),S=c("da84"),x=c("d066"),P=c("c430"),F=c("83ab"),G=c("4930"),z=c("fdbf"),V=c("d039"),U=c("5135"),X=c("e8b5"),W=c("861d"),it=c("825a"),Q=c("7b0b"),dt=c("fc6a"),ot=c("c04e"),_t=c("5c6c"),q=c("7c73"),N=c("df75"),Ot=c("241c"),Et=c("057f"),St=c("7418"),nt=c("06cf"),qt=c("9bf2"),vt=c("d1e7"),pt=c("9112"),kt=c("6eeb"),Qt=c("5692"),je=c("f772"),$=c("d012"),Ct=c("90e3"),Kt=c("b622"),Xe=c("e538"),qe=c("746f"),me=c("d44e"),ar=c("69f3"),jr=c("b727").forEach,Pr=je("hidden"),Xn="Symbol",ur="prototype",Zn=Kt("toPrimitive"),Ri=ar.set,Ya=ar.getterFor(Xn),Dn=Object[ur],Si=S.Symbol,ni=x("JSON","stringify"),At=nt.f,Wt=qt.f,yt=Et.f,Rt=vt.f,Ft=Qt("symbols"),re=Qt("op-symbols"),he=Qt("string-to-symbol-registry"),pe=Qt("symbol-to-string-registry"),Le=Qt("wks"),ve=S.QObject,Ce=!ve||!ve[ur]||!ve[ur].findChild,Me=F&&V(function(){return q(Wt({},"a",{get:function(){return Wt(this,"a",{value:7}).a}})).a!=7})?function(wr,rr,sr){var Lr=At(Dn,rr);Lr&&delete Dn[rr],Wt(wr,rr,sr),Lr&&wr!==Dn&&Wt(Dn,rr,Lr)}:Wt,Ee=function(wr,rr){var sr=Ft[wr]=q(Si[ur]);return Ri(sr,{type:Xn,tag:wr,description:rr}),F||(sr.description=rr),sr},_r=z?function(wr){return typeof wr=="symbol"}:function(wr){return Object(wr)instanceof Si},Sr=function(rr,sr,Lr){rr===Dn&&Sr(re,sr,Lr),it(rr);var lr=ot(sr,!0);return it(Lr),U(Ft,lr)?(Lr.enumerable?(U(rr,Pr)&&rr[Pr][lr]&&(rr[Pr][lr]=!1),Lr=q(Lr,{enumerable:_t(0,!1)})):(U(rr,Pr)||Wt(rr,Pr,_t(1,{})),rr[Pr][lr]=!0),Me(rr,lr,Lr)):Wt(rr,lr,Lr)},Hr=function(rr,sr){it(rr);var Lr=dt(sr),lr=N(Lr).concat(ii(Lr));return jr(lr,function(En){(!F||Nr.call(Lr,En))&&Sr(rr,En,Lr[En])}),rr},Gr=function(rr,sr){return sr===void 0?q(rr):Hr(q(rr),sr)},Nr=function(rr){var sr=ot(rr,!0),Lr=Rt.call(this,sr);return this===Dn&&U(Ft,sr)&&!U(re,sr)?!1:Lr||!U(this,sr)||!U(Ft,sr)||U(this,Pr)&&this[Pr][sr]?Lr:!0},Qr=function(rr,sr){var Lr=dt(rr),lr=ot(sr,!0);if(!(Lr===Dn&&U(Ft,lr)&&!U(re,lr))){var En=At(Lr,lr);return En&&U(Ft,lr)&&!(U(Lr,Pr)&&Lr[Pr][lr])&&(En.enumerable=!0),En}},Bn=function(rr){var sr=yt(dt(rr)),Lr=[];return jr(sr,function(lr){!U(Ft,lr)&&!U($,lr)&&Lr.push(lr)}),Lr},ii=function(rr){var sr=rr===Dn,Lr=yt(sr?re:dt(rr)),lr=[];return jr(Lr,function(En){U(Ft,En)&&(!sr||U(Dn,En))&&lr.push(Ft[En])}),lr};if(G||(Si=function(){if(this instanceof Si)throw TypeError("Symbol is not a constructor");var rr=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),sr=Ct(rr),Lr=function(lr){this===Dn&&Lr.call(re,lr),U(this,Pr)&&U(this[Pr],sr)&&(this[Pr][sr]=!1),Me(this,sr,_t(1,lr))};return F&&Ce&&Me(Dn,sr,{configurable:!0,set:Lr}),Ee(sr,rr)},kt(Si[ur],"toString",function(){return Ya(this).tag}),kt(Si,"withoutSetter",function(wr){return Ee(Ct(wr),wr)}),vt.f=Nr,qt.f=Sr,nt.f=Qr,Ot.f=Et.f=Bn,St.f=ii,Xe.f=function(wr){return Ee(Kt(wr),wr)},F&&(Wt(Si[ur],"description",{configurable:!0,get:function(){return Ya(this).description}}),P||kt(Dn,"propertyIsEnumerable",Nr,{unsafe:!0}))),y({global:!0,wrap:!0,forced:!G,sham:!G},{Symbol:Si}),jr(N(Le),function(wr){qe(wr)}),y({target:Xn,stat:!0,forced:!G},{for:function(wr){var rr=String(wr);if(U(he,rr))return he[rr];var sr=Si(rr);return he[rr]=sr,pe[sr]=rr,sr},keyFor:function(rr){if(!_r(rr))throw TypeError(rr+" is not a symbol");if(U(pe,rr))return pe[rr]},useSetter:function(){Ce=!0},useSimple:function(){Ce=!1}}),y({target:"Object",stat:!0,forced:!G,sham:!F},{create:Gr,defineProperty:Sr,defineProperties:Hr,getOwnPropertyDescriptor:Qr}),y({target:"Object",stat:!0,forced:!G},{getOwnPropertyNames:Bn,getOwnPropertySymbols:ii}),y({target:"Object",stat:!0,forced:V(function(){St.f(1)})},{getOwnPropertySymbols:function(rr){return St.f(Q(rr))}}),ni){var Oi=!G||V(function(){var wr=Si();return ni([wr])!="[null]"||ni({a:wr})!="{}"||ni(Object(wr))!="{}"});y({target:"JSON",stat:!0,forced:Oi},{stringify:function(rr,sr,Lr){for(var lr=[rr],En=1,Tn;arguments.length>En;)lr.push(arguments[En++]);if(Tn=sr,!(!W(sr)&&rr===void 0||_r(rr)))return X(sr)||(sr=function(yr,Ii){if(typeof Tn=="function"&&(Ii=Tn.call(this,yr,Ii)),!_r(Ii))return Ii}),lr[1]=sr,ni.apply(null,lr)}})}Si[ur][Zn]||pt(Si[ur],Zn,Si[ur].valueOf),me(Si,Xn),$[Pr]=!0},a630:function(f,v,c){var y=c("23e7"),S=c("4df4"),x=c("1c7e"),P=!x(function(F){Array.from(F)});y({target:"Array",stat:!0,forced:P},{from:S})},a640:function(f,v,c){var y=c("d039");f.exports=function(S,x){var P=[][S];return!!P&&y(function(){P.call(null,x||function(){throw 1},1)})}},a691:function(f,v){var c=Math.ceil,y=Math.floor;f.exports=function(S){return isNaN(S=+S)?0:(S>0?y:c)(S)}},a9e3:function(f,v,c){var y=c("83ab"),S=c("da84"),x=c("94ca"),P=c("6eeb"),F=c("5135"),G=c("c6b6"),z=c("7156"),V=c("c04e"),U=c("d039"),X=c("7c73"),W=c("241c").f,it=c("06cf").f,Q=c("9bf2").f,dt=c("58a8").trim,ot="Number",_t=S[ot],q=_t.prototype,N=G(X(q))==ot,Ot=function(vt){var pt=V(vt,!1),kt,Qt,je,$,Ct,Kt,Xe,qe;if(typeof pt=="string"&&pt.length>2){if(pt=dt(pt),kt=pt.charCodeAt(0),kt===43||kt===45){if(Qt=pt.charCodeAt(2),Qt===88||Qt===120)return NaN}else if(kt===48){switch(pt.charCodeAt(1)){case 66:case 98:je=2,$=49;break;case 79:case 111:je=8,$=55;break;default:return+pt}for(Ct=pt.slice(2),Kt=Ct.length,Xe=0;Xe<Kt;Xe++)if(qe=Ct.charCodeAt(Xe),qe<48||qe>$)return NaN;return parseInt(Ct,je)}}return+pt};if(x(ot,!_t(" 0o1")||!_t("0b1")||_t("+0x1"))){for(var Et=function(pt){var kt=arguments.length<1?0:pt,Qt=this;return Qt instanceof Et&&(N?U(function(){q.valueOf.call(Qt)}):G(Qt)!=ot)?z(new _t(Ot(kt)),Qt,Et):Ot(kt)},St=y?W(_t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),nt=0,qt;St.length>nt;nt++)F(_t,qt=St[nt])&&!F(Et,qt)&&Q(Et,qt,it(_t,qt));Et.prototype=q,q.constructor=Et,P(S,ot,Et)}},ab13:function(f,v,c){var y=c("b622"),S=y("match");f.exports=function(x){var P=/./;try{"/./"[x](P)}catch{try{return P[S]=!1,"/./"[x](P)}catch{}}return!1}},ac1f:function(f,v,c){var y=c("23e7"),S=c("9263");y({target:"RegExp",proto:!0,forced:/./.exec!==S},{exec:S})},ad6d:function(f,v,c){var y=c("825a");f.exports=function(){var S=y(this),x="";return S.global&&(x+="g"),S.ignoreCase&&(x+="i"),S.multiline&&(x+="m"),S.dotAll&&(x+="s"),S.unicode&&(x+="u"),S.sticky&&(x+="y"),x}},addb:function(f,v){var c=Math.floor,y=function(P,F){var G=P.length,z=c(G/2);return G<8?S(P,F):x(y(P.slice(0,z),F),y(P.slice(z),F),F)},S=function(P,F){for(var G=P.length,z=1,V,U;z<G;){for(U=z,V=P[z];U&&F(P[U-1],V)>0;)P[U]=P[--U];U!==z++&&(P[U]=V)}return P},x=function(P,F,G){for(var z=P.length,V=F.length,U=0,X=0,W=[];U<z||X<V;)U<z&&X<V?W.push(G(P[U],F[X])<=0?P[U++]:F[X++]):W.push(U<z?P[U++]:F[X++]);return W};f.exports=y},ae93:function(f,v,c){var y=c("d039"),S=c("e163"),x=c("9112"),P=c("5135"),F=c("b622"),G=c("c430"),z=F("iterator"),V=!1,U=function(){return this},X,W,it;[].keys&&(it=[].keys(),"next"in it?(W=S(S(it)),W!==Object.prototype&&(X=W)):V=!0);var Q=X==null||y(function(){var dt={};return X[z].call(dt)!==dt});Q&&(X={}),(!G||Q)&&!P(X,z)&&x(X,z,U),f.exports={IteratorPrototype:X,BUGGY_SAFARI_ITERATORS:V}},b041:function(f,v,c){var y=c("00ee"),S=c("f5df");f.exports=y?{}.toString:function(){return"[object "+S(this)+"]"}},b0c0:function(f,v,c){var y=c("83ab"),S=c("9bf2").f,x=Function.prototype,P=x.toString,F=/^\s*function ([^ (]*)/,G="name";y&&!(G in x)&&S(x,G,{configurable:!0,get:function(){try{return P.call(this).match(F)[1]}catch{return""}}})},b622:function(f,v,c){var y=c("da84"),S=c("5692"),x=c("5135"),P=c("90e3"),F=c("4930"),G=c("fdbf"),z=S("wks"),V=y.Symbol,U=G?V:V&&V.withoutSetter||P;f.exports=function(X){return(!x(z,X)||!(F||typeof z[X]=="string"))&&(F&&x(V,X)?z[X]=V[X]:z[X]=U("Symbol."+X)),z[X]}},b64b:function(f,v,c){var y=c("23e7"),S=c("7b0b"),x=c("df75"),P=c("d039"),F=P(function(){x(1)});y({target:"Object",stat:!0,forced:F},{keys:function(z){return x(S(z))}})},b727:function(f,v,c){var y=c("0366"),S=c("44ad"),x=c("7b0b"),P=c("50c4"),F=c("65f0"),G=[].push,z=function(V){var U=V==1,X=V==2,W=V==3,it=V==4,Q=V==6,dt=V==7,ot=V==5||Q;return function(_t,q,N,Ot){for(var Et=x(_t),St=S(Et),nt=y(q,N,3),qt=P(St.length),vt=0,pt=Ot||F,kt=U?pt(_t,qt):X||dt?pt(_t,0):void 0,Qt,je;qt>vt;vt++)if((ot||vt in St)&&(Qt=St[vt],je=nt(Qt,vt,Et),V))if(U)kt[vt]=je;else if(je)switch(V){case 3:return!0;case 5:return Qt;case 6:return vt;case 2:G.call(kt,Qt)}else switch(V){case 4:return!1;case 7:G.call(kt,Qt)}return Q?-1:W||it?it:kt}};f.exports={forEach:z(0),map:z(1),filter:z(2),some:z(3),every:z(4),find:z(5),findIndex:z(6),filterOut:z(7)}},c04e:function(f,v,c){var y=c("861d");f.exports=function(S,x){if(!y(S))return S;var P,F;if(x&&typeof(P=S.toString)=="function"&&!y(F=P.call(S))||typeof(P=S.valueOf)=="function"&&!y(F=P.call(S))||!x&&typeof(P=S.toString)=="function"&&!y(F=P.call(S)))return F;throw TypeError("Can't convert object to primitive value")}},c430:function(f,v){f.exports=!1},c6b6:function(f,v){var c={}.toString;f.exports=function(y){return c.call(y).slice(8,-1)}},c6cd:function(f,v,c){var y=c("da84"),S=c("ce4e"),x="__core-js_shared__",P=y[x]||S(x,{});f.exports=P},c740:function(f,v,c){var y=c("23e7"),S=c("b727").findIndex,x=c("44d2"),P="findIndex",F=!0;P in[]&&Array(1)[P](function(){F=!1}),y({target:"Array",proto:!0,forced:F},{findIndex:function(z){return S(this,z,arguments.length>1?arguments[1]:void 0)}}),x(P)},c8ba:function(f,v){var c;c=function(){return this}();try{c=c||new Function("return this")()}catch{typeof window=="object"&&(c=window)}f.exports=c},ca84:function(f,v,c){var y=c("5135"),S=c("fc6a"),x=c("4d64").indexOf,P=c("d012");f.exports=function(F,G){var z=S(F),V=0,U=[],X;for(X in z)!y(P,X)&&y(z,X)&&U.push(X);for(;G.length>V;)y(z,X=G[V++])&&(~x(U,X)||U.push(X));return U}},caad:function(f,v,c){var y=c("23e7"),S=c("4d64").includes,x=c("44d2");y({target:"Array",proto:!0},{includes:function(F){return S(this,F,arguments.length>1?arguments[1]:void 0)}}),x("includes")},cc12:function(f,v,c){var y=c("da84"),S=c("861d"),x=y.document,P=S(x)&&S(x.createElement);f.exports=function(F){return P?x.createElement(F):{}}},ce4e:function(f,v,c){var y=c("da84"),S=c("9112");f.exports=function(x,P){try{S(y,x,P)}catch{y[x]=P}return P}},cef7:function(f,v,c){c.d(v,"b",function(){return S});var y=function(){function x(P){this.propagationStopped,this.defaultPrevented,this.type=P,this.target=null}return x.prototype.preventDefault=function(){this.defaultPrevented=!0},x.prototype.stopPropagation=function(){this.propagationStopped=!0},x}();function S(x){x.stopPropagation()}v.a=y},d012:function(f,v){f.exports={}},d039:function(f,v){f.exports=function(c){try{return!!c()}catch{return!0}}},d066:function(f,v,c){var y=c("428f"),S=c("da84"),x=function(P){return typeof P=="function"?P:void 0};f.exports=function(P,F){return arguments.length<2?x(y[P])||x(S[P]):y[P]&&y[P][F]||S[P]&&S[P][F]}},d1e7:function(f,v,c){var y={}.propertyIsEnumerable,S=Object.getOwnPropertyDescriptor,x=S&&!y.call({1:2},1);v.f=x?function(F){var G=S(this,F);return!!G&&G.enumerable}:y},d28b:function(f,v,c){var y=c("746f");y("iterator")},d2bb:function(f,v,c){var y=c("825a"),S=c("3bbe");f.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var x=!1,P={},F;try{F=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,F.call(P,[]),x=P instanceof Array}catch{}return function(z,V){return y(z),S(V),x?F.call(z,V):z.__proto__=V,z}}():void 0)},d3b7:function(f,v,c){var y=c("00ee"),S=c("6eeb"),x=c("b041");y||S(Object.prototype,"toString",x,{unsafe:!0})},d44e:function(f,v,c){var y=c("9bf2").f,S=c("5135"),x=c("b622"),P=x("toStringTag");f.exports=function(F,G,z){F&&!S(F=z?F:F.prototype,P)&&y(F,P,{configurable:!0,value:G})}},d784:function(f,v,c){c("ac1f");var y=c("6eeb"),S=c("9263"),x=c("d039"),P=c("b622"),F=c("9112"),G=P("species"),z=RegExp.prototype,V=!x(function(){var Q=/./;return Q.exec=function(){var dt=[];return dt.groups={a:"7"},dt},"".replace(Q,"$<a>")!=="7"}),U=function(){return"a".replace(/./,"$0")==="$0"}(),X=P("replace"),W=function(){return/./[X]?/./[X]("a","$0")==="":!1}(),it=!x(function(){var Q=/(?:)/,dt=Q.exec;Q.exec=function(){return dt.apply(this,arguments)};var ot="ab".split(Q);return ot.length!==2||ot[0]!=="a"||ot[1]!=="b"});f.exports=function(Q,dt,ot,_t){var q=P(Q),N=!x(function(){var vt={};return vt[q]=function(){return 7},""[Q](vt)!=7}),Ot=N&&!x(function(){var vt=!1,pt=/a/;return Q==="split"&&(pt={},pt.constructor={},pt.constructor[G]=function(){return pt},pt.flags="",pt[q]=/./[q]),pt.exec=function(){return vt=!0,null},pt[q](""),!vt});if(!N||!Ot||Q==="replace"&&!(V&&U&&!W)||Q==="split"&&!it){var Et=/./[q],St=ot(q,""[Q],function(vt,pt,kt,Qt,je){var $=pt.exec;return $===S||$===z.exec?N&&!je?{done:!0,value:Et.call(pt,kt,Qt)}:{done:!0,value:vt.call(kt,pt,Qt)}:{done:!1}},{REPLACE_KEEPS_$0:U,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:W}),nt=St[0],qt=St[1];y(String.prototype,Q,nt),y(z,q,dt==2?function(vt,pt){return qt.call(vt,this,pt)}:function(vt){return qt.call(vt,this)})}_t&&F(z[q],"sham",!0)}},d81d:function(f,v,c){var y=c("23e7"),S=c("b727").map,x=c("1dde"),P=x("map");y({target:"Array",proto:!0,forced:!P},{map:function(G){return S(this,G,arguments.length>1?arguments[1]:void 0)}})},d959:function(f,v,c){Object.defineProperty(v,"__esModule",{value:!0}),v.default=(y,S)=>{const x=y.__vccOpts||y;for(const[P,F]of S)x[P]=F;return x}},d998:function(f,v,c){var y=c("342f");f.exports=/MSIE|Trident/.test(y)},da5c:function(f,v,c){var y=function(){function S(){this.disposed=!1}return S.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},S.prototype.disposeInternal=function(){},S}();v.a=y},da84:function(f,v,c){(function(y){var S=function(x){return x&&x.Math==Math&&x};f.exports=S(typeof globalThis=="object"&&globalThis)||S(typeof window=="object"&&window)||S(typeof self=="object"&&self)||S(typeof y=="object"&&y)||function(){return this}()||Function("return this")()}).call(this,c("c8ba"))},dbb4:function(f,v,c){var y=c("23e7"),S=c("83ab"),x=c("56ef"),P=c("fc6a"),F=c("06cf"),G=c("8418");y({target:"Object",stat:!0,sham:!S},{getOwnPropertyDescriptors:function(V){for(var U=P(V),X=F.f,W=x(U),it={},Q=0,dt,ot;W.length>Q;)ot=X(U,dt=W[Q++]),ot!==void 0&&G(it,dt,ot);return it}})},dbd0:function(f,v,c){},ddb0:function(f,v,c){var y=c("da84"),S=c("fdbc"),x=c("e260"),P=c("9112"),F=c("b622"),G=F("iterator"),z=F("toStringTag"),V=x.values;for(var U in S){var X=y[U],W=X&&X.prototype;if(W){if(W[G]!==V)try{P(W,G,V)}catch{W[G]=V}if(W[z]||P(W,z,U),S[U]){for(var it in x)if(W[it]!==x[it])try{P(W,it,x[it])}catch{W[it]=x[it]}}}}},df75:function(f,v,c){var y=c("ca84"),S=c("7839");f.exports=Object.keys||function(P){return y(P,S)}},e01a:function(f,v,c){var y=c("23e7"),S=c("83ab"),x=c("da84"),P=c("5135"),F=c("861d"),G=c("9bf2").f,z=c("e893"),V=x.Symbol;if(S&&typeof V=="function"&&(!("description"in V.prototype)||V().description!==void 0)){var U={},X=function(){var _t=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),q=this instanceof X?new V(_t):_t===void 0?V():V(_t);return _t===""&&(U[q]=!0),q};z(X,V);var W=X.prototype=V.prototype;W.constructor=X;var it=W.toString,Q=String(V("test"))=="Symbol(test)",dt=/^Symbol\((.*)\)[^)]+$/;G(W,"description",{configurable:!0,get:function(){var _t=F(this)?this.valueOf():this,q=it.call(_t);if(P(U,_t))return"";var N=Q?q.slice(7,-1):q.replace(dt,"$1");return N===""?void 0:N}}),y({global:!0,forced:!0},{Symbol:X})}},e163:function(f,v,c){var y=c("5135"),S=c("7b0b"),x=c("f772"),P=c("e177"),F=x("IE_PROTO"),G=Object.prototype;f.exports=P?Object.getPrototypeOf:function(z){return z=S(z),y(z,F)?z[F]:typeof z.constructor=="function"&&z instanceof z.constructor?z.constructor.prototype:z instanceof Object?G:null}},e177:function(f,v,c){var y=c("d039");f.exports=!y(function(){function S(){}return S.prototype.constructor=null,Object.getPrototypeOf(new S)!==S.prototype})},e260:function(f,v,c){var y=c("fc6a"),S=c("44d2"),x=c("3f8c"),P=c("69f3"),F=c("7dd0"),G="Array Iterator",z=P.set,V=P.getterFor(G);f.exports=F(Array,"Array",function(U,X){z(this,{type:G,target:y(U),index:0,kind:X})},function(){var U=V(this),X=U.target,W=U.kind,it=U.index++;return!X||it>=X.length?(U.target=void 0,{value:void 0,done:!0}):W=="keys"?{value:it,done:!1}:W=="values"?{value:X[it],done:!1}:{value:[it,X[it]],done:!1}},"values"),x.Arguments=x.Array,S("keys"),S("values"),S("entries")},e269:function(f,v,c){var y=c("cef7"),S=c("7b4f"),x=c("35a7"),P=c("38f3"),F=c("1300"),G=function(){var U=function(X,W){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(it,Q){it.__proto__=Q}||function(it,Q){for(var dt in Q)Object.prototype.hasOwnProperty.call(Q,dt)&&(it[dt]=Q[dt])},U(X,W)};return function(X,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");U(X,W);function it(){this.constructor=X}X.prototype=W===null?Object.create(W):(it.prototype=W.prototype,new it)}}(),z=function(U){G(X,U);function X(W,it,Q){var dt=U.call(this,W)||this;return dt.key=it,dt.oldValue=Q,dt}return X}(y.a),V=function(U){G(X,U);function X(W){var it=U.call(this)||this;return it.on,it.once,it.un,Object(F.c)(it),it.values_=null,W!==void 0&&it.setProperties(W),it}return X.prototype.get=function(W){var it;return this.values_&&this.values_.hasOwnProperty(W)&&(it=this.values_[W]),it},X.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},X.prototype.getProperties=function(){return this.values_&&Object(P.a)({},this.values_)||{}},X.prototype.hasProperties=function(){return!!this.values_},X.prototype.notify=function(W,it){var Q;Q="change:"+W,this.dispatchEvent(new z(Q,W,it)),Q=S.a.PROPERTYCHANGE,this.dispatchEvent(new z(Q,W,it))},X.prototype.addChangeListener=function(W,it){this.addEventListener("change:"+W,it)},X.prototype.removeChangeListener=function(W,it){this.removeEventListener("change:"+W,it)},X.prototype.set=function(W,it,Q){var dt=this.values_||(this.values_={});if(Q)dt[W]=it;else{var ot=dt[W];dt[W]=it,ot!==it&&this.notify(W,ot)}},X.prototype.setProperties=function(W,it){for(var Q in W)this.set(Q,W[Q],it)},X.prototype.applyProperties=function(W){!W.values_||Object(P.a)(this.values_||(this.values_={}),W.values_)},X.prototype.unset=function(W,it){if(this.values_&&W in this.values_){var Q=this.values_[W];delete this.values_[W],Object(P.d)(this.values_)&&(this.values_=null),it||this.notify(W,Q)}},X}(x.a);v.a=V},e439:function(f,v,c){var y=c("23e7"),S=c("d039"),x=c("fc6a"),P=c("06cf").f,F=c("83ab"),G=S(function(){P(1)}),z=!F||G;y({target:"Object",stat:!0,forced:z,sham:!F},{getOwnPropertyDescriptor:function(U,X){return P(x(U),X)}})},e538:function(f,v,c){var y=c("b622");v.f=y},e893:function(f,v,c){var y=c("5135"),S=c("56ef"),x=c("06cf"),P=c("9bf2");f.exports=function(F,G){for(var z=S(G),V=P.f,U=x.f,X=0;X<z.length;X++){var W=z[X];y(F,W)||V(F,W,U(G,W))}}},e8b5:function(f,v,c){var y=c("c6b6");f.exports=Array.isArray||function(x){return y(x)=="Array"}},e95a:function(f,v,c){var y=c("b622"),S=c("3f8c"),x=y("iterator"),P=Array.prototype;f.exports=function(F){return F!==void 0&&(S.Array===F||P[x]===F)}},f5df:function(f,v,c){var y=c("00ee"),S=c("c6b6"),x=c("b622"),P=x("toStringTag"),F=S(function(){return arguments}())=="Arguments",G=function(z,V){try{return z[V]}catch{}};f.exports=y?S:function(z){var V,U,X;return z===void 0?"Undefined":z===null?"Null":typeof(U=G(V=Object(z),P))=="string"?U:F?S(V):(X=S(V))=="Object"&&typeof V.callee=="function"?"Arguments":X}},f772:function(f,v,c){var y=c("5692"),S=c("90e3"),x=y("keys");f.exports=function(P){return x[P]||(x[P]=S(P))}},fb15:function(f,v,c){c.r(v),c.d(v,"install",function(){return _g}),c.d(v,"Map",function(){return P}),c.d(v,"Layers",function(){return G}),c.d(v,"Sources",function(){return z}),c.d(v,"MapControls",function(){return V}),c.d(v,"Geometries",function(){return U}),c.d(v,"Styles",function(){return X});var y={};c.r(y),c.d(y,"boundingExtent",function(){return At}),c.d(y,"buffer",function(){return yt}),c.d(y,"clone",function(){return Rt}),c.d(y,"closestSquaredDistanceXY",function(){return Ft}),c.d(y,"containsCoordinate",function(){return re}),c.d(y,"containsExtent",function(){return he}),c.d(y,"containsXY",function(){return pe}),c.d(y,"coordinateRelationship",function(){return Le}),c.d(y,"createEmpty",function(){return ve}),c.d(y,"createOrUpdate",function(){return Ce}),c.d(y,"createOrUpdateEmpty",function(){return Me}),c.d(y,"createOrUpdateFromCoordinate",function(){return Ee}),c.d(y,"createOrUpdateFromCoordinates",function(){return _r}),c.d(y,"createOrUpdateFromFlatCoordinates",function(){return Sr}),c.d(y,"createOrUpdateFromRings",function(){return Hr}),c.d(y,"equals",function(){return Gr}),c.d(y,"approximatelyEquals",function(){return Nr}),c.d(y,"extend",function(){return Qr}),c.d(y,"extendCoordinate",function(){return Bn}),c.d(y,"extendCoordinates",function(){return ii}),c.d(y,"extendFlatCoordinates",function(){return Oi}),c.d(y,"extendRings",function(){return wr}),c.d(y,"extendXY",function(){return rr}),c.d(y,"forEachCorner",function(){return sr}),c.d(y,"getArea",function(){return Lr}),c.d(y,"getBottomLeft",function(){return lr}),c.d(y,"getBottomRight",function(){return En}),c.d(y,"getCenter",function(){return Tn}),c.d(y,"getCorner",function(){return yr}),c.d(y,"getEnlargedArea",function(){return Ii}),c.d(y,"getForViewAndSize",function(){return Gi}),c.d(y,"getHeight",function(){return bn}),c.d(y,"getIntersectionArea",function(){return yo}),c.d(y,"getIntersection",function(){return Kn}),c.d(y,"getMargin",function(){return ji}),c.d(y,"getSize",function(){return Go}),c.d(y,"getTopLeft",function(){return bi}),c.d(y,"getTopRight",function(){return mo}),c.d(y,"getWidth",function(){return un}),c.d(y,"intersects",function(){return Gn}),c.d(y,"isEmpty",function(){return _o}),c.d(y,"returnOrUpdate",function(){return So}),c.d(y,"scaleFromCenter",function(){return Xi}),c.d(y,"intersectsSegment",function(){return Gl}),c.d(y,"applyTransform",function(){return Rs}),c.d(y,"wrapX",function(){return Sa});var S={};c.r(S),c.d(S,"easeIn",function(){return Dc}),c.d(S,"easeOut",function(){return wo}),c.d(S,"inAndOut",function(){return Wl}),c.d(S,"linear",function(){return Pu}),c.d(S,"upAndDown",function(){return Gf});var x={};c.r(x),c.d(x,"all",function(){return Kf}),c.d(x,"altKeyOnly",function(){return Wd}),c.d(x,"altShiftKeysOnly",function(){return Ep}),c.d(x,"focus",function(){return Hd}),c.d(x,"focusWithTabindex",function(){return wp}),c.d(x,"always",function(){return Zf}),c.d(x,"click",function(){return xy}),c.d(x,"mouseActionButton",function(){return xp}),c.d(x,"never",function(){return Xc}),c.d(x,"pointerMove",function(){return Op}),c.d(x,"singleClick",function(){return Jl}),c.d(x,"doubleClick",function(){return Oy}),c.d(x,"noModifierKeys",function(){return $f}),c.d(x,"platformModifierKeyOnly",function(){return Xd}),c.d(x,"shiftKeyOnly",function(){return Kc}),c.d(x,"targetNotEditable",function(){return Tp}),c.d(x,"mouseOnly",function(){return Ql}),c.d(x,"touchOnly",function(){return Ty}),c.d(x,"penOnly",function(){return _l}),c.d(x,"primaryAction",function(){return fa});var P={};c.r(P),c.d(P,"default",function(){return eh}),c.d(P,"install",function(){return qc}),c.d(P,"Map",function(){return Fe}),c.d(P,"View",function(){return Wr}),c.d(P,"Feature",function(){return pn}),c.d(P,"Overlay",function(){return na}),c.d(P,"GeoLocation",function(){return th});var F={};c.r(F),c.d(F,"all",function(){return Q1}),c.d(F,"bbox",function(){return vO}),c.d(F,"tile",function(){return gO});var G={};c.r(G),c.d(G,"default",function(){return TO}),c.d(G,"install",function(){return bv}),c.d(G,"TileLayer",function(){return Zu}),c.d(G,"ImageLayer",function(){return ru}),c.d(G,"VectorLayer",function(){return Xy}),c.d(G,"AnimatedClusterLayer",function(){return Zy});var z={};c.r(z),c.d(z,"default",function(){return ib}),c.d(z,"install",function(){return Mv}),c.d(z,"SourceXYZ",function(){return rm}),c.d(z,"SourceOSM",function(){return nm}),c.d(z,"SourceImageStatic",function(){return am}),c.d(z,"SourceWMTS",function(){return lm}),c.d(z,"SourceVector",function(){return um}),c.d(z,"SourceCluster",function(){return cm}),c.d(z,"SourceTianDiTu",function(){return fm}),c.d(z,"SourceImageWMS",function(){return hm});var V={};c.r(V),c.d(V,"default",function(){return CL}),c.d(V,"install",function(){return Yv}),c.d(V,"FullScreenControl",function(){return vm}),c.d(V,"MousePositionControl",function(){return ym}),c.d(V,"AttributionControl",function(){return mm}),c.d(V,"OverviewMapControl",function(){return Sm}),c.d(V,"ScaleLineControl",function(){return xm}),c.d(V,"ZoomControl",function(){return Om}),c.d(V,"ZoomSliderControl",function(){return Tm}),c.d(V,"ZoomToExtentControl",function(){return bm}),c.d(V,"ContextMenuControl",function(){return Cm}),c.d(V,"SwipeControl",function(){return Lm}),c.d(V,"ControlBar",function(){return Am}),c.d(V,"ToggleControl",function(){return Pm}),c.d(V,"ButtonControl",function(){return Rm}),c.d(V,"PrintDialog",function(){return Mm}),c.d(V,"VideoRecorderControl",function(){return Fm}),c.d(V,"LayerSwitcherControl",function(){return Vv}),c.d(V,"LayerSwitcherImageControl",function(){return zm}),c.d(V,"ZoneControl",function(){return Ym});var U={};c.r(U),c.d(U,"default",function(){return HL}),c.d(U,"install",function(){return Hv}),c.d(U,"Point",function(){return Wm}),c.d(U,"LineString",function(){return Hm}),c.d(U,"Polygon",function(){return Xm}),c.d(U,"MultiPoint",function(){return Km}),c.d(U,"MultiLineString",function(){return Zm}),c.d(U,"MultiPolygon",function(){return $m});var X={};c.r(X),c.d(X,"default",function(){return vA}),c.d(X,"install",function(){return Zv}),c.d(X,"Style",function(){return r0}),c.d(X,"Stroke",function(){return n0}),c.d(X,"Fill",function(){return i0}),c.d(X,"Icon",function(){return o0}),c.d(X,"Text",function(){return a0}),c.d(X,"FlowLine",function(){return s0});var W={};c.r(W),c.d(W,"default",function(){return VA}),c.d(W,"install",function(){return Jv}),c.d(W,"SelectInteraction",function(){return l0}),c.d(W,"ClusterSelectInteraction",function(){return u0}),c.d(W,"DrawInteraction",function(){return c0}),c.d(W,"SnapInteraction",function(){return f0}),c.d(W,"ModifyInteraction",function(){return h0}),c.d(W,"TransformInteraction",function(){return p0}),c.d(W,"DragRotateAndZoomInteraction",function(){return d0});var it={};c.r(it),c.d(it,"default",function(){return pP}),c.d(it,"install",function(){return Qv}),c.d(it,"FeatureAnimation",function(){return rl}),c.d(it,"DropAnimation",function(){return g0}),c.d(it,"ShakeAnimation",function(){return m0}),c.d(it,"ZoomAnimation",function(){return _0}),c.d(it,"TeleportAnimation",function(){return E0}),c.d(it,"FadeAnimation",function(){return x0}),c.d(it,"PathAnimation",function(){return C0}),c.d(it,"SlideAnimation",function(){return T0});var Q={};c.r(Q),c.d(Q,"Circle",function(){return qm}),c.d(Q,"Geometry",function(){return ks}),c.d(Q,"GeometryCollection",function(){return nl}),c.d(Q,"LinearRing",function(){return la}),c.d(Q,"LineString",function(){return xi}),c.d(Q,"MultiLineString",function(){return is}),c.d(Q,"MultiPoint",function(){return el}),c.d(Q,"MultiPolygon",function(){return da}),c.d(Q,"Point",function(){return yn}),c.d(Q,"Polygon",function(){return kn}),c.d(Q,"SimpleGeometry",function(){return Pa});var dt={};if(c.r(dt),c.d(dt,"EsriJSON",function(){return MP}),c.d(dt,"GeoJSON",function(){return qP}),c.d(dt,"GML",function(){return hR}),c.d(dt,"GPX",function(){return HR}),c.d(dt,"IGC",function(){return eI}),c.d(dt,"IIIFInfo",function(){return lI}),c.d(dt,"KML",function(){return XN}),c.d(dt,"MVT",function(){return n3}),c.d(dt,"OWS",function(){return Y5}),c.d(dt,"Polyline",function(){return X3}),c.d(dt,"TopoJSON",function(){return aM}),c.d(dt,"WFS",function(){return tF}),c.d(dt,"WKT",function(){return dF}),c.d(dt,"WMSCapabilities",function(){return $F}),c.d(dt,"WMSGetFeatureInfo",function(){return e4}),c.d(dt,"WMTSCapabilities",function(){return b4}),typeof window!="undefined"){var ot=window.document.currentScript;{var _t=c("8875");ot=_t(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:_t})}var q=ot&&ot.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);q&&(c.p=q[1])}c("b0c0");var N=c("8bbf");function Ot(i,r,t,e,n,o){return Object(N.openBlock)(),Object(N.createBlock)("div",{ref:function(s){return e.mapRef=s}},[Object(N.renderSlot)(i.$slots,"default")],512)}c("a9e3");var Et=c("da5c"),St=c("57cb"),nt=c("1300"),qt=c("617d"),vt=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pt=function(i){vt(r,i);function r(t){var e=this,n=nt.a==="latest"?nt.a:"v"+nt.a.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+n+"/doc/errors/#"+t+" for details.";return e=i.call(this,o)||this,e.code=t,e.name="AssertionError",e.message=o,e}return r}(Error),kt=pt;function Qt(i,r){if(!i)throw new kt(r)}var je=new Array(6);function $(){return[1,0,0,1,0,0]}function Ct(i){return Xe(i,1,0,0,1,0,0)}function Kt(i,r){var t=i[0],e=i[1],n=i[2],o=i[3],a=i[4],s=i[5],u=r[0],h=r[1],d=r[2],E=r[3],b=r[4],I=r[5];return i[0]=t*u+n*h,i[1]=e*u+o*h,i[2]=t*d+n*E,i[3]=e*d+o*E,i[4]=t*b+n*I+a,i[5]=e*b+o*I+s,i}function Xe(i,r,t,e,n,o,a){return i[0]=r,i[1]=t,i[2]=e,i[3]=n,i[4]=o,i[5]=a,i}function qe(i,r){return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i}function me(i,r){var t=r[0],e=r[1];return r[0]=i[0]*t+i[2]*e+i[4],r[1]=i[1]*t+i[3]*e+i[5],r}function ar(i,r){var t=Math.cos(r),e=Math.sin(r);return Kt(i,Xe(je,t,e,-e,t,0,0))}function jr(i,r,t){return Kt(i,Xe(je,r,0,0,t,0,0))}function Pr(i,r,t){return Xe(i,r,0,0,t,0,0)}function Xn(i,r,t){return Kt(i,Xe(je,1,0,0,1,r,t))}function ur(i,r,t,e,n,o,a,s){var u=Math.sin(o),h=Math.cos(o);return i[0]=e*h,i[1]=n*u,i[2]=-e*u,i[3]=n*h,i[4]=a*e*h-s*e*u+r,i[5]=a*n*u+s*n*h+t,i}function Zn(i,r){var t=Ri(r);Qt(t!==0,32);var e=r[0],n=r[1],o=r[2],a=r[3],s=r[4],u=r[5];return i[0]=a/t,i[1]=-n/t,i[2]=-o/t,i[3]=e/t,i[4]=(o*u-a*s)/t,i[5]=-(e*u-n*s)/t,i}function Ri(i){return i[0]*i[3]-i[1]*i[2]}var Ya;function Dn(i){var r="matrix("+i.join(", ")+")";if(qt.g)return r;var t=Ya||(Ya=document.createElement("div"));return t.style.transform=r,t.style.transform}var Si={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},ni={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function At(i){for(var r=ve(),t=0,e=i.length;t<e;++t)Bn(r,i[t]);return r}function Wt(i,r,t){var e=Math.min.apply(null,i),n=Math.min.apply(null,r),o=Math.max.apply(null,i),a=Math.max.apply(null,r);return Ce(e,n,o,a,t)}function yt(i,r,t){return t?(t[0]=i[0]-r,t[1]=i[1]-r,t[2]=i[2]+r,t[3]=i[3]+r,t):[i[0]-r,i[1]-r,i[2]+r,i[3]+r]}function Rt(i,r){return r?(r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r):i.slice()}function Ft(i,r,t){var e,n;return r<i[0]?e=i[0]-r:i[2]<r?e=r-i[2]:e=0,t<i[1]?n=i[1]-t:i[3]<t?n=t-i[3]:n=0,e*e+n*n}function re(i,r){return pe(i,r[0],r[1])}function he(i,r){return i[0]<=r[0]&&r[2]<=i[2]&&i[1]<=r[1]&&r[3]<=i[3]}function pe(i,r,t){return i[0]<=r&&r<=i[2]&&i[1]<=t&&t<=i[3]}function Le(i,r){var t=i[0],e=i[1],n=i[2],o=i[3],a=r[0],s=r[1],u=ni.UNKNOWN;return a<t?u=u|ni.LEFT:a>n&&(u=u|ni.RIGHT),s<e?u=u|ni.BELOW:s>o&&(u=u|ni.ABOVE),u===ni.UNKNOWN&&(u=ni.INTERSECTING),u}function ve(){return[1/0,1/0,-1/0,-1/0]}function Ce(i,r,t,e,n){return n?(n[0]=i,n[1]=r,n[2]=t,n[3]=e,n):[i,r,t,e]}function Me(i){return Ce(1/0,1/0,-1/0,-1/0,i)}function Ee(i,r){var t=i[0],e=i[1];return Ce(t,e,t,e,r)}function _r(i,r){var t=Me(r);return ii(t,i)}function Sr(i,r,t,e,n){var o=Me(n);return Oi(o,i,r,t,e)}function Hr(i,r){var t=Me(r);return wr(t,i)}function Gr(i,r){return i[0]==r[0]&&i[2]==r[2]&&i[1]==r[1]&&i[3]==r[3]}function Nr(i,r,t){return Math.abs(i[0]-r[0])<t&&Math.abs(i[2]-r[2])<t&&Math.abs(i[1]-r[1])<t&&Math.abs(i[3]-r[3])<t}function Qr(i,r){return r[0]<i[0]&&(i[0]=r[0]),r[2]>i[2]&&(i[2]=r[2]),r[1]<i[1]&&(i[1]=r[1]),r[3]>i[3]&&(i[3]=r[3]),i}function Bn(i,r){r[0]<i[0]&&(i[0]=r[0]),r[0]>i[2]&&(i[2]=r[0]),r[1]<i[1]&&(i[1]=r[1]),r[1]>i[3]&&(i[3]=r[1])}function ii(i,r){for(var t=0,e=r.length;t<e;++t)Bn(i,r[t]);return i}function Oi(i,r,t,e,n){for(;t<e;t+=n)rr(i,r[t],r[t+1]);return i}function wr(i,r){for(var t=0,e=r.length;t<e;++t)ii(i,r[t]);return i}function rr(i,r,t){i[0]=Math.min(i[0],r),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],r),i[3]=Math.max(i[3],t)}function sr(i,r){var t;return t=r(lr(i)),t||(t=r(En(i)),t)||(t=r(mo(i)),t)||(t=r(bi(i)),t)?t:!1}function Lr(i){var r=0;return _o(i)||(r=un(i)*bn(i)),r}function lr(i){return[i[0],i[1]]}function En(i){return[i[2],i[1]]}function Tn(i){return[(i[0]+i[2])/2,(i[1]+i[3])/2]}function yr(i,r){var t;return r===Si.BOTTOM_LEFT?t=lr(i):r===Si.BOTTOM_RIGHT?t=En(i):r===Si.TOP_LEFT?t=bi(i):r===Si.TOP_RIGHT?t=mo(i):Qt(!1,13),t}function Ii(i,r){var t=Math.min(i[0],r[0]),e=Math.min(i[1],r[1]),n=Math.max(i[2],r[2]),o=Math.max(i[3],r[3]);return(n-t)*(o-e)}function Gi(i,r,t,e,n){var o=r*e[0]/2,a=r*e[1]/2,s=Math.cos(t),u=Math.sin(t),h=o*s,d=o*u,E=a*s,b=a*u,I=i[0],M=i[1],k=I-h+b,et=I-h-b,ht=I+h-b,Lt=I+h+b,It=M-d-E,wt=M-d+E,oe=M+d+E,se=M+d-E;return Ce(Math.min(k,et,ht,Lt),Math.min(It,wt,oe,se),Math.max(k,et,ht,Lt),Math.max(It,wt,oe,se),n)}function bn(i){return i[3]-i[1]}function yo(i,r){var t=Kn(i,r);return Lr(t)}function Kn(i,r,t){var e=t||ve();return Gn(i,r)?(i[0]>r[0]?e[0]=i[0]:e[0]=r[0],i[1]>r[1]?e[1]=i[1]:e[1]=r[1],i[2]<r[2]?e[2]=i[2]:e[2]=r[2],i[3]<r[3]?e[3]=i[3]:e[3]=r[3]):Me(e),e}function ji(i){return un(i)+bn(i)}function Go(i){return[i[2]-i[0],i[3]-i[1]]}function bi(i){return[i[0],i[3]]}function mo(i){return[i[2],i[3]]}function un(i){return i[2]-i[0]}function Gn(i,r){return i[0]<=r[2]&&i[2]>=r[0]&&i[1]<=r[3]&&i[3]>=r[1]}function _o(i){return i[2]<i[0]||i[3]<i[1]}function So(i,r){return r?(r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r):i}function Xi(i,r){var t=(i[2]-i[0])/2*(r-1),e=(i[3]-i[1])/2*(r-1);i[0]-=t,i[2]+=t,i[1]-=e,i[3]+=e}function Gl(i,r,t){var e=!1,n=Le(i,r),o=Le(i,t);if(n===ni.INTERSECTING||o===ni.INTERSECTING)e=!0;else{var a=i[0],s=i[1],u=i[2],h=i[3],d=r[0],E=r[1],b=t[0],I=t[1],M=(I-E)/(b-d),k=void 0,et=void 0;!!(o&ni.ABOVE)&&!(n&ni.ABOVE)&&(k=b-(I-h)/M,e=k>=a&&k<=u),!e&&!!(o&ni.RIGHT)&&!(n&ni.RIGHT)&&(et=I-(b-u)*M,e=et>=s&&et<=h),!e&&!!(o&ni.BELOW)&&!(n&ni.BELOW)&&(k=b-(I-s)/M,e=k>=a&&k<=u),!e&&!!(o&ni.LEFT)&&!(n&ni.LEFT)&&(et=I-(b-a)*M,e=et>=s&&et<=h)}return e}function Rs(i,r,t,e){var n=[];if(e>1)for(var o=i[2]-i[0],a=i[3]-i[1],s=0;s<e;++s)n.push(i[0]+o*s/e,i[1],i[2],i[1]+a*s/e,i[2]-o*s/e,i[3],i[0],i[3]-a*s/e);else n=[i[0],i[1],i[2],i[1],i[2],i[3],i[0],i[3]];r(n,n,2);for(var u=[],h=[],s=0,d=n.length;s<d;s+=2)u.push(n[s]),h.push(n[s+1]);return Wt(u,h,t)}function Sa(i,r){var t=r.getExtent(),e=Tn(i);if(r.canWrapX()&&(e[0]<t[0]||e[0]>=t[2])){var n=un(t),o=Math.floor((e[0]-t[0])/n),a=o*n;i[0]-=a,i[2]-=a}return i}function Ei(i,r,t){return Math.min(Math.max(i,r),t)}var Ac=function(){var i;return"cosh"in Math?i=Math.cosh:i=function(r){var t=Math.exp(r);return(t+1/t)/2},i}(),mu=function(){var i;return"log2"in Math?i=Math.log2:i=function(r){return Math.log(r)*Math.LOG2E},i}();function Is(i,r,t,e,n,o){var a=n-t,s=o-e;if(a!==0||s!==0){var u=((i-t)*a+(r-e)*s)/(a*a+s*s);u>1?(t=n,e=o):u>0&&(t+=a*u,e+=s*u)}return fs(i,r,t,e)}function fs(i,r,t,e){var n=t-i,o=e-r;return n*n+o*o}function _u(i){for(var r=i.length,t=0;t<r;t++){for(var e=t,n=Math.abs(i[t][t]),o=t+1;o<r;o++){var a=Math.abs(i[o][t]);a>n&&(n=a,e=o)}if(n===0)return null;var s=i[e];i[e]=i[t],i[t]=s;for(var u=t+1;u<r;u++)for(var h=-i[u][t]/i[t][t],d=t;d<r+1;d++)t==d?i[u][d]=0:i[u][d]+=h*i[t][d]}for(var E=new Array(r),b=r-1;b>=0;b--){E[b]=i[b][r]/i[b][b];for(var I=b-1;I>=0;I--)i[I][r]-=i[I][b]*E[b]}return E}function Jh(i){return i*180/Math.PI}function Ns(i){return i*Math.PI/180}function ll(i,r){var t=i%r;return t*r<0?t+r:t}function Ms(i,r,t){return i+t*(r-i)}var Bd=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Qh=/^([a-z]*)$|^hsla?\(.*\)$/i;function eo(i){return typeof i=="string"?i:Ha(i)}function Rf(i){var r=document.createElement("div");if(r.style.color=i,r.style.color!==""){document.body.appendChild(r);var t=getComputedStyle(r).color;return document.body.removeChild(r),t}else return""}var Wa=function(){var i=1024,r={},t=0;return function(e){var n;if(r.hasOwnProperty(e))n=r[e];else{if(t>=i){var o=0;for(var a in r)(o++&3)==0&&(delete r[a],--t)}n=yy(e),r[e]=n,++t}return n}}();function Ea(i){return Array.isArray(i)?i:Wa(i)}function yy(i){var r,t,e,n,o;if(Qh.exec(i)&&(i=Rf(i)),Bd.exec(i)){var a=i.length-1,s=void 0;a<=4?s=1:s=2;var u=a===4||a===8;r=parseInt(i.substr(1+0*s,s),16),t=parseInt(i.substr(1+1*s,s),16),e=parseInt(i.substr(1+2*s,s),16),u?n=parseInt(i.substr(1+3*s,s),16):n=255,s==1&&(r=(r<<4)+r,t=(t<<4)+t,e=(e<<4)+e,u&&(n=(n<<4)+n)),o=[r,t,e,n/255]}else i.indexOf("rgba(")==0?(o=i.slice(5,-1).split(",").map(Number),Gd(o)):i.indexOf("rgb(")==0?(o=i.slice(4,-1).split(",").map(Number),o.push(1),Gd(o)):Qt(!1,14);return o}function Gd(i){return i[0]=Ei(i[0]+.5|0,0,255),i[1]=Ei(i[1]+.5|0,0,255),i[2]=Ei(i[2]+.5|0,0,255),i[3]=Ei(i[3],0,1),i}function Ha(i){var r=i[0];r!=(r|0)&&(r=r+.5|0);var t=i[1];t!=(t|0)&&(t=t+.5|0);var e=i[2];e!=(e|0)&&(e=e+.5|0);var n=i[3]===void 0?1:i[3];return"rgba("+r+","+t+","+e+","+n+")"}var my=function(){function i(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return i.prototype.clear=function(){this.cache_={},this.cacheSize_=0},i.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},i.prototype.expire=function(){if(this.canExpireCache()){var r=0;for(var t in this.cache_){var e=this.cache_[t];(r++&3)==0&&!e.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},i.prototype.get=function(r,t,e){var n=tp(r,t,e);return n in this.cache_?this.cache_[n]:null},i.prototype.set=function(r,t,e,n){var o=tp(r,t,e);this.cache_[o]=n,++this.cacheSize_},i.prototype.setSize=function(r){this.maxCacheSize_=r,this.expire()},i}();function tp(i,r,t){var e=t?eo(t):"null";return r+":"+i+":"+e}var Pc=new my,co=c("e269"),pi={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"},br=c("38f3"),_y=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sy=function(i){_y(r,i);function r(t){var e=i.call(this)||this;e.on,e.once,e.un;var n=Object(br.a)({},t);return typeof t.properties=="object"&&(delete n.properties,Object(br.a)(n,t.properties)),n[pi.OPACITY]=t.opacity!==void 0?t.opacity:1,Qt(typeof n[pi.OPACITY]=="number",64),n[pi.VISIBLE]=t.visible!==void 0?t.visible:!0,n[pi.Z_INDEX]=t.zIndex,n[pi.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[pi.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[pi.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[pi.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,e.className_=n.className!==void 0?t.className:"ol-layer",delete n.className,e.setProperties(n),e.state_=null,e}return r.prototype.getClassName=function(){return this.className_},r.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:t===void 0?!0:t},n=this.getZIndex();return e.opacity=Ei(Math.round(this.getOpacity()*100)/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=n===void 0&&!e.managed?1/0:n,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},r.prototype.getLayersArray=function(t){return Object(nt.b)()},r.prototype.getLayerStatesArray=function(t){return Object(nt.b)()},r.prototype.getExtent=function(){return this.get(pi.EXTENT)},r.prototype.getMaxResolution=function(){return this.get(pi.MAX_RESOLUTION)},r.prototype.getMinResolution=function(){return this.get(pi.MIN_RESOLUTION)},r.prototype.getMinZoom=function(){return this.get(pi.MIN_ZOOM)},r.prototype.getMaxZoom=function(){return this.get(pi.MAX_ZOOM)},r.prototype.getOpacity=function(){return this.get(pi.OPACITY)},r.prototype.getSourceState=function(){return Object(nt.b)()},r.prototype.getVisible=function(){return this.get(pi.VISIBLE)},r.prototype.getZIndex=function(){return this.get(pi.Z_INDEX)},r.prototype.setExtent=function(t){this.set(pi.EXTENT,t)},r.prototype.setMaxResolution=function(t){this.set(pi.MAX_RESOLUTION,t)},r.prototype.setMinResolution=function(t){this.set(pi.MIN_RESOLUTION,t)},r.prototype.setMaxZoom=function(t){this.set(pi.MAX_ZOOM,t)},r.prototype.setMinZoom=function(t){this.set(pi.MIN_ZOOM,t)},r.prototype.setOpacity=function(t){Qt(typeof t=="number",64),this.set(pi.OPACITY,t)},r.prototype.setVisible=function(t){this.set(pi.VISIBLE,t)},r.prototype.setZIndex=function(t){this.set(pi.Z_INDEX,t)},r.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),i.prototype.disposeInternal.call(this)},r}(co.a),ep=Sy,Dr=c("01d4"),hs={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},ps={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},dr=c("1e8d"),Ey=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wy=function(i){Ey(r,i);function r(t){var e=this,n=Object(br.a)({},t);delete n.source,e=i.call(this,n)||this,e.on,e.once,e.un,e.mapPrecomposeKey_=null,e.mapRenderKey_=null,e.sourceChangeKey_=null,e.renderer_=null,t.render&&(e.render=t.render),t.map&&e.setMap(t.map),e.addChangeListener(pi.SOURCE,e.handleSourcePropertyChange_);var o=t.source?t.source:null;return e.setSource(o),e}return r.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},r.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},r.prototype.getSource=function(){return this.get(pi.SOURCE)||null},r.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():ps.UNDEFINED},r.prototype.handleSourceChange_=function(){this.changed()},r.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(dr.c)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(dr.a)(t,Dr.a.CHANGE,this.handleSourceChange_,this)),this.changed()},r.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(e){return e([])})},r.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},r.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(dr.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(dr.c)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(dr.a)(t,hs.PRECOMPOSE,function(e){var n=e,o=n.frameState.layerStatesArray,a=this.getLayerState(!1);Qt(!o.some(function(s){return s.layer===a.layer}),67),o.push(a)},this),this.mapRenderKey_=Object(dr.a)(this,Dr.a.CHANGE,t.render,t),this.changed())},r.prototype.setSource=function(t){this.set(pi.SOURCE,t)},r.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},r.prototype.hasRenderer=function(){return!!this.renderer_},r.prototype.createRenderer=function(){return null},r.prototype.disposeInternal=function(){this.setSource(null),i.prototype.disposeInternal.call(this)},r}(ep);function If(i,r){if(!i.visible)return!1;var t=r.resolution;if(t<i.minResolution||t>=i.maxResolution)return!1;var e=r.zoom;return e>i.minZoom&&e<=i.maxZoom}var w=wy;function g(i,r,t){var e=t!==void 0?i.toFixed(t):""+i,n=e.indexOf(".");return n=n===-1?e.length:n,n>r?e:new Array(1+r-n).join("0")+e}function m(i,r){for(var t=(""+i).split("."),e=(""+r).split("."),n=0;n<Math.max(t.length,e.length);n++){var o=parseInt(t[n]||"0",10),a=parseInt(e[n]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}function T(i,r){return i[0]+=+r[0],i[1]+=+r[1],i}function A(i,r){var t=r.getRadius(),e=r.getCenter(),n=e[0],o=e[1],a=i[0],s=i[1],u=a-n,h=s-o;u===0&&h===0&&(u=1);var d=Math.sqrt(u*u+h*h),E=n+t*u/d,b=o+t*h/d;return[E,b]}function C(i,r){var t=i[0],e=i[1],n=r[0],o=r[1],a=n[0],s=n[1],u=o[0],h=o[1],d=u-a,E=h-s,b=d===0&&E===0?0:(d*(t-a)+E*(e-s))/(d*d+E*E||0),I,M;return b<=0?(I=a,M=s):b>=1?(I=u,M=h):(I=a+b*d,M=s+b*E),[I,M]}function D(i,r){for(var t=!0,e=i.length-1;e>=0;--e)if(i[e]!=r[e]){t=!1;break}return t}function R(i,r){var t=Math.cos(r),e=Math.sin(r),n=i[0]*t-i[1]*e,o=i[1]*t+i[0]*e;return i[0]=n,i[1]=o,i}function j(i,r){return i[0]*=r,i[1]*=r,i}function H(i,r){var t=i[0]-r[0],e=i[1]-r[1];return t*t+e*e}function st(i,r){return Math.sqrt(H(i,r))}function ut(i,r){return H(i,C(i,r))}function mt(i,r){if(r.canWrapX()){var t=un(r.getExtent()),e=Y(i,r,t);e&&(i[0]-=e*t)}return i}function Y(i,r,t){var e=r.getExtent(),n=0;if(r.canWrapX()&&(i[0]<e[0]||i[0]>e[2])){var o=t||un(e);n=Math.floor((i[0]-e[0])/o)}return n}var Dt=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tt=function(i){Dt(r,i);function r(t){var e=i.call(this)||this;return e.map_=t,e}return r.prototype.dispatchRenderEvent=function(t,e){Object(nt.b)()},r.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;ur(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Zn(o,n)},r.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,a,s,u,h){var d,E=e.viewState;function b(Tr,kr,Fr,On){return a.call(s,kr,Tr?Fr:null,On)}var I=E.projection,M=mt(t.slice(),I),k=[[0,0]];if(I.canWrapX()&&o){var et=I.getExtent(),ht=un(et);k.push([-ht,0],[ht,0])}for(var Lt=e.layerStatesArray,It=Lt.length,wt=[],oe=[],se=0;se<k.length;se++)for(var de=It-1;de>=0;--de){var Se=Lt[de],Ie=Se.layer;if(Ie.hasRenderer()&&If(Se,E)&&u.call(h,Ie)){var He=Ie.getRenderer(),De=Ie.getSource();if(He&&De){var ye=De.getWrapX()?M:t,Qe=b.bind(null,Se.managed);oe[0]=ye[0]+k[se][0],oe[1]=ye[1]+k[se][1],d=He.forEachFeatureAtCoordinate(oe,e,n,Qe,wt)}if(d)return d}}if(wt.length!==0){var Ar=1/wt.length;return wt.forEach(function(Tr,kr){return Tr.distanceSq+=kr*Ar}),wt.sort(function(Tr,kr){return Tr.distanceSq-kr.distanceSq}),wt.some(function(Tr){return d=Tr.callback(Tr.feature,Tr.layer,Tr.geometry)}),d}},r.prototype.forEachLayerAtPixel=function(t,e,n,o,a){return Object(nt.b)()},r.prototype.hasFeatureAtCoordinate=function(t,e,n,o,a,s){var u=this.forEachFeatureAtCoordinate(t,e,n,o,St.b,this,a,s);return u!==void 0},r.prototype.getMap=function(){return this.map_},r.prototype.renderFrame=function(t){Object(nt.b)()},r.prototype.scheduleExpireIconCache=function(t){Pc.canExpireCache()&&t.postRenderFunctions.push(ct)},r}(Et.a);function ct(i,r){Pc.expire()}var te=Tt,Nt=c("7b4f"),ue=c("cef7"),Re=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ze=function(i){Re(r,i);function r(t,e,n,o){var a=i.call(this,t)||this;return a.inversePixelTransform=e,a.frameState=n,a.context=o,a}return r}(ue.a),tr=ze,Pt="ol-hidden",Ke="ol-selectable",ir="ol-unselectable",Je="ol-unsupported",ft="ol-control",jt="ol-collapsed",ie=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),$t=["style","variant","weight","size","lineHeight","family"],Te=function(i){var r=i.match(ie);if(!r)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},e=0,n=$t.length;e<n;++e){var o=r[e+1];o!==void 0&&(t[$t[e]]=o)}return t.families=t.family.split(/,\s?/),t},Be=c("0ec0"),be=c("0999"),ge="10px sans-serif",J="#000",Mt="round",Gt=[],Bt=0,Jt="round",ae=10,_e="#000",Oe="center",Ae="middle",ke=[0,0,0,0],cr=1,Mr=new co.a,fr=new Be.a;fr.setSize=function(){console.warn("labelCache is deprecated.")};var Pe=null,or,$r={},Rr=function(){var i=100,r="32px ",t=["monospace","serif"],e=t.length,n="wmytzilWMYTZIL@#/&?$%10\uF013",o,a;function s(h,d,E){for(var b=!0,I=0;I<e;++I){var M=t[I];if(a=rn(h+" "+d+" "+r+M,n),E!=M){var k=rn(h+" "+d+" "+r+E+","+M,n);b=b&&k!=a}}return!!b}function u(){for(var h=!0,d=Mr.getKeys(),E=0,b=d.length;E<b;++E){var I=d[E];Mr.get(I)<i&&(s.apply(this,I.split(`
`))?(Object(br.b)($r),Pe=null,or=void 0,Mr.set(I,i)):(Mr.set(I,Mr.get(I)+1,!0),h=!1))}h&&(clearInterval(o),o=void 0)}return function(h){var d=Te(h);if(!!d)for(var E=d.families,b=0,I=E.length;b<I;++b){var M=E[b],k=d.style+`
`+d.weight+`
`+M;Mr.get(k)===void 0&&(Mr.set(k,i,!0),s(d.style,d.weight,M)||(Mr.set(k,0,!0),o===void 0&&(o=setInterval(u,32))))}}}(),Ut=function(){var i;return function(r){var t=$r[r];if(t==null){if(qt.g){var e=Te(r),n=Ir(r,"\u017Dg"),o=isNaN(Number(e.lineHeight))?1.2:Number(e.lineHeight);t=o*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else i||(i=document.createElement("div"),i.innerHTML="M",i.style.minHeight="0",i.style.maxHeight="none",i.style.height="auto",i.style.padding="0",i.style.border="none",i.style.position="absolute",i.style.display="block",i.style.left="-99999px"),i.style.font=r,document.body.appendChild(i),t=i.offsetHeight,document.body.removeChild(i);$r[r]=t}return t}}();function Ir(i,r){return Pe||(Pe=Object(be.a)(1,1)),i!=or&&(Pe.font=i,or=Pe.font),Pe.measureText(r)}function rn(i,r){return Ir(i,r).width}function Ye(i,r,t){if(r in t)return t[r];var e=rn(i,r);return t[r]=e,e}function cn(i,r,t){for(var e=r.length,n=0,o=0;o<e;++o){var a=rn(i,r[o]);n=Math.max(n,a),t.push(a)}return n}function Kr(i,r,t,e,n,o,a,s,u,h,d){i.save(),t!==1&&(i.globalAlpha*=t),r&&i.setTransform.apply(i,r),e.contextInstructions?(i.translate(u,h),i.scale(d[0],d[1]),mn(e,i)):d[0]<0||d[1]<0?(i.translate(u,h),i.scale(d[0],d[1]),i.drawImage(e,n,o,a,s,0,0,a,s)):i.drawImage(e,n,o,a,s,u,h,a*d[0],s*d[1]),i.restore()}function mn(i,r){for(var t=i.contextInstructions,e=0,n=t.length;e<n;e+=2)Array.isArray(t[e+1])?r[t[e]].apply(r,t[e+1]):r[t[e]]=t[e+1]}var In=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vn=function(i){In(r,i);function r(t){var e=i.call(this,t)||this;e.fontChangeListenerKey_=Object(dr.a)(Mr,Nt.a.PROPERTYCHANGE,t.redrawText.bind(t)),e.element_=document.createElement("div");var n=e.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",e.element_.className=ir+" ol-layers";var o=t.getViewport();return o.insertBefore(e.element_,o.firstChild||null),e.children_=[],e.renderedVisible_=!0,e}return r.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var o=new tr(t,void 0,e);n.dispatchEvent(o)}},r.prototype.disposeInternal=function(){Object(dr.c)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),i.prototype.disposeInternal.call(this)},r.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(hs.PRECOMPOSE,t);var e=t.layerStatesArray.sort(function(b,I){return b.zIndex-I.zIndex}),n=t.viewState;this.children_.length=0;for(var o=[],a=null,s=0,u=e.length;s<u;++s){var h=e[s];if(t.layerIndex=s,!(!If(h,n)||h.sourceState!=ps.READY&&h.sourceState!=ps.UNDEFINED)){var d=h.layer,E=d.render(t,a);!E||(E!==a&&(this.children_.push(E),a=E),"getDeclutter"in d&&o.push(d))}}for(var s=o.length-1;s>=0;--s)o[s].renderDeclutter(t);Object(be.f)(this.element_,this.children_),this.dispatchRenderEvent(hs.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},r.prototype.forEachLayerAtPixel=function(t,e,n,o,a){for(var s=e.viewState,u=e.layerStatesArray,h=u.length,d=h-1;d>=0;--d){var E=u[d],b=E.layer;if(b.hasRenderer()&&If(E,s)&&a(b)){var I=b.getRenderer(),M=I.getDataAtPixel(t,e,n);if(M){var k=o(b,M);if(k)return k}}}},r}(te),oi=Vn,ln={ADD:"add",REMOVE:"remove"},ro=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ki={LENGTH:"length"},Cn=function(i){ro(r,i);function r(t,e,n){var o=i.call(this,t)||this;return o.element=e,o.index=n,o}return r}(ue.a),Ln=function(i){ro(r,i);function r(t,e){var n=i.call(this)||this;n.on,n.once,n.un;var o=e||{};if(n.unique_=!!o.unique,n.array_=t||[],n.unique_)for(var a=0,s=n.array_.length;a<s;++a)n.assertUnique_(n.array_[a],a);return n.updateLength_(),n}return r.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},r.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},r.prototype.forEach=function(t){for(var e=this.array_,n=0,o=e.length;n<o;++n)t(e[n],n,e)},r.prototype.getArray=function(){return this.array_},r.prototype.item=function(t){return this.array_[t]},r.prototype.getLength=function(){return this.get(Ki.LENGTH)},r.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Cn(ln.ADD,e,t))},r.prototype.pop=function(){return this.removeAt(this.getLength()-1)},r.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},r.prototype.remove=function(t){for(var e=this.array_,n=0,o=e.length;n<o;++n)if(e[n]===t)return this.removeAt(n)},r.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Cn(ln.REMOVE,e,t)),e},r.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var o=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Cn(ln.REMOVE,o,t)),this.dispatchEvent(new Cn(ln.ADD,e,t))}else{for(var a=n;a<t;++a)this.insertAt(a,void 0);this.insertAt(t,e)}},r.prototype.updateLength_=function(){this.set(Ki.LENGTH,this.array_.length)},r.prototype.assertUnique_=function(t,e){for(var n=0,o=this.array_.length;n<o;++n)if(this.array_[n]===t&&n!==e)throw new kt(58)},r}(co.a),hr=Ln,ul=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xa={LAYERS:"layers"},cl=function(i){ul(r,i);function r(t){var e=this,n=t||{},o=Object(br.a)({},n);delete o.layers;var a=n.layers;return e=i.call(this,o)||this,e.layersListenerKeys_=[],e.listenerKeys_={},e.addChangeListener(Xa.LAYERS,e.handleLayersChanged_),a?Array.isArray(a)?a=new hr(a.slice(),{unique:!0}):Qt(typeof a.getArray=="function",43):a=new hr(void 0,{unique:!0}),e.setLayers(a),e}return r.prototype.handleLayerChange_=function(){this.changed()},r.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(dr.c),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(Object(dr.a)(t,ln.ADD,this.handleLayersAdd_,this),Object(dr.a)(t,ln.REMOVE,this.handleLayersRemove_,this));for(var e in this.listenerKeys_)this.listenerKeys_[e].forEach(dr.c);Object(br.b)(this.listenerKeys_);for(var n=t.getArray(),o=0,a=n.length;o<a;o++){var s=n[o];this.listenerKeys_[Object(nt.c)(s)]=[Object(dr.a)(s,Nt.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(dr.a)(s,Dr.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},r.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Object(nt.c)(e)]=[Object(dr.a)(e,Nt.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(dr.a)(e,Dr.a.CHANGE,this.handleLayerChange_,this)],this.changed()},r.prototype.handleLayersRemove_=function(t){var e=t.element,n=Object(nt.c)(e);this.listenerKeys_[n].forEach(dr.c),delete this.listenerKeys_[n],this.changed()},r.prototype.getLayers=function(){return this.get(Xa.LAYERS)},r.prototype.setLayers=function(t){this.set(Xa.LAYERS,t)},r.prototype.getLayersArray=function(t){var e=t!==void 0?t:[];return this.getLayers().forEach(function(n){n.getLayersArray(e)}),e},r.prototype.getLayerStatesArray=function(t){var e=t!==void 0?t:[],n=e.length;this.getLayers().forEach(function(d){d.getLayerStatesArray(e)});var o=this.getLayerState(),a=o.zIndex;!t&&o.zIndex===void 0&&(a=0);for(var s=n,u=e.length;s<u;s++){var h=e[s];h.opacity*=o.opacity,h.visible=h.visible&&o.visible,h.maxResolution=Math.min(h.maxResolution,o.maxResolution),h.minResolution=Math.max(h.minResolution,o.minResolution),h.minZoom=Math.max(h.minZoom,o.minZoom),h.maxZoom=Math.min(h.maxZoom,o.maxZoom),o.extent!==void 0&&(h.extent!==void 0?h.extent=Kn(h.extent,o.extent):h.extent=o.extent),h.zIndex===void 0&&(h.zIndex=a)}return e},r.prototype.getSourceState=function(){return ps.READY},r}(ep),$n=cl,Ci=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ds=function(i){Ci(r,i);function r(t,e,n){var o=i.call(this,t)||this;return o.map=e,o.frameState=n!==void 0?n:null,o}return r}(ue.a),ai=ds,Ul=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Li=function(i){Ul(r,i);function r(t,e,n,o,a){var s=i.call(this,t,e,a)||this;return s.originalEvent=n,s.pixel_=null,s.coordinate_=null,s.dragging=o!==void 0?o:!1,s}return Object.defineProperty(r.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),r.prototype.preventDefault=function(){i.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){i.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},r}(ai),Eo=Li,tn={SINGLECLICK:"singleclick",CLICK:Dr.a.CLICK,DBLCLICK:Dr.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},qn={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},fn=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),si=function(i){fn(r,i);function r(t,e){var n=i.call(this,t)||this;n.map_=t,n.clickTimeoutId_,n.emulateClicks_=!1,n.dragging_=!1,n.dragListenerKeys_=[],n.moveTolerance_=e===void 0?1:e,n.down_=null;var o=n.map_.getViewport();return n.activePointers_=0,n.trackedTouches_={},n.element_=o,n.pointerdownListenerKey_=Object(dr.a)(o,qn.POINTERDOWN,n.handlePointerDown_,n),n.originalPointerMoveEvent_,n.relayedListenerKey_=Object(dr.a)(o,qn.POINTERMOVE,n.relayEvent_,n),n.boundHandleTouchMove_=n.handleTouchMove_.bind(n),n.element_.addEventListener(Dr.a.TOUCHMOVE,n.boundHandleTouchMove_,qt.e?{passive:!1}:!1),n}return r.prototype.emulateClick_=function(t){var e=new Eo(tn.CLICK,this.map_,t);this.dispatchEvent(e),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new Eo(tn.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var n=new Eo(tn.SINGLECLICK,this.map_,t);this.dispatchEvent(n)}.bind(this),250)},r.prototype.updateActivePointers_=function(t){var e=t;e.type==tn.POINTERUP||e.type==tn.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==tn.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},r.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new Eo(tn.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(dr.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},r.prototype.isMouseActionButton_=function(t){return t.button===0},r.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(t);var e=new Eo(tn.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_={};for(var n in t){var o=t[n];this.down_[n]=typeof o=="function"?St.c:o}if(this.dragListenerKeys_.length===0){var a=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Object(dr.a)(a,tn.POINTERMOVE,this.handlePointerMove_,this),Object(dr.a)(a,tn.POINTERUP,this.handlePointerUp_,this),Object(dr.a)(this.element_,tn.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==a&&this.dragListenerKeys_.push(Object(dr.a)(this.element_.getRootNode(),tn.POINTERUP,this.handlePointerUp_,this))}},r.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new Eo(tn.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},r.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new Eo(t.type,this.map_,t,e))},r.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;(!e||e.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},r.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},r.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(dr.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Dr.a.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Object(dr.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(dr.c),this.dragListenerKeys_.length=0,this.element_=null,i.prototype.disposeInternal.call(this)},r}(Be.a),fl=si,Ui=c("592d"),di={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},wa=1/0,Yr=function(){function i(r,t){this.priorityFunction_=r,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return i.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(br.b)(this.queuedElements_)},i.prototype.dequeue=function(){var r=this.elements_,t=this.priorities_,e=r[0];r.length==1?(r.length=0,t.length=0):(r[0]=r.pop(),t[0]=t.pop(),this.siftUp_(0));var n=this.keyFunction_(e);return delete this.queuedElements_[n],e},i.prototype.enqueue=function(r){Qt(!(this.keyFunction_(r)in this.queuedElements_),31);var t=this.priorityFunction_(r);return t!=wa?(this.elements_.push(r),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(r)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},i.prototype.getCount=function(){return this.elements_.length},i.prototype.getLeftChildIndex_=function(r){return r*2+1},i.prototype.getRightChildIndex_=function(r){return r*2+2},i.prototype.getParentIndex_=function(r){return r-1>>1},i.prototype.heapify_=function(){var r;for(r=(this.elements_.length>>1)-1;r>=0;r--)this.siftUp_(r)},i.prototype.isEmpty=function(){return this.elements_.length===0},i.prototype.isKeyQueued=function(r){return r in this.queuedElements_},i.prototype.isQueued=function(r){return this.isKeyQueued(this.keyFunction_(r))},i.prototype.siftUp_=function(r){for(var t=this.elements_,e=this.priorities_,n=t.length,o=t[r],a=e[r],s=r;r<n>>1;){var u=this.getLeftChildIndex_(r),h=this.getRightChildIndex_(r),d=h<n&&e[h]<e[u]?h:u;t[r]=t[d],e[r]=e[d],r=d}t[r]=o,e[r]=a,this.siftDown_(s,r)},i.prototype.siftDown_=function(r,t){for(var e=this.elements_,n=this.priorities_,o=e[t],a=n[t];t>r;){var s=this.getParentIndex_(t);if(n[s]>a)e[t]=e[s],n[t]=n[s],t=s;else break}e[t]=o,n[t]=a},i.prototype.reprioritize=function(){var r=this.priorityFunction_,t=this.elements_,e=this.priorities_,n=0,o=t.length,a,s,u;for(s=0;s<o;++s)a=t[s],u=r(a),u==wa?delete this.queuedElements_[this.keyFunction_(a)]:(e[n]=u,t[n++]=a);t.length=n,e.length=n,this.heapify_()},i}(),Fs=Yr,Cr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},Ka=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ki=function(i){Ka(r,i);function r(t,e){var n=i.call(this,function(o){return t.apply(null,o)},function(o){return o[0].getKey()})||this;return n.boundHandleTileChange_=n.handleTileChange.bind(n),n.tileChangeCallback_=e,n.tilesLoading_=0,n.tilesLoadingKeys_={},n}return r.prototype.enqueue=function(t){var e=i.prototype.enqueue.call(this,t);if(e){var n=t[0];n.addEventListener(Dr.a.CHANGE,this.boundHandleTileChange_)}return e},r.prototype.getTilesLoading=function(){return this.tilesLoading_},r.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===Cr.LOADED||n===Cr.ERROR||n===Cr.EMPTY){e.removeEventListener(Dr.a.CHANGE,this.boundHandleTileChange_);var o=e.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},r.prototype.loadMoreTiles=function(t,e){for(var n=0,o,a,s;this.tilesLoading_<t&&n<e&&this.getCount()>0;)a=this.dequeue()[0],s=a.getKey(),o=a.getState(),o===Cr.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++n,a.load())},r}(Fs),Po=ki;function xa(i,r,t,e,n){if(!i||!(t in i.wantedTiles)||!i.wantedTiles[t][r.getKey()])return wa;var o=i.viewState.center,a=e[0]-o[0],s=e[1]-o[1];return 65536*Math.log(n)+Math.sqrt(a*a+s*s)/n}var Xt={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},aa={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Vi={};Vi[aa.DEGREES]=2*Math.PI*6370997/360,Vi[aa.FEET]=.3048,Vi[aa.METERS]=1,Vi[aa.USFEET]=1200/3937;var Ni=aa,Fn={ANIMATING:0,INTERACTING:1},zi={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Uo=42,js=256,Su=function(){function i(r){this.code_=r.code,this.units_=r.units,this.extent_=r.extent!==void 0?r.extent:null,this.worldExtent_=r.worldExtent!==void 0?r.worldExtent:null,this.axisOrientation_=r.axisOrientation!==void 0?r.axisOrientation:"enu",this.global_=r.global!==void 0?r.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=r.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=r.metersPerUnit}return i.prototype.canWrapX=function(){return this.canWrapX_},i.prototype.getCode=function(){return this.code_},i.prototype.getExtent=function(){return this.extent_},i.prototype.getUnits=function(){return this.units_},i.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Vi[this.units_]},i.prototype.getWorldExtent=function(){return this.worldExtent_},i.prototype.getAxisOrientation=function(){return this.axisOrientation_},i.prototype.isGlobal=function(){return this.global_},i.prototype.setGlobal=function(r){this.global_=r,this.canWrapX_=!!(r&&this.extent_)},i.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},i.prototype.setDefaultTileGrid=function(r){this.defaultTileGrid_=r},i.prototype.setExtent=function(r){this.extent_=r,this.canWrapX_=!!(this.global_&&r)},i.prototype.setWorldExtent=function(r){this.worldExtent_=r},i.prototype.setGetPointResolution=function(r){this.getPointResolutionFunc_=r},i.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},i}(),Oa=Su,Eu=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vs=6378137,Ta=Math.PI*vs,rp=[-Ta,-Ta,Ta,Ta],np=[-180,-85,180,85],Ds=vs*Math.log(Math.tan(Math.PI/2)),hl=function(i){Eu(r,i);function r(t){return i.call(this,{code:t,units:Ni.METERS,extent:rp,global:!0,worldExtent:np,getPointResolution:function(e,n){return e/Ac(n[1]/vs)}})||this}return r}(Oa),Nf=[new hl("EPSG:3857"),new hl("EPSG:102100"),new hl("EPSG:102113"),new hl("EPSG:900913"),new hl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Rc(i,r,t){var e=i.length,n=t>1?t:2,o=r;o===void 0&&(n>2?o=i.slice():o=new Array(e));for(var a=0;a<e;a+=n){o[a]=Ta*i[a]/180;var s=vs*Math.log(Math.tan(Math.PI*(+i[a+1]+90)/360));s>Ds?s=Ds:s<-Ds&&(s=-Ds),o[a+1]=s}return o}function ip(i,r,t){var e=i.length,n=t>1?t:2,o=r;o===void 0&&(n>2?o=i.slice():o=new Array(e));for(var a=0;a<e;a+=n)o[a]=180*i[a]/Ta,o[a+1]=360*Math.atan(Math.exp(i[a+1]/vs))/Math.PI-90;return o}var Mf=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),op=6378137,ba=[-180,-90,180,90],wu=Math.PI*op/180,kl=function(i){Mf(r,i);function r(t,e){return i.call(this,{code:t,units:Ni.DEGREES,extent:ba,axisOrientation:e,global:!0,metersPerUnit:wu,worldExtent:ba})||this}return r}(Oa),Di=[new kl("CRS:84"),new kl("EPSG:4326","neu"),new kl("urn:ogc:def:crs:OGC:1.3:CRS84"),new kl("urn:ogc:def:crs:OGC:2:84"),new kl("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],xu={};function Ff(i){return xu[i]||xu[i.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function jf(i,r){xu[i]=r}var gs={};function Ou(i,r,t){var e=i.getCode(),n=r.getCode();e in gs||(gs[e]={}),gs[e][n]=t}function Za(i,r){var t;return i in gs&&r in gs[i]&&(t=gs[i][r]),t}var Vl=63710088e-1;function no(i,r,t){var e=t||Vl,n=Ns(i[1]),o=Ns(r[1]),a=(o-n)/2,s=Ns(r[0]-i[0])/2,u=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(n)*Math.cos(o);return 2*e*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function Ic(i,r,t,e){var n=e||Vl,o=Ns(i[1]),a=Ns(i[0]),s=r/n,u=Math.asin(Math.sin(o)*Math.cos(s)+Math.cos(o)*Math.sin(s)*Math.cos(t)),h=a+Math.atan2(Math.sin(t)*Math.sin(s)*Math.cos(o),Math.cos(s)-Math.sin(o)*Math.sin(u));return[Jh(h),Jh(u)]}function Tu(i,r,t){var e;if(r!==void 0){for(var n=0,o=i.length;n<o;++n)r[n]=i[n];e=r}else e=i.slice();return e}function bu(i,r,t){if(r!==void 0&&i!==r){for(var e=0,n=i.length;e<n;++e)r[e]=i[e];i=r}return i}function Df(i){jf(i.getCode(),i),Ou(i,i,Tu)}function ap(i){i.forEach(Df)}function qr(i){return typeof i=="string"?Ff(i):i||null}function Cu(i,r,t,e){i=qr(i);var n,o=i.getPointResolutionFunc();if(o){if(n=o(r,t),e&&e!==i.getUnits()){var a=i.getMetersPerUnit();a&&(n=n*a/Vi[e])}}else{var s=i.getUnits();if(s==Ni.DEGREES&&!e||e==Ni.DEGREES)n=r;else{var u=ko(i,qr("EPSG:4326"));if(u===bu&&s!==Ni.DEGREES)n=r*i.getMetersPerUnit();else{var h=[t[0]-r/2,t[1],t[0]+r/2,t[1],t[0],t[1]-r/2,t[0],t[1]+r/2];h=u(h,h,2);var d=no(h.slice(0,2),h.slice(2,4)),E=no(h.slice(4,6),h.slice(6,8));n=(d+E)/2}var a=e?Vi[e]:i.getMetersPerUnit();a!==void 0&&(n/=a)}}return n}function Lu(i){ap(i),i.forEach(function(r){i.forEach(function(t){r!==t&&Ou(r,t,Tu)})})}function sp(i,r,t,e){i.forEach(function(n){r.forEach(function(o){Ou(n,o,t),Ou(o,n,e)})})}function Nc(i,r){return i?typeof i=="string"?qr(i):i:qr(r)}function Ca(i,r){if(i===r)return!0;var t=i.getUnits()===r.getUnits();if(i.getCode()===r.getCode())return t;var e=ko(i,r);return e===Tu&&t}function ko(i,r){var t=i.getCode(),e=r.getCode(),n=Za(t,e);return n||(n=bu),n}function ys(i,r){var t=qr(i),e=qr(r);return ko(t,e)}function sa(i,r,t){var e=ys(r,t);return e(i,void 0,i.length)}function zl(i,r,t,e){var n=ys(r,t);return Rs(i,n,void 0,e)}var Ro=null;function Bs(){return Ro}function ms(i,r){return i}function xr(i,r){return i}function Mc(i,r){return i}function La(i,r){return i}function _s(){Lu(Nf),Lu(Di),sp(Di,Nf,Rc,ip)}_s();function Fc(i,r,t){return function(e,n,o,a,s){if(e){var u=r?0:o[0]*n,h=r?0:o[1]*n,d=s?s[0]:0,E=s?s[1]:0,b=i[0]+u/2+d,I=i[2]-u/2+d,M=i[1]+h/2+E,k=i[3]-h/2+E;b>I&&(b=(I+b)/2,I=b),M>k&&(M=(k+M)/2,k=M);var et=Ei(e[0],b,I),ht=Ei(e[1],M,k),Lt=30*n;return a&&t&&(et+=-Lt*Math.log(1+Math.max(0,b-e[0])/Lt)+Lt*Math.log(1+Math.max(0,e[0]-I)/Lt),ht+=-Lt*Math.log(1+Math.max(0,M-e[1])/Lt)+Lt*Math.log(1+Math.max(0,e[1]-k)/Lt)),[et,ht]}else return}}function Bf(i){return i}var vr=c("9f5e");function Yl(i,r,t,e){var n=un(r)/t[0],o=bn(r)/t[1];return e?Math.min(i,Math.max(n,o)):Math.min(i,Math.min(n,o))}function jc(i,r,t){var e=Math.min(i,r),n=50;return e*=Math.log(1+n*Math.max(0,i/r-1))/n+1,t&&(e=Math.max(e,t),e/=Math.log(1+n*Math.max(0,t/i-1))/n+1),Ei(e,t/2,r*2)}function lp(i,r,t,e){return function(n,o,a,s){if(n!==void 0){var u=i[0],h=i[i.length-1],d=t?Yl(u,t,a,e):u;if(s){var E=r!==void 0?r:!0;return E?jc(n,d,h):Ei(n,h,d)}var b=Math.min(d,n),I=Math.floor(Object(vr.h)(i,b,o));return i[I]>d&&I<i.length-1?i[I+1]:i[I]}else return}}function up(i,r,t,e,n,o){return function(a,s,u,h){if(a!==void 0){var d=n?Yl(r,n,u,o):r,E=t!==void 0?t:0;if(h){var b=e!==void 0?e:!0;return b?jc(a,d,E):Ei(a,E,d)}var I=1e-9,M=Math.ceil(Math.log(r/d)/Math.log(i)-I),k=-s*(.5-I)+.5,et=Math.min(d,a),ht=Math.floor(Math.log(r/et)/Math.log(i)+k),Lt=Math.max(M,ht),It=r/Math.pow(i,Lt);return Ei(It,E,d)}else return}}function Au(i,r,t,e,n){return function(o,a,s,u){if(o!==void 0){var h=e?Yl(i,e,s,n):i,d=t!==void 0?t:!0;return!d||!u?Ei(o,r,h):jc(o,h,r)}else return}}function Gs(i){if(i!==void 0)return 0}function Us(i){if(i!==void 0)return i}function cp(i){var r=2*Math.PI/i;return function(t,e){if(e)return t;if(t!==void 0)return t=Math.floor(t/r+.5)*r,t}}function pl(i){var r=i||Ns(5);return function(t,e){if(e)return t;if(t!==void 0)return Math.abs(t)<=r?0:t}}function Dc(i){return Math.pow(i,3)}function wo(i){return 1-Dc(1-i)}function Wl(i){return 3*i*i-2*i*i*i}function Pu(i){return i}function Gf(i){return i<.5?Wl(2*i):1-Wl(2*(i-.5))}var nr={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};function Io(i,r,t,e,n,o){for(var a=o||[],s=0,u=r;u<t;u+=e){var h=i[u],d=i[u+1];a[s++]=n[0]*h+n[2]*d+n[4],a[s++]=n[1]*h+n[3]*d+n[5]}return o&&a.length!=s&&(a.length=s),a}function Bc(i,r,t,e,n,o,a){for(var s=a||[],u=Math.cos(n),h=Math.sin(n),d=o[0],E=o[1],b=0,I=r;I<t;I+=e){var M=i[I]-d,k=i[I+1]-E;s[b++]=d+M*u-k*h,s[b++]=E+M*h+k*u;for(var et=I+2;et<I+e;++et)s[b++]=i[et]}return a&&s.length!=b&&(s.length=b),s}function fp(i,r,t,e,n,o,a,s){for(var u=s||[],h=a[0],d=a[1],E=0,b=r;b<t;b+=e){var I=i[b]-h,M=i[b+1]-d;u[E++]=h+n*I,u[E++]=d+o*M;for(var k=b+2;k<b+e;++k)u[E++]=i[k]}return s&&u.length!=E&&(u.length=E),u}function Aa(i,r,t,e,n,o,a){for(var s=a||[],u=0,h=r;h<t;h+=e){s[u++]=i[h]+n,s[u++]=i[h+1]+o;for(var d=h+2;d<h+e;++d)s[u++]=i[d]}return a&&s.length!=u&&(s.length=u),s}var Ss=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dl=$(),hp=function(i){Ss(r,i);function r(){var t=i.call(this)||this;return t.extent_=ve(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Object(St.d)(function(e,n,o){if(!o)return this.getSimplifiedGeometry(n);var a=this.clone();return a.applyTransform(o),a.getSimplifiedGeometry(n)}),t}return r.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},r.prototype.clone=function(){return Object(nt.b)()},r.prototype.closestPointXY=function(t,e,n,o){return Object(nt.b)()},r.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},r.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},r.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},r.prototype.computeExtent=function(t){return Object(nt.b)()},r.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&Me(e),this.extentRevision_=this.getRevision()}return So(this.extent_,t)},r.prototype.rotate=function(t,e){Object(nt.b)()},r.prototype.scale=function(t,e,n){Object(nt.b)()},r.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},r.prototype.getSimplifiedGeometry=function(t){return Object(nt.b)()},r.prototype.getType=function(){return Object(nt.b)()},r.prototype.applyTransform=function(t){Object(nt.b)()},r.prototype.intersectsExtent=function(t){return Object(nt.b)()},r.prototype.translate=function(t,e){Object(nt.b)()},r.prototype.transform=function(t,e){var n=qr(t),o=n.getUnits()==Ni.TILE_PIXELS?function(a,s,u){var h=n.getExtent(),d=n.getWorldExtent(),E=bn(d)/bn(h);return ur(dl,d[0],d[3],E,-E,0,0,0),Io(a,0,a.length,u,dl,s),ys(n,e)(a,s,u)}:ys(n,e);return this.applyTransform(o),this},r}(co.a),ks=hp,pp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gc=function(i){pp(r,i);function r(){var t=i.call(this)||this;return t.layout=nr.XY,t.stride=2,t.flatCoordinates=null,t}return r.prototype.computeExtent=function(t){return Sr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},r.prototype.getCoordinates=function(){return Object(nt.b)()},r.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},r.prototype.getFlatCoordinates=function(){return this.flatCoordinates},r.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},r.prototype.getLayout=function(){return this.layout},r.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t),n=e.getFlatCoordinates();return n.length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},r.prototype.getSimplifiedGeometryInternal=function(t){return this},r.prototype.getStride=function(){return this.stride},r.prototype.setFlatCoordinates=function(t,e){this.stride=Ru(t),this.layout=t,this.flatCoordinates=e},r.prototype.setCoordinates=function(t,e){Object(nt.b)()},r.prototype.setLayout=function(t,e,n){var o;if(t)o=Ru(t);else{for(var a=0;a<n;++a)if(e.length===0){this.layout=nr.XY,this.stride=2;return}else e=e[0];o=e.length,t=Uc(o)}this.layout=t,this.stride=o},r.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},r.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var o=this.getStride();Bc(n,0,n.length,o,t,e,n),this.changed()}},r.prototype.scale=function(t,e,n){var o=e;o===void 0&&(o=t);var a=n;a||(a=Tn(this.getExtent()));var s=this.getFlatCoordinates();if(s){var u=this.getStride();fp(s,0,s.length,u,t,o,a,s),this.changed()}},r.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var o=this.getStride();Aa(n,0,n.length,o,t,e,n),this.changed()}},r}(ks);function Uc(i){var r;return i==2?r=nr.XY:i==3?r=nr.XYZ:i==4&&(r=nr.XYZM),r}function Ru(i){var r;return i==nr.XY?r=2:i==nr.XYZ||i==nr.XYM?r=3:i==nr.XYZM&&(r=4),r}function Iu(i,r,t){var e=i.getFlatCoordinates();if(e){var n=i.getStride();return Io(e,0,e.length,n,r,t)}else return null}var Pa=Gc;function Hl(i,r,t,e,n,o,a){var s=i[r],u=i[r+1],h=i[t]-s,d=i[t+1]-u,E;if(h===0&&d===0)E=r;else{var b=((n-s)*h+(o-u)*d)/(h*h+d*d);if(b>1)E=t;else if(b>0){for(var I=0;I<e;++I)a[I]=Ms(i[r+I],i[t+I],b);a.length=e;return}else E=r}for(var I=0;I<e;++I)a[I]=i[E+I];a.length=e}function Nu(i,r,t,e,n){var o=i[r],a=i[r+1];for(r+=e;r<t;r+=e){var s=i[r],u=i[r+1],h=fs(o,a,s,u);h>n&&(n=h),o=s,a=u}return n}function kc(i,r,t,e,n){for(var o=0,a=t.length;o<a;++o){var s=t[o];n=Nu(i,r,s,e,n),r=s}return n}function Mu(i,r,t,e,n){for(var o=0,a=t.length;o<a;++o){var s=t[o];n=kc(i,r,s,e,n),r=s[s.length-1]}return n}function Xl(i,r,t,e,n,o,a,s,u,h,d){if(r==t)return h;var E,b;if(n===0)if(b=fs(a,s,i[r],i[r+1]),b<h){for(E=0;E<e;++E)u[E]=i[r+E];return u.length=e,b}else return h;for(var I=d||[NaN,NaN],M=r+e;M<t;)if(Hl(i,M-e,M,e,a,s,I),b=fs(a,s,I[0],I[1]),b<h){for(h=b,E=0;E<e;++E)u[E]=I[E];u.length=e,M+=e}else M+=e*Math.max((Math.sqrt(b)-Math.sqrt(h))/n|0,1);if(o&&(Hl(i,t-e,r,e,a,s,I),b=fs(a,s,I[0],I[1]),b<h)){for(h=b,E=0;E<e;++E)u[E]=I[E];u.length=e}return h}function Vs(i,r,t,e,n,o,a,s,u,h,d){for(var E=d||[NaN,NaN],b=0,I=t.length;b<I;++b){var M=t[b];h=Xl(i,r,M,e,n,o,a,s,u,h,E),r=M}return h}function vl(i,r,t,e,n,o,a,s,u,h,d){for(var E=d||[NaN,NaN],b=0,I=t.length;b<I;++b){var M=t[b];h=Vs(i,r,M,e,n,o,a,s,u,h,E),r=M[M.length-1]}return h}function Fu(i,r,t,e){for(var n=0,o=t.length;n<o;++n)i[r++]=t[n];return r}function O(i,r,t,e){for(var n=0,o=t.length;n<o;++n)for(var a=t[n],s=0;s<e;++s)i[r++]=a[s];return r}function Z(i,r,t,e,n){for(var o=n||[],a=0,s=0,u=t.length;s<u;++s){var h=O(i,r,t[s],e);o[a++]=h,r=h}return o.length=a,o}function bt(i,r,t,e,n){for(var o=n||[],a=0,s=0,u=t.length;s<u;++s){var h=Z(i,r,t[s],e,o[a]);o[a++]=h,r=h[h.length-1]}return o.length=a,o}function zt(i,r,t,e,n,o,a){var s=(t-r)/e;if(s<3){for(;r<t;r+=e)o[a++]=i[r],o[a++]=i[r+1];return a}var u=new Array(s);u[0]=1,u[s-1]=1;for(var h=[r,t-e],d=0;h.length>0;){for(var E=h.pop(),b=h.pop(),I=0,M=i[b],k=i[b+1],et=i[E],ht=i[E+1],Lt=b+e;Lt<E;Lt+=e){var It=i[Lt],wt=i[Lt+1],oe=Is(It,wt,M,k,et,ht);oe>I&&(d=Lt,I=oe)}I>n&&(u[(d-r)/e]=1,b+e<d&&h.push(b,d),d+e<E&&h.push(d,E))}for(var Lt=0;Lt<s;++Lt)u[Lt]&&(o[a++]=i[r+Lt*e],o[a++]=i[r+Lt*e+1]);return a}function le(i,r,t,e,n,o,a,s){for(var u=0,h=t.length;u<h;++u){var d=t[u];a=zt(i,r,d,e,n,o,a),s.push(a),r=d}return a}function xe(i,r){return r*Math.round(i/r)}function Ze(i,r,t,e,n,o,a){if(r==t)return a;var s=xe(i[r],n),u=xe(i[r+1],n);r+=e,o[a++]=s,o[a++]=u;var h,d;do if(h=xe(i[r],n),d=xe(i[r+1],n),r+=e,r==t)return o[a++]=h,o[a++]=d,a;while(h==s&&d==u);for(;r<t;){var E=xe(i[r],n),b=xe(i[r+1],n);if(r+=e,!(E==h&&b==d)){var I=h-s,M=d-u,k=E-s,et=b-u;if(I*et==M*k&&(I<0&&k<I||I==k||I>0&&k>I)&&(M<0&&et<M||M==et||M>0&&et>M)){h=E,d=b;continue}o[a++]=h,o[a++]=d,s=h,u=d,h=E,d=b}}return o[a++]=h,o[a++]=d,a}function mr(i,r,t,e,n,o,a,s){for(var u=0,h=t.length;u<h;++u){var d=t[u];a=Ze(i,r,d,e,n,o,a),s.push(a),r=d}return a}function Xr(i,r,t,e,n,o,a,s){for(var u=0,h=t.length;u<h;++u){var d=t[u],E=[];a=mr(i,r,d,e,n,o,a,E),s.push(E),r=d[d.length-1]}return a}function hn(i,r,t,e,n){for(var o=n!==void 0?n:[],a=0,s=r;s<t;s+=e)o[a++]=i.slice(s,s+e);return o.length=a,o}function nn(i,r,t,e,n){for(var o=n!==void 0?n:[],a=0,s=0,u=t.length;s<u;++s){var h=t[s];o[a++]=hn(i,r,h,e,o[a]),r=h}return o.length=a,o}function Un(i,r,t,e,n){for(var o=n!==void 0?n:[],a=0,s=0,u=t.length;s<u;++s){var h=t[s];o[a++]=nn(i,r,h,e,o[a]),r=h[h.length-1]}return o.length=a,o}function Ti(i,r,t,e){for(var n=0,o=i[t-e],a=i[t-e+1];r<t;r+=e){var s=i[r],u=i[r+1];n+=a*s-o*u,o=s,a=u}return n/2}function Ai(i,r,t,e){for(var n=0,o=0,a=t.length;o<a;++o){var s=t[o];n+=Ti(i,r,s,e),r=s}return n}function Ra(i,r,t,e){for(var n=0,o=0,a=t.length;o<a;++o){var s=t[o];n+=Ai(i,r,s,e),r=s[s.length-1]}return n}var io=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fo=function(i){io(r,i);function r(t,e){var n=i.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?n.setFlatCoordinates(e,t):n.setCoordinates(t,e),n}return r.prototype.clone=function(){return new r(this.flatCoordinates.slice(),this.layout)},r.prototype.closestPointXY=function(t,e,n,o){return o<Ft(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Nu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Xl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,o))},r.prototype.getArea=function(){return Ti(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getCoordinates=function(){return hn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=zt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new r(e,nr.XY)},r.prototype.getType=function(){return Xt.LINEAR_RING},r.prototype.intersectsExtent=function(t){return!1},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=O(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Pa),la=fo,Uf=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zs=function(i){Uf(r,i);function r(t,e){var n=i.call(this)||this;return n.setCoordinates(t,e),n}return r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,n,o){var a=this.flatCoordinates,s=fs(t,e,a[0],a[1]);if(s<o){for(var u=this.stride,h=0;h<u;++h)n[h]=a[h];return n.length=u,s}else return o},r.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},r.prototype.computeExtent=function(t){return Ee(this.flatCoordinates,t)},r.prototype.getType=function(){return Xt.POINT},r.prototype.intersectsExtent=function(t){return pe(t,this.flatCoordinates[0],this.flatCoordinates[1])},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Fu(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Pa),yn=zs;function Vc(i,r,t,e,n){var o=sr(n,function(a){return!Ia(i,r,t,e,a[0],a[1])});return!o}function Ia(i,r,t,e,n,o){for(var a=0,s=i[t-e],u=i[t-e+1];r<t;r+=e){var h=i[r],d=i[r+1];u<=o?d>o&&(h-s)*(o-u)-(n-s)*(d-u)>0&&a++:d<=o&&(h-s)*(o-u)-(n-s)*(d-u)<0&&a--,s=h,u=d}return a!==0}function Kl(i,r,t,e,n,o){if(t.length===0||!Ia(i,r,t[0],e,n,o))return!1;for(var a=1,s=t.length;a<s;++a)if(Ia(i,t[a-1],t[a],e,n,o))return!1;return!0}function zc(i,r,t,e,n,o){if(t.length===0)return!1;for(var a=0,s=t.length;a<s;++a){var u=t[a];if(Kl(i,r,u,e,n,o))return!0;r=u[u.length-1]}return!1}function gl(i,r,t,e,n,o,a){for(var s,u,h,d,E,b,I,M=n[o+1],k=[],et=0,ht=t.length;et<ht;++et){var Lt=t[et];for(d=i[Lt-e],b=i[Lt-e+1],s=r;s<Lt;s+=e)E=i[s],I=i[s+1],(M<=b&&I<=M||b<=M&&M<=I)&&(h=(M-b)/(I-b)*(E-d)+d,k.push(h)),d=E,b=I}var It=NaN,wt=-1/0;for(k.sort(vr.i),d=k[0],s=1,u=k.length;s<u;++s){E=k[s];var oe=Math.abs(E-d);oe>wt&&(h=(d+E)/2,Kl(i,r,t,e,h,M)&&(It=h,wt=oe)),d=E}return isNaN(It)&&(It=n[o]),a?(a.push(It,M,wt),a):[It,M,wt]}function qo(i,r,t,e,n){for(var o=[],a=0,s=t.length;a<s;++a){var u=t[a];o=gl(i,r,u,e,n,2*a,o),r=u[u.length-1]}return o}function Ys(i,r,t,e,n){for(var o=[i[r],i[r+1]],a=[],s;r+e<t;r+=e){if(a[0]=i[r+e],a[1]=i[r+e+1],s=n(o,a),s)return s;o[0]=a[0],o[1]=a[1]}return!1}function Ws(i,r,t,e,n){var o=Oi(ve(),i,r,t,e);return Gn(n,o)?he(n,o)||o[0]>=n[0]&&o[2]<=n[2]||o[1]>=n[1]&&o[3]<=n[3]?!0:Ys(i,r,t,e,function(a,s){return Gl(n,a,s)}):!1}function kf(i,r,t,e,n){for(var o=0,a=t.length;o<a;++o){if(Ws(i,r,t[o],e,n))return!0;r=t[o]}return!1}function ju(i,r,t,e,n){return!!(Ws(i,r,t,e,n)||Ia(i,r,t,e,n[0],n[1])||Ia(i,r,t,e,n[0],n[3])||Ia(i,r,t,e,n[2],n[1])||Ia(i,r,t,e,n[2],n[3]))}function No(i,r,t,e,n){if(!ju(i,r,t[0],e,n))return!1;if(t.length===1)return!0;for(var o=1,a=t.length;o<a;++o)if(Vc(i,t[o-1],t[o],e,n)&&!Ws(i,t[o-1],t[o],e,n))return!1;return!0}function dp(i,r,t,e,n){for(var o=0,a=t.length;o<a;++o){var s=t[o];if(No(i,r,s,e,n))return!0;r=s[s.length-1]}return!1}function Yc(i,r,t,e){for(;r<t-e;){for(var n=0;n<e;++n){var o=i[r+n];i[r+n]=i[t-e+n],i[t-e+n]=o}r+=e,t-=e}}function Du(i,r,t,e){for(var n=0,o=i[t-e],a=i[t-e+1];r<t;r+=e){var s=i[r],u=i[r+1];n+=(s-o)*(u+a),o=s,a=u}return n===0?void 0:n>0}function Na(i,r,t,e,n){for(var o=n!==void 0?n:!1,a=0,s=t.length;a<s;++a){var u=t[a],h=Du(i,r,u,e);if(a===0){if(o&&h||!o&&!h)return!1}else if(o&&!h||!o&&h)return!1;r=u}return!0}function Bu(i,r,t,e,n){for(var o=0,a=t.length;o<a;++o){var s=t[o];if(!Na(i,r,s,e,n))return!1;s.length&&(r=s[s.length-1])}return!0}function Wc(i,r,t,e,n){for(var o=n!==void 0?n:!1,a=0,s=t.length;a<s;++a){var u=t[a],h=Du(i,r,u,e),d=a===0?o&&h||!o&&!h:o&&!h||!o&&h;d&&Yc(i,r,u,e),r=u}return r}function Vf(i,r,t,e,n){for(var o=0,a=t.length;o<a;++o)r=Wc(i,r,t[o],e,n);return r}var Gu=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jo=function(i){Gu(r,i);function r(t,e,n){var o=i.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,e!==void 0&&n?(o.setFlatCoordinates(e,t),o.ends_=n):o.setCoordinates(t,e),o}return r.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(vr.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,n,o){return o<Ft(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(kc(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Vs(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,o))},r.prototype.containsXY=function(t,e){return Kl(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},r.prototype.getArea=function(){return Ai(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},r.prototype.getCoordinates=function(t){var e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),Wc(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,nn(e,0,this.ends_,this.stride)},r.prototype.getEnds=function(){return this.ends_},r.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Tn(this.getExtent());this.flatInteriorPoint_=gl(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},r.prototype.getInteriorPoint=function(){return new yn(this.getFlatInteriorPoint(),nr.XYM)},r.prototype.getLinearRingCount=function(){return this.ends_.length},r.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new la(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},r.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,o=[],a=0,s=0,u=n.length;s<u;++s){var h=n[s],d=new la(e.slice(a,h),t);o.push(d),a=h}return o},r.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Na(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Wc(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];return e.length=mr(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n),new r(e,nr.XY,n)},r.prototype.getType=function(){return Xt.POLYGON},r.prototype.intersectsExtent=function(t){return No(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Z(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()},r}(Pa),kn=Jo;function Zl(i,r,t,e){for(var n=t||32,o=[],a=0;a<n;++a)Object(vr.c)(o,Ic(i,r,2*Math.PI*a/n,e));return o.push(o[0],o[1]),new Jo(o,nr.XY,[o.length])}function xo(i){var r=i[0],t=i[1],e=i[2],n=i[3],o=[r,t,r,n,e,n,e,t,r,t];return new Jo(o,nr.XY,[o.length])}function $a(i,r,t){for(var e=r||32,n=i.getStride(),o=i.getLayout(),a=i.getCenter(),s=n*(e+1),u=new Array(s),h=0;h<s;h+=n){u[h]=0,u[h+1]=0;for(var d=2;d<n;d++)u[h+d]=a[d]}var E=[u.length],b=new Jo(u,o,E);return Uu(b,a,i.getRadius(),t),b}function Uu(i,r,t,e){for(var n=i.getFlatCoordinates(),o=i.getStride(),a=n.length/o-1,s=e||0,u=0;u<=a;++u){var h=u*o,d=s+ll(u,a)*2*Math.PI/a;n[h]=r[0]+t*Math.cos(d),n[h+1]=r[1]+t*Math.sin(d)}i.changed()}var qa=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ku=0,$l=function(i){qa(r,i);function r(t){var e=i.call(this)||this;e.on,e.once,e.un;var n=Object(br.a)({},t);return e.hints_=[0,0],e.animations_=[],e.updateAnimationKey_,e.projection_=Nc(n.projection,"EPSG:3857"),e.viewportSize_=[100,100],e.targetCenter_=null,e.targetResolution_,e.targetRotation_,e.cancelAnchor_=void 0,n.center&&(n.center=xr(n.center,e.projection_)),n.extent&&(n.extent=La(n.extent,e.projection_)),e.applyOptions_(n),e}return r.prototype.applyOptions_=function(t){var e={},n=Ma(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=n.minZoom;var o=yl(t),a=n.constraint,s=ml(t);this.constraints_={center:o,resolution:a,rotation:s},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom),this.setProperties(e),this.options_=t},Object.defineProperty(r.prototype,"padding",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var n=this.getCenter();if(n){var o=t||[0,0,0,0];e=e||[0,0,0,0];var a=this.getResolution(),s=a/2*(o[3]-e[3]+e[1]-o[1]),u=a/2*(o[0]-e[0]+e[2]-o[2]);this.setCenterInternal([n[0]+s,n[1]-u])}},enumerable:!1,configurable:!0}),r.prototype.getUpdatedOptions_=function(t){var e=Object(br.a)({},this.options_);return e.resolution!==void 0?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object(br.a)({},e,t)},r.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var o=arguments[n];o.center&&(o=Object(br.a)({},o),o.center=xr(o.center,this.getProjection())),o.anchor&&(o=Object(br.a)({},o),o.anchor=xr(o.anchor,this.getProjection())),e[n]=o}this.animateInternal.apply(this,e)},r.prototype.animateInternal=function(t){var e=arguments.length,n;if(e>1&&typeof arguments[e-1]=="function"&&(n=arguments[e-1],--e),!this.isDef()){var o=arguments[e-1];o.center&&this.setCenterInternal(o.center),o.zoom!==void 0&&this.setZoom(o.zoom),o.rotation!==void 0&&this.setRotation(o.rotation),n&&Es(n,!0);return}for(var a=Date.now(),s=this.targetCenter_.slice(),u=this.targetResolution_,h=this.targetRotation_,d=[],E=0;E<e;++E){var b=arguments[E],I={start:a,complete:!1,anchor:b.anchor,duration:b.duration!==void 0?b.duration:1e3,easing:b.easing||Wl,callback:n};if(b.center&&(I.sourceCenter=s,I.targetCenter=b.center.slice(),s=I.targetCenter),b.zoom!==void 0?(I.sourceResolution=u,I.targetResolution=this.getResolutionForZoom(b.zoom),u=I.targetResolution):b.resolution&&(I.sourceResolution=u,I.targetResolution=b.resolution,u=I.targetResolution),b.rotation!==void 0){I.sourceRotation=h;var M=ll(b.rotation-h+Math.PI,2*Math.PI)-Math.PI;I.targetRotation=h+M,h=I.targetRotation}Vu(I)?I.complete=!0:a+=I.duration,d.push(I)}this.animations_.push(d),this.setHint(Fn.ANIMATING,1),this.updateAnimations_()},r.prototype.getAnimating=function(){return this.hints_[Fn.ANIMATING]>0},r.prototype.getInteracting=function(){return this.hints_[Fn.INTERACTING]>0},r.prototype.cancelAnimations=function(){this.setHint(Fn.ANIMATING,-this.hints_[Fn.ANIMATING]);for(var t,e=0,n=this.animations_.length;e<n;++e){var o=this.animations_[e];if(o[0].callback&&Es(o[0].callback,!1),!t)for(var a=0,s=o.length;a<s;++a){var u=o[a];if(!u.complete){t=u.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t},r.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var o=this.animations_[n],a=!0,s=0,u=o.length;s<u;++s){var h=o[s];if(!h.complete){var d=t-h.start,E=h.duration>0?d/h.duration:1;E>=1?(h.complete=!0,E=1):a=!1;var b=h.easing(E);if(h.sourceCenter){var I=h.sourceCenter[0],M=h.sourceCenter[1],k=h.targetCenter[0],et=h.targetCenter[1],ht=I+b*(k-I),Lt=M+b*(et-M);this.targetCenter_=[ht,Lt]}if(h.sourceResolution&&h.targetResolution){var It=b===1?h.targetResolution:h.sourceResolution+b*(h.targetResolution-h.sourceResolution);if(h.anchor){var wt=this.getViewportSize_(this.getRotation()),oe=this.constraints_.resolution(It,0,wt,!0);this.targetCenter_=this.calculateCenterZoom(oe,h.anchor)}this.targetResolution_=It,this.applyTargetState_(!0)}if(h.sourceRotation!==void 0&&h.targetRotation!==void 0){var se=b===1?ll(h.targetRotation+Math.PI,2*Math.PI)-Math.PI:h.sourceRotation+b*(h.targetRotation-h.sourceRotation);if(h.anchor){var de=this.constraints_.rotation(se,!0);this.targetCenter_=this.calculateCenterRotate(de,h.anchor)}this.targetRotation_=se}if(this.applyTargetState_(!0),e=!0,!h.complete)break}}if(a){this.animations_[n]=null,this.setHint(Fn.ANIMATING,-1);var Se=o[0].callback;Se&&Es(Se,!0)}}this.animations_=this.animations_.filter(Boolean),e&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},r.prototype.calculateCenterRotate=function(t,e){var n,o=this.getCenterInternal();return o!==void 0&&(n=[o[0]-e[0],o[1]-e[1]],R(n,t-this.getRotation()),T(n,e)),n},r.prototype.calculateCenterZoom=function(t,e){var n,o=this.getCenterInternal(),a=this.getResolution();if(o!==void 0&&a!==void 0){var s=e[0]-t*(e[0]-o[0])/a,u=e[1]-t*(e[1]-o[1])/a;n=[s,u]}return n},r.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],o=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(o*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(o*Math.cos(t))]}else return e},r.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},r.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&ms(t,this.getProjection())},r.prototype.getCenterInternal=function(){return this.get(zi.CENTER)},r.prototype.getConstraints=function(){return this.constraints_},r.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},r.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},r.prototype.calculateExtent=function(t){var e=this.calculateExtentInternal(t);return Mc(e,this.getProjection())},r.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();Qt(n,1);var o=this.getResolution();Qt(o!==void 0,2);var a=this.getRotation();return Qt(a!==void 0,3),Gi(n,o,a,e)},r.prototype.getMaxResolution=function(){return this.maxResolution_},r.prototype.getMinResolution=function(){return this.minResolution_},r.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},r.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},r.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},r.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},r.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},r.prototype.getProjection=function(){return this.projection_},r.prototype.getResolution=function(){return this.get(zi.RESOLUTION)},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(La(t,this.getProjection()),e)},r.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSizeMinusPadding_(),o=un(t)/n[0],a=bn(t)/n[1];return Math.max(o,a)},r.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(n/o)/Math.log(e);return function(s){var u=n/Math.pow(e,s*a);return u}},r.prototype.getRotation=function(){return this.get(zi.ROTATION)},r.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(n/o)/e;return function(s){var u=Math.log(n/s)/e/a;return u}},r.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e},r.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),o=this.getCenterInternal(),a=this.padding_;if(a){var s=this.getViewportSizeMinusPadding_();o=Hs(o,this.getViewportSize_(),[s[0]/2+a[3],s[1]/2+a[0]],e,n)}return{center:o.slice(0),projection:t!==void 0?t:null,resolution:e,rotation:n,zoom:this.getZoom()}},r.prototype.getZoom=function(){var t,e=this.getResolution();return e!==void 0&&(t=this.getZoomForResolution(e)),t},r.prototype.getZoomForResolution=function(t){var e=this.minZoom_||0,n,o;if(this.resolutions_){var a=Object(vr.h)(this.resolutions_,t,1);e=a,n=this.resolutions_[a],a==this.resolutions_.length-1?o=2:o=n/this.resolutions_[a+1]}else n=this.maxResolution_,o=this.zoomFactor_;return e+Math.log(n/t)/Math.log(o)},r.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Ei(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,Ei(t-e,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},r.prototype.fit=function(t,e){var n;if(Qt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){Qt(!_o(t),25);var o=La(t,this.getProjection());n=xo(o)}else if(t.getType()===Xt.CIRCLE){var o=La(t.getExtent(),this.getProjection());n=xo(o),n.rotate(this.getRotation(),Tn(o))}else{var a=Bs();a?n=t.clone().transform(a,this.getProjection()):n=t}this.fitInternal(n,e)},r.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),n=Math.cos(e),o=Math.sin(-e),a=t.getFlatCoordinates(),s=t.getStride(),u=1/0,h=1/0,d=-1/0,E=-1/0,b=0,I=a.length;b<I;b+=s){var M=a[b]*n-a[b+1]*o,k=a[b]*o+a[b+1]*n;u=Math.min(u,M),h=Math.min(h,k),d=Math.max(d,M),E=Math.max(E,k)}return[u,h,d,E]},r.prototype.fitInternal=function(t,e){var n=e||{},o=n.size;o||(o=this.getViewportSizeMinusPadding_());var a=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1,u;n.minResolution!==void 0?u=n.minResolution:n.maxZoom!==void 0?u=this.getResolutionForZoom(n.maxZoom):u=0;var h=this.rotatedExtentForGeometry(t),d=this.getResolutionForExtentInternal(h,[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]);d=isNaN(d)?u:Math.max(d,u),d=this.getConstrainedResolution(d,s?0:1);var E=this.getRotation(),b=Math.sin(E),I=Math.cos(E),M=Tn(h);M[0]+=(a[1]-a[3])/2*d,M[1]+=(a[0]-a[2])/2*d;var k=M[0]*I-M[1]*b,et=M[1]*I+M[0]*b,ht=this.getConstrainedCenter([k,et],d),Lt=n.callback?n.callback:St.c;n.duration!==void 0?this.animateInternal({resolution:d,center:ht,duration:n.duration,easing:n.easing},Lt):(this.targetResolution_=d,this.targetCenter_=ht,this.applyTargetState_(!1,!0),Es(Lt,!0))},r.prototype.centerOn=function(t,e,n){this.centerOnInternal(xr(t,this.getProjection()),e,n)},r.prototype.centerOnInternal=function(t,e,n){this.setCenterInternal(Hs(t,e,n,this.getResolution(),this.getRotation()))},r.prototype.calculateCenterShift=function(t,e,n,o){var a,s=this.padding_;if(s&&t){var u=this.getViewportSizeMinusPadding_(-n),h=Hs(t,o,[u[0]/2+s[3],u[1]/2+s[0]],e,n);a=[t[0]-h[0],t[1]-h[1]]}return a},r.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},r.prototype.adjustCenter=function(t){var e=ms(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},r.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},r.prototype.adjustResolution=function(t,e){var n=e&&xr(e,this.getProjection());this.adjustResolutionInternal(t,n)},r.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*t,0,o,n);e&&(this.targetCenter_=this.calculateCenterZoom(a,e)),this.targetResolution_*=t,this.applyTargetState_()},r.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},r.prototype.adjustRotation=function(t,e){e&&(e=xr(e,this.getProjection())),this.adjustRotationInternal(t,e)},r.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(o,e)),this.targetRotation_+=t,this.applyTargetState_()},r.prototype.setCenter=function(t){this.setCenterInternal(xr(t,this.getProjection()))},r.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},r.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},r.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},r.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},r.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},r.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,o=this.constraints_.rotation(this.targetRotation_,n),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,0,a,n),u=this.constraints_.center(this.targetCenter_,s,a,n,this.calculateCenterShift(this.targetCenter_,s,o,a));this.get(zi.ROTATION)!==o&&this.set(zi.ROTATION,o),this.get(zi.RESOLUTION)!==s&&this.set(zi.RESOLUTION,s),(!this.get(zi.CENTER)||!D(this.get(zi.CENTER),u))&&this.set(zi.CENTER,u),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},r.prototype.resolveConstraints=function(t,e,n){var o=t!==void 0?t:200,a=e||0,s=this.constraints_.rotation(this.targetRotation_),u=this.getViewportSize_(s),h=this.constraints_.resolution(this.targetResolution_,a,u),d=this.constraints_.center(this.targetCenter_,h,u,!1,this.calculateCenterShift(this.targetCenter_,h,s,u));if(o===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=s,this.targetCenter_=d,this.applyTargetState_();return}var E=n||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==s||!this.getCenterInternal()||!D(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:d,resolution:h,duration:o,easing:wo,anchor:E}))},r.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(Fn.INTERACTING,1)},r.prototype.endInteraction=function(t,e,n){var o=n&&xr(n,this.getProjection());this.endInteractionInternal(t,e,o)},r.prototype.endInteractionInternal=function(t,e,n){this.setHint(Fn.INTERACTING,-1),this.resolveConstraints(t,e,n)},r.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},r.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},r.prototype.getConstrainedResolution=function(t,e){var n=e||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,o)},r}(co.a);function Es(i,r){setTimeout(function(){i(r)},0)}function yl(i){if(i.extent!==void 0){var r=i.smoothExtentConstraint!==void 0?i.smoothExtentConstraint:!0;return Fc(i.extent,i.constrainOnlyCenter,r)}var t=Nc(i.projection,"EPSG:3857");if(i.multiWorld!==!0&&t.isGlobal()){var e=t.getExtent().slice();return e[0]=-1/0,e[2]=1/0,Fc(e,!1,!1)}return Bf}function Ma(i){var r,t,e,n=28,o=2,a=i.minZoom!==void 0?i.minZoom:ku,s=i.maxZoom!==void 0?i.maxZoom:n,u=i.zoomFactor!==void 0?i.zoomFactor:o,h=i.multiWorld!==void 0?i.multiWorld:!1,d=i.smoothResolutionConstraint!==void 0?i.smoothResolutionConstraint:!0,E=i.showFullExtent!==void 0?i.showFullExtent:!1,b=Nc(i.projection,"EPSG:3857"),I=b.getExtent(),M=i.constrainOnlyCenter,k=i.extent;if(!h&&!k&&b.isGlobal()&&(M=!1,k=I),i.resolutions!==void 0){var et=i.resolutions;t=et[a],e=et[s]!==void 0?et[s]:et[et.length-1],i.constrainResolution?r=lp(et,d,!M&&k,E):r=Au(t,e,d,!M&&k,E)}else{var ht=I?Math.max(un(I),bn(I)):360*Vi[Ni.DEGREES]/b.getMetersPerUnit(),Lt=ht/js/Math.pow(o,ku),It=Lt/Math.pow(o,n-ku);t=i.maxResolution,t!==void 0?a=0:t=Lt/Math.pow(u,a),e=i.minResolution,e===void 0&&(i.maxZoom!==void 0?i.maxResolution!==void 0?e=t/Math.pow(u,s):e=Lt/Math.pow(u,s):e=It),s=a+Math.floor(Math.log(t/e)/Math.log(u)),e=t/Math.pow(u,s-a),i.constrainResolution?r=up(u,t,e,d,!M&&k,E):r=Au(t,e,d,!M&&k,E)}return{constraint:r,maxResolution:t,minResolution:e,minZoom:a,zoomFactor:u}}function ml(i){var r=i.enableRotation!==void 0?i.enableRotation:!0;if(r){var t=i.constrainRotation;return t===void 0||t===!0?pl():t===!1?Us:typeof t=="number"?cp(t):Us}else return Gs}function Vu(i){return!(i.sourceCenter&&i.targetCenter&&!D(i.sourceCenter,i.targetCenter)||i.sourceResolution!==i.targetResolution||i.sourceRotation!==i.targetRotation)}function Hs(i,r,t,e,n){var o=Math.cos(-n),a=Math.sin(-n),s=i[0]*o-i[1]*a,u=i[1]*o+i[0]*a;s+=(r[0]/2-t[0])*e,u+=(t[1]-r[1]/2)*e,a=-a;var h=s*o-u*a,d=u*o+s*a;return[h,d]}var Ja=$l;function zu(i,r,t){return t===void 0&&(t=[0,0]),t[0]=i[0]+2*r,t[1]=i[1]+2*r,t}function ua(i){return i[0]>0&&i[1]>0}function ws(i,r,t){return t===void 0&&(t=[0,0]),t[0]=i[0]*r+.5|0,t[1]=i[1]*r+.5|0,t}function _n(i,r){return Array.isArray(i)?i:(r===void 0?r=[i,i]:(r[0]=i,r[1]=i),r)}var wi=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yi=function(i){wi(r,i);function r(t){var e=i.call(this)||this;e.on,e.once,e.un;var n=oo(t);return e.boundHandleBrowserEvent_=e.handleBrowserEvent.bind(e),e.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,e.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:qt.a,e.postRenderTimeoutHandle_,e.animationDelayKey_,e.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(e),e.coordinateToPixelTransform_=$(),e.pixelToCoordinateTransform_=$(),e.frameIndex_=0,e.frameState_=null,e.previousExtent_=null,e.viewPropertyListenerKey_=null,e.viewChangeListenerKey_=null,e.layerGroupPropertyListenerKeys_=null,e.viewport_=document.createElement("div"),e.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),e.viewport_.style.position="relative",e.viewport_.style.overflow="hidden",e.viewport_.style.width="100%",e.viewport_.style.height="100%",e.overlayContainer_=document.createElement("div"),e.overlayContainer_.style.position="absolute",e.overlayContainer_.style.zIndex="0",e.overlayContainer_.style.width="100%",e.overlayContainer_.style.height="100%",e.overlayContainer_.style.pointerEvents="none",e.overlayContainer_.className="ol-overlaycontainer",e.viewport_.appendChild(e.overlayContainer_),e.overlayContainerStopEvent_=document.createElement("div"),e.overlayContainerStopEvent_.style.position="absolute",e.overlayContainerStopEvent_.style.zIndex="0",e.overlayContainerStopEvent_.style.width="100%",e.overlayContainerStopEvent_.style.height="100%",e.overlayContainerStopEvent_.style.pointerEvents="none",e.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",e.viewport_.appendChild(e.overlayContainerStopEvent_),e.mapBrowserEventHandler_=null,e.moveTolerance_=t.moveTolerance,e.keyboardEventTarget_=n.keyboardEventTarget,e.keyHandlerKeys_=null,e.controls=n.controls||new hr,e.interactions=n.interactions||new hr,e.overlays_=n.overlays,e.overlayIdIndex_={},e.renderer_=null,e.handleResize_,e.postRenderFunctions_=[],e.tileQueue_=new Po(e.getTilePriority.bind(e),e.handleTileChange_.bind(e)),e.addChangeListener(di.LAYERGROUP,e.handleLayerGroupChanged_),e.addChangeListener(di.VIEW,e.handleViewChanged_),e.addChangeListener(di.SIZE,e.handleSizeChanged_),e.addChangeListener(di.TARGET,e.handleTargetChanged_),e.setProperties(n.values),e.controls.forEach(function(o){o.setMap(this)}.bind(e)),e.controls.addEventListener(ln.ADD,function(o){o.element.setMap(this)}.bind(e)),e.controls.addEventListener(ln.REMOVE,function(o){o.element.setMap(null)}.bind(e)),e.interactions.forEach(function(o){o.setMap(this)}.bind(e)),e.interactions.addEventListener(ln.ADD,function(o){o.element.setMap(this)}.bind(e)),e.interactions.addEventListener(ln.REMOVE,function(o){o.element.setMap(null)}.bind(e)),e.overlays_.forEach(e.addOverlayInternal_.bind(e)),e.overlays_.addEventListener(ln.ADD,function(o){this.addOverlayInternal_(o.element)}.bind(e)),e.overlays_.addEventListener(ln.REMOVE,function(o){var a=o.element,s=a.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],o.element.setMap(null)}.bind(e)),e}return r.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},r.prototype.addControl=function(t){this.getControls().push(t)},r.prototype.addInteraction=function(t){this.getInteractions().push(t)},r.prototype.addLayer=function(t){var e=this.getLayerGroup().getLayers();e.push(t)},r.prototype.addOverlay=function(t){this.getOverlays().push(t)},r.prototype.addOverlayInternal_=function(t){var e=t.getId();e!==void 0&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},r.prototype.disposeInternal=function(){this.setTarget(null),i.prototype.disposeInternal.call(this)},r.prototype.forEachFeatureAtPixel=function(t,e,n){if(!!this.frameState_){var o=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};var a=n.hitTolerance!==void 0?n.hitTolerance:0,s=n.layerFilter!==void 0?n.layerFilter:St.b,u=n.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,a,u,e,null,s,null)}},r.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,function(o){n.push(o)},e),n},r.prototype.forEachLayerAtPixel=function(t,e,n){if(!!this.frameState_){var o=n||{},a=o.hitTolerance!==void 0?o.hitTolerance:0,s=o.layerFilter||St.b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,a,e,s)}},r.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t);e=e!==void 0?e:{};var o=e.layerFilter!==void 0?e.layerFilter:St.b,a=e.hitTolerance!==void 0?e.hitTolerance:0,s=e.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,a,s,o,null)},r.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},r.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},r.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},r.prototype.getTarget=function(){return this.get(di.TARGET)},r.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},r.prototype.getCoordinateFromPixel=function(t){return ms(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},r.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?me(e.pixelToCoordinateTransform,t.slice()):null},r.prototype.getControls=function(){return this.controls},r.prototype.getOverlays=function(){return this.overlays_},r.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return e!==void 0?e:null},r.prototype.getInteractions=function(){return this.interactions},r.prototype.getLayerGroup=function(){return this.get(di.LAYERGROUP)},r.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},r.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var o=t[e].layer,a=o.getSource();if(a&&a.loading)return!0}return!1},r.prototype.getPixelFromCoordinate=function(t){var e=xr(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},r.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?me(e.coordinateToPixelTransform,t.slice(0,2)):null},r.prototype.getRenderer=function(){return this.renderer_},r.prototype.getSize=function(){return this.get(di.SIZE)},r.prototype.getView=function(){return this.get(di.VIEW)},r.prototype.getViewport=function(){return this.viewport_},r.prototype.getOverlayContainer=function(){return this.overlayContainer_},r.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},r.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},r.prototype.getTilePriority=function(t,e,n,o){return xa(this.frameState_,t,e,n,o)},r.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,o=new Eo(n,this,t);this.handleMapBrowserEvent(o)},r.prototype.handleMapBrowserEvent=function(t){if(!!this.frameState_){var e=t.originalEvent,n=e.type;if(n===qn.POINTERDOWN||n===Dr.a.WHEEL||n===Dr.a.KEYDOWN){var o=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():o,s=e.target;if(this.overlayContainerStopEvent_.contains(s)||!(a===o?o.documentElement:a).contains(s))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var u=this.getInteractions().getArray().slice(),h=u.length-1;h>=0;h--){var d=u[h];if(!(d.getMap()!==this||!d.getActive()||!this.getTargetElement())){var E=d.handleEvent(t);if(!E||t.propagationStopped)break}}}},r.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,o=n;if(t){var a=t.viewHints;if(a[Fn.ANIMATING]||a[Fn.INTERACTING]){var s=Date.now()-t.time>8;n=s?0:8,o=s?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,o))}t&&this.hasListener(hs.RENDERCOMPLETE)&&!t.animate&&!this.tileQueue_.getTilesLoading()&&!this.getLoading()&&this.renderer_.dispatchRenderEvent(hs.RENDERCOMPLETE,t);for(var u=this.postRenderFunctions_,h=0,d=u.length;h<d;++h)u[h](this,t);u.length=0},r.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},r.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.mapBrowserEventHandler_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)Object(dr.c)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener(Dr.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Dr.a.WHEEL,this.boundHandleBrowserEvent_),this.handleResize_!==void 0&&(removeEventListener(Dr.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Object(be.e)(this.viewport_)}if(!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new fl(this,this.moveTolerance_);for(var o in tn)this.mapBrowserEventHandler_.addEventListener(tn[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Dr.a.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Dr.a.WHEEL,this.boundHandleBrowserEvent_,qt.e?{passive:!1}:!1);var a=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(dr.a)(a,Dr.a.KEYDOWN,this.handleBrowserEvent,this),Object(dr.a)(a,Dr.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(Dr.a.RESIZE,this.handleResize_,!1))}this.updateSize()},r.prototype.handleTileChange_=function(){this.render()},r.prototype.handleViewPropertyChanged_=function(){this.render()},r.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(dr.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(dr.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Object(dr.a)(t,Nt.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(dr.a)(t,Dr.a.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},r.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(dr.c),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(dr.a)(t,Nt.a.PROPERTYCHANGE,this.render,this),Object(dr.a)(t,Dr.a.CHANGE,this.render,this)]),this.render()},r.prototype.isRendered=function(){return!!this.frameState_},r.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},r.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var o=t[e].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},r.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},r.prototype.removeControl=function(t){return this.getControls().remove(t)},r.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},r.prototype.removeLayer=function(t){var e=this.getLayerGroup().getLayers();return e.remove(t)},r.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},r.prototype.renderFrame_=function(t){var e=this,n=this.getSize(),o=this.getView(),a=this.frameState_,s=null;if(n!==void 0&&ua(n)&&o&&o.isDef()){var u=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=o.getState();s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Gi(h.center,h.resolution,h.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:h,viewHints:u,wantedTiles:{}}}if(this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a){var d=!this.previousExtent_||!_o(this.previousExtent_)&&!Gr(s.extent,this.previousExtent_);d&&(this.dispatchEvent(new ai(Ui.a.MOVESTART,this,a)),this.previousExtent_=Me(this.previousExtent_))}var E=this.previousExtent_&&!s.viewHints[Fn.ANIMATING]&&!s.viewHints[Fn.INTERACTING]&&!Gr(s.extent,this.previousExtent_);E&&(this.dispatchEvent(new ai(Ui.a.MOVEEND,this,s)),Rt(s.extent,this.previousExtent_))}this.dispatchEvent(new ai(Ui.a.POSTRENDER,this,s)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()},0))},r.prototype.setLayerGroup=function(t){this.set(di.LAYERGROUP,t)},r.prototype.setSize=function(t){this.set(di.SIZE,t)},r.prototype.setTarget=function(t){this.set(di.TARGET,t)},r.prototype.setView=function(t){this.set(di.VIEW,t)},r.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var n=getComputedStyle(t),o=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),a=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);!isNaN(o)&&!isNaN(a)&&(e=[o,a],ua(e)||console.warn("No map visible because the map container's width or height are 0."))}this.setSize(e),this.updateViewportSize_()},r.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},r}(co.a);function oo(i){var r=null;i.keyboardEventTarget!==void 0&&(r=typeof i.keyboardEventTarget=="string"?document.getElementById(i.keyboardEventTarget):i.keyboardEventTarget);var t={},e=i.layers&&typeof i.layers.getLayers=="function"?i.layers:new $n({layers:i.layers});t[di.LAYERGROUP]=e,t[di.TARGET]=i.target,t[di.VIEW]=i.view!==void 0?i.view:new Ja;var n;i.controls!==void 0&&(Array.isArray(i.controls)?n=new hr(i.controls.slice()):(Qt(typeof i.controls.getArray=="function",47),n=i.controls));var o;i.interactions!==void 0&&(Array.isArray(i.interactions)?o=new hr(i.interactions.slice()):(Qt(typeof i.interactions.getArray=="function",48),o=i.interactions));var a;return i.overlays!==void 0?Array.isArray(i.overlays)?a=new hr(i.overlays.slice()):(Qt(typeof i.overlays.getArray=="function",49),a=i.overlays):a=new hr,{controls:n,interactions:o,keyboardEventTarget:r,overlays:a,values:t}}var xs=Yi,wn=c("3900"),Xs=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zf=function(i){Xs(r,i);function r(t){var e=this,n=t||{};e=i.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this,e.ulElement_=document.createElement("ul"),e.collapsed_=n.collapsed!==void 0?n.collapsed:!0,e.userCollapsed_=e.collapsed_,e.overrideCollapsible_=n.collapsible!==void 0,e.collapsible_=n.collapsible!==void 0?n.collapsible:!0,e.collapsible_||(e.collapsed_=!1);var o=n.className!==void 0?n.className:"ol-attribution",a=n.tipLabel!==void 0?n.tipLabel:"Attributions",s=n.expandClassName!==void 0?n.expandClassName:o+"-expand",u=n.collapseLabel!==void 0?n.collapseLabel:"\xBB",h=n.collapseClassName!==void 0?n.collapseClassName:o+"-collpase";typeof u=="string"?(e.collapseLabel_=document.createElement("span"),e.collapseLabel_.textContent=u,e.collapseLabel_.className=h):e.collapseLabel_=u;var d=n.label!==void 0?n.label:"i";typeof d=="string"?(e.label_=document.createElement("span"),e.label_.textContent=d,e.label_.className=s):e.label_=d;var E=e.collapsible_&&!e.collapsed_?e.collapseLabel_:e.label_;e.toggleButton_=document.createElement("button"),e.toggleButton_.setAttribute("type","button"),e.toggleButton_.setAttribute("aria-expanded",String(!e.collapsed_)),e.toggleButton_.title=a,e.toggleButton_.appendChild(E),e.toggleButton_.addEventListener(Dr.a.CLICK,e.handleClick_.bind(e),!1);var b=o+" "+ir+" "+ft+(e.collapsed_&&e.collapsible_?" "+jt:"")+(e.collapsible_?"":" ol-uncollapsible"),I=e.element;return I.className=b,I.appendChild(e.toggleButton_),I.appendChild(e.ulElement_),e.renderedAttributions_=[],e.renderedVisible_=!0,e}return r.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],o=!0,a=t.layerStatesArray,s=0,u=a.length;s<u;++s){var h=a[s];if(!!If(h,t.viewState)){var d=h.layer.getSource();if(!!d){var E=d.getAttributions();if(!!E){var b=E(t);if(!!b)if(o=o&&d.getAttributionsCollapsible()!==!1,Array.isArray(b))for(var I=0,M=b.length;I<M;++I)b[I]in e||(n.push(b[I]),e[b[I]]=!0);else b in e||(n.push(b),e[b]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),n},r.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Object(vr.b)(e,this.renderedAttributions_)){Object(be.d)(this.ulElement_);for(var o=0,a=e.length;o<a;++o){var s=document.createElement("li");s.innerHTML=e[o],this.ulElement_.appendChild(s)}this.renderedAttributions_=e}},r.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},r.prototype.handleToggle_=function(){this.element.classList.toggle(jt),this.collapsed_?Object(be.g)(this.collapseLabel_,this.label_):Object(be.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},r.prototype.getCollapsible=function(){return this.collapsible_},r.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},r.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},r.prototype.getCollapsed=function(){return this.collapsed_},r.prototype.render=function(t){this.updateElement_(t.frameState)},r}(wn.default),vp=zf,Ud=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kd=function(i){Ud(r,i);function r(t){var e=this,n=t||{};e=i.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this;var o=n.className!==void 0?n.className:"ol-rotate",a=n.label!==void 0?n.label:"\u21E7",s=n.compassClassName!==void 0?n.compassClassName:"ol-compass";e.label_=null,typeof a=="string"?(e.label_=document.createElement("span"),e.label_.className=s,e.label_.textContent=a):(e.label_=a,e.label_.classList.add(s));var u=n.tipLabel?n.tipLabel:"Reset rotation",h=document.createElement("button");h.className=o+"-reset",h.setAttribute("type","button"),h.title=u,h.appendChild(e.label_),h.addEventListener(Dr.a.CLICK,e.handleClick_.bind(e),!1);var d=o+" "+ir+" "+ft,E=e.element;return E.className=d,E.appendChild(h),e.callResetNorth_=n.resetNorth?n.resetNorth:void 0,e.duration_=n.duration!==void 0?n.duration:250,e.autoHide_=n.autoHide!==void 0?n.autoHide:!0,e.rotation_=void 0,e.autoHide_&&e.element.classList.add(Pt),e}return r.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},r.prototype.resetNorth_=function(){var t=this.getMap(),e=t.getView();if(!!e){var n=e.getRotation();n!==void 0&&(this.duration_>0&&n%(2*Math.PI)!=0?e.animate({rotation:0,duration:this.duration_,easing:wo}):e.setRotation(0))}},r.prototype.render=function(t){var e=t.frameState;if(!!e){var n=e.viewState.rotation;if(n!=this.rotation_){var o="rotate("+n+"rad)";if(this.autoHide_){var a=this.element.classList.contains(Pt);!a&&n===0?this.element.classList.add(Pt):a&&n!==0&&this.element.classList.remove(Pt)}this.label_.style.transform=o}this.rotation_=n}},r}(wn.default),gp=kd,Vd=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zd=function(i){Vd(r,i);function r(t){var e=this,n=t||{};e=i.call(this,{element:document.createElement("div"),target:n.target})||this;var o=n.className!==void 0?n.className:"ol-zoom",a=n.delta!==void 0?n.delta:1,s=n.zoomInClassName!==void 0?n.zoomInClassName:o+"-in",u=n.zoomOutClassName!==void 0?n.zoomOutClassName:o+"-out",h=n.zoomInLabel!==void 0?n.zoomInLabel:"+",d=n.zoomOutLabel!==void 0?n.zoomOutLabel:"\u2212",E=n.zoomInTipLabel!==void 0?n.zoomInTipLabel:"Zoom in",b=n.zoomOutTipLabel!==void 0?n.zoomOutTipLabel:"Zoom out",I=document.createElement("button");I.className=s,I.setAttribute("type","button"),I.title=E,I.appendChild(typeof h=="string"?document.createTextNode(h):h),I.addEventListener(Dr.a.CLICK,e.handleClick_.bind(e,a),!1);var M=document.createElement("button");M.className=u,M.setAttribute("type","button"),M.title=b,M.appendChild(typeof d=="string"?document.createTextNode(d):d),M.addEventListener(Dr.a.CLICK,e.handleClick_.bind(e,-a),!1);var k=o+" "+ir+" "+ft,et=e.element;return et.className=k,et.appendChild(I),et.appendChild(M),e.duration_=n.duration!==void 0?n.duration:250,e}return r.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},r.prototype.zoomByDelta_=function(t){var e=this.getMap(),n=e.getView();if(!!n){var o=n.getZoom();if(o!==void 0){var a=n.getConstrainedZoom(o+t);this.duration_>0?(n.getAnimating()&&n.cancelAnimations(),n.animate({zoom:a,duration:this.duration_,easing:wo})):n.setZoom(a)}}},r}(wn.default),yp=zd;function mp(i){var r=i||{},t=new hr,e=r.zoom!==void 0?r.zoom:!0;e&&t.push(new yp(r.zoomOptions));var n=r.rotate!==void 0?r.rotate:!0;n&&t.push(new gp(r.rotateOptions));var o=r.attribution!==void 0?r.attribution:!0;return o&&t.push(new vp(r.attributionOptions)),t}var Yu={ACTIVE:"active"},ca=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fa=function(i){ca(r,i);function r(t){var e=i.call(this)||this;return e.on,e.once,e.un,t&&t.handleEvent&&(e.handleEvent=t.handleEvent),e.map_=null,e.setActive(!0),e}return r.prototype.getActive=function(){return this.get(Yu.ACTIVE)},r.prototype.getMap=function(){return this.map_},r.prototype.handleEvent=function(t){return!0},r.prototype.setActive=function(t){this.set(Yu.ACTIVE,t)},r.prototype.setMap=function(t){this.map_=t},r}(co.a);function Yf(i,r,t){var e=i.getCenterInternal();if(e){var n=[e[0]+r[0],e[1]+r[1]];i.animateInternal({duration:t!==void 0?t:250,easing:Pu,center:i.getConstrainedCenter(n)})}}function Wu(i,r,t,e){var n=i.getZoom();if(n!==void 0){var o=i.getConstrainedZoom(n+r),a=i.getResolutionForZoom(o);i.getAnimating()&&i.cancelAnimations(),i.animate({resolution:a,anchor:t,duration:e!==void 0?e:250,easing:wo})}}var ql=Fa,Wf=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hf=function(i){Wf(r,i);function r(t){var e=i.call(this)||this,n=t||{};return e.delta_=n.delta?n.delta:1,e.duration_=n.duration!==void 0?n.duration:250,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==tn.DBLCLICK){var n=t.originalEvent,o=t.map,a=t.coordinate,s=n.shiftKey?-this.delta_:this.delta_,u=o.getView();Wu(u,s,a,this.duration_),n.preventDefault(),e=!0}return!e},r}(ql),_p=Hf,Yd=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sp=function(i){Yd(r,i);function r(t){var e=this,n=t||{};return e=i.call(this,n)||this,n.handleDownEvent&&(e.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(e.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(e.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(e.handleUpEvent=n.handleUpEvent),n.stopDown&&(e.stopDown=n.stopDown),e.handlingDownUpSequence=!1,e.trackedPointers_={},e.targetPointers=[],e}return r.prototype.getPointerCount=function(){return this.targetPointers.length},r.prototype.handleDownEvent=function(t){return!1},r.prototype.handleDragEvent=function(t){},r.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==tn.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==tn.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==tn.POINTERDOWN){var o=this.handleDownEvent(t);this.handlingDownUpSequence=o,e=this.stopDown(o)}else t.type==tn.POINTERMOVE&&this.handleMoveEvent(t);return!e},r.prototype.handleMoveEvent=function(t){},r.prototype.handleUpEvent=function(t){return!1},r.prototype.stopDown=function(t){return t},r.prototype.updateTrackedPointers_=function(t){if(Xf(t)){var e=t.originalEvent,n=e.pointerId.toString();t.type==tn.POINTERUP?delete this.trackedPointers_[n]:t.type==tn.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=Object(br.c)(this.trackedPointers_)}},r}(ql);function Hc(i){for(var r=i.length,t=0,e=0,n=0;n<r;n++)t+=i[n].clientX,e+=i[n].clientY;return[t/r,e/r]}function Xf(i){var r=i.type;return r===tn.POINTERDOWN||r===tn.POINTERDRAG||r===tn.POINTERUP}var Vo=Sp;function Kf(i){var r=arguments;return function(t){for(var e=!0,n=0,o=r.length;n<o&&(e=e&&r[n](t),!!e);++n);return e}}var Wd=function(i){var r=i.originalEvent;return r.altKey&&!(r.metaKey||r.ctrlKey)&&!r.shiftKey},Ep=function(i){var r=i.originalEvent;return r.altKey&&!(r.metaKey||r.ctrlKey)&&r.shiftKey},Hd=function(i){return i.target.getTargetElement().contains(document.activeElement)},wp=function(i){return i.map.getTargetElement().hasAttribute("tabindex")?Hd(i):!0},Zf=St.b,xy=function(i){return i.type==tn.CLICK},xp=function(i){var r=i.originalEvent;return r.button==0&&!(qt.f&&qt.d&&r.ctrlKey)},Xc=St.a,Op=function(i){return i.type=="pointermove"},Jl=function(i){return i.type==tn.SINGLECLICK},Oy=function(i){return i.type==tn.DBLCLICK},$f=function(i){var r=i.originalEvent;return!r.altKey&&!(r.metaKey||r.ctrlKey)&&!r.shiftKey},Xd=function(i){var r=i.originalEvent;return!r.altKey&&(qt.d?r.metaKey:r.ctrlKey)&&!r.shiftKey},Kc=function(i){var r=i.originalEvent;return!r.altKey&&!(r.metaKey||r.ctrlKey)&&r.shiftKey},Tp=function(i){var r=i.originalEvent,t=r.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"},Ql=function(i){var r=i.originalEvent;return Qt(r!==void 0,56),r.pointerType=="mouse"},Ty=function(i){var r=i.originalEvent;return Qt(r!==void 0,56),r.pointerType==="touch"},_l=function(i){var r=i.originalEvent;return Qt(r!==void 0,56),r.pointerType==="pen"},fa=function(i){var r=i.originalEvent;return Qt(r!==void 0,56),r.isPrimary&&r.button===0},Ks=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),by=function(i){Ks(r,i);function r(t){var e=i.call(this,{stopDown:St.a})||this,n=t||{};e.kinetic_=n.kinetic,e.lastCentroid=null,e.lastPointersCount_,e.panning_=!1;var o=n.condition?n.condition:Kf($f,fa);return e.condition_=n.onFocusOnly?Kf(wp,o):o,e.noKinetic_=!1,e}return r.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,n=Hc(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var o=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],a=t.map,s=a.getView();j(o,s.getResolution()),R(o,s.getRotation()),s.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()},r.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=n.getCenterInternal(),u=e.getPixelFromCoordinateInternal(s),h=e.getCoordinateFromPixelInternal([u[0]-o*Math.cos(a),u[1]-o*Math.sin(a)]);n.animateInternal({center:n.getConstrainedCenter(h),duration:500,easing:wo})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map,n=e.getView();return this.lastCentroid=null,n.getAnimating()&&n.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},r}(Vo),Kd=by,Sl=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ja=function(i){Sl(r,i);function r(t){var e=this,n=t||{};return e=i.call(this,{stopDown:St.a})||this,e.condition_=n.condition?n.condition:Ep,e.lastAngle_=void 0,e.duration_=n.duration!==void 0?n.duration:250,e}return r.prototype.handleDragEvent=function(t){if(!!Ql(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Gs){var o=e.getSize(),a=t.pixel,s=Math.atan2(o[1]/2-a[1],a[0]-o[0]/2);if(this.lastAngle_!==void 0){var u=s-this.lastAngle_;n.adjustRotationInternal(-u)}this.lastAngle_=s}}},r.prototype.handleUpEvent=function(t){if(!Ql(t))return!0;var e=t.map,n=e.getView();return n.endInteraction(this.duration_),!1},r.prototype.handleDownEvent=function(t){if(!Ql(t))return!1;if(xp(t)&&this.condition_(t)){var e=t.map;return e.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},r}(Vo),Cy=ja,Ly=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zd=function(i){Ly(r,i);function r(t){var e=i.call(this)||this;return e.geometry_=null,e.element_=document.createElement("div"),e.element_.style.position="absolute",e.element_.style.pointerEvents="auto",e.element_.className="ol-box "+t,e.map_=null,e.startPixel_=null,e.endPixel_=null,e}return r.prototype.disposeInternal=function(){this.setMap(null)},r.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n="px",o=this.element_.style;o.left=Math.min(t[0],e[0])+n,o.top=Math.min(t[1],e[1])+n,o.width=Math.abs(e[0]-t[0])+n,o.height=Math.abs(e[1]-t[1])+n},r.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},r.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},r.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]],o=n.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new kn([o])},r.prototype.getGeometry=function(){return this.geometry_},r}(Et.a),$d=Zd,bp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zc={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},Cp=function(i){bp(r,i);function r(t,e,n){var o=i.call(this,t)||this;return o.coordinate=e,o.mapBrowserEvent=n,o}return r}(ue.a),qf=function(i){bp(r,i);function r(t){var e=i.call(this)||this;e.on,e.once,e.un;var n=t||{};return e.box_=new $d(n.className||"ol-dragbox"),e.minArea_=n.minArea!==void 0?n.minArea:64,n.onBoxEnd&&(e.onBoxEnd=n.onBoxEnd),e.startPixel_=null,e.condition_=n.condition?n.condition:xp,e.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:e.defaultBoxEndCondition,e}return r.prototype.defaultBoxEndCondition=function(t,e,n){var o=n[0]-e[0],a=n[1]-e[1];return o*o+a*a>=this.minArea_},r.prototype.getGeometry=function(){return this.box_.getGeometry()},r.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Cp(Zc.BOXDRAG,t.coordinate,t))},r.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Cp(e?Zc.BOXEND:Zc.BOXCANCEL,t.coordinate,t)),!1},r.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Cp(Zc.BOXSTART,t.coordinate,t)),!0):!1},r.prototype.onBoxEnd=function(t){},r}(Vo),Jf=qf,$c=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Lp=function(i){$c(r,i);function r(t){var e=this,n=t||{},o=n.condition?n.condition:Kc;return e=i.call(this,{condition:o,className:n.className||"ol-dragzoom",minArea:n.minArea})||this,e.duration_=n.duration!==void 0?n.duration:200,e.out_=n.out!==void 0?n.out:!1,e}return r.prototype.onBoxEnd=function(t){var e=this.getMap(),n=e.getView(),o=this.getGeometry();if(this.out_){var a=n.rotatedExtentForGeometry(o),s=n.getResolutionForExtentInternal(a),u=n.getResolution()/s;o=o.clone(),o.scale(u*u)}n.fitInternal(o,{duration:this.duration_,easing:wo})},r}(Jf),qd=Lp,tu={LEFT:37,UP:38,RIGHT:39,DOWN:40},Jd=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ay=function(i){Jd(r,i);function r(t){var e=i.call(this)||this,n=t||{};return e.defaultCondition_=function(o){return $f(o)&&Tp(o)},e.condition_=n.condition!==void 0?n.condition:e.defaultCondition_,e.duration_=n.duration!==void 0?n.duration:100,e.pixelDelta_=n.pixelDelta!==void 0?n.pixelDelta:128,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==Dr.a.KEYDOWN){var n=t.originalEvent,o=n.keyCode;if(this.condition_(t)&&(o==tu.DOWN||o==tu.LEFT||o==tu.RIGHT||o==tu.UP)){var a=t.map,s=a.getView(),u=s.getResolution()*this.pixelDelta_,h=0,d=0;o==tu.DOWN?d=-u:o==tu.LEFT?h=-u:o==tu.RIGHT?h=u:d=u;var E=[h,d];R(E,s.getRotation()),Yf(s,E,this.duration_),n.preventDefault(),e=!0}}return!e},r}(ql),Py=Ay,Ry=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Iy=function(i){Ry(r,i);function r(t){var e=i.call(this)||this,n=t||{};return e.condition_=n.condition?n.condition:Tp,e.delta_=n.delta?n.delta:1,e.duration_=n.duration!==void 0?n.duration:100,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==Dr.a.KEYDOWN||t.type==Dr.a.KEYPRESS){var n=t.originalEvent,o=n.charCode;if(this.condition_(t)&&(o=="+".charCodeAt(0)||o=="-".charCodeAt(0))){var a=t.map,s=o=="+".charCodeAt(0)?this.delta_:-this.delta_,u=a.getView();Wu(u,s,void 0,this.duration_),n.preventDefault(),e=!0}}return!e},r}(ql),Ny=Iy,My=function(){function i(r,t,e){this.decay_=r,this.minVelocity_=t,this.delay_=e,this.points_=[],this.angle_=0,this.initialVelocity_=0}return i.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},i.prototype.update=function(r,t){this.points_.push(r,t,Date.now())},i.prototype.end=function(){if(this.points_.length<6)return!1;var r=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<r)return!1;for(var e=t-3;e>0&&this.points_[e+2]>r;)e-=3;var n=this.points_[t+2]-this.points_[e+2];if(n<1e3/60)return!1;var o=this.points_[t]-this.points_[e],a=this.points_[t+1]-this.points_[e+1];return this.angle_=Math.atan2(a,o),this.initialVelocity_=Math.sqrt(o*o+a*a)/n,this.initialVelocity_>this.minVelocity_},i.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},i.prototype.getAngle=function(){return this.angle_},i}(),Qd=My,Qf=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ap={TRACKPAD:"trackpad",WHEEL:"wheel"},Fy=function(i){Qf(r,i);function r(t){var e=this,n=t||{};e=i.call(this,n)||this,e.totalDelta_=0,e.lastDelta_=0,e.maxDelta_=n.maxDelta!==void 0?n.maxDelta:1,e.duration_=n.duration!==void 0?n.duration:250,e.timeout_=n.timeout!==void 0?n.timeout:80,e.useAnchor_=n.useAnchor!==void 0?n.useAnchor:!0,e.constrainResolution_=n.constrainResolution!==void 0?n.constrainResolution:!1;var o=n.condition?n.condition:Zf;return e.condition_=n.onFocusOnly?Kf(wp,o):o,e.lastAnchor_=null,e.startTime_=void 0,e.timeoutId_,e.mode_=void 0,e.trackpadEventGap_=400,e.trackpadTimeoutId_,e.deltaPerZoom_=300,e}return r.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},r.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==Dr.a.WHEEL)return!0;var n=t.map,o=t.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var a;if(t.type==Dr.a.WHEEL&&(a=o.deltaY,qt.b&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=qt.a),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;var s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?Ap.TRACKPAD:Ap.WHEEL);var u=n.getView();if(this.mode_===Ap.TRACKPAD&&!(u.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(u.getAnimating()&&u.cancelAnimations(),u.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),u.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=a;var h=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),h),!1},r.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-Ei(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),Wu(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},r.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},r}(ql),tv=Fy,p=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_=function(i){p(r,i);function r(t){var e=this,n=t||{},o=n;return o.stopDown||(o.stopDown=St.a),e=i.call(this,o)||this,e.anchor_=null,e.lastAngle_=void 0,e.rotating_=!1,e.rotationDelta_=0,e.threshold_=n.threshold!==void 0?n.threshold:.3,e.duration_=n.duration!==void 0?n.duration:250,e}return r.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],o=this.targetPointers[1],a=Math.atan2(o.clientY-n.clientY,o.clientX-n.clientX);if(this.lastAngle_!==void 0){var s=a-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=s}this.lastAngle_=a;var u=t.map,h=u.getView();if(h.getConstraints().rotation!==Gs){var d=u.getViewport().getBoundingClientRect(),E=Hc(this.targetPointers);E[0]-=d.left,E[1]-=d.top,this.anchor_=u.getCoordinateFromPixelInternal(E),this.rotating_&&(u.render(),h.adjustRotationInternal(e,this.anchor_))}},r.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,n=e.getView();return n.endInteraction(this.duration_),!1}else return!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}else return!1},r}(Vo),L=_,B=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),K=function(i){B(r,i);function r(t){var e=this,n=t||{},o=n;return o.stopDown||(o.stopDown=St.a),e=i.call(this,o)||this,e.anchor_=null,e.duration_=n.duration!==void 0?n.duration:400,e.lastDistance_=void 0,e.lastScaleDelta_=1,e}return r.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],o=this.targetPointers[1],a=n.clientX-o.clientX,s=n.clientY-o.clientY,u=Math.sqrt(a*a+s*s);this.lastDistance_!==void 0&&(e=this.lastDistance_/u),this.lastDistance_=u;var h=t.map,d=h.getView();e!=1&&(this.lastScaleDelta_=e);var E=h.getViewport().getBoundingClientRect(),b=Hc(this.targetPointers);b[0]-=E.left,b[1]-=E.top,this.anchor_=h.getCoordinateFromPixelInternal(b),h.render(),d.adjustResolutionInternal(e,this.anchor_)},r.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,n=e.getView(),o=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,o),!1}else return!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}else return!1},r}(Vo),tt=K;function rt(i){var r=i||{},t=new hr,e=new Qd(-.005,.05,100),n=r.altShiftDragRotate!==void 0?r.altShiftDragRotate:!0;n&&t.push(new Cy);var o=r.doubleClickZoom!==void 0?r.doubleClickZoom:!0;o&&t.push(new _p({delta:r.zoomDelta,duration:r.zoomDuration}));var a=r.dragPan!==void 0?r.dragPan:!0;a&&t.push(new Kd({onFocusOnly:r.onFocusOnly,kinetic:e}));var s=r.pinchRotate!==void 0?r.pinchRotate:!0;s&&t.push(new L);var u=r.pinchZoom!==void 0?r.pinchZoom:!0;u&&t.push(new tt({duration:r.zoomDuration}));var h=r.keyboard!==void 0?r.keyboard:!0;h&&(t.push(new Py),t.push(new Ny({delta:r.zoomDelta,duration:r.zoomDuration})));var d=r.mouseWheelZoom!==void 0?r.mouseWheelZoom:!0;d&&t.push(new tv({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration}));var E=r.shiftDragZoom!==void 0?r.shiftDragZoom:!0;return E&&t.push(new qd({duration:r.zoomDuration})),t}var at=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lt=function(i){at(r,i);function r(t){var e=this;return t=Object(br.a)({},t),t.controls||(t.controls=mp()),t.interactions||(t.interactions=rt({onFocusOnly:!0})),e=i.call(this,t)||this,e}return r.prototype.createRenderer=function(){return new oi(this)},r}(xs),gt=lt;c("b64b"),c("a4d3"),c("4de4"),c("e439"),c("159b"),c("dbb4");function Zt(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}function ce(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function ee(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ce(Object(t),!0).forEach(function(e){Zt(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):ce(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}c("caad"),c("2532");function Yt(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=Object(N.toRefs)(i);Object.keys(t).forEach(function(n){t[n]=t[n].value});var e=Object(N.reactive)(ee({},t));return Object(N.watch)(i,function(){t=Object(N.toRefs)(i),Object.keys(t).forEach(function(n){e[n]!=t[n].value&&!r.includes(n)&&(e[n]=t[n].value)})}),{properties:e}}var Ue={name:"ol-map",setup:function(r,t){var e=t.emit,n=Yt(r),o=n.properties,a=Object(N.ref)(null),s=new gt(o);Object(N.watch)(o,function(){s.setProperties(o)}),Object(N.onMounted)(function(){s.setTarget(a.value)}),Object(N.onUnmounted)(function(){s.setTarget(null),s=null}),Object(N.provide)("map",s);var u=function(){return s.focus()},h=function(et,ht){var Lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s.forEachFeatureAtPixel(et,ht,Lt)},d=function(et,ht,Lt){return s.forEachLayerAtPixel(et,ht,Lt)},E=function(et){return s.getCoordinateFromPixel(et)},b=function(){return s.refresh()},I=function(){return s.render()},M=function(){return s.updateSize()};return s.on("click",function(k){return e("click",k)}),s.on("dblclick",function(k){return e("dblclick",k)}),s.on("singleclick",function(k){return e("singleclick",k)}),s.on("pointerdrag",function(k){return e("pointerdrag",k)}),s.on("pointermove",function(k){return e("pointermove",k)}),s.on("movestart",function(k){return e("movestart",k)}),s.on("moveend",function(k){return e("moveend",k)}),s.on("postrender",function(k){return e("postrender",k)}),s.on("precompose",function(k){return e("precompose",k)}),s.on("postcompose",function(k){return e("postcompose",k)}),{map:s,mapRef:a,focus:u,forEachFeatureAtPixel:h,forEachLayerAtPixel:d,getCoordinateFromPixel:E,refresh:b,render:I,updateSize:M}},props:{loadTilesWhileAnimating:{type:Boolean,default:!1},loadTilesWhileInteracting:{type:Boolean,default:!1},moveTolerance:{type:Number,default:1},pixelRatio:{type:Number,default:1},controls:{type:Array,default:function(){return[]}}}},we=c("d959"),xt=c.n(we),Fe=xt()(Ue,[["render",Ot]]);function Ve(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}function Ge(i,r){var t=Object(N.inject)("map"),e=Yt(i),n=e.properties,o=function(){return ee(ee({},n),{},{projection:typeof n.projection=="string"?n.projection:new Oa(ee({},n.projection))})},a=new Ja(o());Object(N.onMounted)(function(){t.setView(a)}),a.on("change:center",function(){r("centerChanged",se()),r("zoomChanged",ri())}),a.on("change:resolution",function(){return r("resolutionChanged",Tr())}),a.on("change:rotation",function(){return r("rotationChanged",An())}),Object(N.watch)(n,function(){var an=o();a.setProperties(an),a.applyOptions_(an)});var s=function(Jr){return a.adjustCenter(Jr)},u=function(Jr,Bo){return a.adjustResolution(Jr,Bo)},h=function(Jr,Bo){return a.adjustRotation(Jr,Bo)},d=function(Jr,Bo){return a.adjustZoom(Jr,Bo)},E=function(Jr){return a.animate(Jr)},b=function(){return a.beginInteraction()},I=function(Jr){return a.calculateExtent(Jr)},M=function(){return a.cancelAnimations()},k=function(Jr,Bo,cc){return a.centerOn(Jr,Bo,cc)},et=function(){return a.changed()},ht=function(Jr){return a.dispatchEvent(Jr)},Lt=function(Jr,Bo,cc){return a.endInteraction(Jr,Bo,cc)},It=function(Jr,Bo){return a.fit(Jr,Bo)},wt=function(Jr){return a.get(Jr)},oe=function(){return a.getAnimating()},se=function(){return a.getCenter()},de=function(){return a.getInteracting()},Se=function(){return a.getKeys()},Ie=function(){return a.getMaxResolution()},He=function(){return a.getMaxZoom()},De=function(){return a.getMinResolution()},ye=function(){return a.getMinZoom()},Qe=function(){return a.getProjection()},Ar=function(){return a.getProperties()},Tr=function(){return a.getResolution()},kr=function(Jr,Bo){return a.getResolutionForExtent(Jr,Bo)},Fr=function(Jr){return a.getResolutionForZoom(Jr)},On=function(){return a.getResolutions()},Nn=function(){return a.getRevision()},An=function(){return a.getRotation()},ri=function(){return a.getZoom()},er=function(Jr){return a.getZoomForResolution(Jr)},go=function(Jr){return a.setCenter(Jr)},Mn=function(Jr){return a.setConstrainResolution(Jr)},_i=function(Jr){return a.setMaxZoom(Jr)},Do=function(Jr){return a.setMinZoom(Jr)},Lo=function(Jr){return a.setResolution(Jr)},uo=function(Jr){return a.setRotation(Jr)},ya=function(Jr){return a.setZoom(Jr)};return{view:a,adjustCenter:s,adjustResolution:u,adjustRotation:h,adjustZoom:d,animate:E,beginInteraction:b,calculateExtent:I,cancelAnimations:M,centerOn:k,changed:et,dispatchEvent:ht,endInteraction:Lt,fit:It,get:wt,getAnimating:oe,getCenter:se,getInteracting:de,getKeys:Se,getMaxResolution:Ie,getMaxZoom:He,getMinResolution:De,getMinZoom:ye,getProjection:Qe,getProperties:Ar,getResolution:Tr,getResolutionForExtent:kr,getResolutionForZoom:Fr,getResolutions:On,getRevision:Nn,getRotation:An,getZoom:ri,getZoomForResolution:er,setCenter:go,setConstrainResolution:Mn,setMaxZoom:_i,setMinZoom:Do,setResolution:Lo,setRotation:uo,setZoom:ya}}var Or={name:"ol-view",setup:function(r,t){var e=t.emit,n=Ge(r,e);return ee({},n)},props:{center:{type:Array,default:function(){return[0,0]}},constrainRotation:{type:Boolean,default:!0},enableRotation:{type:Boolean,default:!0},extent:{type:Array},constrainOnlyCenter:{type:Boolean,default:!1},smoothExtentConstraint:{type:Boolean,default:!0},maxResolution:{type:Number},minResolution:{type:Number},maxZoom:{type:Number,default:28},minZoom:{type:Number,default:0},multiWorld:{type:Boolean,default:!1},constrainResolution:{type:Boolean,default:!1},smoothResolutionConstraint:{type:Boolean,default:!0},showFullExtent:{type:Boolean,default:!1},projection:{type:[String,Object],default:"EPSG:3857"},resolution:{type:Number},resolutions:{type:Array},rotation:{type:Number},zoom:{type:Number,default:0},zoomFactor:{type:Number,default:2},padding:{type:Array,default:function(){return[0,0,0,0]}}}},Wr=xt()(Or,[["render",Ve]]);function gr(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default")}var Jn=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ui=function(i){Jn(r,i);function r(t){var e=i.call(this)||this;if(e.on,e.once,e.un,e.id_=void 0,e.geometryName_="geometry",e.style_=null,e.styleFunction_=void 0,e.geometryChangeKey_=null,e.addChangeListener(e.geometryName_,e.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var n=t;e.setGeometry(n)}else{var o=t;e.setProperties(o)}return e}return r.prototype.clone=function(){var t=new r(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var e=this.getGeometry();e&&t.setGeometry(e.clone());var n=this.getStyle();return n&&t.setStyle(n),t},r.prototype.getGeometry=function(){return this.get(this.geometryName_)},r.prototype.getId=function(){return this.id_},r.prototype.getGeometryName=function(){return this.geometryName_},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.handleGeometryChange_=function(){this.changed()},r.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(dr.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(dr.a)(t,Dr.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},r.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},r.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?zn(t):void 0,this.changed()},r.prototype.setId=function(t){this.id_=t,this.changed()},r.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},r}(co.a);function zn(i){if(typeof i=="function")return i;var r;if(Array.isArray(i))r=i;else{Qt(typeof i.getZIndex=="function",41);var t=i;r=[t]}return function(){return r}}var Er=ui,vi={name:"ol-feature",setup:function(r){var t=Object(N.inject)("vectorSource"),e=Object(N.inject)("vectorLayer"),n=Object(N.inject)("animation",null),o=Yt(r),a=o.properties,s=Object(N.computed)(function(){var u=new Er(ee({},a.properties));return u});return Object(N.watch)(s,function(u,h){t.value.removeFeature(h),t.value.addFeature(u),t.value.changed()}),Object(N.watch)(t,function(u,h){h.removeFeature(s.value),u.addFeature(s.value),u.changed()}),Object(N.onMounted)(function(){t.value.addFeature(s.value),n!=null&&e.value.animateFeature(s.value,n.value)}),Object(N.onUnmounted)(function(){t.value.removeFeature(s.value)}),Object(N.provide)("feature",s),Object(N.provide)("stylable",s),{feature:s}},props:{properties:{type:[ks,Object,Array]}}},pn=xt()(vi,[["render",gr]]),Zi={ref:"htmlContent"};function Qo(i,r,t,e,n,o){return Object(N.openBlock)(),Object(N.createBlock)("div",Zi,[Object(N.renderSlot)(i.$slots,"default",{position:t.position})],512)}var Yn={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},ta=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dn={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},ha=function(i){ta(r,i);function r(t){var e=i.call(this)||this;e.on,e.once,e.un,e.options=t,e.id=t.id,e.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,e.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,e.element=document.createElement("div"),e.element.className=t.className!==void 0?t.className:"ol-overlay-container "+Ke,e.element.style.position="absolute",e.element.style.pointerEvents="auto";var n=t.autoPan;return n&&typeof n!="object"&&(n={animation:t.autoPanAnimation,margin:t.autoPanMargin}),e.autoPan=n||!1,e.rendered={transform_:"",visible:!0},e.mapPostrenderListenerKey=null,e.addChangeListener(dn.ELEMENT,e.handleElementChanged),e.addChangeListener(dn.MAP,e.handleMapChanged),e.addChangeListener(dn.OFFSET,e.handleOffsetChanged),e.addChangeListener(dn.POSITION,e.handlePositionChanged),e.addChangeListener(dn.POSITIONING,e.handlePositioningChanged),t.element!==void 0&&e.setElement(t.element),e.setOffset(t.offset!==void 0?t.offset:[0,0]),e.setPositioning(t.positioning!==void 0?t.positioning:Yn.TOP_LEFT),t.position!==void 0&&e.setPosition(t.position),e}return r.prototype.getElement=function(){return this.get(dn.ELEMENT)},r.prototype.getId=function(){return this.id},r.prototype.getMap=function(){return this.get(dn.MAP)},r.prototype.getOffset=function(){return this.get(dn.OFFSET)},r.prototype.getPosition=function(){return this.get(dn.POSITION)},r.prototype.getPositioning=function(){return this.get(dn.POSITIONING)},r.prototype.handleElementChanged=function(){Object(be.d)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},r.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(be.e)(this.element),Object(dr.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(dr.a)(t,Ui.a.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},r.prototype.render=function(){this.updatePixelPosition()},r.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},r.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},r.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},r.prototype.setElement=function(t){this.set(dn.ELEMENT,t)},r.prototype.setMap=function(t){this.set(dn.MAP,t)},r.prototype.setOffset=function(t){this.set(dn.OFFSET,t)},r.prototype.setPosition=function(t){this.set(dn.POSITION,t)},r.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},r.prototype.panIntoView=function(t){var e=this.getMap();if(!(!e||!e.getTargetElement()||!this.get(dn.POSITION))){var n=this.getRect(e.getTargetElement(),e.getSize()),o=this.getElement(),a=this.getRect(o,[Object(be.c)(o),Object(be.b)(o)]),s=t||{},u=s.margin===void 0?20:s.margin;if(!he(n,a)){var h=a[0]-n[0],d=n[2]-a[2],E=a[1]-n[1],b=n[3]-a[3],I=[0,0];if(h<0?I[0]=h-u:d<0&&(I[0]=Math.abs(d)+u),E<0?I[1]=E-u:b<0&&(I[1]=Math.abs(b)+u),I[0]!==0||I[1]!==0){var M=e.getView().getCenterInternal(),k=e.getPixelFromCoordinateInternal(M);if(!k)return;var et=[k[0]+I[0],k[1]+I[1]],ht=s.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(et),duration:ht.duration,easing:ht.easing})}}}},r.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),o=n.left+window.pageXOffset,a=n.top+window.pageYOffset;return[o,a,o+e[0],a+e[1]]},r.prototype.setPositioning=function(t){this.set(dn.POSITIONING,t)},r.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},r.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(!t||!t.isRendered()||!e){this.setVisible(!1);return}var n=t.getPixelFromCoordinate(e),o=t.getSize();this.updateRenderedPosition(n,o)},r.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,o=this.getOffset(),a=this.getPositioning();this.setVisible(!0);var s=Math.round(t[0]+o[0])+"px",u=Math.round(t[1]+o[1])+"px",h="0%",d="0%";a==Yn.BOTTOM_RIGHT||a==Yn.CENTER_RIGHT||a==Yn.TOP_RIGHT?h="-100%":(a==Yn.BOTTOM_CENTER||a==Yn.CENTER_CENTER||a==Yn.TOP_CENTER)&&(h="-50%"),a==Yn.BOTTOM_LEFT||a==Yn.BOTTOM_CENTER||a==Yn.BOTTOM_RIGHT?d="-100%":(a==Yn.CENTER_LEFT||a==Yn.CENTER_CENTER||a==Yn.CENTER_RIGHT)&&(d="-50%");var E="translate("+h+", "+d+") translate("+s+", "+u+")";this.rendered.transform_!=E&&(this.rendered.transform_=E,n.transform=E,n.msTransform=E)},r.prototype.getOptions=function(){return this.options},r}(co.a),ea=ha;function ho(i,r){var t=Object(N.inject)("map"),e=Object(N.ref)(null),n=Yt(i),o=n.properties,a=Object(N.computed)(function(){return new ea(o)});Object(N.onMounted)(function(){t.addOverlay(a.value)}),Object(N.onUnmounted)(function(){t.removeOverlay(a.value)}),Object(N.watch)(a,function(et,ht){t.removeOverlay(ht),t.addOverlay(et)}),Object(N.watchEffect)(function(){b(e.value)},{flush:"post"}),a.value.on("change:element",function(){return r("elementChanged",s())}),a.value.on("change:offset",function(){return r("offsetChanged",u())}),a.value.on("change:position",function(){return r("positionChanged",h())}),a.value.on("change:positioning",function(){return r("positioningChanged",d())});var s=function(){return a.value.getElement()},u=function(){return a.value.getOffset()},h=function(){return a.value.getPosition()},d=function(){return a.value.getPositioning()},E=function(ht){return a.value.panIntoView(ht)},b=function(ht){return a.value.setElement(ht)},I=function(ht){return a.value.setOffset(ht)},M=function(ht){return a.value.setPosition(ht)},k=function(ht){return a.value.setPositioning(ht)};return{overlay:a,htmlContent:e,getOffset:u,getPosition:h,getPositioning:d,panIntoView:E,setElement:b,setOffset:I,setPosition:M,setPositioning:k}}var Oo={name:"ol-overlay",setup:function(r,t){var e=t.emit,n=new ho(r,e);return ee({},n)},props:{position:{type:Array},offset:{type:Array},positioning:{type:Array},stopEvent:{type:Boolean,default:!0},insertFirst:{type:Boolean,default:!0},autoPan:{type:Boolean,default:!1},autoPanMargin:{type:Number,default:20},autoPanAnimation:{type:Object,default:void 0}}},na=xt()(Oo,[["render",Qo]]);function Os(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default",{position:e.position,speed:e.speed,heading:e.heading,accuracy:e.accuracy,altitude:e.altitude,altitudeAccuracy:e.altitudeAccuracy,accuracyGeometry:e.accuracyGeometry})}var ao=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qn={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},eu=function(i){ao(r,i);function r(t){var e=i.call(this,Dr.a.ERROR)||this;return e.code=t.code,e.message=t.message,e}return r}(ue.a),Hu=function(i){ao(r,i);function r(t){var e=i.call(this)||this;e.on,e.once,e.un;var n=t||{};return e.position_=null,e.transform_=bu,e.watchId_=void 0,e.addChangeListener(Qn.PROJECTION,e.handleProjectionChanged_),e.addChangeListener(Qn.TRACKING,e.handleTrackingChanged_),n.projection!==void 0&&e.setProjection(n.projection),n.trackingOptions!==void 0&&e.setTrackingOptions(n.trackingOptions),e.setTracking(n.tracking!==void 0?n.tracking:!1),e}return r.prototype.disposeInternal=function(){this.setTracking(!1),i.prototype.disposeInternal.call(this)},r.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=ko(qr("EPSG:4326"),t),this.position_&&this.set(Qn.POSITION,this.transform_(this.position_)))},r.prototype.handleTrackingChanged_=function(){if("geolocation"in navigator){var t=this.getTracking();t&&this.watchId_===void 0?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):!t&&this.watchId_!==void 0&&(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},r.prototype.positionChange_=function(t){var e=t.coords;this.set(Qn.ACCURACY,e.accuracy),this.set(Qn.ALTITUDE,e.altitude===null?void 0:e.altitude),this.set(Qn.ALTITUDE_ACCURACY,e.altitudeAccuracy===null?void 0:e.altitudeAccuracy),this.set(Qn.HEADING,e.heading===null?void 0:Ns(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var n=this.transform_(this.position_);this.set(Qn.POSITION,n),this.set(Qn.SPEED,e.speed===null?void 0:e.speed);var o=Zl(this.position_,e.accuracy);o.applyTransform(this.transform_),this.set(Qn.ACCURACY_GEOMETRY,o),this.changed()},r.prototype.positionError_=function(t){this.dispatchEvent(new eu(t))},r.prototype.getAccuracy=function(){return this.get(Qn.ACCURACY)},r.prototype.getAccuracyGeometry=function(){return this.get(Qn.ACCURACY_GEOMETRY)||null},r.prototype.getAltitude=function(){return this.get(Qn.ALTITUDE)},r.prototype.getAltitudeAccuracy=function(){return this.get(Qn.ALTITUDE_ACCURACY)},r.prototype.getHeading=function(){return this.get(Qn.HEADING)},r.prototype.getPosition=function(){return this.get(Qn.POSITION)},r.prototype.getProjection=function(){return this.get(Qn.PROJECTION)},r.prototype.getSpeed=function(){return this.get(Qn.SPEED)},r.prototype.getTracking=function(){return this.get(Qn.TRACKING)},r.prototype.getTrackingOptions=function(){return this.get(Qn.TRACKING_OPTIONS)},r.prototype.setProjection=function(t){this.set(Qn.PROJECTION,qr(t))},r.prototype.setTracking=function(t){this.set(Qn.TRACKING,t)},r.prototype.setTrackingOptions=function(t){this.set(Qn.TRACKING_OPTIONS,t)},r}(co.a),El=Hu,Bi={name:"ol-geolocation",emits:["positionChanged","speedChanged","headingChanged","altitudeChanged","altitudeAccuracyChanged","accuracyGeometryChanged"],setup:function(r,t){var e=t.emit,n=Yt(r),o=n.properties,a=Object(N.computed)(function(){var k=new El(o);return k.on("change",M),k}),s=Object(N.ref)([]),u=Object(N.ref)(0),h=Object(N.ref)(0),d=Object(N.ref)(0),E=Object(N.ref)(0),b=Object(N.ref)(0),I=Object(N.ref)({});Object(N.watch)(s,function(){e("positionChanged",s.value)}),Object(N.watch)(E,function(){e("speedChanged",E.value)}),Object(N.watch)(b,function(){e("headingChanged",b.value)}),Object(N.watch)(h,function(){e("altitudeChanged",h.value)}),Object(N.watch)(d,function(){e("altitudeAccuracyChanged",d.value)}),Object(N.watch)(I,function(){e("accuracyGeometryChanged",I.value)});var M=function(){s.value=a.value.getPosition(),E.value=a.value.getSpeed(),b.value=a.value.getHeading(),u.value=a.value.getAccuracy(),h.value=a.value.getAltitude(),d.value=a.value.getAltitudeAccuracy(),I.value=a.value.getAccuracyGeometry()};return Object(N.watch)(a,function(k,et){et.un("change",M),k.on("change",M)}),{geoLoc:a,position:s,accuracy:u,altitude:h,altitudeAccuracy:d,speed:E,heading:b,accuracyGeometry:I}},props:{projection:{type:[String,Object],default:"EPSG:3857"},tracking:{type:Boolean,default:!0},trackingOptions:{type:Object,default:function(){return{enableHighAccuracy:!0}}}}},th=xt()(Bi,[["render",Os]]);function qc(i){qc.installed||(qc.installed=!0,i.component(Fe.name,Fe),i.component(Wr.name,Wr),i.component(pn.name,pn),i.component(na.name,na),i.component(th.name,th))}var eh=qc;function Jc(i,r,t,e,n,o){return Object(N.openBlock)(),Object(N.createBlock)("div",null,[Object(N.renderSlot)(i.$slots,"default")])}var Qa={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},ts=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xu=function(i){ts(r,i);function r(t){var e=this,n=t||{},o=Object(br.a)({},n);return delete o.preload,delete o.useInterimTilesOnError,e=i.call(this,o)||this,e.on,e.once,e.un,e.setPreload(n.preload!==void 0?n.preload:0),e.setUseInterimTilesOnError(n.useInterimTilesOnError!==void 0?n.useInterimTilesOnError:!0),e}return r.prototype.getPreload=function(){return this.get(Qa.PRELOAD)},r.prototype.setPreload=function(t){this.set(Qa.PRELOAD,t)},r.prototype.getUseInterimTilesOnError=function(){return this.get(Qa.USE_INTERIM_TILES_ON_ERROR)},r.prototype.setUseInterimTilesOnError=function(t){this.set(Qa.USE_INTERIM_TILES_ON_ERROR,t)},r}(w),Ku=Xu,Sn={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},Mo=c("35a7"),rv=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rh=function(i){rv(r,i);function r(t){var e=i.call(this)||this;return e.boundHandleImageChange_=e.handleImageChange_.bind(e),e.layer_=t,e.declutterExecutorGroup=null,e}return r.prototype.getFeatures=function(t){return Object(nt.b)()},r.prototype.prepareFrame=function(t){return Object(nt.b)()},r.prototype.renderFrame=function(t,e){return Object(nt.b)()},r.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},r.prototype.createLoadedTileFinder=function(t,e,n){return function(o,a){var s=this.loadedTileCallback.bind(this,n,o);return t.forEachLoadedTile(e,o,a,s)}.bind(this)},r.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,a){},r.prototype.getDataAtPixel=function(t,e,n){return Object(nt.b)()},r.prototype.getLayer=function(){return this.layer_},r.prototype.handleFontsChanged=function(){},r.prototype.handleImageChange_=function(t){var e=t.target;e.getState()===Sn.LOADED&&this.renderIfReadyAndVisible()},r.prototype.loadImage=function(t){var e=t.getState();return e!=Sn.LOADED&&e!=Sn.ERROR&&t.addEventListener(Dr.a.CHANGE,this.boundHandleImageChange_),e==Sn.IDLE&&(t.load(),e=t.getState()),e==Sn.LOADED},r.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==ps.READY&&t.changed()},r}(Mo.a),nh=rh,ih=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qc=function(i){ih(r,i);function r(t){var e=i.call(this,t)||this;return e.container=null,e.renderedResolution,e.tempTransform=$(),e.pixelTransform=$(),e.inversePixelTransform=$(),e.context=null,e.containerReused=!1,e}return r.prototype.useContainer=function(t,e,n){var o=this.getLayer().getClassName(),a,s;if(t&&t.style.opacity===""&&t.className===o){var u=t.firstElementChild;u instanceof HTMLCanvasElement&&(s=u.getContext("2d"))}if(s&&(s.canvas.width===0||s.canvas.style.transform===e)?(this.container=t,this.context=s,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){a=document.createElement("div"),a.className=o;var h=a.style;h.position="absolute",h.width="100%",h.height="100%",s=Object(be.a)();var u=s.canvas;a.appendChild(u),h=u.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=a,this.context=s}},r.prototype.clipUnrotated=function(t,e,n){var o=bi(n),a=mo(n),s=En(n),u=lr(n);me(e.coordinateToPixelTransform,o),me(e.coordinateToPixelTransform,a),me(e.coordinateToPixelTransform,s),me(e.coordinateToPixelTransform,u);var h=this.inversePixelTransform;me(h,o),me(h,a),me(h,s),me(h,u),t.save(),t.beginPath(),t.moveTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(u[0]),Math.round(u[1])),t.clip()},r.prototype.dispatchRenderEvent_=function(t,e,n){var o=this.getLayer();if(o.hasListener(t)){var a=new tr(t,this.inversePixelTransform,n,e);o.dispatchEvent(a)}},r.prototype.preRender=function(t,e){this.dispatchRenderEvent_(hs.PRERENDER,t,e)},r.prototype.postRender=function(t,e){this.dispatchRenderEvent_(hs.POSTRENDER,t,e)},r.prototype.getRenderTransform=function(t,e,n,o,a,s,u){var h=a/2,d=s/2,E=o/e,b=-E,I=-t[0]+u,M=-t[1];return ur(this.tempTransform,h,d,E,b,-n,I,M)},r.prototype.getDataAtPixel=function(t,e,n){var o=me(this.inversePixelTransform,t.slice()),a=this.context,s=this.getLayer(),u=s.getExtent();if(u){var h=me(e.pixelToCoordinateTransform,t.slice());if(!re(u,h))return null}var d;try{var E=Math.round(o[0]),b=Math.round(o[1]),I=document.createElement("canvas"),M=I.getContext("2d");I.width=1,I.height=1,M.clearRect(0,0,1,1),M.drawImage(a.canvas,E,b,1,1,0,0,1,1),d=M.getImageData(0,0,1,1).data}catch(k){return k.name==="SecurityError"?new Uint8Array:d}return d[3]===0?null:d},r}(nh),Pp=Qc,nv=function(){function i(r,t,e,n){this.minX=r,this.maxX=t,this.minY=e,this.maxY=n}return i.prototype.contains=function(r){return this.containsXY(r[1],r[2])},i.prototype.containsTileRange=function(r){return this.minX<=r.minX&&r.maxX<=this.maxX&&this.minY<=r.minY&&r.maxY<=this.maxY},i.prototype.containsXY=function(r,t){return this.minX<=r&&r<=this.maxX&&this.minY<=t&&t<=this.maxY},i.prototype.equals=function(r){return this.minX==r.minX&&this.minY==r.minY&&this.maxX==r.maxX&&this.maxY==r.maxY},i.prototype.extend=function(r){r.minX<this.minX&&(this.minX=r.minX),r.maxX>this.maxX&&(this.maxX=r.maxX),r.minY<this.minY&&(this.minY=r.minY),r.maxY>this.maxY&&(this.maxY=r.maxY)},i.prototype.getHeight=function(){return this.maxY-this.minY+1},i.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},i.prototype.getWidth=function(){return this.maxX-this.minX+1},i.prototype.intersects=function(r){return this.minX<=r.maxX&&this.maxX>=r.minX&&this.minY<=r.maxY&&this.maxY>=r.minY},i}();function wl(i,r,t,e,n){return n!==void 0?(n.minX=i,n.maxX=r,n.minY=t,n.maxY=e,n):new nv(i,r,t,e)}var Zs=nv,jy=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),iv=function(i){jy(r,i);function r(t){var e=i.call(this,t)||this;return e.extentChanged=!0,e.renderedExtent_=null,e.renderedPixelRatio,e.renderedProjection=null,e.renderedRevision,e.renderedTiles=[],e.newTiles_=!1,e.tmpExtent=ve(),e.tmpTileRange_=new Zs(0,0,0,0),e}return r.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),o=e.getUseInterimTilesOnError();return n==Cr.LOADED||n==Cr.EMPTY||n==Cr.ERROR&&!o},r.prototype.getTile=function(t,e,n,o){var a=o.pixelRatio,s=o.viewState.projection,u=this.getLayer(),h=u.getSource(),d=h.getTile(t,e,n,a,s);return d.getState()==Cr.ERROR&&(u.getUseInterimTilesOnError()?u.getPreload()>0&&(this.newTiles_=!0):d.setState(Cr.LOADED)),this.isDrawableTile(d)||(d=d.getInterimTile()),d},r.prototype.loadedTileCallback=function(t,e,n){return this.isDrawableTile(n)?i.prototype.loadedTileCallback.call(this,t,e,n):!1},r.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},r.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],o=t.viewState,a=o.projection,s=o.resolution,u=o.center,h=o.rotation,d=t.pixelRatio,E=this.getLayer(),b=E.getSource(),I=b.getRevision(),M=b.getTileGridForProjection(a),k=M.getZForResolution(s,b.zDirection),et=M.getResolution(k),ht=t.extent,Lt=n.extent&&La(n.extent);Lt&&(ht=Kn(ht,La(n.extent)));var It=b.getTilePixelRatio(d),wt=Math.round(t.size[0]*It),oe=Math.round(t.size[1]*It);if(h){var se=Math.round(Math.sqrt(wt*wt+oe*oe));wt=se,oe=se}var de=et*wt/2/It,Se=et*oe/2/It,Ie=[u[0]-de,u[1]-Se,u[0]+de,u[1]+Se],He=M.getTileRangeForExtentAndZ(ht,k),De={};De[k]={};var ye=this.createLoadedTileFinder(b,a,De),Qe=this.tmpExtent,Ar=this.tmpTileRange_;this.newTiles_=!1;for(var Tr=He.minX;Tr<=He.maxX;++Tr)for(var kr=He.minY;kr<=He.maxY;++kr){var Fr=this.getTile(k,Tr,kr,t);if(this.isDrawableTile(Fr)){var On=Object(nt.c)(this);if(Fr.getState()==Cr.LOADED){De[k][Fr.tileCoord.toString()]=Fr;var Nn=Fr.inTransition(On);!this.newTiles_&&(Nn||this.renderedTiles.indexOf(Fr)===-1)&&(this.newTiles_=!0)}if(Fr.getAlpha(On,t.time)===1)continue}var An=M.getTileCoordChildTileRange(Fr.tileCoord,Ar,Qe),ri=!1;An&&(ri=ye(k+1,An)),ri||M.forEachTileCoordParentTileRange(Fr.tileCoord,ye,Ar,Qe)}var er=et/s;ur(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/It,1/It,h,-wt/2,-oe/2);var go=Dn(this.pixelTransform);this.useContainer(e,go,n.opacity);var Mn=this.context,_i=Mn.canvas;Zn(this.inversePixelTransform,this.pixelTransform),ur(this.tempTransform,wt/2,oe/2,er,er,0,-wt/2,-oe/2),_i.width!=wt||_i.height!=oe?(_i.width=wt,_i.height=oe):this.containerReused||Mn.clearRect(0,0,wt,oe),Lt&&this.clipUnrotated(Mn,t,Lt),Object(br.a)(Mn,b.getContextOptions()),this.preRender(Mn,t),this.renderedTiles.length=0;var Do=Object.keys(De).map(Number);Do.sort(vr.i);var Lo,uo,ya;n.opacity===1&&(!this.containerReused||b.getOpaque(t.viewState.projection))?Do=Do.reverse():(Lo=[],uo=[]);for(var an=Do.length-1;an>=0;--an){var Jr=Do[an],Bo=b.getTilePixelSize(Jr,d,a),cc=M.getResolution(Jr),fc=cc/et,Rh=Bo[0]*fc*er,Sg=Bo[1]*fc*er,Qp=M.getTileCoordForCoordAndZ(bi(Ie),Jr),Eg=M.getTileCoordExtent(Qp),vf=me(this.tempTransform,[It*(Eg[0]-Ie[0])/et,It*(Ie[3]-Eg[3])/et]),td=It*b.getGutterForProjection(a),wg=De[Jr];for(var Ih in wg){var Fr=wg[Ih],hc=Fr.tileCoord,Nh=Qp[1]-hc[1],d_=Math.round(vf[0]-(Nh-1)*Rh),xg=Qp[2]-hc[2],ed=Math.round(vf[1]-(xg-1)*Sg),Tr=Math.round(vf[0]-Nh*Rh),kr=Math.round(vf[1]-xg*Sg),pc=d_-Tr,fu=ed-kr,gf=k===Jr,Nn=gf&&Fr.getAlpha(Object(nt.c)(this),t.time)!==1;if(!Nn)if(Lo){Mn.save(),ya=[Tr,kr,Tr+pc,kr,Tr+pc,kr+fu,Tr,kr+fu];for(var Mh=0,il=Lo.length;Mh<il;++Mh)if(k!==Jr&&Jr<uo[Mh]){var al=Lo[Mh];Mn.beginPath(),Mn.moveTo(ya[0],ya[1]),Mn.lineTo(ya[2],ya[3]),Mn.lineTo(ya[4],ya[5]),Mn.lineTo(ya[6],ya[7]),Mn.moveTo(al[6],al[7]),Mn.lineTo(al[4],al[5]),Mn.lineTo(al[2],al[3]),Mn.lineTo(al[0],al[1]),Mn.clip()}Lo.push(ya),uo.push(Jr)}else Mn.clearRect(Tr,kr,pc,fu);this.drawTileImage(Fr,t,Tr,kr,pc,fu,td,gf,n.opacity),Lo&&!Nn?(Mn.restore(),this.renderedTiles.unshift(Fr)):this.renderedTiles.push(Fr),this.updateUsedTiles(t.usedTiles,b,Fr)}}return this.renderedRevision=I,this.renderedResolution=et,this.extentChanged=!this.renderedExtent_||!Gr(this.renderedExtent_,Ie),this.renderedExtent_=Ie,this.renderedPixelRatio=d,this.renderedProjection=a,this.manageTilePyramid(t,b,M,d,a,ht,k,E.getPreload()),this.scheduleExpireCache(t,b),this.postRender(Mn,t),n.extent&&Mn.restore(),go!==_i.style.transform&&(_i.style.transform=go),this.container},r.prototype.drawTileImage=function(t,e,n,o,a,s,u,h,d){var E=this.getTileImage(t);if(!!E){var b=Object(nt.c)(this),I=h?t.getAlpha(b,e.time):1,M=d*I,k=M!==this.context.globalAlpha;k&&(this.context.save(),this.context.globalAlpha=M),this.context.drawImage(E,u,u,E.width-2*u,E.height-2*u,n,o,a,s),k&&this.context.restore(),I!==1?e.animate=!0:h&&t.endTransition(b)}},r.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},r.prototype.getTileImage=function(t){return t.getImage()},r.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(o,a,s){var u=Object(nt.c)(o);u in s.usedTiles&&o.expireCache(s.viewState.projection,s.usedTiles[u])}.bind(null,e);t.postRenderFunctions.push(n)}},r.prototype.updateUsedTiles=function(t,e,n){var o=Object(nt.c)(e);o in t||(t[o]={}),t[o][n.getKey()]=!0},r.prototype.manageTilePyramid=function(t,e,n,o,a,s,u,h,d){var E=Object(nt.c)(e);E in t.wantedTiles||(t.wantedTiles[E]={});var b=t.wantedTiles[E],I=t.tileQueue,M=n.getMinZoom(),k=0,et,ht,Lt,It,wt,oe;for(oe=M;oe<=u;++oe)for(ht=n.getTileRangeForExtentAndZ(s,oe,ht),Lt=n.getResolution(oe),It=ht.minX;It<=ht.maxX;++It)for(wt=ht.minY;wt<=ht.maxY;++wt)u-oe<=h?(++k,et=e.getTile(oe,It,wt,o,a),et.getState()==Cr.IDLE&&(b[et.getKey()]=!0,I.isKeyQueued(et.getKey())||I.enqueue([et,E,n.getTileCoordCenter(et.tileCoord),Lt])),d!==void 0&&d(et)):e.useTile(oe,It,wt,a);e.updateCacheSize(k,a)},r}(Pp);iv.prototype.getLayer;var ov=iv,av=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oh=function(i){av(r,i);function r(t){return i.call(this,t)||this}return r.prototype.createRenderer=function(){return new ov(this)},r}(Ku),ah=oh;function sv(i,r,t,e,n,o){return Object(N.openBlock)(),Object(N.createBlock)("div")}var sh={props:{className:{type:String,default:"ol-layer"},opacity:{type:Number,default:1},visible:{type:Boolean,default:!0},extent:{type:Array},zIndex:{type:Number},minResolution:{type:Number},maxResolution:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},title:{type:String},name:{type:String},preview:{type:String},baseLayer:{type:Boolean},properties:{type:Object,default:function(){}}}},xl=xt()(sh,[["render",sv]]),uv={extends:xl,name:"ol-tile-layer",setup:function(r){var t=Object(N.inject)("map"),e=Object(N.inject)("overviewMap",null),n=Yt(r),o=n.properties,a=Object(N.computed)(function(){return new ah(o)}),s=function(){e!=null?(e.value.getOverviewMap().addLayer(a.value),e.value.changed()):t.addLayer(a.value)},u=function(){e!=null?(e.value.getOverviewMap().removeLayer(a.value),e.value.changed()):t.removeLayer(a.value)};return e!=null&&Object(N.watch)(e,function(){u(),s()}),Object(N.onMounted)(function(){s()}),Object(N.onUnmounted)(function(){u()}),Object(N.provide)("tileLayer",a),{tileLayer:a}},props:{preload:{type:Number,default:1}}},Zu=xt()(uv,[["render",Jc]]);function cv(i,r,t,e,n,o){return Object(N.openBlock)(),Object(N.createBlock)("div",null,[Object(N.renderSlot)(i.$slots,"default")])}var Rp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ol=function(i){Rp(r,i);function r(t){var e=this,n=t||{};return e=i.call(this,n)||this,e}return r}(w),fv=Ol,Ip=.5,Dy=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hv=function(i){Dy(r,i);function r(t){var e=i.call(this,t)||this;return e.image_=null,e}return r.prototype.getImage=function(){return this.image_?this.image_.getImage():null},r.prototype.prepareFrame=function(t){var e=t.layerStatesArray[t.layerIndex],n=t.pixelRatio,o=t.viewState,a=o.resolution,s=this.getLayer().getSource(),u=t.viewHints,h=t.extent;if(e.extent!==void 0&&(h=Kn(h,La(e.extent,o.projection))),!u[Fn.ANIMATING]&&!u[Fn.INTERACTING]&&!_o(h))if(s){var d=o.projection,E=s.getImage(h,a,n,d);E&&this.loadImage(E)&&(this.image_=E)}else this.image_=null;return!!this.image_},r.prototype.renderFrame=function(t,e){var n=this.image_,o=n.getExtent(),a=n.getResolution(),s=n.getPixelRatio(),u=t.layerStatesArray[t.layerIndex],h=t.pixelRatio,d=t.viewState,E=d.center,b=d.resolution,I=t.size,M=h*a/(b*s),k=Math.round(I[0]*h),et=Math.round(I[1]*h),ht=d.rotation;if(ht){var Lt=Math.round(Math.sqrt(k*k+et*et));k=Lt,et=Lt}ur(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/h,1/h,ht,-k/2,-et/2),Zn(this.inversePixelTransform,this.pixelTransform);var It=Dn(this.pixelTransform);this.useContainer(e,It,u.opacity);var wt=this.context,oe=wt.canvas;oe.width!=k||oe.height!=et?(oe.width=k,oe.height=et):this.containerReused||wt.clearRect(0,0,k,et);var se=!1,de=!0;if(u.extent){var Se=La(u.extent,d.projection);de=Gn(Se,t.extent),se=de&&!he(Se,t.extent),se&&this.clipUnrotated(wt,t,Se)}var Ie=n.getImage(),He=ur(this.tempTransform,k/2,et/2,M,M,0,s*(o[0]-E[0])/a,s*(E[1]-o[3])/a);this.renderedResolution=a*h/s;var De=Ie.width*He[0],ye=Ie.height*He[3];if(Object(br.a)(wt,this.getLayer().getSource().getContextOptions()),this.preRender(wt,t),de&&De>=.5&&ye>=.5){var Qe=He[4],Ar=He[5],Tr=u.opacity,kr=void 0;Tr!==1&&(kr=wt.globalAlpha,wt.globalAlpha=Tr),wt.drawImage(Ie,0,0,+Ie.width,+Ie.height,Math.round(Qe),Math.round(Ar),Math.round(De),Math.round(ye)),Tr!==1&&(wt.globalAlpha=kr)}return this.postRender(wt,t),se&&wt.restore(),It!==oe.style.transform&&(oe.style.transform=It),this.container},r}(Pp),$u=hv,By=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pv=function(i){By(r,i);function r(t){return i.call(this,t)||this}return r.prototype.createRenderer=function(){return new $u(this)},r}(fv),dv=pv,vv={extends:xl,name:"ol-image-layer",setup:function(r){var t=Object(N.inject)("map"),e=Yt(r),n=e.properties,o=new dv(n);return Object(N.watch)(n,function(){o.setProperties(n)}),Object(N.onMounted)(function(){t.addLayer(o)}),Object(N.onUnmounted)(function(){t.removeLayer(o)}),Object(N.provide)("imageLayer",o),{imageLayer:o}}},ru=xt()(vv,[["render",cv]]);function Np(i,r,t,e,n,o){return Object(N.openBlock)(),Object(N.createBlock)("div",null,[Object(N.renderSlot)(i.$slots,"default")])}var lh=c("25a5"),Ts=c.n(lh),Tl=function(){function i(r){this.opacity_=r.opacity,this.rotateWithView_=r.rotateWithView,this.rotation_=r.rotation,this.scale_=r.scale,this.scaleArray_=_n(r.scale),this.displacement_=r.displacement}return i.prototype.clone=function(){var r=this.getScale();return new i({opacity:this.getOpacity(),scale:Array.isArray(r)?r.slice():r,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},i.prototype.getOpacity=function(){return this.opacity_},i.prototype.getRotateWithView=function(){return this.rotateWithView_},i.prototype.getRotation=function(){return this.rotation_},i.prototype.getScale=function(){return this.scale_},i.prototype.getScaleArray=function(){return this.scaleArray_},i.prototype.getDisplacement=function(){return this.displacement_},i.prototype.getAnchor=function(){return Object(nt.b)()},i.prototype.getImage=function(r){return Object(nt.b)()},i.prototype.getHitDetectionImage=function(){return Object(nt.b)()},i.prototype.getPixelRatio=function(r){return 1},i.prototype.getImageState=function(){return Object(nt.b)()},i.prototype.getImageSize=function(){return Object(nt.b)()},i.prototype.getOrigin=function(){return Object(nt.b)()},i.prototype.getSize=function(){return Object(nt.b)()},i.prototype.setOpacity=function(r){this.opacity_=r},i.prototype.setRotateWithView=function(r){this.rotateWithView_=r},i.prototype.setRotation=function(r){this.rotation_=r},i.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=_n(r)},i.prototype.listenImageChange=function(r){Object(nt.b)()},i.prototype.load=function(){Object(nt.b)()},i.prototype.unlistenImageChange=function(r){Object(nt.b)()},i}(),$s=Tl;function pa(i){return Array.isArray(i)?Ha(i):i}var Mp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gv=function(i){Mp(r,i);function r(t){var e=this,n=t.rotateWithView!==void 0?t.rotateWithView:!1;return e=i.call(this,{opacity:1,rotateWithView:n,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0]})||this,e.canvas_=void 0,e.hitDetectionCanvas_=null,e.fill_=t.fill!==void 0?t.fill:null,e.origin_=[0,0],e.points_=t.points,e.radius_=t.radius!==void 0?t.radius:t.radius1,e.radius2_=t.radius2,e.angle_=t.angle!==void 0?t.angle:0,e.stroke_=t.stroke!==void 0?t.stroke:null,e.anchor_=null,e.size_=null,e.renderOptions_=null,e.render(),e}return r.prototype.clone=function(){var t=this.getScale(),e=new r({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return e.setOpacity(this.getOpacity()),e},r.prototype.getAnchor=function(){return this.anchor_},r.prototype.getAngle=function(){return this.angle_},r.prototype.getFill=function(){return this.fill_},r.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},r.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var n=this.renderOptions_,o=Object(be.a)(n.size*t,n.size*t);this.draw_(n,o,t),e=o.canvas,this.canvas_[t]=e}return e},r.prototype.getPixelRatio=function(t){return t},r.prototype.getImageSize=function(){return this.size_},r.prototype.getImageState=function(){return Sn.LOADED},r.prototype.getOrigin=function(){return this.origin_},r.prototype.getPoints=function(){return this.points_},r.prototype.getRadius=function(){return this.radius_},r.prototype.getRadius2=function(){return this.radius2_},r.prototype.getSize=function(){return this.size_},r.prototype.getStroke=function(){return this.stroke_},r.prototype.listenImageChange=function(t){},r.prototype.load=function(){},r.prototype.unlistenImageChange=function(t){},r.prototype.calculateLineJoinSize_=function(t,e,n){if(e===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return e;var o=this.radius_,a=this.radius2_===void 0?o:this.radius2_;if(o<a){var s=o;o=a,a=s}var u=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/u,d=a*Math.sin(h),E=Math.sqrt(a*a-d*d),b=o-E,I=Math.sqrt(d*d+b*b),M=I/d;if(t==="miter"&&M<=n)return M*e;var k=e/2/M,et=e/2*(b/I),ht=Math.sqrt((o+k)*(o+k)+et*et),Lt=ht-o;if(this.radius2_===void 0||t==="bevel")return Lt*2;var It=o*Math.sin(h),wt=Math.sqrt(o*o-It*It),oe=a-wt,se=Math.sqrt(It*It+oe*oe),de=se/It;if(de<=n){var Se=de*e/2-a-o;return 2*Math.max(Lt,Se)}return Lt*2},r.prototype.createRenderOptions=function(){var t=Jt,e=0,n=null,o=0,a,s=0;this.stroke_&&(a=this.stroke_.getColor(),a===null&&(a=_e),a=pa(a),s=this.stroke_.getWidth(),s===void 0&&(s=cr),n=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=Jt),e=this.stroke_.getMiterLimit(),e===void 0&&(e=ae));var u=this.calculateLineJoinSize_(t,s,e),h=Math.max(this.radius_,this.radius2_||0),d=Math.ceil(2*h+u);return{strokeStyle:a,strokeWidth:s,size:d,lineDash:n,lineDashOffset:o,lineJoin:t,miterLimit:e}},r.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size,e=this.getDisplacement();this.canvas_={},this.anchor_=[t/2-e[0],t/2+e[1]],this.size_=[t,t]},r.prototype.draw_=function(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var o=this.fill_.getColor();o===null&&(o=J),e.fillStyle=pa(o),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},r.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),n=0;if(typeof e=="string"&&(e=Ea(e)),e===null?n=1:Array.isArray(e)&&(n=e.length===4?e[3]:1),n===0){var o=Object(be.a)(t.size,t.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(t,o)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},r.prototype.createPath_=function(t){var e=this.points_,n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{var o=this.radius2_===void 0?n:this.radius2_;this.radius2_!==void 0&&(e*=2);for(var a=this.angle_-Math.PI/2,s=2*Math.PI/e,u=0;u<e;u++){var h=a+u*s,d=u%2==0?n:o;t.lineTo(d*Math.cos(h),d*Math.sin(h))}t.closePath()}},r.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=J,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},r}($s),uh=gv,Fp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jp=function(i){Fp(r,i);function r(t){var e=this,n=t||{};return e=i.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:n.scale!==void 0?n.scale:1,rotation:n.rotation!==void 0?n.rotation:0,rotateWithView:n.rotateWithView!==void 0?n.rotateWithView:!1,displacement:n.displacement!==void 0?n.displacement:[0,0]})||this,e}return r.prototype.clone=function(){var t=this.getScale(),e=new r({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return e.setOpacity(this.getOpacity()),e},r.prototype.setRadius=function(t){this.radius_=t,this.render()},r}(uh),Dp=jp,lx=function(){function i(r){var t=r||{};this.color_=t.color!==void 0?t.color:null}return i.prototype.clone=function(){var r=this.getColor();return new i({color:Array.isArray(r)?r.slice():r||void 0})},i.prototype.getColor=function(){return this.color_},i.prototype.setColor=function(r){this.color_=r},i}(),zo=lx,ux=function(){function i(r){var t=r||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return i.prototype.clone=function(){var r=this.getColor();return new i({color:Array.isArray(r)?r.slice():r||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},i.prototype.getColor=function(){return this.color_},i.prototype.getLineCap=function(){return this.lineCap_},i.prototype.getLineDash=function(){return this.lineDash_},i.prototype.getLineDashOffset=function(){return this.lineDashOffset_},i.prototype.getLineJoin=function(){return this.lineJoin_},i.prototype.getMiterLimit=function(){return this.miterLimit_},i.prototype.getWidth=function(){return this.width_},i.prototype.setColor=function(r){this.color_=r},i.prototype.setLineCap=function(r){this.lineCap_=r},i.prototype.setLineDash=function(r){this.lineDash_=r},i.prototype.setLineDashOffset=function(r){this.lineDashOffset_=r},i.prototype.setLineJoin=function(r){this.lineJoin_=r},i.prototype.setMiterLimit=function(r){this.miterLimit_=r},i.prototype.setWidth=function(r){this.width_=r},i}(),To=ux,ch=function(){function i(r){var t=r||{};this.geometry_=null,this.geometryFunction_=j1,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return i.prototype.clone=function(){var r=this.getGeometry();return r&&typeof r=="object"&&(r=r.clone()),new i({geometry:r,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},i.prototype.getRenderer=function(){return this.renderer_},i.prototype.setRenderer=function(r){this.renderer_=r},i.prototype.getGeometry=function(){return this.geometry_},i.prototype.getGeometryFunction=function(){return this.geometryFunction_},i.prototype.getFill=function(){return this.fill_},i.prototype.setFill=function(r){this.fill_=r},i.prototype.getImage=function(){return this.image_},i.prototype.setImage=function(r){this.image_=r},i.prototype.getStroke=function(){return this.stroke_},i.prototype.setStroke=function(r){this.stroke_=r},i.prototype.getText=function(){return this.text_},i.prototype.setText=function(r){this.text_=r},i.prototype.getZIndex=function(){return this.zIndex_},i.prototype.setGeometry=function(r){typeof r=="function"?this.geometryFunction_=r:typeof r=="string"?this.geometryFunction_=function(t){return t.get(r)}:r?r!==void 0&&(this.geometryFunction_=function(){return r}):this.geometryFunction_=j1,this.geometry_=r},i.prototype.setZIndex=function(r){this.zIndex_=r},i}();function cx(i){var r;if(typeof i=="function")r=i;else{var t;if(Array.isArray(i))t=i;else{Qt(typeof i.getZIndex=="function",41);var e=i;t=[e]}r=function(){return t}}return r}var Gy=null;function fx(i,r){if(!Gy){var t=new zo({color:"rgba(255,255,255,0.4)"}),e=new To({color:"#3399CC",width:1.25});Gy=[new ch({image:new Dp({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return Gy}function Uy(){var i={},r=[255,255,255,1],t=[0,153,255,1],e=3;return i[Xt.POLYGON]=[new ch({fill:new zo({color:[255,255,255,.5]})})],i[Xt.MULTI_POLYGON]=i[Xt.POLYGON],i[Xt.LINE_STRING]=[new ch({stroke:new To({color:r,width:e+2})}),new ch({stroke:new To({color:t,width:e})})],i[Xt.MULTI_LINE_STRING]=i[Xt.LINE_STRING],i[Xt.CIRCLE]=i[Xt.POLYGON].concat(i[Xt.LINE_STRING]),i[Xt.POINT]=[new ch({image:new Dp({radius:e*2,fill:new zo({color:t}),stroke:new To({color:r,width:e/2})}),zIndex:1/0})],i[Xt.MULTI_POINT]=i[Xt.POINT],i[Xt.GEOMETRY_COLLECTION]=i[Xt.POLYGON].concat(i[Xt.LINE_STRING],i[Xt.POINT]),i}function j1(i){return i.getGeometry()}var Yo=ch,hx=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),D1={RENDER_ORDER:"renderOrder"},px=function(i){hx(r,i);function r(t){var e=this,n=t||{},o=Object(br.a)({},n);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,e=i.call(this,o)||this,e.declutter_=n.declutter!==void 0?n.declutter:!1,e.renderBuffer_=n.renderBuffer!==void 0?n.renderBuffer:100,e.style_=null,e.styleFunction_=void 0,e.setStyle(n.style),e.updateWhileAnimating_=n.updateWhileAnimating!==void 0?n.updateWhileAnimating:!1,e.updateWhileInteracting_=n.updateWhileInteracting!==void 0?n.updateWhileInteracting:!1,e}return r.prototype.getDeclutter=function(){return this.declutter_},r.prototype.getFeatures=function(t){return i.prototype.getFeatures.call(this,t)},r.prototype.getRenderBuffer=function(){return this.renderBuffer_},r.prototype.getRenderOrder=function(){return this.get(D1.RENDER_ORDER)},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},r.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},r.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new Ts.a(9)),this.getRenderer().renderDeclutter(t)},r.prototype.setRenderOrder=function(t){this.set(D1.RENDER_ORDER,t)},r.prototype.setStyle=function(t){this.style_=t!==void 0?t:fx,this.styleFunction_=t===null?void 0:cx(this.style_),this.changed()},r}(w),ky=px,Bp={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},yv=[Bp.FILL],qu=[Bp.STROKE],tf=[Bp.BEGIN_PATH],B1=[Bp.CLOSE_PATH],gn=Bp,dx=function(){function i(){}return i.prototype.drawCustom=function(r,t,e){},i.prototype.drawGeometry=function(r){},i.prototype.setStyle=function(r){},i.prototype.drawCircle=function(r,t){},i.prototype.drawFeature=function(r,t){},i.prototype.drawGeometryCollection=function(r,t){},i.prototype.drawLineString=function(r,t){},i.prototype.drawMultiLineString=function(r,t){},i.prototype.drawMultiPoint=function(r,t){},i.prototype.drawMultiPolygon=function(r,t){},i.prototype.drawPoint=function(r,t){},i.prototype.drawPolygon=function(r,t){},i.prototype.drawText=function(r,t){},i.prototype.setFillStrokeStyle=function(r,t){},i.prototype.setImageStyle=function(r,t){},i.prototype.setTextStyle=function(r,t){},i}(),G1=dx,vx=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gx=function(i){vx(r,i);function r(t,e,n,o){var a=i.call(this)||this;return a.tolerance=t,a.maxExtent=e,a.pixelRatio=o,a.maxLineWidth=0,a.resolution=n,a.beginGeometryInstruction1_=null,a.beginGeometryInstruction2_=null,a.bufferedMaxExtent_=null,a.instructions=[],a.coordinates=[],a.tmpCoordinate_=[],a.hitDetectionInstructions=[],a.state={},a}return r.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return e==1?t:t.map(function(n){return n*e})},r.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,a=this.coordinates,s=a.length,u=0,h=t.length;u<h;u+=e)o[0]=t[u],o[1]=t[u+1],re(n,o)&&(a[s++]=o[0],a[s++]=o[1]);return s},r.prototype.appendFlatLineCoordinates=function(t,e,n,o,a,s){var u=this.coordinates,h=u.length,d=this.getBufferedMaxExtent();s&&(e+=o);var E=t[e],b=t[e+1],I=this.tmpCoordinate_,M=!0,k,et,ht;for(k=e+o;k<n;k+=o)I[0]=t[k],I[1]=t[k+1],ht=Le(d,I),ht!==et?(M&&(u[h++]=E,u[h++]=b,M=!1),u[h++]=I[0],u[h++]=I[1]):ht===ni.INTERSECTING?(u[h++]=I[0],u[h++]=I[1],M=!1):M=!0,E=I[0],b=I[1],et=ht;return(a&&M||k===e+o)&&(u[h++]=E,u[h++]=b),h},r.prototype.drawCustomCoordinates_=function(t,e,n,o,a){for(var s=0,u=n.length;s<u;++s){var h=n[s],d=this.appendFlatLineCoordinates(t,e,h,o,!1,!1);a.push(d),e=h}return e},r.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var o=t.getType(),a=t.getStride(),s=this.coordinates.length,u,h,d,E,b;if(o==Xt.MULTI_POLYGON){u=t.getOrientedFlatCoordinates(),E=[];var I=t.getEndss();b=0;for(var M=0,k=I.length;M<k;++M){var et=[];b=this.drawCustomCoordinates_(u,b,I[M],a,et),E.push(et)}this.instructions.push([gn.CUSTOM,s,E,t,n,Un])}else o==Xt.POLYGON||o==Xt.MULTI_LINE_STRING?(d=[],u=o==Xt.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),b=this.drawCustomCoordinates_(u,0,t.getEnds(),a,d),this.instructions.push([gn.CUSTOM,s,d,t,n,nn])):o==Xt.LINE_STRING||o==Xt.CIRCLE?(u=t.getFlatCoordinates(),h=this.appendFlatLineCoordinates(u,0,u.length,a,!1,!1),this.instructions.push([gn.CUSTOM,s,h,t,n,hn])):o==Xt.MULTI_POINT?(u=t.getFlatCoordinates(),h=this.appendFlatPointCoordinates(u,a),h>s&&this.instructions.push([gn.CUSTOM,s,h,t,n,hn])):o==Xt.POINT&&(u=t.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),h=this.coordinates.length,this.instructions.push([gn.CUSTOM,s,h,t,n]));this.endGeometry(e)},r.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[gn.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[gn.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},r.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},r.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var e,n=t.length,o,a,s=-1;for(e=0;e<n;++e)o=t[e],a=o[0],a==gn.END_GEOMETRY?s=e:a==gn.BEGIN_GEOMETRY&&(o[2]=e,Object(vr.j)(this.hitDetectionInstructions,s,e),s=-1)},r.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var o=t.getColor();n.fillStyle=pa(o||J)}else n.fillStyle=void 0;if(e){var a=e.getColor();n.strokeStyle=pa(a||_e);var s=e.getLineCap();n.lineCap=s!==void 0?s:Mt;var u=e.getLineDash();n.lineDash=u?u.slice():Gt;var h=e.getLineDashOffset();n.lineDashOffset=h||Bt;var d=e.getLineJoin();n.lineJoin=d!==void 0?d:Jt;var E=e.getWidth();n.lineWidth=E!==void 0?E:cr;var b=e.getMiterLimit();n.miterLimit=b!==void 0?b:ae,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},r.prototype.createFill=function(t){var e=t.fillStyle,n=[gn.SET_FILL_STYLE,e];return typeof e!="string"&&n.push(!0),n},r.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},r.prototype.createStroke=function(t){return[gn.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},r.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;(typeof n!="string"||t.currentFillStyle!=n)&&(n!==void 0&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},r.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,o=t.lineCap,a=t.lineDash,s=t.lineDashOffset,u=t.lineJoin,h=t.lineWidth,d=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=o||a!=t.currentLineDash&&!Object(vr.b)(t.currentLineDash,a)||t.currentLineDashOffset!=s||t.currentLineJoin!=u||t.currentLineWidth!=h||t.currentMiterLimit!=d)&&(n!==void 0&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=o,t.currentLineDash=a,t.currentLineDashOffset=s,t.currentLineJoin=u,t.currentLineWidth=h,t.currentMiterLimit=d)},r.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[gn.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},r.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Rt(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;yt(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},r}(G1),Gp=gx,yx=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mx=function(i){yx(r,i);function r(t,e,n,o){var a=i.call(this,t,e,n,o)||this;return a.hitDetectionImage_=null,a.image_=null,a.imagePixelRatio_=void 0,a.anchorX_=void 0,a.anchorY_=void 0,a.height_=void 0,a.opacity_=void 0,a.originX_=void 0,a.originY_=void 0,a.rotateWithView_=void 0,a.rotation_=void 0,a.scale_=void 0,a.width_=void 0,a.declutterImageWithText_=void 0,a}return r.prototype.drawPoint=function(t,e){if(!!this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),o=t.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(n,o);this.instructions.push([gn.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([gn.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},r.prototype.drawMultiPoint=function(t,e){if(!!this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),o=t.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(n,o);this.instructions.push([gn.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([gn.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},r.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,i.prototype.finish.call(this)},r.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),o=t.getSize(),a=t.getHitDetectionImage(),s=t.getImage(this.pixelRatio),u=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=a,this.image_=s,this.height_=o[1],this.opacity_=t.getOpacity(),this.originX_=u[0],this.originY_=u[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=o[0],this.declutterImageWithText_=e},r}(Gp),_x=mx,Sx=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ex=function(i){Sx(r,i);function r(t,e,n,o){return i.call(this,t,e,n,o)||this}return r.prototype.drawFlatCoordinates_=function(t,e,n,o){var a=this.coordinates.length,s=this.appendFlatLineCoordinates(t,e,n,o,!1,!1),u=[gn.MOVE_TO_LINE_TO,a,s];return this.instructions.push(u),this.hitDetectionInstructions.push(u),n},r.prototype.drawLineString=function(t,e){var n=this.state,o=n.strokeStyle,a=n.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([gn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Gt,Bt],tf);var s=t.getFlatCoordinates(),u=t.getStride();this.drawFlatCoordinates_(s,0,s.length,u),this.hitDetectionInstructions.push(qu),this.endGeometry(e)}},r.prototype.drawMultiLineString=function(t,e){var n=this.state,o=n.strokeStyle,a=n.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([gn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],tf);for(var s=t.getEnds(),u=t.getFlatCoordinates(),h=t.getStride(),d=0,E=0,b=s.length;E<b;++E)d=this.drawFlatCoordinates_(u,d,s[E],h);this.hitDetectionInstructions.push(qu),this.endGeometry(e)}},r.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(qu),this.reverseHitDetectionInstructions(),this.state=null,i.prototype.finish.call(this)},r.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(qu),t.lastStroke=this.coordinates.length),t.lastStroke=0,i.prototype.applyStroke.call(this,t),this.instructions.push(tf)},r}(Gp),wx=Ex,xx=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ox=function(i){xx(r,i);function r(t,e,n,o){return i.call(this,t,e,n,o)||this}return r.prototype.drawFlatCoordinatess_=function(t,e,n,o){var a=this.state,s=a.fillStyle!==void 0,u=a.strokeStyle!==void 0,h=n.length;this.instructions.push(tf),this.hitDetectionInstructions.push(tf);for(var d=0;d<h;++d){var E=n[d],b=this.coordinates.length,I=this.appendFlatLineCoordinates(t,e,E,o,!0,!u),M=[gn.MOVE_TO_LINE_TO,b,I];this.instructions.push(M),this.hitDetectionInstructions.push(M),u&&(this.instructions.push(B1),this.hitDetectionInstructions.push(B1)),e=E}return s&&(this.instructions.push(yv),this.hitDetectionInstructions.push(yv)),u&&(this.instructions.push(qu),this.hitDetectionInstructions.push(qu)),e},r.prototype.drawCircle=function(t,e){var n=this.state,o=n.fillStyle,a=n.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([gn.SET_FILL_STYLE,J]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([gn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var s=t.getFlatCoordinates(),u=t.getStride(),h=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,u,!1,!1);var d=[gn.CIRCLE,h];this.instructions.push(tf,d),this.hitDetectionInstructions.push(tf,d),n.fillStyle!==void 0&&(this.instructions.push(yv),this.hitDetectionInstructions.push(yv)),n.strokeStyle!==void 0&&(this.instructions.push(qu),this.hitDetectionInstructions.push(qu)),this.endGeometry(e)}},r.prototype.drawPolygon=function(t,e){var n=this.state,o=n.fillStyle,a=n.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([gn.SET_FILL_STYLE,J]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([gn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var s=t.getEnds(),u=t.getOrientedFlatCoordinates(),h=t.getStride();this.drawFlatCoordinatess_(u,0,s,h),this.endGeometry(e)}},r.prototype.drawMultiPolygon=function(t,e){var n=this.state,o=n.fillStyle,a=n.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([gn.SET_FILL_STYLE,J]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([gn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var s=t.getEndss(),u=t.getOrientedFlatCoordinates(),h=t.getStride(),d=0,E=0,b=s.length;E<b;++E)d=this.drawFlatCoordinatess_(u,d,s[E],h);this.endGeometry(e)}},r.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var e=this.coordinates,n=0,o=e.length;n<o;++n)e[n]=xe(e[n],t);return i.prototype.finish.call(this)},r.prototype.setFillStrokeStyles_=function(){var t=this.state,e=t.fillStyle;e!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},r}(Gp),U1=Ox,k1={POINT:"point",LINE:"line"};function Tx(i,r,t,e,n){var o=t,a=t,s=0,u=0,h=t,d,E,b,I,M,k,et,ht,Lt,It;for(E=t;E<e;E+=n){var wt=r[E],oe=r[E+1];M!==void 0&&(Lt=wt-M,It=oe-k,I=Math.sqrt(Lt*Lt+It*It),et!==void 0&&(u+=b,d=Math.acos((et*Lt+ht*It)/(b*I)),d>i&&(u>s&&(s=u,o=h,a=E),u=0,h=E-n)),b=I,et=Lt,ht=It),M=wt,k=oe}return u+=I,u>s?[h,E]:[o,a]}var bx=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mv={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Cx=function(i){bx(r,i);function r(t,e,n,o){var a=i.call(this,t,e,n,o)||this;return a.labels_=null,a.text_="",a.textOffsetX_=0,a.textOffsetY_=0,a.textRotateWithView_=void 0,a.textRotation_=0,a.textFillState_=null,a.fillStates={},a.textStrokeState_=null,a.strokeStates={},a.textState_={},a.textStates={},a.textKey_="",a.fillKey_="",a.strokeKey_="",a.declutterImageWithText_=void 0,a}return r.prototype.finish=function(){var t=i.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},r.prototype.drawText=function(t,e){var n=this.textFillState_,o=this.textStrokeState_,a=this.textState_;if(!(this.text_===""||!a||!n&&!o)){var s=this.coordinates,u=s.length,h=t.getType(),d=null,E=t.getStride();if(a.placement===k1.LINE&&(h==Xt.LINE_STRING||h==Xt.MULTI_LINE_STRING||h==Xt.POLYGON||h==Xt.MULTI_POLYGON)){if(!Gn(this.getBufferedMaxExtent(),t.getExtent()))return;var b=void 0;if(d=t.getFlatCoordinates(),h==Xt.LINE_STRING)b=[d.length];else if(h==Xt.MULTI_LINE_STRING)b=t.getEnds();else if(h==Xt.POLYGON)b=t.getEnds().slice(0,1);else if(h==Xt.MULTI_POLYGON){var I=t.getEndss();b=[];for(var M=0,k=I.length;M<k;++M)b.push(I[M][0])}this.beginGeometry(t,e);for(var et=a.textAlign,ht=0,Lt=void 0,It=0,wt=b.length;It<wt;++It){if(et==null){var oe=Tx(a.maxAngle,d,ht,b[It],E);ht=oe[0],Lt=oe[1]}else Lt=b[It];for(var M=ht;M<Lt;M+=E)s.push(d[M],d[M+1]);var se=s.length;ht=b[It],this.drawChars_(u,se),u=se}this.endGeometry(e)}else{var de=a.overflow?null:[];switch(h){case Xt.POINT:case Xt.MULTI_POINT:d=t.getFlatCoordinates();break;case Xt.LINE_STRING:d=t.getFlatMidpoint();break;case Xt.CIRCLE:d=t.getCenter();break;case Xt.MULTI_LINE_STRING:d=t.getFlatMidpoints(),E=2;break;case Xt.POLYGON:d=t.getFlatInteriorPoint(),a.overflow||de.push(d[2]/this.resolution),E=3;break;case Xt.MULTI_POLYGON:var Se=t.getFlatInteriorPoints();d=[];for(var M=0,k=Se.length;M<k;M+=3)a.overflow||de.push(Se[M+2]/this.resolution),d.push(Se[M],Se[M+1]);if(d.length===0)return;E=2;break}var se=this.appendFlatPointCoordinates(d,E);if(se===u)return;if(de&&(se-u)/2!=d.length/E){var Ie=u/2;de=de.filter(function(On,Nn){var An=s[(Ie+Nn)*2]===d[Nn*E]&&s[(Ie+Nn)*2+1]===d[Nn*E+1];return An||--Ie,An})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var He=a.padding;if(He!=ke&&(a.scale[0]<0||a.scale[1]<0)){var De=a.padding[0],ye=a.padding[1],Qe=a.padding[2],Ar=a.padding[3];a.scale[0]<0&&(ye=-ye,Ar=-Ar),a.scale[1]<0&&(De=-De,Qe=-Qe),He=[De,ye,Qe,Ar]}var Tr=this.pixelRatio;this.instructions.push([gn.DRAW_IMAGE,u,se,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,He==ke?ke:He.map(function(On){return On*Tr}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,de]);var kr=1/Tr;this.hitDetectionInstructions.push([gn.DRAW_IMAGE,u,se,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[kr,kr],NaN,this.declutterImageWithText_,He,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,de]),this.endGeometry(e)}}},r.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,o=this.strokeKey_;t&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var a=this.textKey_;a in this.textStates||(this.textStates[a]={font:e.font,textAlign:e.textAlign||Oe,textBaseline:e.textBaseline||Ae,scale:e.scale});var s=this.fillKey_;n&&(s in this.fillStates||(this.fillStates[s]={fillStyle:n.fillStyle}))},r.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,o=this.textState_,a=this.strokeKey_,s=this.textKey_,u=this.fillKey_;this.saveTextStates_();var h=this.pixelRatio,d=mv[o.textBaseline],E=this.textOffsetY_*h,b=this.text_,I=n?n.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([gn.DRAW_CHARS,t,e,d,o.overflow,u,o.maxAngle,h,E,a,I*h,b,s,1]),this.hitDetectionInstructions.push([gn.DRAW_CHARS,t,e,d,o.overflow,u,o.maxAngle,1,E,a,I,b,s,1/h])},r.prototype.setTextStyle=function(t,e){var n,o,a;if(!t)this.text_="";else{var s=t.getFill();s?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=pa(s.getColor()||J)):(o=null,this.textFillState_=o);var u=t.getStroke();if(!u)a=null,this.textStrokeState_=a;else{a=this.textStrokeState_,a||(a={},this.textStrokeState_=a);var h=u.getLineDash(),d=u.getLineDashOffset(),E=u.getWidth(),b=u.getMiterLimit();a.lineCap=u.getLineCap()||Mt,a.lineDash=h?h.slice():Gt,a.lineDashOffset=d===void 0?Bt:d,a.lineJoin=u.getLineJoin()||Jt,a.lineWidth=E===void 0?cr:E,a.miterLimit=b===void 0?ae:b,a.strokeStyle=pa(u.getColor()||_e)}n=this.textState_;var I=t.getFont()||ge;Rr(I);var M=t.getScaleArray();n.overflow=t.getOverflow(),n.font=I,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||Ae,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||ke,n.scale=M===void 0?[1,1]:M;var k=t.getOffsetX(),et=t.getOffsetY(),ht=t.getRotateWithView(),Lt=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=k===void 0?0:k,this.textOffsetY_=et===void 0?0:et,this.textRotateWithView_=ht===void 0?!1:ht,this.textRotation_=Lt===void 0?0:Lt,this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:Object(nt.c)(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=o?typeof o.fillStyle=="string"?o.fillStyle:"|"+Object(nt.c)(o.fillStyle):""}this.declutterImageWithText_=e},r}(Gp),Lx=Cx,Ax={Circle:U1,Default:Gp,Image:_x,LineString:wx,Polygon:U1,Text:Lx},Px=function(){function i(r,t,e,n){this.tolerance_=r,this.maxExtent_=t,this.pixelRatio_=n,this.resolution_=e,this.buildersByZIndex_={}}return i.prototype.finish=function(){var r={};for(var t in this.buildersByZIndex_){r[t]=r[t]||{};var e=this.buildersByZIndex_[t];for(var n in e){var o=e[n].finish();r[t][n]=o}}return r},i.prototype.getBuilder=function(r,t){var e=r!==void 0?r.toString():"0",n=this.buildersByZIndex_[e];n===void 0&&(n={},this.buildersByZIndex_[e]=n);var o=n[t];if(o===void 0){var a=Ax[t];o=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[t]=o}return o},i}(),_v=Px,Pn={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function Rx(i,r,t,e,n,o,a,s,u,h,d,E){var b=i[r],I=i[r+1],M=0,k=0,et=0,ht=0;function Lt(){M=b,k=I,r+=e,b=i[r],I=i[r+1],ht+=et,et=Math.sqrt((b-M)*(b-M)+(I-k)*(I-k))}do Lt();while(r<t-e&&ht+et<o);for(var It=(o-ht)/et,wt=Ms(M,b,It),oe=Ms(k,I,It),se=r-e,de=ht,Se=o+s*u(h,n,d);r<t-e&&ht+et<Se;)Lt();It=(Se-ht)/et;var Ie=Ms(M,b,It),He=Ms(k,I,It),De;if(E){var ye=[wt,oe,Ie,He];Bc(ye,0,4,2,E,ye,ye),De=ye[0]>ye[2]}else De=wt>Ie;var Qe=Math.PI,Ar=[],Tr=se+e===r;if(r=se,et=0,ht=de,b=i[r],I=i[r+1],Tr){Lt();var kr=Math.atan2(I-k,b-M);De&&(kr+=kr>0?-Qe:Qe);var Fr=(Ie+wt)/2,On=(He+oe)/2;return Ar[0]=[Fr,On,(Se-o)/2,kr,n],Ar}for(var Nn,An=0,ri=n.length;An<ri;){Lt();var er=Math.atan2(I-k,b-M);if(De&&(er+=er>0?-Qe:Qe),Nn!==void 0){var go=er-Nn;if(go+=go>Qe?-2*Qe:go<-Qe?2*Qe:0,Math.abs(go)>a)return null}Nn=er;for(var Mn=An,_i=0;An<ri;++An){var Do=De?ri-An-1:An,Lo=s*u(h,n[Do],d);if(r+e<t&&ht+et<o+_i+Lo/2)break;_i+=Lo}if(An!==Mn){var uo=De?n.substring(ri-Mn,ri-An):n.substring(Mn,An);It=(o+_i/2-ht)/et;var Fr=Ms(M,b,It),On=Ms(k,I,It);Ar.push([Fr,On,_i/2,er,uo]),o+=_i}}return Ar}function V1(i,r,t,e){for(var n=i[r],o=i[r+1],a=0,s=r+e;s<t;s+=e){var u=i[s],h=i[s+1];a+=Math.sqrt((u-n)*(u-n)+(h-o)*(h-o)),n=u,o=h}return a}var fh=ve(),Ju=[],nu=[],iu=[],Qu=[];function z1(i){return i[3].declutterBox}var Ix=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Y1(i,r){return(r==="start"||r==="end")&&!Ix.test(i)&&(r=r==="start"?"left":"right"),mv[r]}var Nx=function(){function i(r,t,e,n){this.overlaps=e,this.pixelRatio=t,this.resolution=r,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=$(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}return i.prototype.createLabel=function(r,t,e,n){var o=r+t+e+n;if(this.labels_[o])return this.labels_[o];var a=n?this.strokeStates[n]:null,s=e?this.fillStates[e]:null,u=this.textStates[t],h=this.pixelRatio,d=[u.scale[0]*h,u.scale[1]*h],E=Y1(r,u.textAlign||Oe),b=n&&a.lineWidth?a.lineWidth:0,I=r.split(`
`),M=I.length,k=[],et=cn(u.font,I,k),ht=Ut(u.font),Lt=ht*M,It=et+b,wt=[],oe=(It+2)*d[0],se=(Lt+b)*d[1],de={width:oe<0?Math.floor(oe):Math.ceil(oe),height:se<0?Math.floor(se):Math.ceil(se),contextInstructions:wt};if((d[0]!=1||d[1]!=1)&&wt.push("scale",d),wt.push("font",u.font),n){wt.push("strokeStyle",a.strokeStyle),wt.push("lineWidth",b),wt.push("lineCap",a.lineCap),wt.push("lineJoin",a.lineJoin),wt.push("miterLimit",a.miterLimit);var Se=qt.g?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;Se.prototype.setLineDash&&(wt.push("setLineDash",[a.lineDash]),wt.push("lineDashOffset",a.lineDashOffset))}e&&wt.push("fillStyle",s.fillStyle),wt.push("textBaseline","middle"),wt.push("textAlign","center");var Ie=.5-E,He=E*It+Ie*b,De;if(n)for(De=0;De<M;++De)wt.push("strokeText",[I[De],He+Ie*k[De],.5*(b+ht)+De*ht]);if(e)for(De=0;De<M;++De)wt.push("fillText",[I[De],He+Ie*k[De],.5*(b+ht)+De*ht]);return this.labels_[o]=de,de},i.prototype.replayTextBackground_=function(r,t,e,n,o,a,s){r.beginPath(),r.moveTo.apply(r,t),r.lineTo.apply(r,e),r.lineTo.apply(r,n),r.lineTo.apply(r,o),r.lineTo.apply(r,t),a&&(this.alignFill_=a[2],this.fill_(r)),s&&(this.setStrokeStyle_(r,s),r.stroke())},i.prototype.calculateImageOrLabelDimensions_=function(r,t,e,n,o,a,s,u,h,d,E,b,I,M,k,et){s*=b[0],u*=b[1];var ht=e-s,Lt=n-u,It=o+h>r?r-h:o,wt=a+d>t?t-d:a,oe=M[3]+It*b[0]+M[1],se=M[0]+wt*b[1]+M[2],de=ht-M[3],Se=Lt-M[0];(k||E!==0)&&(Ju[0]=de,Qu[0]=de,Ju[1]=Se,nu[1]=Se,nu[0]=de+oe,iu[0]=nu[0],iu[1]=Se+se,Qu[1]=iu[1]);var Ie;return E!==0?(Ie=ur($(),e,n,1,1,E,-e,-n),me(Ie,Ju),me(Ie,nu),me(Ie,iu),me(Ie,Qu),Ce(Math.min(Ju[0],nu[0],iu[0],Qu[0]),Math.min(Ju[1],nu[1],iu[1],Qu[1]),Math.max(Ju[0],nu[0],iu[0],Qu[0]),Math.max(Ju[1],nu[1],iu[1],Qu[1]),fh)):Ce(Math.min(de,de+oe),Math.min(Se,Se+se),Math.max(de,de+oe),Math.max(Se,Se+se),fh),I&&(ht=Math.round(ht),Lt=Math.round(Lt)),{drawImageX:ht,drawImageY:Lt,drawImageW:It,drawImageH:wt,originX:h,originY:d,declutterBox:{minX:fh[0],minY:fh[1],maxX:fh[2],maxY:fh[3],value:et},canvasTransform:Ie,scale:b}},i.prototype.replayImageOrLabel_=function(r,t,e,n,o,a,s){var u=!!(a||s),h=n.declutterBox,d=r.canvas,E=s?s[2]*n.scale[0]/2:0,b=h.minX-E<=d.width/t&&h.maxX+E>=0&&h.minY-E<=d.height/t&&h.maxY+E>=0;return b&&(u&&this.replayTextBackground_(r,Ju,nu,iu,Qu,a,s),Kr(r,n.canvasTransform,o,e,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0},i.prototype.fill_=function(r){if(this.alignFill_){var t=me(this.renderedTransform_,[0,0]),e=512*this.pixelRatio;r.save(),r.translate(t[0]%e,t[1]%e),r.rotate(this.viewRotation_)}r.fill(),this.alignFill_&&r.restore()},i.prototype.setStrokeStyle_=function(r,t){r.strokeStyle=t[1],r.lineWidth=t[2],r.lineCap=t[3],r.lineJoin=t[4],r.miterLimit=t[5],r.setLineDash&&(r.lineDashOffset=t[7],r.setLineDash(t[6]))},i.prototype.drawLabelWithPointPlacement_=function(r,t,e,n){var o=this.textStates[t],a=this.createLabel(r,t,n,e),s=this.strokeStates[e],u=this.pixelRatio,h=Y1(r,o.textAlign||Oe),d=mv[o.textBaseline||Ae],E=s&&s.lineWidth?s.lineWidth:0,b=a.width/u-2*o.scale[0],I=h*b+2*(.5-h)*E,M=d*a.height/u+2*(.5-d)*E;return{label:a,anchorX:I,anchorY:M}},i.prototype.execute_=function(r,t,e,n,o,a,s,u){var h;this.pixelCoordinates_&&Object(vr.b)(e,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=Io(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),qe(this.renderedTransform_,e));for(var d=0,E=n.length,b=0,I,M,k,et,ht,Lt,It,wt,oe,se,de,Se,Ie=0,He=0,De=null,ye=null,Qe=this.coordinateCache_,Ar=this.viewRotation_,Tr=Math.round(Math.atan2(-e[1],e[0])*1e12)/1e12,kr={context:r,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Ar},Fr=this.instructions!=n||this.overlaps?0:200,On,Nn,An,ri;d<E;){var er=n[d],go=er[0];switch(go){case gn.BEGIN_GEOMETRY:On=er[1],ri=er[3],On.getGeometry()?s!==void 0&&!Gn(s,ri.getExtent())?d=er[2]+1:++d:d=er[2];break;case gn.BEGIN_PATH:Ie>Fr&&(this.fill_(r),Ie=0),He>Fr&&(r.stroke(),He=0),!Ie&&!He&&(r.beginPath(),et=NaN,ht=NaN),++d;break;case gn.CIRCLE:b=er[1];var Mn=h[b],_i=h[b+1],Do=h[b+2],Lo=h[b+3],uo=Do-Mn,ya=Lo-_i,an=Math.sqrt(uo*uo+ya*ya);r.moveTo(Mn+an,_i),r.arc(Mn,_i,an,0,2*Math.PI,!0),++d;break;case gn.CLOSE_PATH:r.closePath(),++d;break;case gn.CUSTOM:b=er[1],I=er[2];var Jr=er[3],Bo=er[4],cc=er.length==6?er[5]:void 0;kr.geometry=Jr,kr.feature=On,d in Qe||(Qe[d]=[]);var fc=Qe[d];cc?cc(h,b,I,2,fc):(fc[0]=h[b],fc[1]=h[b+1],fc.length=2),Bo(fc,kr),++d;break;case gn.DRAW_IMAGE:b=er[1],I=er[2],wt=er[3],M=er[4],k=er[5];var Rh=er[6],Sg=er[7],Qp=er[8],Eg=er[9],vf=er[10],td=er[11],wg=er[12],Ih=er[13],hc=er[14];if(!wt&&er.length>=19){oe=er[18],se=er[19],de=er[20],Se=er[21];var Nh=this.drawLabelWithPointPlacement_(oe,se,de,Se);wt=Nh.label,er[3]=wt;var d_=er[22];M=(Nh.anchorX-d_)*this.pixelRatio,er[4]=M;var xg=er[23];k=(Nh.anchorY-xg)*this.pixelRatio,er[5]=k,Rh=wt.height,er[6]=Rh,Ih=wt.width,er[13]=Ih}var ed=void 0;er.length>24&&(ed=er[24]);var pc=void 0,fu=void 0,gf=void 0;er.length>16?(pc=er[15],fu=er[16],gf=er[17]):(pc=ke,fu=!1,gf=!1),vf&&Tr?td+=Ar:!vf&&!Tr&&(td-=Ar);for(var Mh=0;b<I;b+=2)if(!(ed&&ed[Mh++]<Ih/this.pixelRatio)){var il=this.calculateImageOrLabelDimensions_(wt.width,wt.height,h[b],h[b+1],Ih,Rh,M,k,Qp,Eg,td,wg,o,pc,fu||gf,On),al=[r,t,wt,il,Sg,fu?De:null,gf?ye:null],Og=void 0,v_=void 0;if(u&&hc){var Tg=I-b;if(!hc[Tg]){hc[Tg]=al;continue}if(Og=hc[Tg],delete hc[Tg],v_=z1(Og),u.collides(v_))continue}u&&u.collides(il.declutterBox)||(Og&&(u&&u.insert(v_),this.replayImageOrLabel_.apply(this,Og)),u&&u.insert(il.declutterBox),this.replayImageOrLabel_.apply(this,al))}++d;break;case gn.DRAW_CHARS:var AS=er[1],PS=er[2],g_=er[3],C4=er[4];Se=er[5];var L4=er[6],RS=er[7],IS=er[8];de=er[9];var y_=er[10];oe=er[11],se=er[12];var NS=[er[13],er[13]],m_=this.textStates[se],rd=m_.font,nd=[m_.scale[0]*RS,m_.scale[1]*RS],id=void 0;rd in this.widths_?id=this.widths_[rd]:(id={},this.widths_[rd]=id);var MS=V1(h,AS,PS,2),FS=Math.abs(nd[0])*Ye(rd,oe,id);if(C4||FS<=MS){var A4=this.textStates[se].textAlign,P4=(MS-FS)*mv[A4],od=Rx(h,AS,PS,2,oe,P4,L4,Math.abs(nd[0]),Ye,rd,id,Tr?0:this.viewRotation_);t:if(od){var ad=[],dc=void 0,bg=void 0,Cg=void 0,Va=void 0,As=void 0;if(de)for(dc=0,bg=od.length;dc<bg;++dc){As=od[dc],Cg=As[4],Va=this.createLabel(Cg,se,"",de),M=As[2]+(nd[0]<0?-y_:y_),k=g_*Va.height+(.5-g_)*2*y_*nd[1]/nd[0]-IS;var il=this.calculateImageOrLabelDimensions_(Va.width,Va.height,As[0],As[1],Va.width,Va.height,M,k,0,0,As[3],NS,!1,ke,!1,On);if(u&&u.collides(il.declutterBox))break t;ad.push([r,t,Va,il,1,null,null])}if(Se)for(dc=0,bg=od.length;dc<bg;++dc){As=od[dc],Cg=As[4],Va=this.createLabel(Cg,se,Se,""),M=As[2],k=g_*Va.height-IS;var il=this.calculateImageOrLabelDimensions_(Va.width,Va.height,As[0],As[1],Va.width,Va.height,M,k,0,0,As[3],NS,!1,ke,!1,On);if(u&&u.collides(il.declutterBox))break t;ad.push([r,t,Va,il,1,null,null])}u&&u.load(ad.map(z1));for(var __=0,R4=ad.length;__<R4;++__)this.replayImageOrLabel_.apply(this,ad[__])}}++d;break;case gn.END_GEOMETRY:if(a!==void 0){On=er[1];var jS=a(On,ri);if(jS)return jS}++d;break;case gn.FILL:Fr?Ie++:this.fill_(r),++d;break;case gn.MOVE_TO_LINE_TO:for(b=er[1],I=er[2],Nn=h[b],An=h[b+1],Lt=Nn+.5|0,It=An+.5|0,(Lt!==et||It!==ht)&&(r.moveTo(Nn,An),et=Lt,ht=It),b+=2;b<I;b+=2)Nn=h[b],An=h[b+1],Lt=Nn+.5|0,It=An+.5|0,(b==I-2||Lt!==et||It!==ht)&&(r.lineTo(Nn,An),et=Lt,ht=It);++d;break;case gn.SET_FILL_STYLE:De=er,this.alignFill_=er[2],Ie&&(this.fill_(r),Ie=0,He&&(r.stroke(),He=0)),r.fillStyle=er[1],++d;break;case gn.SET_STROKE_STYLE:ye=er,He&&(r.stroke(),He=0),this.setStrokeStyle_(r,er),++d;break;case gn.STROKE:Fr?He++:r.stroke(),++d;break;default:++d;break}}Ie&&this.fill_(r),He&&r.stroke()},i.prototype.execute=function(r,t,e,n,o,a){this.viewRotation_=n,this.execute_(r,t,e,this.instructions,o,void 0,void 0,a)},i.prototype.executeHitDetection=function(r,t,e,n,o){return this.viewRotation_=e,this.execute_(r,1,t,this.hitDetectionInstructions,!0,n,o)},i}(),Mx=Nx,Vy=[Pn.POLYGON,Pn.CIRCLE,Pn.LINE_STRING,Pn.IMAGE,Pn.TEXT,Pn.DEFAULT],Fx=function(){function i(r,t,e,n,o,a){this.maxExtent_=r,this.overlaps_=n,this.pixelRatio_=e,this.resolution_=t,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=$(),this.createExecutors_(o)}return i.prototype.clip=function(r,t){var e=this.getClipCoords(t);r.beginPath(),r.moveTo(e[0],e[1]),r.lineTo(e[2],e[3]),r.lineTo(e[4],e[5]),r.lineTo(e[6],e[7]),r.clip()},i.prototype.createExecutors_=function(r){for(var t in r){var e=this.executorsByZIndex_[t];e===void 0&&(e={},this.executorsByZIndex_[t]=e);var n=r[t];for(var o in n){var a=n[o];e[o]=new Mx(this.resolution_,this.pixelRatio_,this.overlaps_,a)}}},i.prototype.hasExecutors=function(r){for(var t in this.executorsByZIndex_)for(var e=this.executorsByZIndex_[t],n=0,o=r.length;n<o;++n)if(r[n]in e)return!0;return!1},i.prototype.forEachFeatureAtCoordinate=function(r,t,e,n,o,a){n=Math.round(n);var s=n*2+1,u=ur(this.hitDetectionTransform_,n+.5,n+.5,1/t,-1/t,-e,-r[0],-r[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=Object(be.a)(s,s));var d=this.hitDetectionContext_;d.canvas.width!==s||d.canvas.height!==s?(d.canvas.width=s,d.canvas.height=s):h||d.clearRect(0,0,s,s);var E;this.renderBuffer_!==void 0&&(E=ve(),Bn(E,r),yt(E,t*(this.renderBuffer_+n),E));var b=jx(n),I;function M(se,de){for(var Se=d.getImageData(0,0,s,s).data,Ie=0,He=b.length;Ie<He;Ie++)if(Se[b[Ie]]>0){if(!a||I!==Pn.IMAGE&&I!==Pn.TEXT||a.indexOf(se)!==-1){var De=(b[Ie]-3)/4,ye=n-De%s,Qe=n-(De/s|0),Ar=o(se,de,ye*ye+Qe*Qe);if(Ar)return Ar}d.clearRect(0,0,s,s);break}}var k=Object.keys(this.executorsByZIndex_).map(Number);k.sort(vr.i);var et,ht,Lt,It,wt;for(et=k.length-1;et>=0;--et){var oe=k[et].toString();for(Lt=this.executorsByZIndex_[oe],ht=Vy.length-1;ht>=0;--ht)if(I=Vy[ht],It=Lt[I],It!==void 0&&(wt=It.executeHitDetection(d,u,e,M,E),wt))return wt}},i.prototype.getClipCoords=function(r){var t=this.maxExtent_;if(!t)return null;var e=t[0],n=t[1],o=t[2],a=t[3],s=[e,n,e,a,o,a,o,n];return Io(s,0,8,2,r,s),s},i.prototype.isEmpty=function(){return Object(br.d)(this.executorsByZIndex_)},i.prototype.execute=function(r,t,e,n,o,a,s){var u=Object.keys(this.executorsByZIndex_).map(Number);u.sort(vr.i),this.maxExtent_&&(r.save(),this.clip(r,e));var h=a||Vy,d,E,b,I,M,k;for(s&&u.reverse(),d=0,E=u.length;d<E;++d){var et=u[d].toString();for(M=this.executorsByZIndex_[et],b=0,I=h.length;b<I;++b){var ht=h[b];k=M[ht],k!==void 0&&k.execute(r,t,e,n,o,s)}}this.maxExtent_&&r.restore()},i}(),zy={};function jx(i){if(zy[i]!==void 0)return zy[i];for(var r=i*2+1,t=i*i,e=new Array(t+1),n=0;n<=i;++n)for(var o=0;o<=i;++o){var a=n*n+o*o;if(a>t)break;var s=e[a];s||(s=[],e[a]=s),s.push(((i+n)*r+(i+o))*4+3),n>0&&s.push(((i-n)*r+(i+o))*4+3),o>0&&(s.push(((i+n)*r+(i-o))*4+3),n>0&&s.push(((i-n)*r+(i-o))*4+3))}for(var u=[],n=0,h=e.length;n<h;++n)e[n]&&u.push.apply(u,e[n]);return zy[i]=u,u}var Sv=Fx,Dx=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bx=function(i){Dx(r,i);function r(t,e,n,o,a,s,u){var h=i.call(this)||this;return h.context_=t,h.pixelRatio_=e,h.extent_=n,h.transform_=o,h.viewRotation_=a,h.squaredTolerance_=s,h.userTransform_=u,h.contextFillState_=null,h.contextStrokeState_=null,h.contextTextState_=null,h.fillState_=null,h.strokeState_=null,h.image_=null,h.imageAnchorX_=0,h.imageAnchorY_=0,h.imageHeight_=0,h.imageOpacity_=0,h.imageOriginX_=0,h.imageOriginY_=0,h.imageRotateWithView_=!1,h.imageRotation_=0,h.imageScale_=[0,0],h.imageWidth_=0,h.text_="",h.textOffsetX_=0,h.textOffsetY_=0,h.textRotateWithView_=!1,h.textRotation_=0,h.textScale_=[0,0],h.textFillState_=null,h.textStrokeState_=null,h.textState_=null,h.pixelCoordinates_=[],h.tmpLocalTransform_=$(),h}return r.prototype.drawImages_=function(t,e,n,o){if(!!this.image_){var a=Io(t,e,n,o,this.transform_,this.pixelCoordinates_),s=this.context_,u=this.tmpLocalTransform_,h=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=h*this.imageOpacity_);var d=this.imageRotation_;this.imageRotateWithView_&&(d+=this.viewRotation_);for(var E=0,b=a.length;E<b;E+=2){var I=a[E]-this.imageAnchorX_,M=a[E+1]-this.imageAnchorY_;if(d!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var k=I+this.imageAnchorX_,et=M+this.imageAnchorY_;ur(u,k,et,1,1,d,-k,-et),s.setTransform.apply(s,u),s.translate(k,et),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,I,M,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=h)}},r.prototype.drawText_=function(t,e,n,o){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var a=Io(t,e,n,o,this.transform_,this.pixelCoordinates_),s=this.context_,u=this.textRotation_;for(this.textRotateWithView_&&(u+=this.viewRotation_);e<n;e+=o){var h=a[e]+this.textOffsetX_,d=a[e+1]+this.textOffsetY_;if(u!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var E=ur(this.tmpLocalTransform_,h,d,1,1,u,-h,-d);s.setTransform.apply(s,E),s.translate(h,d),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,h,d),this.textFillState_&&s.fillText(this.text_,h,d)}}},r.prototype.moveToLineTo_=function(t,e,n,o,a){var s=this.context_,u=Io(t,e,n,o,this.transform_,this.pixelCoordinates_);s.moveTo(u[0],u[1]);var h=u.length;a&&(h-=2);for(var d=2;d<h;d+=2)s.lineTo(u[d],u[d+1]);return a&&s.closePath(),n},r.prototype.drawRings_=function(t,e,n,o){for(var a=0,s=n.length;a<s;++a)e=this.moveToLineTo_(t,e,n[a],o,!0);return e},r.prototype.drawCircle=function(t){if(!!Gn(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Iu(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],o=e[3]-e[1],a=Math.sqrt(n*n+o*o),s=this.context_;s.beginPath(),s.arc(e[0],e[1],a,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},r.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},r.prototype.setTransform=function(t){this.transform_=t},r.prototype.drawGeometry=function(t){var e=t.getType();switch(e){case Xt.POINT:this.drawPoint(t);break;case Xt.LINE_STRING:this.drawLineString(t);break;case Xt.POLYGON:this.drawPolygon(t);break;case Xt.MULTI_POINT:this.drawMultiPoint(t);break;case Xt.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Xt.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Xt.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Xt.CIRCLE:this.drawCircle(t);break}},r.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);!n||!Gn(this.extent_,n.getExtent())||(this.setStyle(e),this.drawGeometry(n))},r.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,o=e.length;n<o;++n)this.drawGeometry(e[n])},r.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),this.text_!==""&&this.drawText_(e,0,e.length,n)},r.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),this.text_!==""&&this.drawText_(e,0,e.length,n)},r.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Gn(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(this.text_!==""){var o=t.getFlatMidpoint();this.drawText_(o,0,2,2)}}},r.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(!!Gn(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,o=t.getFlatCoordinates(),a=0,s=t.getEnds(),u=t.getStride();n.beginPath();for(var h=0,d=s.length;h<d;++h)a=this.moveToLineTo_(o,a,s[h],u,!1);n.stroke()}if(this.text_!==""){var E=t.getFlatMidpoints();this.drawText_(E,0,E.length,2)}}},r.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Gn(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},r.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Gn(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),o=0,a=t.getEndss(),s=t.getStride();e.beginPath();for(var u=0,h=a.length;u<h;++u){var d=a[u];o=this.drawRings_(n,o,d,s)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){var E=t.getFlatInteriorPoints();this.drawText_(E,0,E.length,2)}}},r.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},r.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Object(vr.b)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},r.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,o=t.textAlign?t.textAlign:Oe;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=o&&(n.textAlign=o,e.textAlign=o),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=o,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:o,textBaseline:t.textBaseline})},r.prototype.setFillStrokeStyle=function(t,e){var n=this;if(!t)this.fillState_=null;else{var o=t.getColor();this.fillState_={fillStyle:pa(o||J)}}if(!e)this.strokeState_=null;else{var a=e.getColor(),s=e.getLineCap(),u=e.getLineDash(),h=e.getLineDashOffset(),d=e.getLineJoin(),E=e.getWidth(),b=e.getMiterLimit(),I=u||Gt;this.strokeState_={lineCap:s!==void 0?s:Mt,lineDash:this.pixelRatio_===1?I:I.map(function(M){return M*n.pixelRatio_}),lineDashOffset:(h||Bt)*this.pixelRatio_,lineJoin:d!==void 0?d:Jt,lineWidth:(E!==void 0?E:cr)*this.pixelRatio_,miterLimit:b!==void 0?b:ae,strokeStyle:pa(a||_e)}}},r.prototype.setImageStyle=function(t){var e;if(!t||!(e=t.getSize())){this.image_=null;return}var n=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_},r.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var e=t.getFill();if(!e)this.textFillState_=null;else{var n=e.getColor();this.textFillState_={fillStyle:pa(n||J)}}var o=t.getStroke();if(!o)this.textStrokeState_=null;else{var a=o.getColor(),s=o.getLineCap(),u=o.getLineDash(),h=o.getLineDashOffset(),d=o.getLineJoin(),E=o.getWidth(),b=o.getMiterLimit();this.textStrokeState_={lineCap:s!==void 0?s:Mt,lineDash:u||Gt,lineDashOffset:h||Bt,lineJoin:d!==void 0?d:Jt,lineWidth:E!==void 0?E:cr,miterLimit:b!==void 0?b:ae,strokeStyle:pa(a||_e)}}var I=t.getFont(),M=t.getOffsetX(),k=t.getOffsetY(),et=t.getRotateWithView(),ht=t.getRotation(),Lt=t.getScaleArray(),It=t.getText(),wt=t.getTextAlign(),oe=t.getTextBaseline();this.textState_={font:I!==void 0?I:ge,textAlign:wt!==void 0?wt:Oe,textBaseline:oe!==void 0?oe:Ae},this.text_=It!==void 0?It:"",this.textOffsetX_=M!==void 0?this.pixelRatio_*M:0,this.textOffsetY_=k!==void 0?this.pixelRatio_*k:0,this.textRotateWithView_=et!==void 0?et:!1,this.textRotation_=ht!==void 0?ht:0,this.textScale_=[this.pixelRatio_*Lt[0],this.pixelRatio_*Lt[1]]}},r}(G1),Yy=Bx,Wo={FRACTION:"fraction",PIXELS:"pixels"},bo={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Gx=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ux=function(i){Gx(r,i);function r(t,e,n,o){var a=i.call(this)||this;return a.extent=t,a.pixelRatio_=n,a.resolution=e,a.state=o,a}return r.prototype.changed=function(){this.dispatchEvent(Dr.a.CHANGE)},r.prototype.getExtent=function(){return this.extent},r.prototype.getImage=function(){return Object(nt.b)()},r.prototype.getPixelRatio=function(){return this.pixelRatio_},r.prototype.getResolution=function(){return this.resolution},r.prototype.getState=function(){return this.state},r.prototype.load=function(){Object(nt.b)()},r}(Be.a),W1=Ux,kx=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vx=function(i){kx(r,i);function r(t,e,n,o,a,s){var u=i.call(this,t,e,n,Sn.IDLE)||this;return u.src_=o,u.image_=new Image,a!==null&&(u.image_.crossOrigin=a),u.unlisten_=null,u.state=Sn.IDLE,u.imageLoadFunction_=s,u}return r.prototype.getImage=function(){return this.image_},r.prototype.handleImageError_=function(){this.state=Sn.ERROR,this.unlistenImage_(),this.changed()},r.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=bn(this.extent)/this.image_.height),this.state=Sn.LOADED,this.unlistenImage_(),this.changed()},r.prototype.load=function(){(this.state==Sn.IDLE||this.state==Sn.ERROR)&&(this.state=Sn.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Wy(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.setImage=function(t){this.image_=t,this.resolution=bn(this.extent)/this.image_.height},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(W1);function Wy(i,r,t){var e=i;if(e.src&&qt.c){var n=e.decode(),o=!0,a=function(){o=!1};return n.then(function(){o&&r()}).catch(function(u){o&&(u.name==="EncodingError"&&u.message==="Invalid image type."?r():t())}),a}var s=[Object(dr.b)(e,Dr.a.LOAD,r),Object(dr.b)(e,Dr.a.ERROR,t)];return function(){s.forEach(dr.c)}}var H1=Vx,zx=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Up=null,Yx=function(i){zx(r,i);function r(t,e,n,o,a,s){var u=i.call(this)||this;return u.hitDetectionImage_=null,u.image_=t||new Image,o!==null&&(u.image_.crossOrigin=o),u.canvas_={},u.color_=s,u.unlisten_=null,u.imageState_=a,u.size_=n,u.src_=e,u.tainted_,u}return r.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===Sn.LOADED){Up||(Up=Object(be.a)(1,1)),Up.drawImage(this.image_,0,0);try{Up.getImageData(0,0,1,1),this.tainted_=!1}catch{Up=null,this.tainted_=!0}}return this.tainted_===!0},r.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Dr.a.CHANGE)},r.prototype.handleImageError_=function(){this.imageState_=Sn.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.handleImageLoad_=function(){this.imageState_=Sn.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},r.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},r.prototype.getImageState=function(){return this.imageState_},r.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=Object(be.a)(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},r.prototype.getSize=function(){return this.size_},r.prototype.getSrc=function(){return this.src_},r.prototype.load=function(){if(this.imageState_==Sn.IDLE){this.imageState_=Sn.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=Wy(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},r.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t])){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var n=e.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply",n.globalCompositeOperation==="multiply"||this.isTainted_())n.fillStyle=eo(this.color_),n.fillRect(0,0,e.width/t,e.height/t),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var o=n.getImageData(0,0,e.width,e.height),a=o.data,s=this.color_[0]/255,u=this.color_[1]/255,h=this.color_[2]/255,d=this.color_[3],E=0,b=a.length;E<b;E+=4)a[E]*=s,a[E+1]*=u,a[E+2]*=h,a[E+3]*=d;n.putImageData(o,0,0)}}},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(Be.a);function Wx(i,r,t,e,n,o){var a=Pc.get(r,e,o);return a||(a=new Yx(i,r,t,e,n,o),Pc.set(r,e,o,a)),a}var Hx=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xx=function(i){Hx(r,i);function r(t){var e=this,n=t||{},o=n.opacity!==void 0?n.opacity:1,a=n.rotation!==void 0?n.rotation:0,s=n.scale!==void 0?n.scale:1,u=n.rotateWithView!==void 0?n.rotateWithView:!1;e=i.call(this,{opacity:o,rotation:a,scale:s,displacement:n.displacement!==void 0?n.displacement:[0,0],rotateWithView:u})||this,e.anchor_=n.anchor!==void 0?n.anchor:[.5,.5],e.normalizedAnchor_=null,e.anchorOrigin_=n.anchorOrigin!==void 0?n.anchorOrigin:bo.TOP_LEFT,e.anchorXUnits_=n.anchorXUnits!==void 0?n.anchorXUnits:Wo.FRACTION,e.anchorYUnits_=n.anchorYUnits!==void 0?n.anchorYUnits:Wo.FRACTION,e.crossOrigin_=n.crossOrigin!==void 0?n.crossOrigin:null;var h=n.img!==void 0?n.img:null,d=n.imgSize!==void 0?n.imgSize:null,E=n.src;Qt(!(E!==void 0&&h),4),Qt(!h||h&&d,5),(E===void 0||E.length===0)&&h&&(E=h.src||Object(nt.c)(h)),Qt(E!==void 0&&E.length>0,6);var b=n.src!==void 0?Sn.IDLE:Sn.LOADED;return e.color_=n.color!==void 0?Ea(n.color):null,e.iconImage_=Wx(h,E,d,e.crossOrigin_,b,e.color_),e.offset_=n.offset!==void 0?n.offset:[0,0],e.offsetOrigin_=n.offsetOrigin!==void 0?n.offsetOrigin:bo.TOP_LEFT,e.origin_=null,e.size_=n.size!==void 0?n.size:null,e}return r.prototype.clone=function(){var t=this.getScale();return new r({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:this.size_!==null?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},r.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==Wo.FRACTION||this.anchorYUnits_==Wo.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==Wo.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==Wo.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=bo.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==bo.TOP_RIGHT||this.anchorOrigin_==bo.BOTTOM_RIGHT)&&(t[0]=-t[0]+e[0]),(this.anchorOrigin_==bo.BOTTOM_LEFT||this.anchorOrigin_==bo.BOTTOM_RIGHT)&&(t[1]=-t[1]+e[1])}var n=this.getDisplacement();return t[0]-=n[0],t[1]+=n[1],this.normalizedAnchor_=t,this.normalizedAnchor_},r.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},r.prototype.getColor=function(){return this.color_},r.prototype.getImage=function(t){return this.iconImage_.getImage(t)},r.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},r.prototype.getImageSize=function(){return this.iconImage_.getSize()},r.prototype.getImageState=function(){return this.iconImage_.getImageState()},r.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},r.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=bo.TOP_LEFT){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),(this.offsetOrigin_==bo.TOP_RIGHT||this.offsetOrigin_==bo.BOTTOM_RIGHT)&&(t[0]=n[0]-e[0]-t[0]),(this.offsetOrigin_==bo.BOTTOM_LEFT||this.offsetOrigin_==bo.BOTTOM_RIGHT)&&(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},r.prototype.getSrc=function(){return this.iconImage_.getSrc()},r.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},r.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Dr.a.CHANGE,t)},r.prototype.load=function(){this.iconImage_.load()},r.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Dr.a.CHANGE,t)},r}($s),Ev=Xx,es=.5;function X1(i,r,t,e,n,o,a){var s=i[0]*es,u=i[1]*es,h=Object(be.a)(s,u);h.imageSmoothingEnabled=!1;for(var d=h.canvas,E=new Yy(h,es,n,null,a),b=t.length,I=Math.floor((256*256*256-1)/b),M={},k=1;k<=b;++k){var et=t[k-1],ht=et.getStyleFunction()||e;if(!!e){var Lt=ht(et,o);if(!!Lt){Array.isArray(Lt)||(Lt=[Lt]);for(var It=k*I,wt="#"+("000000"+It.toString(16)).slice(-6),oe=0,se=Lt.length;oe<se;++oe){var de=Lt[oe],Se=de.getGeometryFunction()(et);if(!(!Se||!Gn(n,Se.getExtent()))){var Ie=de.clone(),He=Ie.getFill();He&&He.setColor(wt);var De=Ie.getStroke();De&&(De.setColor(wt),De.setLineDash(null)),Ie.setText(void 0);var ye=de.getImage();if(ye&&ye.getOpacity()!==0){var Qe=ye.getImageSize();if(!Qe)continue;var Ar=Object(be.a)(Qe[0],Qe[1],void 0,{alpha:!1}),Tr=Ar.canvas;Ar.fillStyle=wt,Ar.fillRect(0,0,Tr.width,Tr.height),Ie.setImage(new Ev({img:Tr,imgSize:Qe,anchor:ye.getAnchor(),anchorXUnits:Wo.PIXELS,anchorYUnits:Wo.PIXELS,offset:ye.getOrigin(),opacity:1,size:ye.getSize(),scale:ye.getScale(),rotation:ye.getRotation(),rotateWithView:ye.getRotateWithView()}))}var kr=Ie.getZIndex()||0,Fr=M[kr];Fr||(Fr={},M[kr]=Fr,Fr[Xt.POLYGON]=[],Fr[Xt.CIRCLE]=[],Fr[Xt.LINE_STRING]=[],Fr[Xt.POINT]=[]),Fr[Se.getType().replace("Multi","")].push(Se,Ie)}}}}}for(var On=Object.keys(M).map(Number).sort(vr.i),k=0,Nn=On.length;k<Nn;++k){var Fr=M[On[k]];for(var An in Fr)for(var ri=Fr[An],oe=0,se=ri.length;oe<se;oe+=2){E.setStyle(ri[oe+1]);for(var er=0,go=r.length;er<go;++er)E.setTransform(r[er]),E.drawGeometry(ri[oe])}}return h.getImageData(0,0,d.width,d.height)}function K1(i,r,t){var e=[];if(t){var n=Math.floor(Math.round(i[0])*es),o=Math.floor(Math.round(i[1])*es),a=(Ei(n,0,t.width-1)+Ei(o,0,t.height-1)*t.width)*4,s=t.data[a],u=t.data[a+1],h=t.data[a+2],d=h+256*(u+256*s),E=Math.floor((256*256*256-1)/r.length);d&&d%E==0&&e.push(r[d/E-1])}return e}var Kx=.5,Z1={Point:rO,LineString:Qx,Polygon:iO,MultiPoint:nO,MultiLineString:tO,MultiPolygon:eO,GeometryCollection:Jx,Circle:$x};function Zx(i,r){return parseInt(Object(nt.c)(i),10)-parseInt(Object(nt.c)(r),10)}function $1(i,r){var t=Hy(i,r);return t*t}function Hy(i,r){return Kx*i/r}function $x(i,r,t,e,n){var o=t.getFill(),a=t.getStroke();if(o||a){var s=i.getBuilder(t.getZIndex(),Pn.CIRCLE);s.setFillStrokeStyle(o,a),s.drawCircle(r,e)}var u=t.getText();if(u&&u.getText()){var h=(n||i).getBuilder(t.getZIndex(),Pn.TEXT);h.setTextStyle(u),h.drawText(r,e)}}function wv(i,r,t,e,n,o,a){var s=!1,u=t.getImage();if(u){var h=u.getImageState();h==Sn.LOADED||h==Sn.ERROR?u.unlistenImageChange(n):(h==Sn.IDLE&&u.load(),h=u.getImageState(),u.listenImageChange(n),s=!0)}return qx(i,r,t,e,o,a),s}function qx(i,r,t,e,n,o){var a=t.getGeometryFunction()(r);if(!!a){var s=a.simplifyTransformed(e,n),u=t.getRenderer();if(u)q1(i,s,t,r);else{var h=Z1[s.getType()];h(i,s,t,r,o)}}}function q1(i,r,t,e){if(r.getType()==Xt.GEOMETRY_COLLECTION){for(var n=r.getGeometries(),o=0,a=n.length;o<a;++o)q1(i,n[o],t,e);return}var s=i.getBuilder(t.getZIndex(),Pn.DEFAULT);s.drawCustom(r,e,t.getRenderer())}function Jx(i,r,t,e,n){var o=r.getGeometriesArray(),a,s;for(a=0,s=o.length;a<s;++a){var u=Z1[o[a].getType()];u(i,o[a],t,e,n)}}function Qx(i,r,t,e,n){var o=t.getStroke();if(o){var a=i.getBuilder(t.getZIndex(),Pn.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawLineString(r,e)}var s=t.getText();if(s&&s.getText()){var u=(n||i).getBuilder(t.getZIndex(),Pn.TEXT);u.setTextStyle(s),u.drawText(r,e)}}function tO(i,r,t,e,n){var o=t.getStroke();if(o){var a=i.getBuilder(t.getZIndex(),Pn.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawMultiLineString(r,e)}var s=t.getText();if(s&&s.getText()){var u=(n||i).getBuilder(t.getZIndex(),Pn.TEXT);u.setTextStyle(s),u.drawText(r,e)}}function eO(i,r,t,e,n){var o=t.getFill(),a=t.getStroke();if(a||o){var s=i.getBuilder(t.getZIndex(),Pn.POLYGON);s.setFillStrokeStyle(o,a),s.drawMultiPolygon(r,e)}var u=t.getText();if(u&&u.getText()){var h=(n||i).getBuilder(t.getZIndex(),Pn.TEXT);h.setTextStyle(u),h.drawText(r,e)}}function rO(i,r,t,e,n){var o=t.getImage(),a=t.getText(),s;if(n&&(i=n,s=o&&a&&a.getText()?{}:void 0),o){if(o.getImageState()!=Sn.LOADED)return;var u=i.getBuilder(t.getZIndex(),Pn.IMAGE);u.setImageStyle(o,s),u.drawPoint(r,e)}if(a&&a.getText()){var h=i.getBuilder(t.getZIndex(),Pn.TEXT);h.setTextStyle(a,s),h.drawText(r,e)}}function nO(i,r,t,e,n){var o=t.getImage(),a=t.getText(),s;if(n&&(i=n,s=o&&a&&a.getText()?{}:void 0),o){if(o.getImageState()!=Sn.LOADED)return;var u=i.getBuilder(t.getZIndex(),Pn.IMAGE);u.setImageStyle(o,s),u.drawMultiPoint(r,e)}if(a&&a.getText()){var h=(n||i).getBuilder(t.getZIndex(),Pn.TEXT);h.setTextStyle(a,s),h.drawText(r,e)}}function iO(i,r,t,e,n){var o=t.getFill(),a=t.getStroke();if(o||a){var s=i.getBuilder(t.getZIndex(),Pn.POLYGON);s.setFillStrokeStyle(o,a),s.drawPolygon(r,e)}var u=t.getText();if(u&&u.getText()){var h=(n||i).getBuilder(t.getZIndex(),Pn.TEXT);h.setTextStyle(u),h.drawText(r,e)}}var oO=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),aO=function(i){oO(r,i);function r(t){var e=i.call(this,t)||this;return e.boundHandleStyleImageChange_=e.handleStyleImageChange_.bind(e),e.animatingOrInteracting_,e.dirty_=!1,e.hitDetectionImageData_=null,e.renderedFeatures_=null,e.renderedRevision_=-1,e.renderedResolution_=NaN,e.renderedExtent_=ve(),e.wrappedRenderedExtent_=ve(),e.renderedRotation_,e.renderedCenter_=null,e.renderedProjection_=null,e.renderedRenderOrder_=null,e.replayGroup_=null,e.replayGroupChanged=!0,e.declutterExecutorGroup=null,e.clipping=!0,e}return r.prototype.useContainer=function(t,e,n){n<1&&(t=null),i.prototype.useContainer.call(this,t,e,n)},r.prototype.renderWorlds=function(t,e,n){var o=e.extent,a=e.viewState,s=a.center,u=a.resolution,h=a.projection,d=a.rotation,E=h.getExtent(),b=this.getLayer().getSource(),I=e.pixelRatio,M=e.viewHints,k=!(M[Fn.ANIMATING]||M[Fn.INTERACTING]),et=this.context,ht=Math.round(e.size[0]*I),Lt=Math.round(e.size[1]*I),It=b.getWrapX()&&h.canWrapX(),wt=It?un(E):null,oe=It?Math.ceil((o[2]-E[2])/wt)+1:1,se=It?Math.floor((o[0]-E[0])/wt):0;do{var de=this.getRenderTransform(s,u,d,I,ht,Lt,se*wt);t.execute(et,1,de,d,k,void 0,n)}while(++se<oe)},r.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},r.prototype.renderFrame=function(t,e){var n=t.pixelRatio,o=t.layerStatesArray[t.layerIndex];Pr(this.pixelTransform,1/n,1/n),Zn(this.inversePixelTransform,this.pixelTransform);var a=Dn(this.pixelTransform);this.useContainer(e,a,o.opacity);var s=this.context,u=s.canvas,h=this.replayGroup_,d=this.declutterExecutorGroup;if((!h||h.isEmpty())&&(!d||d.isEmpty()))return!this.containerReused&&u.width>0&&(u.width=0),this.container;var E=Math.round(t.size[0]*n),b=Math.round(t.size[1]*n);u.width!=E||u.height!=b?(u.width=E,u.height=b,u.style.transform!==a&&(u.style.transform=a)):this.containerReused||s.clearRect(0,0,E,b),this.preRender(s,t);var I=t.viewState;I.projection;var M=!1,k=!0;if(o.extent&&this.clipping){var et=La(o.extent);k=Gn(et,t.extent),M=k&&!he(et,t.extent),M&&this.clipUnrotated(s,t,et)}k&&this.renderWorlds(h,t),M&&s.restore(),this.postRender(s,t);var ht=o.opacity,Lt=this.container;return ht!==parseFloat(Lt.style.opacity)&&(Lt.style.opacity=ht===1?"":String(ht)),this.renderedRotation_!==I.rotation&&(this.renderedRotation_=I.rotation,this.hitDetectionImageData_=null),this.container},r.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];me(this.pixelTransform,n);var o=this.renderedCenter_,a=this.renderedResolution_,s=this.renderedRotation_,u=this.renderedProjection_,h=this.wrappedRenderedExtent_,d=this.getLayer(),E=[],b=n[0]*es,I=n[1]*es;E.push(this.getRenderTransform(o,a,s,es,b,I,0).slice());var M=d.getSource(),k=u.getExtent();if(M.getWrapX()&&u.canWrapX()&&!he(k,h)){for(var et=h[0],ht=un(k),Lt=0,It=void 0;et<k[0];)--Lt,It=ht*Lt,E.push(this.getRenderTransform(o,a,s,es,b,I,It).slice()),et+=ht;for(Lt=0,et=h[2];et>k[2];)++Lt,It=ht*Lt,E.push(this.getRenderTransform(o,a,s,es,b,I,It).slice()),et-=ht}this.hitDetectionImageData_=X1(n,E,this.renderedFeatures_,d.getStyleFunction(),h,a,s)}e(K1(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},r.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,a){var s=this;if(!!this.replayGroup_){var u=e.viewState.resolution,h=e.viewState.rotation,d=this.getLayer(),E={},b=function(k,et,ht){var Lt=Object(nt.c)(k),It=E[Lt];if(It){if(It!==!0&&ht<It.distanceSq){if(ht===0)return E[Lt]=!0,a.splice(a.lastIndexOf(It),1),o(k,d,et);It.geometry=et,It.distanceSq=ht}}else{if(ht===0)return E[Lt]=!0,o(k,d,et);a.push(E[Lt]={feature:k,layer:d,geometry:et,distanceSq:ht,callback:o})}},I,M=[this.replayGroup_];return this.declutterExecutorGroup&&M.push(this.declutterExecutorGroup),M.some(function(k){return I=k.forEachFeatureAtCoordinate(t,u,h,n,b,k===s.declutterExecutorGroup?e.declutterTree.all().map(function(et){return et.value}):null)}),I}},r.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},r.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},r.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var o=t.viewHints[Fn.ANIMATING],a=t.viewHints[Fn.INTERACTING],s=e.getUpdateWhileAnimating(),u=e.getUpdateWhileInteracting();if(!this.dirty_&&!s&&o||!u&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var h=t.extent,d=t.viewState,E=d.projection,b=d.resolution,I=t.pixelRatio,M=e.getRevision(),k=e.getRenderBuffer(),et=e.getRenderOrder();et===void 0&&(et=Zx);var ht=d.center.slice(),Lt=yt(h,k*b),It=Lt.slice(),wt=[Lt.slice()],oe=E.getExtent();if(n.getWrapX()&&E.canWrapX()&&!he(oe,t.extent)){var se=un(oe),de=Math.max(un(Lt)/2,se);Lt[0]=oe[0]-de,Lt[2]=oe[2]+de,mt(ht,E);var Se=Sa(wt[0],E);Se[0]<oe[0]&&Se[2]<oe[2]?wt.push([Se[0]+se,Se[1],Se[2]+se,Se[3]]):Se[0]>oe[0]&&Se[2]>oe[2]&&wt.push([Se[0]-se,Se[1],Se[2]-se,Se[3]])}if(!this.dirty_&&this.renderedResolution_==b&&this.renderedRevision_==M&&this.renderedRenderOrder_==et&&he(this.wrappedRenderedExtent_,Lt))return Object(vr.b)(this.renderedExtent_,It)||(this.hitDetectionImageData_=null,this.renderedExtent_=It),this.renderedCenter_=ht,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var Ie=new _v(Hy(b,I),Lt,b,I),He;this.getLayer().getDeclutter()&&(He=new _v(Hy(b,I),Lt,b,I));for(var De,ye,Qe,ye=0,Qe=wt.length;ye<Qe;++ye)n.loadFeatures(wt[ye],b,E);var Ar=$1(b,I),Tr=function(An){var ri,er=An.getStyleFunction()||e.getStyleFunction();if(er&&(ri=er(An,b)),ri){var go=this.renderFeature(An,Ar,ri,Ie,De,He);this.dirty_=this.dirty_||go}}.bind(this),kr=Mc(Lt),Fr=n.getFeaturesInExtent(kr);et&&Fr.sort(et);for(var ye=0,Qe=Fr.length;ye<Qe;++ye)Tr(Fr[ye]);this.renderedFeatures_=Fr;var On=Ie.finish(),Nn=new Sv(Lt,b,I,n.getOverlaps(),On,e.getRenderBuffer());return He&&(this.declutterExecutorGroup=new Sv(Lt,b,I,n.getOverlaps(),He.finish(),e.getRenderBuffer())),this.renderedResolution_=b,this.renderedRevision_=M,this.renderedRenderOrder_=et,this.renderedExtent_=It,this.wrappedRenderedExtent_=Lt,this.renderedCenter_=ht,this.renderedProjection_=E,this.replayGroup_=Nn,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},r.prototype.renderFeature=function(t,e,n,o,a,s){if(!n)return!1;var u=!1;if(Array.isArray(n))for(var h=0,d=n.length;h<d;++h)u=wv(o,t,n[h],e,this.boundHandleStyleImageChange_,a,s)||u;else u=wv(o,t,n,e,this.boundHandleStyleImageChange_,a,s);return u},r}(Pp),sO=aO,lO=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uO=function(i){lO(r,i);function r(t){return i.call(this,t)||this}return r.prototype.createRenderer=function(){return new sO(this)},r}(ky),bl=uO,cO={extends:xl,name:"ol-vector-layer",setup:function(r){var t=Object(N.inject)("map"),e=Yt(r),n=e.properties,o=Object(N.computed)(function(){return new bl(n)});return Object(N.watch)(n,function(){o.value.setProperties(n)}),Object(N.onMounted)(function(){t.addLayer(o.value)}),Object(N.onUnmounted)(function(){t.removeLayer(o.value)}),Object(N.provide)("vectorLayer",o),Object(N.provide)("stylable",o),{vectorLayer:o}},props:{renderBuffer:{type:Number,default:100},updateWhileAnimating:{type:Boolean,default:!1},style:{type:Function},updateWhileInteracting:{type:Boolean,default:!1}}},Xy=xt()(cO,[["render",Np]]);function fO(i,r,t,e,n,o){return Object(N.openBlock)(),Object(N.createBlock)("div",null,[Object(N.renderSlot)(i.$slots,"default")])}var hO=function(){function i(r){this.rbush_=new Ts.a(r),this.items_={}}return i.prototype.insert=function(r,t){var e={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:t};this.rbush_.insert(e),this.items_[Object(nt.c)(t)]=e},i.prototype.load=function(r,t){for(var e=new Array(t.length),n=0,o=t.length;n<o;n++){var a=r[n],s=t[n],u={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};e[n]=u,this.items_[Object(nt.c)(s)]=u}this.rbush_.load(e)},i.prototype.remove=function(r){var t=Object(nt.c)(r),e=this.items_[t];return delete this.items_[t],this.rbush_.remove(e)!==null},i.prototype.update=function(r,t){var e=this.items_[Object(nt.c)(t)],n=[e.minX,e.minY,e.maxX,e.maxY];Gr(n,r)||(this.remove(t),this.insert(r,t))},i.prototype.getAll=function(){var r=this.rbush_.all();return r.map(function(t){return t.value})},i.prototype.getInExtent=function(r){var t={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]},e=this.rbush_.search(t);return e.map(function(n){return n.value})},i.prototype.forEach=function(r){return this.forEach_(this.getAll(),r)},i.prototype.forEachInExtent=function(r,t){return this.forEach_(this.getInExtent(r),t)},i.prototype.forEach_=function(r,t){for(var e,n=0,o=r.length;n<o;n++)if(e=t(r[n]),e)return e;return e},i.prototype.isEmpty=function(){return Object(br.d)(this.items_)},i.prototype.clear=function(){this.rbush_.clear(),this.items_={}},i.prototype.getExtent=function(r){var t=this.rbush_.toJSON();return Ce(t.minX,t.minY,t.maxX,t.maxY,r)},i.prototype.concat=function(r){this.rbush_.load(r.rbush_.all());for(var t in r.items_)this.items_[t]=r.items_[t]},i}(),xv=hO,pO=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dO=function(i){pO(r,i);function r(t){var e=i.call(this)||this;return e.projection=qr(t.projection),e.attributions_=J1(t.attributions),e.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,e.loading=!1,e.state_=t.state!==void 0?t.state:ps.READY,e.wrapX_=t.wrapX!==void 0?t.wrapX:!1,e}return r.prototype.getAttributions=function(){return this.attributions_},r.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},r.prototype.getProjection=function(){return this.projection},r.prototype.getResolutions=function(){return Object(nt.b)()},r.prototype.getState=function(){return this.state_},r.prototype.getWrapX=function(){return this.wrapX_},r.prototype.getContextOptions=function(){},r.prototype.refresh=function(){this.changed()},r.prototype.setAttributions=function(t){this.attributions_=J1(t),this.changed()},r.prototype.setState=function(t){this.state_=t,this.changed()},r}(co.a);function J1(i){return i?Array.isArray(i)?function(r){return i}:typeof i=="function"?i:function(r){return[i]}:null}var Ov=dO,Fo={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function Q1(i,r){return[[-1/0,-1/0,1/0,1/0]]}function vO(i,r){return[i]}function gO(i){return function(r,t){var e=i.getZForResolution(t),n=i.getTileRangeForExtentAndZ(r,e),o=[],a=[e,0,0];for(a[1]=n.minX;a[1]<=n.maxX;++a[1])for(a[2]=n.minY;a[2]<=n.maxY;++a[2])o.push(i.getTileCoordExtent(a));return o}}var ou={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},yO=!1;function mO(i,r,t,e,n,o,a){var s=new XMLHttpRequest;s.open("GET",typeof i=="function"?i(t,e,n):i,!0),r.getType()==ou.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.withCredentials=yO,s.onload=function(u){if(!s.status||s.status>=200&&s.status<300){var h=r.getType(),d=void 0;h==ou.JSON||h==ou.TEXT?d=s.responseText:h==ou.XML?(d=s.responseXML,d||(d=new DOMParser().parseFromString(s.responseText,"application/xml"))):h==ou.ARRAY_BUFFER&&(d=s.response),d?o(r.readFeatures(d,{extent:t,featureProjection:n}),r.readProjection(d)):a()}else a()},s.onerror=a,s.send()}function t2(i,r){return function(t,e,n,o,a){var s=this;mO(i,r,t,e,n,function(u,h){s.addFeatures(u),o!==void 0&&o(u)},a||St.c)}}var e2=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tc=function(i){e2(r,i);function r(t,e,n){var o=i.call(this,t)||this;return o.feature=e,o.features=n,o}return r}(ue.a),_O=function(i){e2(r,i);function r(t){var e=this,n=t||{};e=i.call(this,{attributions:n.attributions,projection:void 0,state:ps.READY,wrapX:n.wrapX!==void 0?n.wrapX:!0})||this,e.on,e.once,e.un,e.loader_=St.c,e.format_=n.format,e.overlaps_=n.overlaps===void 0?!0:n.overlaps,e.url_=n.url,n.loader!==void 0?e.loader_=n.loader:e.url_!==void 0&&(Qt(e.format_,7),e.loader_=t2(e.url_,e.format_)),e.strategy_=n.strategy!==void 0?n.strategy:Q1;var o=n.useSpatialIndex!==void 0?n.useSpatialIndex:!0;e.featuresRtree_=o?new xv:null,e.loadedExtentsRtree_=new xv,e.loadingExtentsCount_=0,e.nullGeometryFeatures_={},e.idIndex_={},e.uidIndex_={},e.featureChangeKeys_={},e.featuresCollection_=null;var a,s;return Array.isArray(n.features)?s=n.features:n.features&&(a=n.features,s=a.getArray()),!o&&a===void 0&&(a=new hr(s)),s!==void 0&&e.addFeaturesInternal(s),a!==void 0&&e.bindFeaturesCollection_(a),e}return r.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},r.prototype.addFeatureInternal=function(t){var e=Object(nt.c)(t);if(!this.addToIndex_(e,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var o=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new tc(Fo.ADDFEATURE,t))},r.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(dr.a)(e,Dr.a.CHANGE,this.handleFeatureChange_,this),Object(dr.a)(e,Nt.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},r.prototype.addToIndex_=function(t,e){var n=!0,o=e.getId();return o!==void 0&&(o.toString()in this.idIndex_?n=!1:this.idIndex_[o.toString()]=e),n&&(Qt(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},r.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},r.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],o=[],a=0,s=t.length;a<s;a++){var u=t[a],h=Object(nt.c)(u);this.addToIndex_(h,u)&&n.push(u)}for(var a=0,d=n.length;a<d;a++){var u=n[a],h=Object(nt.c)(u);this.setupChangeEvents_(h,u);var E=u.getGeometry();if(E){var b=E.getExtent();e.push(b),o.push(u)}else this.nullGeometryFeatures_[h]=u}this.featuresRtree_&&this.featuresRtree_.load(e,o);for(var a=0,I=n.length;a<I;a++)this.dispatchEvent(new tc(Fo.ADDFEATURE,n[a]))},r.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(Fo.ADDFEATURE,function(n){e||(e=!0,t.push(n.feature),e=!1)}),this.addEventListener(Fo.REMOVEFEATURE,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),t.addEventListener(ln.ADD,function(n){e||(e=!0,this.addFeature(n.element),e=!1)}.bind(this)),t.addEventListener(ln.REMOVE,function(n){e||(e=!0,this.removeFeature(n.element),e=!1)}.bind(this)),this.featuresCollection_=t},r.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){var n=this.featureChangeKeys_[e];n.forEach(dr.c)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this));for(var o in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[o])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var a=new tc(Fo.CLEAR);this.dispatchEvent(a),this.changed()},r.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},r.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(o){var a=o.getGeometry();if(a.intersectsCoordinate(t))return e(o)})},r.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},r.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){var o=n.getGeometry();if(o.intersectsExtent(t)){var a=e(n);if(a)return a}})},r.prototype.getFeaturesCollection=function(){return this.featuresCollection_},r.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(br.d)(this.nullGeometryFeatures_)||Object(vr.c)(t,Object(br.c)(this.nullGeometryFeatures_))),t},r.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(n){e.push(n)}),e},r.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},r.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],o=t[1],a=null,s=[NaN,NaN],u=1/0,h=[-1/0,-1/0,1/0,1/0],d=e||St.b;return this.featuresRtree_.forEachInExtent(h,function(E){if(d(E)){var b=E.getGeometry(),I=u;if(u=b.closestPointXY(n,o,s,u),u<I){a=E;var M=Math.sqrt(u);h[0]=n-M,h[1]=o-M,h[2]=n+M,h[3]=o+M}}}),a},r.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},r.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return e!==void 0?e:null},r.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return e!==void 0?e:null},r.prototype.getFormat=function(){return this.format_},r.prototype.getOverlaps=function(){return this.overlaps_},r.prototype.getUrl=function(){return this.url_},r.prototype.handleFeatureChange_=function(t){var e=t.target,n=Object(nt.c)(e),o=e.getGeometry();if(!o)n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);else{var a=o.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(a,e)):this.featuresRtree_&&this.featuresRtree_.update(a,e)}var s=e.getId();if(s!==void 0){var u=s.toString();this.idIndex_[u]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[u]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new tc(Fo.CHANGEFEATURE,e))},r.prototype.hasFeature=function(t){var e=t.getId();return e!==void 0?e in this.idIndex_:Object(nt.c)(t)in this.uidIndex_},r.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(br.d)(this.nullGeometryFeatures_)},r.prototype.loadFeatures=function(t,e,n){for(var o=this.loadedExtentsRtree_,a=this.strategy_(t,e),s=function(E,b){var I=a[E],M=o.forEachInExtent(I,function(k){return he(k.extent,I)});M||(++u.loadingExtentsCount_,u.dispatchEvent(new tc(Fo.FEATURESLOADSTART)),u.loader_.call(u,I,e,n,function(k){--this.loadingExtentsCount_,this.dispatchEvent(new tc(Fo.FEATURESLOADEND,void 0,k))}.bind(u),function(){--this.loadingExtentsCount_,this.dispatchEvent(new tc(Fo.FEATURESLOADERROR))}.bind(u)),o.insert(I,{extent:I.slice()}))},u=this,h=0,d=a.length;h<d;++h)s(h);this.loading=this.loader_===St.c?!1:this.loadingExtentsCount_>0},r.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),i.prototype.refresh.call(this)},r.prototype.removeLoadedExtent=function(t){var e=this.loadedExtentsRtree_,n;e.forEachInExtent(t,function(o){if(Gr(o.extent,t))return n=o,!0}),n&&e.remove(n)},r.prototype.removeFeature=function(t){var e=Object(nt.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},r.prototype.removeFeatureInternal=function(t){var e=Object(nt.c)(t);this.featureChangeKeys_[e].forEach(dr.c),delete this.featureChangeKeys_[e];var n=t.getId();n!==void 0&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new tc(Fo.REMOVEFEATURE,t))},r.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},r.prototype.setLoader=function(t){this.loader_=t},r.prototype.setUrl=function(t){Qt(this.format_,7),this.url_=t,this.setLoader(t2(t,this.format_))},r}(Ov),ec=_O,SO=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),EO=function(i){SO(r,i);function r(t){var e=i.call(this,{attributions:t.attributions,wrapX:t.wrapX})||this;return e.resolution=void 0,e.distance=t.distance!==void 0?t.distance:20,e.minDistance=t.minDistance||0,e.interpolationRatio=0,e.features=[],e.geometryFunction=t.geometryFunction||function(n){var o=n.getGeometry();return Qt(o.getType()==Xt.POINT,10),o},e.source=null,e.boundRefresh_=e.refresh.bind(e),e.updateDistance(e.distance,e.minDistance),e.setSource(t.source||null),e}return r.prototype.clear=function(t){this.features.length=0,i.prototype.clear.call(this,t)},r.prototype.getDistance=function(){return this.distance},r.prototype.getSource=function(){return this.source},r.prototype.loadFeatures=function(t,e,n){this.source.loadFeatures(t,e,n),e!==this.resolution&&(this.resolution=e,this.refresh())},r.prototype.setDistance=function(t){this.updateDistance(t,this.minDistance)},r.prototype.setMinDistance=function(t){this.updateDistance(this.distance,t)},r.prototype.getMinDistance=function(){return this.minDistance},r.prototype.setSource=function(t){this.source&&this.source.removeEventListener(Dr.a.CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener(Dr.a.CHANGE,this.boundRefresh_),this.refresh()},r.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},r.prototype.updateDistance=function(t,e){var n=t===0?0:Math.min(e,t)/t,o=t!==this.distance||this.interpolationRatio!==n;this.distance=t,this.minDistance=e,this.interpolationRatio=n,o&&this.refresh()},r.prototype.cluster=function(){if(!(this.resolution===void 0||!this.source))for(var t=ve(),e=this.distance*this.resolution,n=this.source.getFeatures(),o={},a=0,s=n.length;a<s;a++){var u=n[a];if(!(Object(nt.c)(u)in o)){var h=this.geometryFunction(u);if(h){var d=h.getCoordinates();Ee(d,t),yt(t,e,t);var E=this.source.getFeaturesInExtent(t).filter(function(b){var I=Object(nt.c)(b);return I in o?!1:(o[I]=!0,!0)});this.features.push(this.createCluster(E,t))}}}},r.prototype.createCluster=function(t,e){for(var n=[0,0],o=t.length-1;o>=0;--o){var a=this.geometryFunction(t[o]);a?T(n,a.getCoordinates()):t.splice(o,1)}j(n,1/t.length);var s=Tn(e),u=this.interpolationRatio,h=new yn([n[0]*(1-u)+s[0]*u,n[1]*(1-u)+s[1]*u]),d=new Er(h);return d.set("features",t,!0),d},r}(ec),r2=EO;window.ol&&!ol.ext&&(ol.ext={});var Ky=function(i,r){i.prototype=Object.create(r.prototype),i.prototype.constructor=i};window.ol&&(ol.inherits||(ol.inherits=Ky)),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.Element&&!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var yi=Ky;function wO(i){const r=i.frameState,t=Kt(i.inversePixelTransform.slice(),r.coordinateToPixelTransform);return new Yy(i.context,r.pixelRatio,r.extent,t,r.viewState.rotation)}var Tv=wO,ef=function(i){var r=i||{};bl.call(this,r),this.oldcluster=new ec,this.clusters=[],this.animation={start:!1},this.set("animationDuration",typeof r.animationDuration=="number"?r.animationDuration:700),this.set("animationMethod",r.animationMethod||wo),this.getSource().on("change",this.saveCluster.bind(this)),this.on(["precompose","prerender"],this.animate.bind(this)),this.on(["postcompose","postrender"],this.postanimate.bind(this))};yi(ef,bl),ef.prototype.saveCluster=function(){if(this.oldcluster){if(this.oldcluster.clear(),!this.get("animationDuration"))return;var i=this.getSource().getFeatures();i.length&&i[0].get("features")&&(this.oldcluster.addFeatures(this.clusters),this.clusters=i.slice(0),this.sourceChanged=!0)}},ef.prototype.getClusterForFeature=function(i,r){for(var t=0,e;e=r[t];t++){var n=e.get("features");if(n&&n.length){for(var o=0,a;a=n[o];o++)if(i===a)return e}}return!1},ef.prototype.stopAnimation=function(){this.animation.start=!1,this.animation.cA=[],this.animation.cB=[]},ef.prototype.animate=function(i){var r=this.get("animationDuration");if(!!r){var t=i.frameState.viewState.resolution,e,n,o=this.animation,a=i.frameState.time;if(o.resolution!=t&&this.sourceChanged){var s=i.frameState.extent;for(o.resolution<t?(s=yt(s,100*t),o.cA=this.oldcluster.getFeaturesInExtent(s),o.cB=this.getSource().getFeaturesInExtent(s),o.revers=!1):(s=yt(s,100*t),o.cA=this.getSource().getFeaturesInExtent(s),o.cB=this.oldcluster.getFeaturesInExtent(s),o.revers=!0),o.clusters=[],e=0,n;n=o.cA[e];e++){var u=n.get("features");if(u&&u.length){var h=this.getClusterForFeature(u[0],o.cB);h&&o.clusters.push({f:n,pt:h.getGeometry().getCoordinates()})}}if(o.resolution=t,this.sourceChanged=!1,!o.clusters.length||o.clusters.length>1e3){this.stopAnimation();return}a=o.start=new Date().getTime()}if(o.start){var d=i.vectorContext||Tv(i),E=(a-o.start)/r;E>1&&(this.stopAnimation(),E=1),E=this.get("animationMethod")(E);var b=this.getStyle(),I=typeof b=="function"?b:b.length?function(){return b}:function(){return[b]};for(i.context.save(),i.context.globalAlpha=this.getOpacity(),e=0,h;h=o.clusters[e];e++){var M=h.f.getGeometry().getCoordinates(),k=M[0]-h.pt[0],et=M[1]-h.pt[1];o.revers?(M[0]=h.pt[0]+E*k,M[1]=h.pt[1]+E*et):(M[0]=M[0]-E*k,M[1]=M[1]-E*et);var ht=I(h.f,t,!0);if(ht.length||(ht=[ht]),h.f.get("features").length===1&&!k&&!et)u=h.f.get("features")[0];else{var Lt=new yn(M);u=new Er(Lt)}for(var It=0,wt;wt=ht[It];It++)if(wt.getText()&&/\n/.test(wt.getText().getText())){var oe=wt.getText().getOffsetX(),se=wt.getText().getOffsetY(),de=wt.getText().getRotation()||0,Se=Number((wt.getText().getFont()||"10px").match(/\d+/))*1.2,Ie=wt.getText().getText().split(`
`),He,De=Ie.length-1,ye=wt.clone();Ie.forEach(function(Qe,Ar){switch(Ar==1&&(ye.setImage(),ye.setFill(),ye.setStroke()),wt.getText().getTextBaseline()){case"alphabetic":case"ideographic":case"bottom":{He=De;break}case"hanging":case"top":{He=0;break}default:{He=De/2;break}}ye.getText().setOffsetX(oe-Math.sin(de)*Se*(Ar-He)),ye.getText().setOffsetY(se+Math.cos(de)*Se*(Ar-He)),ye.getText().setText(Qe),d.drawFeature(u,ye)})}else d.drawFeature(u,wt)}i.context.restore(),i.frameState.animate=!0,i.context.save(),i.context.beginPath(),i.context.rect(0,0,0,0),i.context.clip(),this.clip_=!0}}},ef.prototype.postanimate=function(i){this.clip_&&(i.context.restore(),this.clip_=!1)};var xO=ef,OO={extends:xl,name:"ol-animated-clusterlayer",setup:function(r){var t=Object(N.inject)("map"),e=Yt(r),n=e.properties,o=Object(N.computed)(function(){var s=new xO(ee(ee({},n),{},{source:new r2({distance:n.distance,geometryFunction:function(h){return h.getGeometry()}})}));return s}),a=Object(N.computed)(function(){return o.value.getSource()});return Object(N.watch)(n,function(){o.value.setProperties(n),o.value.changed()}),Object(N.onMounted)(function(){t.addLayer(o.value),o.value.changed(),t.changed()}),Object(N.onUnmounted)(function(){t.removeLayer(o.value)}),Object(N.provide)("vectorLayer",a),Object(N.provide)("stylable",o),{vectorLayer:o,map:t}},props:{animationDuration:{type:Number,default:700},distance:{type:Number,default:20},animationMethod:{type:Function,default:wo},updateWhileAnimating:{type:Boolean,default:!1},updateWhileInteracting:{type:Boolean,default:!1}}},Zy=xt()(OO,[["render",fO]]);function bv(i){bv.installed||(bv.installed=!0,i.component(Zu.name,Zu),i.component(ru.name,ru),i.component(Xy.name,Xy),i.component(Zy.name,Zy))}var TO=bv;function bO(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var CO=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),LO=function(i){CO(r,i);function r(t,e,n){var o=i.call(this)||this,a=n||{};return o.tileCoord=t,o.state=e,o.interimTile=null,o.key="",o.transition_=a.transition===void 0?250:a.transition,o.transitionStarts_={},o}return r.prototype.changed=function(){this.dispatchEvent(Dr.a.CHANGE)},r.prototype.release=function(){},r.prototype.getKey=function(){return this.key+"/"+this.tileCoord},r.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==Cr.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},r.prototype.refreshInterimChain=function(){if(!!this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==Cr.LOADED){t.interimTile=null;break}else t.getState()==Cr.LOADING?e=t:t.getState()==Cr.IDLE?e.interimTile=t.interimTile:e=t;t=e.interimTile}while(t)}},r.prototype.getTileCoord=function(){return this.tileCoord},r.prototype.getState=function(){return this.state},r.prototype.setState=function(t){if(this.state!==Cr.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},r.prototype.load=function(){Object(nt.b)()},r.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(!n)n=e,this.transitionStarts_[t]=n;else if(n===-1)return 1;var o=e-n+1e3/60;return o>=this.transition_?1:Dc(o/this.transition_)},r.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},r.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},r}(Be.a),n2=LO,AO=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),PO=function(i){AO(r,i);function r(t,e,n,o,a,s){var u=i.call(this,t,e,s)||this;return u.crossOrigin_=o,u.src_=n,u.key=n,u.image_=new Image,o!==null&&(u.image_.crossOrigin=o),u.unlisten_=null,u.tileLoadFunction_=a,u}return r.prototype.getImage=function(){return this.image_},r.prototype.setImage=function(t){this.image_=t,this.state=Cr.LOADED,this.unlistenImage_(),this.changed()},r.prototype.handleImageError_=function(){this.state=Cr.ERROR,this.unlistenImage_(),this.image_=RO(),this.changed()},r.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Cr.LOADED:this.state=Cr.EMPTY,this.unlistenImage_(),this.changed()},r.prototype.load=function(){this.state==Cr.ERROR&&(this.state=Cr.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Cr.IDLE&&(this.state=Cr.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Wy(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(n2);function RO(){var i=Object(be.a)(1,1);return i.fillStyle="rgba(0,0,0,0)",i.fillRect(0,0,1,1),i.canvas}var IO=PO,NO=10,i2=.25,MO=function(){function i(r,t,e,n,o,a){this.sourceProj_=r,this.targetProj_=t;var s={},u=ys(this.targetProj_,this.sourceProj_);this.transformInv_=function(It){var wt=It[0]+"/"+It[1];return s[wt]||(s[wt]=u(It)),s[wt]},this.maxSourceExtent_=n,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&un(n)==un(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?un(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?un(this.targetProj_.getExtent()):null;var h=bi(e),d=mo(e),E=En(e),b=lr(e),I=this.transformInv_(h),M=this.transformInv_(d),k=this.transformInv_(E),et=this.transformInv_(b),ht=NO+(a?Math.max(0,Math.ceil(mu(Lr(e)/(a*a*256*256)))):0);if(this.addQuad_(h,d,E,b,I,M,k,et,ht),this.wrapsXInSource_){var Lt=1/0;this.triangles_.forEach(function(It,wt,oe){Lt=Math.min(Lt,It.source[0][0],It.source[1][0],It.source[2][0])}),this.triangles_.forEach(function(It){if(Math.max(It.source[0][0],It.source[1][0],It.source[2][0])-Lt>this.sourceWorldWidth_/2){var wt=[[It.source[0][0],It.source[0][1]],[It.source[1][0],It.source[1][1]],[It.source[2][0],It.source[2][1]]];wt[0][0]-Lt>this.sourceWorldWidth_/2&&(wt[0][0]-=this.sourceWorldWidth_),wt[1][0]-Lt>this.sourceWorldWidth_/2&&(wt[1][0]-=this.sourceWorldWidth_),wt[2][0]-Lt>this.sourceWorldWidth_/2&&(wt[2][0]-=this.sourceWorldWidth_);var oe=Math.min(wt[0][0],wt[1][0],wt[2][0]),se=Math.max(wt[0][0],wt[1][0],wt[2][0]);se-oe<this.sourceWorldWidth_/2&&(It.source=wt)}}.bind(this))}s={}}return i.prototype.addTriangle_=function(r,t,e,n,o,a){this.triangles_.push({source:[n,o,a],target:[r,t,e]})},i.prototype.addQuad_=function(r,t,e,n,o,a,s,u,h){var d=At([o,a,s,u]),E=this.sourceWorldWidth_?un(d)/this.sourceWorldWidth_:null,b=this.sourceWorldWidth_,I=this.sourceProj_.canWrapX()&&E>.5&&E<1,M=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var k=At([r,t,e,n]),et=un(k)/this.targetWorldWidth_;M=et>i2||M}!I&&this.sourceProj_.isGlobal()&&E&&(M=E>i2||M)}if(!(!M&&this.maxSourceExtent_&&isFinite(d[0])&&isFinite(d[1])&&isFinite(d[2])&&isFinite(d[3])&&!Gn(d,this.maxSourceExtent_))){var ht=0;if(!M&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(u[0])||!isFinite(u[1]))){if(h>0)M=!0;else if(ht=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(s[0])||!isFinite(s[1])?2:0)+(!isFinite(u[0])||!isFinite(u[1])?1:0),ht!=1&&ht!=2&&ht!=4&&ht!=8)return}if(h>0){if(!M){var Lt=[(r[0]+e[0])/2,(r[1]+e[1])/2],It=this.transformInv_(Lt),wt=void 0;if(I){var oe=(ll(o[0],b)+ll(s[0],b))/2;wt=oe-ll(It[0],b)}else wt=(o[0]+s[0])/2-It[0];var se=(o[1]+s[1])/2-It[1],de=wt*wt+se*se;M=de>this.errorThresholdSquared_}if(M){if(Math.abs(r[0]-e[0])<=Math.abs(r[1]-e[1])){var Se=[(t[0]+e[0])/2,(t[1]+e[1])/2],Ie=this.transformInv_(Se),He=[(n[0]+r[0])/2,(n[1]+r[1])/2],De=this.transformInv_(He);this.addQuad_(r,t,Se,He,o,a,Ie,De,h-1),this.addQuad_(He,Se,e,n,De,Ie,s,u,h-1)}else{var ye=[(r[0]+t[0])/2,(r[1]+t[1])/2],Qe=this.transformInv_(ye),Ar=[(e[0]+n[0])/2,(e[1]+n[1])/2],Tr=this.transformInv_(Ar);this.addQuad_(r,ye,Ar,n,o,Qe,Tr,u,h-1),this.addQuad_(ye,t,e,Ar,Qe,a,s,Tr,h-1)}return}}if(I){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(ht&11)==0&&this.addTriangle_(r,e,n,o,s,u),(ht&14)==0&&this.addTriangle_(r,e,t,o,s,a),ht&&((ht&13)==0&&this.addTriangle_(t,n,r,a,u,o),(ht&7)==0&&this.addTriangle_(t,n,e,a,u,s))}},i.prototype.calculateSourceExtent=function(){var r=ve();return this.triangles_.forEach(function(t,e,n){var o=t.source;Bn(r,o[0]),Bn(r,o[1]),Bn(r,o[2])}),r},i.prototype.getTriangles=function(){return this.triangles_},i}(),o2=MO,rc="1.3.0",$y={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},qy;function a2(i,r,t,e,n){i.beginPath(),i.moveTo(0,0),i.lineTo(r,t),i.lineTo(e,n),i.closePath(),i.save(),i.clip(),i.fillRect(0,0,Math.max(r,e)+1,Math.max(t,n)),i.restore()}function Jy(i,r){return Math.abs(i[r*4]-210)>2||Math.abs(i[r*4+3]-.75*255)>2}function FO(){if(qy===void 0){var i=document.createElement("canvas").getContext("2d");i.globalCompositeOperation="lighter",i.fillStyle="rgba(210, 0, 0, 0.75)",a2(i,4,5,4,0),a2(i,4,5,0,5);var r=i.getImageData(0,0,3,3).data;qy=Jy(r,0)||Jy(r,4)||Jy(r,8)}return qy}function kp(i,r,t,e){var n=sa(t,r,i),o=Cu(r,e,t),a=r.getMetersPerUnit();a!==void 0&&(o*=a);var s=i.getMetersPerUnit();s!==void 0&&(o/=s);var u=i.getExtent();if(!u||re(u,n)){var h=Cu(i,o,n)/o;isFinite(h)&&h>0&&(o/=h)}return o}function jO(i,r,t,e){var n=Tn(t),o=kp(i,r,n,e);return(!isFinite(o)||o<=0)&&sr(t,function(a){return o=kp(i,r,a,e),isFinite(o)&&o>0}),o}function s2(i,r,t,e,n,o,a,s,u,h,d,E){var b=Object(be.a)(Math.round(t*i),Math.round(t*r));if(Object(br.a)(b,E),u.length===0)return b.canvas;b.scale(t,t);function I(wt){return Math.round(wt*t)/t}b.globalCompositeOperation="lighter";var M=ve();u.forEach(function(wt,oe,se){Qr(M,wt.extent)});var k=un(M),et=bn(M),ht=Object(be.a)(Math.round(t*k/e),Math.round(t*et/e));Object(br.a)(ht,E);var Lt=t/e;u.forEach(function(wt,oe,se){var de=wt.extent[0]-M[0],Se=-(wt.extent[3]-M[3]),Ie=un(wt.extent),He=bn(wt.extent);wt.image.width>0&&wt.image.height>0&&ht.drawImage(wt.image,h,h,wt.image.width-2*h,wt.image.height-2*h,de*Lt,Se*Lt,Ie*Lt,He*Lt)});var It=bi(a);return s.getTriangles().forEach(function(wt,oe,se){var de=wt.source,Se=wt.target,Ie=de[0][0],He=de[0][1],De=de[1][0],ye=de[1][1],Qe=de[2][0],Ar=de[2][1],Tr=I((Se[0][0]-It[0])/o),kr=I(-(Se[0][1]-It[1])/o),Fr=I((Se[1][0]-It[0])/o),On=I(-(Se[1][1]-It[1])/o),Nn=I((Se[2][0]-It[0])/o),An=I(-(Se[2][1]-It[1])/o),ri=Ie,er=He;Ie=0,He=0,De-=ri,ye-=er,Qe-=ri,Ar-=er;var go=[[De,ye,0,0,Fr-Tr],[Qe,Ar,0,0,Nn-Tr],[0,0,De,ye,On-kr],[0,0,Qe,Ar,An-kr]],Mn=_u(go);if(!!Mn){if(b.save(),b.beginPath(),FO()||E===$y){b.moveTo(Fr,On);for(var _i=4,Do=Tr-Fr,Lo=kr-On,uo=0;uo<_i;uo++)b.lineTo(Fr+I((uo+1)*Do/_i),On+I(uo*Lo/(_i-1))),uo!=_i-1&&b.lineTo(Fr+I((uo+1)*Do/_i),On+I((uo+1)*Lo/(_i-1)));b.lineTo(Nn,An)}else b.moveTo(Fr,On),b.lineTo(Tr,kr),b.lineTo(Nn,An);b.clip(),b.transform(Mn[0],Mn[2],Mn[1],Mn[3],Tr,kr),b.translate(M[0]-ri,M[3]-er),b.scale(e/t,-e/t),b.drawImage(ht.canvas,0,0),b.restore()}}),d&&(b.save(),b.globalCompositeOperation="source-over",b.strokeStyle="black",b.lineWidth=1,s.getTriangles().forEach(function(wt,oe,se){var de=wt.target,Se=(de[0][0]-It[0])/o,Ie=-(de[0][1]-It[1])/o,He=(de[1][0]-It[0])/o,De=-(de[1][1]-It[1])/o,ye=(de[2][0]-It[0])/o,Qe=-(de[2][1]-It[1])/o;b.beginPath(),b.moveTo(He,De),b.lineTo(Se,Ie),b.lineTo(ye,Qe),b.closePath(),b.stroke()}),b.restore()),b.canvas}var DO=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),BO=function(i){DO(r,i);function r(t,e,n,o,a,s,u,h,d,E,b,I){var M=i.call(this,a,Cr.IDLE)||this;M.renderEdges_=b!==void 0?b:!1,M.contextOptions_=I,M.pixelRatio_=u,M.gutter_=h,M.canvas_=null,M.sourceTileGrid_=e,M.targetTileGrid_=o,M.wrappedTileCoord_=s||a,M.sourceTiles_=[],M.sourcesListenerKeys_=null,M.sourceZ_=0;var k=o.getTileCoordExtent(M.wrappedTileCoord_),et=M.targetTileGrid_.getExtent(),ht=M.sourceTileGrid_.getExtent(),Lt=et?Kn(k,et):k;if(Lr(Lt)===0)return M.state=Cr.EMPTY,M;var It=t.getExtent();It&&(ht?ht=Kn(ht,It):ht=It);var wt=o.getResolution(M.wrappedTileCoord_[0]),oe=jO(t,n,Lt,wt);if(!isFinite(oe)||oe<=0)return M.state=Cr.EMPTY,M;var se=E!==void 0?E:Ip;if(M.triangulation_=new o2(t,n,Lt,ht,oe*se,wt),M.triangulation_.getTriangles().length===0)return M.state=Cr.EMPTY,M;M.sourceZ_=e.getZForResolution(oe);var de=M.triangulation_.calculateSourceExtent();if(ht&&(t.canWrapX()?(de[1]=Ei(de[1],ht[1],ht[3]),de[3]=Ei(de[3],ht[1],ht[3])):de=Kn(de,ht)),!Lr(de))M.state=Cr.EMPTY;else{for(var Se=e.getTileRangeForExtentAndZ(de,M.sourceZ_),Ie=Se.minX;Ie<=Se.maxX;Ie++)for(var He=Se.minY;He<=Se.maxY;He++){var De=d(M.sourceZ_,Ie,He,u);De&&M.sourceTiles_.push(De)}M.sourceTiles_.length===0&&(M.state=Cr.EMPTY)}return M}return r.prototype.getImage=function(){return this.canvas_},r.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(d,E,b){d&&d.getState()==Cr.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(d.tileCoord),image:d.getImage()})}.bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=Cr.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),o=typeof n=="number"?n:n[0],a=typeof n=="number"?n:n[1],s=this.targetTileGrid_.getResolution(e),u=this.sourceTileGrid_.getResolution(this.sourceZ_),h=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=s2(o,a,this.pixelRatio_,u,this.sourceTileGrid_.getExtent(),s,h,this.triangulation_,t,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=Cr.LOADED}this.changed()},r.prototype.load=function(){if(this.state==Cr.IDLE){this.state=Cr.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,o){var a=e.getState();if(a==Cr.IDLE||a==Cr.LOADING){t++;var s=Object(dr.a)(e,Dr.a.CHANGE,function(u){var h=e.getState();(h==Cr.LOADED||h==Cr.ERROR||h==Cr.EMPTY)&&(Object(dr.c)(s),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(e,n,o){var a=e.getState();a==Cr.IDLE&&e.load()})}},r.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(dr.c),this.sourcesListenerKeys_=null},r}(n2),GO=BO,UO=function(){function i(r){this.highWaterMark=r!==void 0?r:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return i.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},i.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},i.prototype.containsKey=function(r){return this.entries_.hasOwnProperty(r)},i.prototype.forEach=function(r){for(var t=this.oldest_;t;)r(t.value_,t.key_,this),t=t.newer},i.prototype.get=function(r,t){var e=this.entries_[r];return Qt(e!==void 0,15),e===this.newest_||(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_},i.prototype.remove=function(r){var t=this.entries_[r];return Qt(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[r],--this.count_,t.value_},i.prototype.getCount=function(){return this.count_},i.prototype.getKeys=function(){var r=new Array(this.count_),t=0,e;for(e=this.newest_;e;e=e.older)r[t++]=e.key_;return r},i.prototype.getValues=function(){var r=new Array(this.count_),t=0,e;for(e=this.newest_;e;e=e.older)r[t++]=e.value_;return r},i.prototype.peekLast=function(){return this.oldest_.value_},i.prototype.peekLastKey=function(){return this.oldest_.key_},i.prototype.peekFirstKey=function(){return this.newest_.key_},i.prototype.pop=function(){var r=this.oldest_;return delete this.entries_[r.key_],r.newer&&(r.newer.older=null),this.oldest_=r.newer,this.oldest_||(this.newest_=null),--this.count_,r.value_},i.prototype.replace=function(r,t){this.get(r),this.entries_[r].value_=t},i.prototype.set=function(r,t){Qt(!(r in this.entries_),16);var e={key_:r,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=e:this.oldest_=e,this.newest_=e,this.entries_[r]=e,++this.count_},i.prototype.setSize=function(r){this.highWaterMark=r},i}(),kO=UO;function Qy(i,r,t,e){return e!==void 0?(e[0]=i,e[1]=r,e[2]=t,e):[i,r,t]}function Cv(i,r,t){return i+"/"+r+"/"+t}function l2(i){return Cv(i[0],i[1],i[2])}function VO(i){return i.split("/").map(Number)}function u2(i){return(i[1]<<i[0])+i[2]}function zO(i,r){var t=i[0],e=i[1],n=i[2];if(r.getMinZoom()>t||t>r.getMaxZoom())return!1;var o=r.getFullTileRange(t);return o?o.containsXY(e,n):!0}var YO=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),WO=function(i){YO(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast();if(e.getKey()in t)break;this.pop().release()}},r.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),e=VO(t),n=e[0];this.forEach(function(o){o.tileCoord[0]!==n&&(this.remove(l2(o.tileCoord)),o.release())}.bind(this))}},r}(kO),c2=WO,tm={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},HO=[0,0,0],XO=function(){function i(r){this.minZoom=r.minZoom!==void 0?r.minZoom:0,this.resolutions_=r.resolutions,Qt(Object(vr.g)(this.resolutions_,function(a,s){return s-a},!0),17);var t;if(!r.origins){for(var e=0,n=this.resolutions_.length-1;e<n;++e)if(!t)t=this.resolutions_[e]/this.resolutions_[e+1];else if(this.resolutions_[e]/this.resolutions_[e+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=r.origin!==void 0?r.origin:null,this.origins_=null,r.origins!==void 0&&(this.origins_=r.origins,Qt(this.origins_.length==this.resolutions_.length,20));var o=r.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=bi(o)),Qt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,r.tileSizes!==void 0&&(this.tileSizes_=r.tileSizes,Qt(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=r.tileSize!==void 0?r.tileSize:this.tileSizes_?null:js,Qt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],r.sizes!==void 0?this.fullTileRanges_=r.sizes.map(function(a,s){var u=new Zs(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(o){var h=this.getTileRangeForExtentAndZ(o,s);u.minX=Math.max(h.minX,u.minX),u.maxX=Math.min(h.maxX,u.maxX),u.minY=Math.max(h.minY,u.minY),u.maxY=Math.min(h.maxY,u.maxY)}return u},this):o&&this.calculateTileRanges_(o)}return i.prototype.forEachTileCoord=function(r,t,e){for(var n=this.getTileRangeForExtentAndZ(r,t),o=n.minX,a=n.maxX;o<=a;++o)for(var s=n.minY,u=n.maxY;s<=u;++s)e([t,o,s])},i.prototype.forEachTileCoordParentTileRange=function(r,t,e,n){var o,a,s,u=null,h=r[0]-1;for(this.zoomFactor_===2?(a=r[1],s=r[2]):u=this.getTileCoordExtent(r,n);h>=this.minZoom;){if(this.zoomFactor_===2?(a=Math.floor(a/2),s=Math.floor(s/2),o=wl(a,a,s,s,e)):o=this.getTileRangeForExtentAndZ(u,h,e),t(h,o))return!0;--h}return!1},i.prototype.getExtent=function(){return this.extent_},i.prototype.getMaxZoom=function(){return this.maxZoom},i.prototype.getMinZoom=function(){return this.minZoom},i.prototype.getOrigin=function(r){return this.origin_?this.origin_:this.origins_[r]},i.prototype.getResolution=function(r){return this.resolutions_[r]},i.prototype.getResolutions=function(){return this.resolutions_},i.prototype.getTileCoordChildTileRange=function(r,t,e){if(r[0]<this.maxZoom){if(this.zoomFactor_===2){var n=r[1]*2,o=r[2]*2;return wl(n,n+1,o,o+1,t)}var a=this.getTileCoordExtent(r,e||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,r[0]+1,t)}return null},i.prototype.getTileRangeForTileCoordAndZ=function(r,t,e){if(t>this.maxZoom||t<this.minZoom)return null;var n=r[0],o=r[1],a=r[2];if(t===n)return wl(o,a,o,a,e);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,t-n),u=Math.floor(o*s),h=Math.floor(a*s);if(t<n)return wl(u,u,h,h,e);var d=Math.floor(s*(o+1))-1,E=Math.floor(s*(a+1))-1;return wl(u,d,h,E,e)}var b=this.getTileCoordExtent(r,this.tmpExtent_);return this.getTileRangeForExtentAndZ(b,t,e)},i.prototype.getTileRangeExtent=function(r,t,e){var n=this.getOrigin(r),o=this.getResolution(r),a=_n(this.getTileSize(r),this.tmpSize_),s=n[0]+t.minX*a[0]*o,u=n[0]+(t.maxX+1)*a[0]*o,h=n[1]+t.minY*a[1]*o,d=n[1]+(t.maxY+1)*a[1]*o;return Ce(s,h,u,d,e)},i.prototype.getTileRangeForExtentAndZ=function(r,t,e){var n=HO;this.getTileCoordForXYAndZ_(r[0],r[3],t,!1,n);var o=n[1],a=n[2];return this.getTileCoordForXYAndZ_(r[2],r[1],t,!0,n),wl(o,n[1],a,n[2],e)},i.prototype.getTileCoordCenter=function(r){var t=this.getOrigin(r[0]),e=this.getResolution(r[0]),n=_n(this.getTileSize(r[0]),this.tmpSize_);return[t[0]+(r[1]+.5)*n[0]*e,t[1]-(r[2]+.5)*n[1]*e]},i.prototype.getTileCoordExtent=function(r,t){var e=this.getOrigin(r[0]),n=this.getResolution(r[0]),o=_n(this.getTileSize(r[0]),this.tmpSize_),a=e[0]+r[1]*o[0]*n,s=e[1]-(r[2]+1)*o[1]*n,u=a+o[0]*n,h=s+o[1]*n;return Ce(a,s,u,h,t)},i.prototype.getTileCoordForCoordAndResolution=function(r,t,e){return this.getTileCoordForXYAndResolution_(r[0],r[1],t,!1,e)},i.prototype.getTileCoordForXYAndResolution_=function(r,t,e,n,o){var a=this.getZForResolution(e),s=e/this.getResolution(a),u=this.getOrigin(a),h=_n(this.getTileSize(a),this.tmpSize_),d=n?.5:0,E=n?.5:0,b=Math.floor((r-u[0])/e+d),I=Math.floor((u[1]-t)/e+E),M=s*b/h[0],k=s*I/h[1];return n?(M=Math.ceil(M)-1,k=Math.ceil(k)-1):(M=Math.floor(M),k=Math.floor(k)),Qy(a,M,k,o)},i.prototype.getTileCoordForXYAndZ_=function(r,t,e,n,o){var a=this.getOrigin(e),s=this.getResolution(e),u=_n(this.getTileSize(e),this.tmpSize_),h=n?.5:0,d=n?.5:0,E=Math.floor((r-a[0])/s+h),b=Math.floor((a[1]-t)/s+d),I=E/u[0],M=b/u[1];return n?(I=Math.ceil(I)-1,M=Math.ceil(M)-1):(I=Math.floor(I),M=Math.floor(M)),Qy(e,I,M,o)},i.prototype.getTileCoordForCoordAndZ=function(r,t,e){return this.getTileCoordForXYAndZ_(r[0],r[1],t,!1,e)},i.prototype.getTileCoordResolution=function(r){return this.resolutions_[r[0]]},i.prototype.getTileSize=function(r){return this.tileSize_?this.tileSize_:this.tileSizes_[r]},i.prototype.getFullTileRange=function(r){return this.fullTileRanges_?this.fullTileRanges_[r]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,r):null},i.prototype.getZForResolution=function(r,t){var e=Object(vr.h)(this.resolutions_,r,t||0);return Ei(e,this.minZoom,this.maxZoom)},i.prototype.calculateTileRanges_=function(r){for(var t=this.resolutions_.length,e=new Array(t),n=this.minZoom;n<t;++n)e[n]=this.getTileRangeForExtentAndZ(r,n);this.fullTileRanges_=e},i}(),em=XO;function f2(i){var r=i.getDefaultTileGrid();return r||(r=$O(i),i.setDefaultTileGrid(r)),r}function KO(i,r,t){var e=r[0],n=i.getTileCoordCenter(r),o=Lv(t);if(re(o,n))return r;var a=un(o),s=Math.ceil((o[0]-n[0])/a);return n[0]+=a*s,i.getTileCoordForCoordAndZ(n,e)}function ZO(i,r,t,e){var n=e!==void 0?e:Si.TOP_LEFT,o=p2(i,r,t);return new em({extent:i,origin:yr(i,n),resolutions:o,tileSize:t})}function h2(i){var r=i||{},t=r.extent||qr("EPSG:3857").getExtent(),e={extent:t,minZoom:r.minZoom,tileSize:r.tileSize,resolutions:p2(t,r.maxZoom,r.tileSize,r.maxResolution)};return new em(e)}function p2(i,r,t,e){for(var n=r!==void 0?r:Uo,o=bn(i),a=un(i),s=_n(t!==void 0?t:js),u=e>0?e:Math.max(a/s[0],o/s[1]),h=n+1,d=new Array(h),E=0;E<h;++E)d[E]=u/Math.pow(2,E);return d}function $O(i,r,t,e){var n=Lv(i);return ZO(n,r,t,e)}function Lv(i){i=qr(i);var r=i.getExtent();if(!r){var t=180*Vi[Ni.DEGREES]/i.getMetersPerUnit();r=Ce(-t,-t,t,t)}return r}var d2=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qO=function(i){d2(r,i);function r(t){var e=i.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX})||this;e.on,e.once,e.un,e.opaque_=t.opaque!==void 0?t.opaque:!1,e.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,e.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var n=[256,256],o=t.tileGrid;return o&&_n(o.getTileSize(o.getMinZoom()),n),e.tileCache=new c2(t.cacheSize||0),e.tmpSize=[0,0],e.key_=t.key||"",e.tileOptions={transition:t.transition},e.zDirection=t.zDirection?t.zDirection:0,e}return r.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},r.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},r.prototype.forEachLoadedTile=function(t,e,n,o){var a=this.getTileCacheForProjection(t);if(!a)return!1;for(var s=!0,u,h,d,E=n.minX;E<=n.maxX;++E)for(var b=n.minY;b<=n.maxY;++b)h=Cv(e,E,b),d=!1,a.containsKey(h)&&(u=a.get(h),d=u.getState()===Cr.LOADED,d&&(d=o(u)!==!1)),d||(s=!1);return s},r.prototype.getGutterForProjection=function(t){return 0},r.prototype.getKey=function(){return this.key_},r.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},r.prototype.getOpaque=function(t){return this.opaque_},r.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},r.prototype.getTile=function(t,e,n,o,a){return Object(nt.b)()},r.prototype.getTileGrid=function(){return this.tileGrid},r.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:f2(t)},r.prototype.getTileCacheForProjection=function(t){return Qt(Ca(this.getProjection(),t),68),this.tileCache},r.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},r.prototype.getTilePixelSize=function(t,e,n){var o=this.getTileGridForProjection(n),a=this.getTilePixelRatio(e),s=_n(o.getTileSize(t),this.tmpSize);return a==1?s:ws(s,a,this.tmpSize)},r.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=e!==void 0?e:this.getProjection(),o=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=KO(o,t,n)),zO(t,o)?t:null},r.prototype.clear=function(){this.tileCache.clear()},r.prototype.refresh=function(){this.clear(),i.prototype.refresh.call(this)},r.prototype.updateCacheSize=function(t,e){var n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)},r.prototype.useTile=function(t,e,n,o){},r}(Ov),JO=function(i){d2(r,i);function r(t,e){var n=i.call(this,t)||this;return n.tile=e,n}return r}(ue.a),v2=qO;function QO(i,r){var t=/\{z\}/g,e=/\{x\}/g,n=/\{y\}/g,o=/\{-y\}/g;return function(a,s,u){if(a)return i.replace(t,a[0].toString()).replace(e,a[1].toString()).replace(n,a[2].toString()).replace(o,function(){var h=a[0],d=r.getFullTileRange(h);Qt(d,55);var E=d.getHeight()-a[2]-1;return E.toString()})}}function tT(i,r){for(var t=i.length,e=new Array(t),n=0;n<t;++n)e[n]=QO(i[n],r);return Av(e)}function Av(i){return i.length===1?i[0]:function(r,t,e){if(r){var n=u2(r),o=ll(n,i.length);return i[o](r,t,e)}else return}}function g2(i){var r=[],t=/\{([a-z])-([a-z])\}/.exec(i);if(t){var e=t[1].charCodeAt(0),n=t[2].charCodeAt(0),o=void 0;for(o=e;o<=n;++o)r.push(i.replace(t[0],String.fromCharCode(o)));return r}if(t=/\{(\d+)-(\d+)\}/.exec(i),t){for(var a=parseInt(t[2],10),s=parseInt(t[1],10);s<=a;s++)r.push(i.replace(t[0],s.toString()));return r}return r.push(i),r}var eT=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rT=function(i){eT(r,i);function r(t){var e=i.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return e.generateTileUrlFunction_=e.tileUrlFunction===r.prototype.tileUrlFunction,e.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(e.tileUrlFunction=t.tileUrlFunction),e.urls=null,t.urls?e.setUrls(t.urls):t.url&&e.setUrl(t.url),e.tileLoadingKeys_={},e}return r.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},r.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},r.prototype.getUrls=function(){return this.urls},r.prototype.handleTileChange=function(t){var e=t.target,n=Object(nt.c)(e),o=e.getState(),a;o==Cr.LOADING?(this.tileLoadingKeys_[n]=!0,a=tm.TILELOADSTART):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],a=o==Cr.ERROR?tm.TILELOADERROR:o==Cr.LOADED?tm.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new JO(a,e))},r.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},r.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof e!="undefined"?this.setKey(e):this.changed()},r.prototype.setUrl=function(t){var e=g2(t);this.urls=e,this.setUrls(e)},r.prototype.setUrls=function(t){this.urls=t;var e=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(tT(t,this.tileGrid),e):this.setKey(e)},r.prototype.tileUrlFunction=function(t,e,n){},r.prototype.useTile=function(t,e,n){var o=Cv(t,e,n);this.tileCache.containsKey(o)&&this.tileCache.get(o)},r}(v2),nT=rT,iT=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oT=function(i){iT(r,i);function r(t){var e=i.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:aT,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return e.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,e.tileClass=t.tileClass!==void 0?t.tileClass:IO,e.tileCacheForProjection={},e.tileGridForProjection={},e.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,e.contextOptions_=t.imageSmoothing===!1?$y:void 0,e.renderReprojectionEdges_=!1,e}return r.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},r.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==n?e:{});for(var o in this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==n?e:{})}},r.prototype.getContextOptions=function(){return this.contextOptions_},r.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Ca(this.getProjection(),t)?0:this.getGutter()},r.prototype.getGutter=function(){return 0},r.prototype.getKey=function(){return i.prototype.getKey.call(this)+(this.contextOptions_?`
`+JSON.stringify(this.contextOptions_):"")},r.prototype.getOpaque=function(t){return this.getProjection()&&t&&!Ca(this.getProjection(),t)?!1:i.prototype.getOpaque.call(this,t)},r.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(this.tileGrid&&(!e||Ca(e,t)))return this.tileGrid;var n=Object(nt.c)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=f2(t)),this.tileGridForProjection[n]},r.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Ca(e,t))return this.tileCache;var n=Object(nt.c)(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new c2(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},r.prototype.createTile_=function(t,e,n,o,a,s){var u=[t,e,n],h=this.getTileCoordForTileUrlFunction(u,a),d=h?this.tileUrlFunction(h,o,a):void 0,E=new this.tileClass(u,d!==void 0?Cr.IDLE:Cr.EMPTY,d!==void 0?d:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return E.key=s,E.addEventListener(Dr.a.CHANGE,this.handleTileChange.bind(this)),E},r.prototype.getTile=function(t,e,n,o,a){var s=this.getProjection();if(!s||!a||Ca(s,a))return this.getTileInternal(t,e,n,o,s||a);var u=this.getTileCacheForProjection(a),h=[t,e,n],d=void 0,E=l2(h);u.containsKey(E)&&(d=u.get(E));var b=this.getKey();if(d&&d.key==b)return d;var I=this.getTileGridForProjection(s),M=this.getTileGridForProjection(a),k=this.getTileCoordForTileUrlFunction(h,a),et=new GO(s,I,a,M,h,k,this.getTilePixelRatio(o),this.getGutter(),function(ht,Lt,It,wt){return this.getTileInternal(ht,Lt,It,wt,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return et.key=b,d?(et.interimTile=d,et.refreshInterimChain(),u.replace(E,et)):u.set(E,et),et},r.prototype.getTileInternal=function(t,e,n,o,a){var s=null,u=Cv(t,e,n),h=this.getKey();if(!this.tileCache.containsKey(u))s=this.createTile_(t,e,n,o,a,h),this.tileCache.set(u,s);else if(s=this.tileCache.get(u),s.key!=h){var d=s;s=this.createTile_(t,e,n,o,a,h),d.getState()==Cr.IDLE?s.interimTile=d.interimTile:s.interimTile=d,s.refreshInterimChain(),this.tileCache.replace(u,s)}return s},r.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(var e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},r.prototype.setTileGridForProjection=function(t,e){{var n=qr(t);if(n){var o=Object(nt.c)(n);o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}}},r}(nT);function aT(i,r){i.getImage().src=r}var Pv=oT,sT=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lT=function(i){sT(r,i);function r(t){var e=this,n=t||{},o=n.projection!==void 0?n.projection:"EPSG:3857",a=n.tileGrid!==void 0?n.tileGrid:h2({extent:Lv(o),maxResolution:n.maxResolution,maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return e=i.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,imageSmoothing:n.imageSmoothing,opaque:n.opaque,projection:o,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:a,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:n.wrapX!==void 0?n.wrapX:!0,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this,e}return r}(Pv),y2=lT,uT={name:"ol-source-xyz",setup:function(r){var t=Object(N.inject)("tileLayer"),e=Yt(r),n=e.properties,o=Object(N.computed)(function(){return new y2(n)});return Object(N.watch)(o,function(){t.value.setSource(o.value)}),Object(N.watch)(t,function(){t.value.setSource(o.value)}),Object(N.onMounted)(function(){t.value.setSource(o.value)}),Object(N.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:o}},props:{url:{type:String},cacheSize:{type:Number,default:2048},crossOrigin:{type:String},maxZoom:{type:Number,default:28},minZoom:{type:Number,default:0},opaque:{type:Boolean},projection:{type:String,default:"EPSG:3857"},reprojectionErrorThreshold:{type:Number,default:.5},tileSize:{type:Array,default:function(){return[256,256]}},tilePixelRatio:{type:Number,default:1},tileKey:{type:String},transition:{type:Number}}},rm=xt()(uT,[["render",bO]]);function cT(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var fT=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hT='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',pT=function(i){fT(r,i);function r(t){var e=this,n=t||{},o;n.attributions!==void 0?o=n.attributions:o=[hT];var a=n.crossOrigin!==void 0?n.crossOrigin:"anonymous",s=n.url!==void 0?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return e=i.call(this,{attributions:o,attributionsCollapsible:!1,cacheSize:n.cacheSize,crossOrigin:a,imageSmoothing:n.imageSmoothing,maxZoom:n.maxZoom!==void 0?n.maxZoom:19,opaque:n.opaque!==void 0?n.opaque:!0,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,transition:n.transition,url:s,wrapX:n.wrapX,zDirection:n.zDirection})||this,e}return r}(y2),dT=pT,vT={name:"ol-source-osm",setup:function(r){var t=Object(N.inject)("tileLayer"),e=Yt(r),n=e.properties,o=Object(N.computed)(function(){return new dT(n)});return Object(N.watch)(o,function(){t.value.setSource(o.value)}),Object(N.watch)(t,function(){t.value.setSource(o.value)}),Object(N.onMounted)(function(){t.value.setSource(o.value)}),Object(N.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:o}},props:{attributions:{type:String},cacheSize:{type:Number,default:2048},crossOrigin:{type:String,default:"anonymous"},imageSmoothing:{type:Boolean,default:!0},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:19},opaque:{type:Boolean,default:!0},reprojectionErrorThreshold:{type:Number,default:.5},transition:{type:Number,default:250},url:{type:String,default:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"},wrapX:{type:Boolean,default:!0}}},nm=xt()(vT,[["render",cT]]);function gT(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var yT=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mT=function(i){yT(r,i);function r(t,e,n,o,a,s,u){var h=this,d=t.getExtent(),E=e.getExtent(),b=E?Kn(n,E):n,I=Tn(b),M=kp(t,e,I,o),k=Ip,et=new o2(t,e,b,d,M*k,o),ht=et.calculateSourceExtent(),Lt=s(ht,M,a),It=Lt?Sn.IDLE:Sn.EMPTY,wt=Lt?Lt.getPixelRatio():1;return h=i.call(this,n,o,wt,It)||this,h.targetProj_=e,h.maxSourceExtent_=d,h.triangulation_=et,h.targetResolution_=o,h.targetExtent_=n,h.sourceImage_=Lt,h.sourcePixelRatio_=wt,h.contextOptions_=u,h.canvas_=null,h.sourceListenerKey_=null,h}return r.prototype.disposeInternal=function(){this.state==Sn.LOADING&&this.unlistenSource_(),i.prototype.disposeInternal.call(this)},r.prototype.getImage=function(){return this.canvas_},r.prototype.getProjection=function(){return this.targetProj_},r.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==Sn.LOADED){var e=un(this.targetExtent_)/this.targetResolution_,n=bn(this.targetExtent_)/this.targetResolution_;this.canvas_=s2(e,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.contextOptions_)}this.state=t,this.changed()},r.prototype.load=function(){if(this.state==Sn.IDLE){this.state=Sn.LOADING,this.changed();var t=this.sourceImage_.getState();t==Sn.LOADED||t==Sn.ERROR?this.reproject_():(this.sourceListenerKey_=Object(dr.a)(this.sourceImage_,Dr.a.CHANGE,function(e){var n=this.sourceImage_.getState();(n==Sn.LOADED||n==Sn.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},r.prototype.unlistenSource_=function(){Object(dr.c)(this.sourceListenerKey_),this.sourceListenerKey_=null},r}(W1),_T=mT,m2=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),im={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},om=function(i){m2(r,i);function r(t,e){var n=i.call(this,t)||this;return n.image=e,n}return r}(ue.a),ST=function(i){m2(r,i);function r(t){var e=i.call(this,{attributions:t.attributions,projection:t.projection,state:t.state})||this;return e.on,e.once,e.un,e.resolutions_=t.resolutions!==void 0?t.resolutions:null,e.reprojectedImage_=null,e.reprojectedRevision_=0,e.contextOptions_=t.imageSmoothing===!1?$y:void 0,e}return r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getContextOptions=function(){return this.contextOptions_},r.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=Object(vr.h)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},r.prototype.getImage=function(t,e,n,o){var a=this.getProjection();if(!a||!o||Ca(a,o))return a&&(o=a),this.getImageInternal(t,e,n,o);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Ca(this.reprojectedImage_.getProjection(),o)&&this.reprojectedImage_.getResolution()==e&&Gr(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new _T(a,o,t,e,n,function(s,u,h){return this.getImageInternal(s,u,h,a)}.bind(this),this.contextOptions_),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_},r.prototype.getImageInternal=function(t,e,n,o){return Object(nt.b)()},r.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case Sn.LOADING:this.loading=!0,this.dispatchEvent(new om(im.IMAGELOADSTART,e));break;case Sn.LOADED:this.loading=!1,this.dispatchEvent(new om(im.IMAGELOADEND,e));break;case Sn.ERROR:this.loading=!1,this.dispatchEvent(new om(im.IMAGELOADERROR,e));break}},r}(Ov);function _2(i,r){i.getImage().src=r}var S2=ST,ET=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wT=function(i){ET(r,i);function r(t){var e=this,n=t.crossOrigin!==void 0?t.crossOrigin:null,o=t.imageLoadFunction!==void 0?t.imageLoadFunction:_2;return e=i.call(this,{attributions:t.attributions,imageSmoothing:t.imageSmoothing,projection:qr(t.projection)})||this,e.url_=t.url,e.imageExtent_=t.imageExtent,e.image_=new H1(e.imageExtent_,void 0,1,e.url_,n,o),e.imageSize_=t.imageSize?t.imageSize:null,e.image_.addEventListener(Dr.a.CHANGE,e.handleImageChange.bind(e)),e}return r.prototype.getImageExtent=function(){return this.imageExtent_},r.prototype.getImageInternal=function(t,e,n,o){return Gn(t,this.image_.getExtent())?this.image_:null},r.prototype.getUrl=function(){return this.url_},r.prototype.handleImageChange=function(t){if(this.image_.getState()==Sn.LOADED){var e=this.image_.getExtent(),n=this.image_.getImage(),o=void 0,a=void 0;this.imageSize_?(o=this.imageSize_[0],a=this.imageSize_[1]):(o=n.width,a=n.height);var s=un(e),u=bn(e),h=s/o,d=u/a,E=o,b=a;if(h>d?E=Math.round(s/d):b=Math.round(u/h),E!==o||b!==a){var I=Object(be.a)(E,b);Object(br.a)(I,this.getContextOptions());var M=I.canvas;I.drawImage(n,0,0,o,a,0,0,M.width,M.height),this.image_.setImage(M)}}i.prototype.handleImageChange.call(this,t)},r}(S2),xT=wT,OT={name:"ol-source-image-static",setup:function(r){var t=Object(N.inject)("imageLayer"),e=Yt(r),n=e.properties,o=function(){return new xT(ee(ee({},n),{},{projection:typeof n.projection=="string"?n.projection:new Oa(ee({},n.projection))}))},a=o();return Object(N.watch)(n,function(){t.setSource(null),a=o(),t.setSource(a)}),Object(N.onMounted)(function(){t.setSource(a)}),Object(N.onUnmounted)(function(){t.setSource(null)}),{layer:t,source:a}},props:{attributions:{type:String},crossOrigin:{type:String},imageExtent:{type:Array},projection:{type:[String,Object]},imageSmoothing:{type:Boolean,default:!0},imageSize:{type:Array},url:{type:String}}},am=xt()(OT,[["render",gT]]);function TT(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var Rv={KVP:"KVP",REST:"REST"};function hh(i,r){var t=[];Object.keys(r).forEach(function(n){r[n]!==null&&r[n]!==void 0&&t.push(n+"="+encodeURIComponent(r[n]))});var e=t.join("&");return i=i.replace(/[?&]$/,""),i=i.indexOf("?")===-1?i+"?":i+"&",i+e}var bT=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),CT=function(i){bT(r,i);function r(t){var e=i.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})||this;return e.matrixIds_=t.matrixIds,e}return r.prototype.getMatrixId=function(t){return this.matrixIds_[t]},r.prototype.getMatrixIds=function(){return this.matrixIds_},r}(em),sm=CT,LT=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),AT=function(i){LT(r,i);function r(t){var e=this,n=t.requestEncoding!==void 0?t.requestEncoding:Rv.KVP,o=t.tileGrid,a=t.urls;return a===void 0&&t.url!==void 0&&(a=g2(t.url)),e=i.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,imageSmoothing:t.imageSmoothing,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:o,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,urls:a,wrapX:t.wrapX!==void 0?t.wrapX:!1,transition:t.transition,zDirection:t.zDirection})||this,e.version_=t.version!==void 0?t.version:"1.0.0",e.format_=t.format!==void 0?t.format:"image/jpeg",e.dimensions_=t.dimensions!==void 0?t.dimensions:{},e.layer_=t.layer,e.matrixSet_=t.matrixSet,e.style_=t.style,e.requestEncoding_=n,e.setKey(e.getKeyForDimensions_()),a&&a.length>0&&(e.tileUrlFunction=Av(a.map(e.createFromWMTSTemplate.bind(e)))),e}return r.prototype.setUrls=function(t){this.urls=t;var e=t.join(`
`);this.setTileUrlFunction(Av(t.map(this.createFromWMTSTemplate.bind(this))),e)},r.prototype.getDimensions=function(){return this.dimensions_},r.prototype.getFormat=function(){return this.format_},r.prototype.getLayer=function(){return this.layer_},r.prototype.getMatrixSet=function(){return this.matrixSet_},r.prototype.getRequestEncoding=function(){return this.requestEncoding_},r.prototype.getStyle=function(){return this.style_},r.prototype.getVersion=function(){return this.version_},r.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var n in this.dimensions_)e[t++]=n+"-"+this.dimensions_[n];return e.join("/")},r.prototype.updateDimensions=function(t){Object(br.a)(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},r.prototype.createFromWMTSTemplate=function(t){var e=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==Rv.KVP&&Object(br.a)(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==Rv.KVP?hh(t,n):t.replace(/\{(\w+?)\}/g,function(s,u){return u.toLowerCase()in n?n[u.toLowerCase()]:s});var o=this.tileGrid,a=this.dimensions_;return function(s,u,h){if(s){var d={TileMatrix:o.getMatrixId(s[0]),TileCol:s[1],TileRow:s[2]};Object(br.a)(d,a);var E=t;return e==Rv.KVP?E=hh(E,d):E=E.replace(/\{(\w+?)\}/g,function(b,I){return d[I]}),E}else return}},r}(Pv),E2=AT,PT={name:"ol-source-wmts",setup:function(r){var t=Object(N.inject)("tileLayer"),e=Yt(r),n=e.properties,o=Object(N.computed)(function(){return qr(n.projection).getExtent()}),a=Object(N.computed)(function(){return bi(o.value)}),s=Object(N.computed)(function(){return un(o.value)/256}),u=Object(N.computed)(function(){for(var d=new Array(14),E=new Array(14),b=0;b<14;++b)d[b]=s.value/Math.pow(2,b),E[b]=b;return new sm({origin:a.value,resolutions:d,matrixIds:E})}),h=Object(N.computed)(function(){return new E2(ee(ee({},n),{},{projection:typeof n.projection=="string"?n.projection:new Oa(ee({},n.projection)),tileGrid:u.value}))});return Object(N.watch)(h,function(){t.value.setSource(h.value)}),Object(N.watch)(t,function(){t.value.setSource(h.value)}),Object(N.onMounted)(function(){t.value.setSource(h.value)}),Object(N.onUnmounted)(function(){t.value.setSource(null)}),{tileLayer:t,source:h}},props:{attributions:{type:String},cacheSize:{type:Number},crossOrigin:{type:String},imageSmoothing:{type:Boolean,default:!0},projection:{type:[String,Object],default:"EPSG:3857"},reprojectionErrorThreshold:{type:Number,default:.5},tilePixelRatio:{type:Number,default:1},format:{type:String,default:"image/jpeg"},version:{type:String,default:"1.0.0"},matrixSet:{type:String},dimensions:{type:Object},requestEncoding:{type:String,default:"KVP"},url:{type:String},urls:{type:Array},wrapX:{type:Boolean,default:!1},transition:{type:Number},layer:{type:String},style:{type:String}}},lm=xt()(PT,[["render",TT]]);function RT(i,r,t,e,n,o){return Object(N.openBlock)(),Object(N.createBlock)("div",null,[Object(N.renderSlot)(i.$slots,"default")])}var IT={name:"ol-source-vector",setup:function(r){var t=Object(N.inject)("vectorLayer"),e=Yt(r),n=e.properties,o=Object(N.computed)(function(){return new ec(n)}),a=function(){t.value.setSource(null),t.value.setSource(o.value),t.value.changed()};return Object(N.watch)(n,function(){a()}),Object(N.watch)(t,function(){a()}),Object(N.onMounted)(function(){t.value.setSource(o.value)}),Object(N.onUnmounted)(function(){t.value.setSource(null)}),Object(N.provide)("vectorSource",o),{layer:t,source:o}},props:{attributions:{type:[String,Array]},features:{type:Array,default:function(){return[]}},format:{type:Object},loader:{type:Function},overlaps:{type:Boolean,default:!0},projection:{type:String,default:"EPSG:3857"},strategy:{type:Function},url:{type:[String,Function]},useSpatialIndex:{type:Boolean,default:!0},wrapX:{type:Boolean,default:!0}}},um=xt()(IT,[["render",RT]]);function NT(i,r,t,e,n,o){return Object(N.openBlock)(),Object(N.createBlock)("div",null,[Object(N.renderSlot)(i.$slots,"default")])}var MT={name:"ol-source-cluster",setup:function(r){var t=Object(N.inject)("vectorLayer"),e=Yt(r),n=e.properties,o=Object(N.computed)(function(){var s=new r2(n);return s}),a=function(){t.value.setSource(null),t.value.setSource(o.value),t.value.changed()};return Object(N.watch)(n,function(){a()}),Object(N.watch)(t,function(){a()}),Object(N.onMounted)(function(){t.value.setSource(o.value),t.value.changed()}),Object(N.onUnmounted)(function(){t.value.setSource(null)}),Object(N.provide)("vectorLayer",o),{layer:t,source:o}},props:{attributions:{type:[String,Array]},distance:{type:Number,default:20},geometryFunction:{type:Function,default:function(r){return r.getGeometry()}},wrapX:{type:Boolean,default:!0}}},cm=xt()(MT,[["render",NT]]);function FT(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}function jT(i,r,t,e){var n=document.createElement("script"),o="olc_"+Object(nt.c)(r);function a(){delete window[o],n.parentNode.removeChild(n)}n.async=!0,n.src=i+(i.indexOf("?")==-1?"?":"&")+(e||"callback")+"="+o;var s=setTimeout(function(){a(),t&&t()},1e4);window[o]=function(u){clearTimeout(s),a(),r(u)},document.getElementsByTagName("head")[0].appendChild(n)}var DT=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function BT(i){var r=i[0],t=new Array(r),e=1<<r-1,n,o;for(n=0;n<r;++n)o=48,i[1]&e&&(o+=1),i[2]&e&&(o+=2),t[n]=String.fromCharCode(o),e>>=1;return t.join("")}var GT='<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>',UT=function(i){DT(r,i);function r(t){var e=this,n=t.hidpi!==void 0?t.hidpi:!1;e=i.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",imageSmoothing:t.imageSmoothing,opaque:!0,projection:qr("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:ps.LOADING,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:n?2:1,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,zDirection:t.zDirection})||this,e.hidpi_=n,e.culture_=t.culture!==void 0?t.culture:"en-us",e.maxZoom_=t.maxZoom!==void 0?t.maxZoom:-1,e.apiKey_=t.key,e.imagerySet_=t.imagerySet;var o="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+e.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+e.apiKey_+"&c="+e.culture_;return jT(o,e.handleImageryMetadataResponse.bind(e),void 0,"jsonp"),e}return r.prototype.getApiKey=function(){return this.apiKey_},r.prototype.getImagerySet=function(){return this.imagerySet_},r.prototype.handleImageryMetadataResponse=function(t){if(t.statusCode!=200||t.statusDescription!="OK"||t.authenticationResultCode!="ValidCredentials"||t.resourceSets.length!=1||t.resourceSets[0].resources.length!=1){this.setState(ps.ERROR);return}var e=t.resourceSets[0].resources[0],n=this.maxZoom_==-1?e.zoomMax:this.maxZoom_,o=this.getProjection(),a=Lv(o),s=this.hidpi_?2:1,u=e.imageWidth==e.imageHeight?e.imageWidth/s:[e.imageWidth/s,e.imageHeight/s],h=h2({extent:a,minZoom:e.zoomMin,maxZoom:n,tileSize:u});this.tileGrid=h;var d=this.culture_,E=this.hidpi_;if(this.tileUrlFunction=Av(e.imageUrlSubdomains.map(function(I){var M=[0,0,0],k=e.imageUrl.replace("{subdomain}",I).replace("{culture}",d);return function(et,ht,Lt){if(et){Qy(et[0],et[1],et[2],M);var It=k;return E&&(It+="&dpi=d1&device=mobile"),It.replace("{quadkey}",BT(M))}else return}})),e.imageryProviders){var b=ko(qr("EPSG:4326"),this.getProjection());this.setAttributions(function(I){var M=[],k=I.viewState,et=this.getTileGrid(),ht=et.getZForResolution(k.resolution,this.zDirection),Lt=et.getTileCoordForCoordAndZ(k.center,ht),It=Lt[0];return e.imageryProviders.map(function(wt){for(var oe=!1,se=wt.coverageAreas,de=0,Se=se.length;de<Se;++de){var Ie=se[de];if(It>=Ie.zoomMin&&It<=Ie.zoomMax){var He=Ie.bbox,De=[He[1],He[0],He[3],He[2]],ye=Rs(De,b);if(Gn(ye,I.extent)){oe=!0;break}}}oe&&M.push(wt.attribution)}),M.push(GT),M}.bind(this))}this.setState(ps.READY)},r}(Pv),kT=UT,VT={name:"ol-source-bingmaps",setup:function(r){var t=Object(N.inject)("tileLayer"),e=Yt(r),n=e.properties,o=Object(N.computed)(function(){return new kT(ee(ee({},n),{},{key:n.apiKey}))});return Object(N.watch)(o,function(){t.value.setSource(o.value)}),Object(N.watch)(t,function(){t.value.setSource(o.value)}),Object(N.onMounted)(function(){t.value.setSource(o.value)}),Object(N.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:o}},props:{cacheSize:{type:Number},hidpi:{type:Boolean,default:!1},culture:{type:String,default:"en-us"},apiKey:{type:String},imagerySet:{type:String},imageSmoothing:{type:Boolean,default:!0},maxZoom:{type:Number,default:21},reprojectionErrorThreshold:{type:Number,default:.5},tileLoadFunction:{type:Function,default:function(r,t){return r.getImage().src=t}},wrapX:{type:Boolean,default:!0},transition:{type:Number}}},w2=xt()(VT,[["render",FT]]);function zT(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}function YT(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function x2(i,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function WT(i,r,t){return r&&x2(i.prototype,r),t&&x2(i,t),i}function O2(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Iv(i,r){return Iv=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},Iv(i,r)}function HT(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),r&&Iv(i,r)}c("4ae1"),c("3410");function Nv(i){return Nv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nv(i)}function T2(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var XT=c("7037"),KT=c.n(XT);function ZT(i,r){return r&&(KT()(r)==="object"||typeof r=="function")?r:O2(i)}function $T(i){var r=T2();return function(){var e=Nv(i),n;if(r){var o=Nv(this).constructor;n=Reflect.construct(e,arguments,o)}else n=e.apply(this,arguments);return ZT(this,n)}}c("99af"),c("ac1f"),c("5319");var qT=function(i){HT(t,i);var r=$T(t);function t(e){var n;YT(this,t),t.layerLabelMap={vec:"cva",ter:"cta",img:"cia"},t.layerZoomMap={vec:18,ter:14,img:18};var o=e||{};o.layerType=o.layerType||"vec",o.layerType=o.isLabel?t.layerLabelMap[o.layerType]:o.layerType,o.matrixSet=o.projection==="EPSG:4326"||o.projection==="EPSG:4490"?"c":"w",!o.url&&!o.urls&&(o.url="https://t{0-7}.tianditu.gov.cn/{layer}_{proj}/wmts?"),o.tk&&(o.url="".concat(o.url,"tk=").concat(o.tk)),o.url=o.url.replace("{layer}",o.layerType).replace("{proj}",o.matrixSet);var a=o.tileGrid||t.getTileGrid(o.projection||"EPSG:3857"),s=o.crossOrigin!==void 0?o.crossOrigin:"anonymous",u={version:o.version||"1.0.0",format:o.format||"tiles",dimensions:o.dimensions||{},layer:o.layerType,matrixSet:o.matrixSet,tileGrid:a,style:o.style||"default",cacheSize:o.cacheSize,crossOrigin:s,opaque:o.opaque===void 0?!0:o.opaque,maxZoom:t.layerZoomMap[o.layerType],reprojectionErrorThreshold:o.reprojectionErrorThreshold,url:o.url,urls:o.urls,projection:o.projection||"EPSG:3857",wrapX:o.wrapX};o.tileProxy&&(u.tileLoadFunction=d),n=r.call(this,u),o.tileProxy&&(n.tileProxy=o.tileProxy);var h=O2(n);function d(E,b){E.getImage().src=h.tileProxy+encodeURIComponent(b)}return n}return WT(t,null,[{key:"getTileGrid",value:function(n){return n==="EPSG:4326"||n==="EPSG:4490"?t.default4326TileGrid():t.default3857TileGrid()}},{key:"default4326TileGrid",value:function(){for(var n=[],o=[],a=1;a<19;a++)n.push(.703125*2/Math.pow(2,a)),o.push(a);var s=new sm({extent:[-180,-90,180,90],resolutions:n,origin:[-180,90],matrixIds:o,minZoom:1});return s}},{key:"default3857TileGrid",value:function(){for(var n=[],o=[],a=1;a<19;a++)n.push(78271.51696402031*2/Math.pow(2,a)),o.push(a);var s=new sm({extent:[-200375083427892e-7,-200375083427892e-7,200375083427892e-7,200375083427892e-7],resolutions:n,matrixIds:o,origin:[-200375083427892e-7,200375083427892e-7],minZoom:1});return s}}]),t}(E2),JT={name:"ol-source-tianditu",setup:function(r){var t=Object(N.inject)("tileLayer"),e=Yt(r),n=e.properties,o=Object(N.computed)(function(){return new qT(n)});return Object(N.watch)(o,function(){t.value.setSource(o.value)}),Object(N.watch)(t,function(){t.value.setSource(o.value)}),Object(N.onMounted)(function(){t.value.setSource(o.value)}),Object(N.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:o}},props:{layerType:{type:String,default:"img"},tk:{type:String},isLabel:{type:Boolean,default:!1},cacheSize:{type:Number},crossOrigin:{type:String},projection:{Type:String,default:"EPSG:3857"},hidpi:{type:Boolean,default:!1},requestEncoding:{type:String,default:"KVP"},format:{type:String},version:{type:String,default:"1.0.0"},culture:{type:String,default:"en-us"},matrixSet:{type:String},dimensions:{type:Object,default:function(){}},imageSmoothing:{type:Boolean,default:!0},maxZoom:{type:Number,default:21},reprojectionErrorThreshold:{type:Number},tileLoadFunction:{type:Function,default:function(r,t){return r.getImage().src=t}},wrapX:{type:Boolean,default:!0},transition:{type:Number}}},fm=xt()(JT,[["render",zT]]);function QT(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var nc={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"},tb=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),b2=[101,101],eb=function(i){tb(r,i);function r(t){var e=this,n=t||{};return e=i.call(this,{attributions:n.attributions,imageSmoothing:n.imageSmoothing,projection:n.projection,resolutions:n.resolutions})||this,e.crossOrigin_=n.crossOrigin!==void 0?n.crossOrigin:null,e.url_=n.url,e.imageLoadFunction_=n.imageLoadFunction!==void 0?n.imageLoadFunction:_2,e.params_=n.params||{},e.v13_=!0,e.updateV13_(),e.serverType_=n.serverType,e.hidpi_=n.hidpi!==void 0?n.hidpi:!0,e.image_=null,e.imageSize_=[0,0],e.renderedRevision_=0,e.ratio_=n.ratio!==void 0?n.ratio:1.5,e}return r.prototype.getFeatureInfoUrl=function(t,e,n,o){if(this.url_!==void 0){var a=qr(n),s=this.getProjection();s&&s!==a&&(e=kp(s,a,t,e),t=sa(t,a,s));var u=Gi(t,e,0,b2),h={SERVICE:"WMS",VERSION:rc,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(br.a)(h,this.params_,o);var d=Math.floor((t[0]-u[0])/e),E=Math.floor((u[3]-t[1])/e);return h[this.v13_?"I":"X"]=d,h[this.v13_?"J":"Y"]=E,this.getRequestUrl_(u,b2,1,s||a,h)}},r.prototype.getLegendUrl=function(t,e){if(this.url_!==void 0){var n={SERVICE:"WMS",VERSION:rc,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(e===void 0||e.LAYER===void 0){var o=this.params_.LAYERS,a=!Array.isArray(o)||o.length===1;if(!a)return;n.LAYER=o}if(t!==void 0){var s=this.getProjection()?this.getProjection().getMetersPerUnit():1,u=28e-5;n.SCALE=t*s/u}return Object(br.a)(n,e),hh(this.url_,n)}},r.prototype.getParams=function(){return this.params_},r.prototype.getImageInternal=function(t,e,n,o){if(this.url_===void 0)return null;e=this.findNearestResolution(e),n!=1&&(!this.hidpi_||this.serverType_===void 0)&&(n=1);var a=e/n,s=Tn(t),u=Math.ceil(un(t)/a),h=Math.ceil(bn(t)/a),d=Gi(s,a,0,[u,h]),E=Math.ceil(this.ratio_*un(t)/a),b=Math.ceil(this.ratio_*bn(t)/a),I=Gi(s,a,0,[E,b]),M=this.image_;if(M&&this.renderedRevision_==this.getRevision()&&M.getResolution()==e&&M.getPixelRatio()==n&&he(M.getExtent(),d))return M;var k={SERVICE:"WMS",VERSION:rc,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object(br.a)(k,this.params_),this.imageSize_[0]=Math.round(un(I)/a),this.imageSize_[1]=Math.round(bn(I)/a);var et=this.getRequestUrl_(I,this.imageSize_,n,o,k);return this.image_=new H1(I,e,n,et,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(Dr.a.CHANGE,this.handleImageChange.bind(this)),this.image_},r.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},r.prototype.getRequestUrl_=function(t,e,n,o,a){if(Qt(this.url_!==void 0,9),a[this.v13_?"CRS":"SRS"]=o.getCode(),"STYLES"in this.params_||(a.STYLES=""),n!=1)switch(this.serverType_){case nc.GEOSERVER:var s=90*n+.5|0;"FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+=";dpi:"+s:a.FORMAT_OPTIONS="dpi:"+s;break;case nc.MAPSERVER:a.MAP_RESOLUTION=90*n;break;case nc.CARMENTA_SERVER:case nc.QGIS:a.DPI=90*n;break;default:Qt(!1,8);break}a.WIDTH=e[0],a.HEIGHT=e[1];var u=o.getAxisOrientation(),h;return this.v13_&&u.substr(0,2)=="ne"?h=[t[1],t[0],t[3],t[2]]:h=t,a.BBOX=h.join(","),hh(this.url_,a)},r.prototype.getUrl=function(){return this.url_},r.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},r.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},r.prototype.updateParams=function(t){Object(br.a)(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},r.prototype.updateV13_=function(){var t=this.params_.VERSION||rc;this.v13_=m(t,"1.3")>=0},r}(S2),rb=eb,nb={name:"ol-source-image-wms",setup:function(r){var t=Object(N.inject)("imageLayer"),e=Yt(r),n=e.properties,o=function(){return new rb(ee(ee({},n),{},{params:{LAYERS:r.layers,STYLES:r.styles,TIME:r.time},projection:typeof n.projection=="string"?n.projection:new Oa(ee({},n.projection))}))},a=o();return Object(N.watch)(n,function(){t.setSource(null),a=o(),t.setSource(a)}),Object(N.onMounted)(function(){t.setSource(a)}),Object(N.onUnmounted)(function(){t.setSource(null)}),{layer:t,source:a}},props:{attributions:{type:String},crossOrigin:{type:String},imageExtent:{type:Array},projection:{type:[String,Object],default:"EPSG:3857"},reprojectionErrorThreshold:{type:Number,default:.5},format:{type:String,default:"image/png"},version:{type:String,default:"1.3.0"},matrixSet:{type:String},serverType:{type:String,default:"mapserver"},imageSmoothing:{type:Boolean,default:!0},layers:{type:[String,Array],required:!0},styles:{type:[String,Array],default:""},time:{type:String},ratio:{type:Number,default:1},imageSize:{type:Array},url:{type:String},params:{type:Object}}},hm=xt()(nb,[["render",QT]]);function Mv(i){Mv.installed||(Mv.installed=!0,i.component(rm.name,rm),i.component(nm.name,nm),i.component(am.name,am),i.component(lm.name,lm),i.component(um.name,um),i.component(cm.name,cm),i.component(w2.name,w2),i.component(fm.name,fm),i.component(hm.name,hm))}var ib=Mv;function ob(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var ab=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),C2=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],L2={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"},sb=function(i){ab(r,i);function r(t){var e=this,n=t||{};e=i.call(this,{element:document.createElement("div"),target:n.target})||this,e.on,e.once,e.un,e.cssClassName_=n.className!==void 0?n.className:"ol-full-screen",e.activeClassName_=n.activeClassName!==void 0?n.activeClassName.split(" "):[e.cssClassName_+"-true"],e.inactiveClassName_=n.inactiveClassName!==void 0?n.inactiveClassName.split(" "):[e.cssClassName_+"-false"];var o=n.label!==void 0?n.label:"\u2922";e.labelNode_=typeof o=="string"?document.createTextNode(o):o;var a=n.labelActive!==void 0?n.labelActive:"\xD7";e.labelActiveNode_=typeof a=="string"?document.createTextNode(a):a,e.button_=document.createElement("button");var s=n.tipLabel?n.tipLabel:"Toggle full-screen";e.setClassName_(e.button_,pm()),e.button_.setAttribute("type","button"),e.button_.title=s,e.button_.appendChild(e.labelNode_),e.button_.addEventListener(Dr.a.CLICK,e.handleClick_.bind(e),!1);var u=e.cssClassName_+" "+ir+" "+ft+" "+(A2()?"":Je),h=e.element;return h.className=u,h.appendChild(e.button_),e.keys_=n.keys!==void 0?n.keys:!1,e.source_=n.source,e}return r.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},r.prototype.handleFullScreen_=function(){if(!!A2()){var t=this.getMap();if(!!t)if(pm())ub();else{var e=void 0;this.source_?e=typeof this.source_=="string"?document.getElementById(this.source_):this.source_:e=t.getTargetElement(),this.keys_?lb(e):P2(e)}}},r.prototype.handleFullScreenChange_=function(){var t=this.getMap();pm()?(this.setClassName_(this.button_,!0),Object(be.g)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(L2.ENTERFULLSCREEN)):(this.setClassName_(this.button_,!1),Object(be.g)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(L2.LEAVEFULLSCREEN)),t&&t.updateSize()},r.prototype.setClassName_=function(t,e){var n,o,a,s=this.activeClassName_,u=this.inactiveClassName_,h=e?s:u;(n=t.classList).remove.apply(n,s),(o=t.classList).remove.apply(o,u),(a=t.classList).add.apply(a,h)},r.prototype.setMap=function(t){if(i.prototype.setMap.call(this,t),t)for(var e=0,n=C2.length;e<n;++e)this.listenerKeys.push(Object(dr.a)(document,C2[e],this.handleFullScreenChange_,this))},r}(wn.default);function A2(){var i=document.body;return!!(i.webkitRequestFullscreen||i.msRequestFullscreen&&document.msFullscreenEnabled||i.requestFullscreen&&document.fullscreenEnabled)}function pm(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function P2(i){i.requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen()}function lb(i){i.webkitRequestFullscreen?i.webkitRequestFullscreen():P2(i)}function ub(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}var cb=sb;function dm(i,r){(r==null||r>i.length)&&(r=i.length);for(var t=0,e=new Array(r);t<r;t++)e[t]=i[t];return e}function fb(i){if(Array.isArray(i))return dm(i)}c("e01a"),c("d3b7"),c("d28b"),c("e260"),c("3ca3"),c("ddb0"),c("a630");function hb(i){if(typeof Symbol!="undefined"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}c("fb6a");function pb(i,r){if(!!i){if(typeof i=="string")return dm(i,r);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dm(i,r)}}function db(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R2(i){return fb(i)||hb(i)||pb(i)||db()}c("4e82"),c("c740"),c("a434");function Co(i,r,t){var e=Object(N.inject)("map"),n=Object(N.inject)("controlBar",null),o=n!=null?n.value:e,a=Yt(r),s=a.properties,u=Object(N.computed)(function(){return new i(ee({},s))});return u.value.set("order",t.attrs.order==null?0:t.attrs.order),Object(N.watch)(u,function(h,d){o.removeControl&&(o.removeControl(d),o.addControl(h),e.changed())}),Object(N.onMounted)(function(){if(o.addControl(u.value),o.controls_!=null){var h=R2(o.controls_);h.sort(function(d,E){return d.get("order")-E.get("order")}),o.controls_=[],h.forEach(function(d){o.addControl(d)}),o.changed()}e.changed()}),Object(N.onUnmounted)(function(){if(o.removeControl)o.removeControl(u.value);else{var h=o.controls_.findIndex(function(d){return d==u.value});o.controls_.splice(h,1),u.value.dispose()}e.changed()}),{map:e,control:u}}var vb={name:"ol-fullscreen-control",setup:function(r,t){var e=Co(cb,r,t),n=e.control;return{control:n}},props:{className:{type:String,default:"ol-full-screen"},label:{type:String,default:"\u2922"},labelActive:{type:String,default:"\xD7"},activeClassName:{type:String,default:"ol-full-screen-true"},inactiveClassName:{type:String,default:"ol-full-screen-false"},tipLabel:{type:String,default:"Toggle full-screen"},keys:{type:Boolean,default:!1},target:{type:Object,default:void 0},source:{type:Object,default:void 0}}},vm=xt()(vb,[["render",ob]]);function gb(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var yb=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gm="projection",I2="coordinateFormat",mb=function(i){yb(r,i);function r(t){var e=this,n=t||{},o=document.createElement("div");o.className=n.className!==void 0?n.className:"ol-mouse-position",e=i.call(this,{element:o,render:n.render,target:n.target})||this,e.on,e.once,e.un,e.addChangeListener(gm,e.handleProjectionChanged_),n.coordinateFormat&&e.setCoordinateFormat(n.coordinateFormat),n.projection&&e.setProjection(n.projection);var a=!0,s="&#160;";return"undefinedHTML"in n?(n.undefinedHTML!==void 0&&(s=n.undefinedHTML),a=!!s):"placeholder"in n&&(n.placeholder===!1?a=!1:s=String(n.placeholder)),e.placeholder_=s,e.renderOnMouseOut_=a,e.renderedHTML_=o.innerHTML,e.mapProjection_=null,e.transform_=null,e}return r.prototype.handleProjectionChanged_=function(){this.transform_=null},r.prototype.getCoordinateFormat=function(){return this.get(I2)},r.prototype.getProjection=function(){return this.get(gm)},r.prototype.handleMouseMove=function(t){var e=this.getMap();this.updateHTML_(e.getEventPixel(t))},r.prototype.handleMouseOut=function(t){this.updateHTML_(null)},r.prototype.setMap=function(t){if(i.prototype.setMap.call(this,t),t){var e=t.getViewport();this.listenerKeys.push(Object(dr.a)(e,qn.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Object(dr.a)(e,qn.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}},r.prototype.setCoordinateFormat=function(t){this.set(I2,t)},r.prototype.setProjection=function(t){this.set(gm,qr(t))},r.prototype.updateHTML_=function(t){var e=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){var n=this.getProjection();n?this.transform_=ko(this.mapProjection_,n):this.transform_=bu}var o=this.getMap(),a=o.getCoordinateFromPixelInternal(t);if(a){var s=Bs();s&&(this.transform_=ko(this.mapProjection_,s)),this.transform_(a,a);var u=this.getCoordinateFormat();u?e=u(a):e=a.toString()}}(!this.renderedHTML_||e!==this.renderedHTML_)&&(this.element.innerHTML=e,this.renderedHTML_=e)},r.prototype.render=function(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null},r}(wn.default),_b=mb,Sb={name:"ol-mouseposition-control",setup:function(r,t){var e=Co(_b,r,t),n=e.control;return{control:n}},props:{className:{type:String,default:"ol-mouse-position"},coordinateFormat:{type:[String,Function]},projection:{type:String},render:{type:Function},target:{type:HTMLElement},undefinedHTML:{type:String,default:"&#160;"}}},ym=xt()(Sb,[["render",gb]]);function Eb(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var wb={name:"ol-attribution-control",setup:function(r,t){var e=Co(vp,r,t),n=e.control;return{control:n}},props:{className:{type:String,default:"ol-attribution"},target:{type:HTMLElement},collapsible:{type:Boolean},collapsed:{type:Boolean,default:!0},tipLabel:{type:String,default:"Attributions"},label:{type:String,default:"i"},expandClassName:{type:String,default:"ol-attribution-expand"},collapseLabel:{type:String,default:"\xBB"},collapseClassName:{type:String,default:"ol-attribution-collapse"},render:{type:Function}}},mm=xt()(wb,[["render",Eb]]);function xb(i,r,t,e,n,o){return Object(N.openBlock)(),Object(N.createBlock)("div",null,[Object(N.renderSlot)(i.$slots,"default")])}var N2=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_m=.75,Fv=.1,Ob=function(i){N2(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createRenderer=function(){return new oi(this)},r}(xs),Tb=function(i){N2(r,i);function r(t){var e=this,n=t||{};e=i.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this,e.boundHandleRotationChanged_=e.handleRotationChanged_.bind(e),e.collapsed_=n.collapsed!==void 0?n.collapsed:!0,e.collapsible_=n.collapsible!==void 0?n.collapsible:!0,e.collapsible_||(e.collapsed_=!1),e.rotateWithView_=n.rotateWithView!==void 0?n.rotateWithView:!1,e.viewExtent_=void 0;var o=n.className!==void 0?n.className:"ol-overviewmap",a=n.tipLabel!==void 0?n.tipLabel:"Overview map",s=n.collapseLabel!==void 0?n.collapseLabel:"\xAB";typeof s=="string"?(e.collapseLabel_=document.createElement("span"),e.collapseLabel_.textContent=s):e.collapseLabel_=s;var u=n.label!==void 0?n.label:"\xBB";typeof u=="string"?(e.label_=document.createElement("span"),e.label_.textContent=u):e.label_=u;var h=e.collapsible_&&!e.collapsed_?e.collapseLabel_:e.label_,d=document.createElement("button");d.setAttribute("type","button"),d.title=a,d.appendChild(h),d.addEventListener(Dr.a.CLICK,e.handleClick_.bind(e),!1),e.ovmapDiv_=document.createElement("div"),e.ovmapDiv_.className="ol-overviewmap-map",e.view_=n.view,e.ovmap_=new Ob({view:n.view});var E=e.ovmap_;n.layers&&n.layers.forEach(function(oe){E.addLayer(oe)});var b=document.createElement("div");b.className="ol-overviewmap-box",b.style.boxSizing="border-box",e.boxOverlay_=new ea({position:[0,0],positioning:Yn.CENTER_CENTER,element:b}),e.ovmap_.addOverlay(e.boxOverlay_);var I=o+" "+ir+" "+ft+(e.collapsed_&&e.collapsible_?" "+jt:"")+(e.collapsible_?"":" ol-uncollapsible"),M=e.element;M.className=I,M.appendChild(e.ovmapDiv_),M.appendChild(d);var k=e,et=e.boxOverlay_,ht=e.boxOverlay_.getElement(),Lt=function(oe){return{clientX:oe.clientX,clientY:oe.clientY}},It=function(oe){var se=Lt(oe),de=E.getEventCoordinateInternal(se);et.setPosition(de)},wt=function(oe){var se=E.getEventCoordinateInternal(oe);k.getMap().getView().setCenterInternal(se),window.removeEventListener("mousemove",It),window.removeEventListener("mouseup",wt)};return ht.addEventListener("mousedown",function(){window.addEventListener("mousemove",It),window.addEventListener("mouseup",wt)}),e}return r.prototype.setMap=function(t){var e=this.getMap();if(t!==e){if(e){var n=e.getView();n&&this.unbindView_(n),this.ovmap_.setTarget(null)}if(i.prototype.setMap.call(this,t),t){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Object(dr.a)(t,Nt.a.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var o=t.getView();o&&(this.bindView_(o),o.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_())),this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}},r.prototype.handleMapPropertyChange_=function(t){if(t.key===di.VIEW){var e=t.oldValue;e&&this.unbindView_(e);var n=this.getMap().getView();this.bindView_(n)}else!this.ovmap_.isRendered()&&(t.key===di.TARGET||t.key===di.SIZE)&&this.ovmap_.updateSize()},r.prototype.bindView_=function(t){if(!this.view_){var e=new Ja({projection:t.getProjection()});this.ovmap_.setView(e)}t.addChangeListener(zi.ROTATION,this.boundHandleRotationChanged_),this.handleRotationChanged_()},r.prototype.unbindView_=function(t){t.removeChangeListener(zi.ROTATION,this.boundHandleRotationChanged_)},r.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},r.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_;if(!(!t.isRendered()||!e.isRendered())){var n=t.getSize(),o=t.getView(),a=o.calculateExtentInternal(n);if(!(this.viewExtent_&&Gr(a,this.viewExtent_))){this.viewExtent_=a;var s=e.getSize(),u=e.getView(),h=u.calculateExtentInternal(s),d=e.getPixelFromCoordinateInternal(bi(a)),E=e.getPixelFromCoordinateInternal(En(a)),b=Math.abs(d[0]-E[0]),I=Math.abs(d[1]-E[1]),M=s[0],k=s[1];b<M*Fv||I<k*Fv||b>M*_m||I>k*_m?this.resetExtent_():he(h,a)||this.recenter_()}}},r.prototype.resetExtent_=function(){var t=this.getMap(),e=this.ovmap_,n=t.getSize(),o=t.getView(),a=o.calculateExtentInternal(n),s=e.getView(),u=Math.log(_m/Fv)/Math.LN2,h=1/(Math.pow(2,u/2)*Fv);Xi(a,h),s.fitInternal(xo(a))},r.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,n=t.getView(),o=e.getView();o.setCenterInternal(n.getCenterInternal())},r.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_;if(!(!t.isRendered()||!e.isRendered())){var n=t.getSize(),o=t.getView(),a=e.getView(),s=this.rotateWithView_?0:-o.getRotation(),u=this.boxOverlay_,h=this.boxOverlay_.getElement(),d=o.getCenterInternal(),E=o.getResolution(),b=a.getResolution(),I=n[0]*E/b,M=n[1]*E/b;if(u.setPosition(d),h){h.style.width=I+"px",h.style.height=M+"px";var k="rotate("+s+"rad)";h.style.transform=k}}},r.prototype.updateBoxAfterOvmapIsRendered_=function(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=Object(dr.b)(this.ovmap_,Ui.a.POSTRENDER,function(t){delete this.ovmapPostrenderKey_,this.updateBox_()},this))},r.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},r.prototype.handleToggle_=function(){this.element.classList.toggle(jt),this.collapsed_?Object(be.g)(this.collapseLabel_,this.label_):Object(be.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var t=this.ovmap_;if(!this.collapsed_){if(t.isRendered()){this.viewExtent_=void 0,t.render();return}t.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()}},r.prototype.getCollapsible=function(){return this.collapsible_},r.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},r.prototype.setCollapsed=function(t){!this.collapsible_||this.collapsed_===t||this.handleToggle_()},r.prototype.getCollapsed=function(){return this.collapsed_},r.prototype.getRotateWithView=function(){return this.rotateWithView_},r.prototype.setRotateWithView=function(t){this.rotateWithView_!==t&&(this.rotateWithView_=t,this.getMap().getView().getRotation()!==0&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},r.prototype.getOverviewMap=function(){return this.ovmap_},r.prototype.render=function(t){this.validateExtent_(),this.updateBox_()},r}(wn.default),bb=Tb,Cb={name:"ol-overviewmap-control",setup:function(r,t){var e=Object(N.inject)("map"),n=Co(bb,r,t),o=n.control;return Object(N.onMounted)(function(){o.value.setMap(e)}),Object(N.onUnmounted)(function(){o.value.setMap(null)}),Object(N.provide)("overviewMap",o),{control:o}},props:{className:{type:String,default:"ol-overviewmap"},collapsed:{type:Boolean,default:!0},collapseLabel:{type:String,default:"\xAB"},collapsible:{type:Boolean,default:!0},label:{type:String,default:"\xBB"},render:{type:Function},rotateWithView:{type:Boolean,default:!1},target:{type:HTMLElement},tipLabel:{type:String,default:"Overview map"}}},Sm=xt()(Cb,[["render",xb]]);function Lb(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var Ab=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Em="units",rf={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},Pb=[1,2,5],wm=25.4/.28,Rb=function(i){Ab(r,i);function r(t){var e=this,n=t||{},o=n.className!==void 0?n.className:n.bar?"ol-scale-bar":"ol-scale-line";return e=i.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this,e.on,e.once,e.un,e.innerElement_=document.createElement("div"),e.innerElement_.className=o+"-inner",e.element.className=o+" "+ir,e.element.appendChild(e.innerElement_),e.viewState_=null,e.minWidth_=n.minWidth!==void 0?n.minWidth:64,e.renderedVisible_=!1,e.renderedWidth_=void 0,e.renderedHTML_="",e.addChangeListener(Em,e.handleUnitsChanged_),e.setUnits(n.units||rf.METRIC),e.scaleBar_=n.bar||!1,e.scaleBarSteps_=n.steps||4,e.scaleBarText_=n.text||!1,e.dpi_=n.dpi||void 0,e}return r.prototype.getUnits=function(){return this.get(Em)},r.prototype.handleUnitsChanged_=function(){this.updateElement_()},r.prototype.setUnits=function(t){this.set(Em,t)},r.prototype.setDpi=function(t){this.dpi_=t},r.prototype.updateElement_=function(){var t=this.viewState_;if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var e=t.center,n=t.projection,o=this.getUnits(),a=o==rf.DEGREES?Ni.DEGREES:Ni.METERS,s=Cu(n,t.resolution,e,a),u=this.minWidth_*(this.dpi_||wm)/wm,h=u*s,d="";if(o==rf.DEGREES){var E=Vi[Ni.DEGREES];h*=E,h<E/60?(d="\u2033",s*=3600):h<E?(d="\u2032",s*=60):d="\xB0"}else o==rf.IMPERIAL?h<.9144?(d="in",s/=.0254):h<1609.344?(d="ft",s/=.3048):(d="mi",s/=1609.344):o==rf.NAUTICAL?(s/=1852,d="nm"):o==rf.METRIC?h<.001?(d="\u03BCm",s*=1e6):h<1?(d="mm",s*=1e3):h<1e3?d="m":(d="km",s/=1e3):o==rf.US?h<.9144?(d="in",s*=39.37):h<1609.344?(d="ft",s/=.30480061):(d="mi",s/=1609.3472):Qt(!1,33);for(var b=3*Math.floor(Math.log(u*s)/Math.log(10)),I,M,k;;){k=Math.floor(b/3);var et=Math.pow(10,k);if(I=Pb[(b%3+3)%3]*et,M=Math.round(I/s),isNaN(M)){this.element.style.display="none",this.renderedVisible_=!1;return}else if(M>=u)break;++b}var ht;this.scaleBar_?ht=this.createScaleBar(M,I,d):ht=I.toFixed(k<0?-k:0)+" "+d,this.renderedHTML_!=ht&&(this.innerElement_.innerHTML=ht,this.renderedHTML_=ht),this.renderedWidth_!=M&&(this.innerElement_.style.width=M+"px",this.renderedWidth_=M),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)},r.prototype.createScaleBar=function(t,e,n){for(var o="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),a=[],s=t/this.scaleBarSteps_,u="#ffffff",h=0;h<this.scaleBarSteps_;h++)h===0&&a.push(this.createMarker("absolute",h)),a.push('<div><div class="ol-scale-singlebar" style="width: '+s+"px;background-color: "+u+';"></div>'+this.createMarker("relative",h)+(h%2==0||this.scaleBarSteps_===2?this.createStepText(h,t,!1,e,n):"")+"</div>"),h===this.scaleBarSteps_-1&&a.push(this.createStepText(h+1,t,!0,e,n)),u==="#ffffff"?u="#000000":u="#ffffff";var d;this.scaleBarText_?d='<div class="ol-scale-text" style="width: '+t+'px;">'+o+"</div>":d="";var E='<div style="display: flex;">'+d+a.join("")+"</div>";return E},r.prototype.createMarker=function(t,e){var n=t==="absolute"?3:-10;return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+n+'px;"></div>'},r.prototype.createStepText=function(t,e,n,o,a){var s=t===0?0:Math.round(o/this.scaleBarSteps_*t*100)/100,u=s+(t===0?"":" "+a),h=t===0?-3:e/this.scaleBarSteps_*-1,d=t===0?0:e/this.scaleBarSteps_*2;return'<div class="ol-scale-step-text" style="margin-left: '+h+"px;text-align: "+(t===0?"left":"center")+"; min-width: "+d+"px;left: "+(n?e+"px":"unset")+';">'+u+"</div>"},r.prototype.getScaleForResolution=function(){var t=Cu(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center),e=this.dpi_||wm,n=this.viewState_.projection.getMetersPerUnit(),o=1e3/25.4;return parseFloat(t.toString())*n*o*e},r.prototype.render=function(t){var e=t.frameState;e?this.viewState_=e.viewState:this.viewState_=null,this.updateElement_()},r}(wn.default),Ib=Rb,Nb={name:"ol-scaleline-control",setup:function(r,t){var e=Co(Ib,r,t),n=e.control;return{control:n}},props:{className:{type:String,default:"ol-scale-line"},minWidth:{type:Number,default:64},render:{type:Function},target:{type:HTMLElement},units:{type:String,default:"metric"},bar:{type:Boolean,default:!1},steps:{type:Number,default:4},text:{type:Boolean,default:!1},dpi:{type:Number,default:void 0}}},xm=xt()(Nb,[["render",Lb]]);function Mb(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var Fb={name:"ol-zoom-control",setup:function(r,t){var e=Co(yp,r,t),n=e.control;return{control:n}},props:{duration:{type:Number,default:250},className:{type:String,default:"ol-zoom"},zoomInClassName:{type:String,default:"ol-zoom-in"},zoomOutClassName:{type:String,default:"ol-zoom-out"},zoomInLabel:{type:String,default:"+"},zoomOutLabel:{type:String,default:"-"},zoomInTipLabel:{type:String,default:"Zoom in"},zoomOutTipLabel:{type:String,default:"Zoom Out"},delta:{type:Number,default:1},target:{type:HTMLElement}}},Om=xt()(Fb,[["render",Mb]]);function jb(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var Db=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vp={VERTICAL:0,HORIZONTAL:1},Bb=function(i){Db(r,i);function r(t){var e=this,n=t||{};e=i.call(this,{element:document.createElement("div"),render:n.render})||this,e.dragListenerKeys_=[],e.currentResolution_=void 0,e.direction_=Vp.VERTICAL,e.dragging_,e.heightLimit_=0,e.widthLimit_=0,e.startX_,e.startY_,e.thumbSize_=null,e.sliderInitialized_=!1,e.duration_=n.duration!==void 0?n.duration:200;var o=n.className!==void 0?n.className:"ol-zoomslider",a=document.createElement("button");a.setAttribute("type","button"),a.className=o+"-thumb "+ir;var s=e.element;return s.className=o+" "+ir+" "+ft,s.appendChild(a),s.addEventListener(qn.POINTERDOWN,e.handleDraggerStart_.bind(e),!1),s.addEventListener(qn.POINTERMOVE,e.handleDraggerDrag_.bind(e),!1),s.addEventListener(qn.POINTERUP,e.handleDraggerEnd_.bind(e),!1),s.addEventListener(Dr.a.CLICK,e.handleContainerClick_.bind(e),!1),a.addEventListener(Dr.a.CLICK,ue.b,!1),e}return r.prototype.setMap=function(t){i.prototype.setMap.call(this,t),t&&t.render()},r.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,n=t.offsetHeight;if(e===0&&n===0)return this.sliderInitialized_=!1;var o=getComputedStyle(t);e-=parseFloat(o.paddingRight)+parseFloat(o.paddingLeft),n-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom);var a=t.firstElementChild,s=getComputedStyle(a),u=a.offsetWidth+parseFloat(s.marginRight)+parseFloat(s.marginLeft),h=a.offsetHeight+parseFloat(s.marginTop)+parseFloat(s.marginBottom);return this.thumbSize_=[u,h],e>n?(this.direction_=Vp.HORIZONTAL,this.widthLimit_=e-u):(this.direction_=Vp.VERTICAL,this.heightLimit_=n-h),this.sliderInitialized_=!0},r.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),n=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),o=this.getResolutionForPosition_(n),a=e.getConstrainedZoom(e.getZoomForResolution(o));e.animateInternal({zoom:a,duration:this.duration_,easing:wo})},r.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.target===this.element.firstElementChild){var e=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=t.clientX-parseFloat(e.style.left),this.startY_=t.clientY-parseFloat(e.style.top),this.dragging_=!0,this.dragListenerKeys_.length===0){var n=this.handleDraggerDrag_,o=this.handleDraggerEnd_,a=this.getMap().getOwnerDocument();this.dragListenerKeys_.push(Object(dr.a)(a,qn.POINTERMOVE,n,this),Object(dr.a)(a,qn.POINTERUP,o,this))}}},r.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=t.clientX-this.startX_,n=t.clientY-this.startY_,o=this.getRelativePosition_(e,n);this.currentResolution_=this.getResolutionForPosition_(o),this.getMap().getView().setResolution(this.currentResolution_)}},r.prototype.handleDraggerEnd_=function(t){if(this.dragging_){var e=this.getMap().getView();e.endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(dr.c),this.dragListenerKeys_.length=0}},r.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),n=this.element.firstElementChild;this.direction_==Vp.HORIZONTAL?n.style.left=this.widthLimit_*e+"px":n.style.top=this.heightLimit_*e+"px"},r.prototype.getRelativePosition_=function(t,e){var n;return this.direction_===Vp.HORIZONTAL?n=t/this.widthLimit_:n=e/this.heightLimit_,Ei(n,0,1)},r.prototype.getResolutionForPosition_=function(t){var e=this.getMap().getView().getResolutionForValueFunction();return e(1-t)},r.prototype.getPositionForResolution_=function(t){var e=this.getMap().getView().getValueForResolutionFunction();return Ei(1-e(t),0,1)},r.prototype.render=function(t){if(!!t.frameState&&!(!this.sliderInitialized_&&!this.initSlider_())){var e=t.frameState.viewState.resolution;this.currentResolution_=e,this.setThumbPosition_(e)}},r}(wn.default),Gb=Bb,Ub={name:"ol-zoomslider-control",setup:function(r,t){var e=Co(Gb,r,t),n=e.control;return{control:n}},props:{duration:{type:Number,default:200},className:{type:String,default:"ol-zoomslider"},render:{type:Function}}},Tm=xt()(Ub,[["render",jb]]);function kb(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var Vb=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zb=function(i){Vb(r,i);function r(t){var e=this,n=t||{};e=i.call(this,{element:document.createElement("div"),target:n.target})||this,e.extent=n.extent?n.extent:null;var o=n.className!==void 0?n.className:"ol-zoom-extent",a=n.label!==void 0?n.label:"E",s=n.tipLabel!==void 0?n.tipLabel:"Fit to extent",u=document.createElement("button");u.setAttribute("type","button"),u.title=s,u.appendChild(typeof a=="string"?document.createTextNode(a):a),u.addEventListener(Dr.a.CLICK,e.handleClick_.bind(e),!1);var h=o+" "+ir+" "+ft,d=e.element;return d.className=h,d.appendChild(u),e}return r.prototype.handleClick_=function(t){t.preventDefault(),this.handleZoomToExtent()},r.prototype.handleZoomToExtent=function(){var t=this.getMap(),e=t.getView(),n=this.extent?this.extent:e.getProjection().getExtent();e.fitInternal(xo(n))},r}(wn.default),Yb=zb,Wb={name:"ol-zoomtoextent-control",setup:function(r,t){var e=Co(Yb,r,t),n=e.control;return{control:n}},props:{className:{type:String,default:"ol-zoom-extent"},target:{type:HTMLElement},label:{type:String,default:"E"},tipLabel:{type:String,default:"Fit to extent"},extent:{type:Array}}},bm=xt()(Wb,[["render",kb]]);function Hb(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var Xb={name:"ol-rotate-control",setup:function(r,t){var e=Co(gp,r,t),n=e.control;return{control:n}},props:{className:{type:String,default:"ol-rotate"},label:{type:String,default:"\u21E7"},tipLabel:{type:String,default:"Reset rotation"},compassClassName:{type:String,default:"ol-compass"},duration:{type:Number,default:250},autoHide:{type:Boolean,default:!1},render:{type:Function},resetNorth:{type:Function},target:{type:HTMLElement}}},M2=xt()(Xb,[["render",Hb]]);function Kb(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var Zb=c("658f"),$b=c.n(Zb),qb={name:"ol-context-menu",setup:function(r,t){var e=Co($b.a,r,t),n=e.control;return{control:n}},props:{eventType:{type:String,default:"contextmenu"},defaultItems:{type:Boolean,default:!0},width:{type:Number,default:150},items:{type:Array,default:function(){return[]}}}},Cm=xt()(qb,[["render",Kb]]);function Jb(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var qs=function(i){i=i||{};var r=document.createElement("button"),t=document.createElement("div");t.className=(i.className||"ol-swipe")+" ol-unselectable ol-control",t.appendChild(r),t.addEventListener("mousedown",this.move.bind(this)),t.addEventListener("touchstart",this.move.bind(this)),wn.default.call(this,{element:t}),this.precomposeRight_=this.precomposeRight.bind(this),this.precomposeLeft_=this.precomposeLeft.bind(this),this.postcompose_=this.postcompose.bind(this),this.layers=[],i.layers&&this.addLayer(i.layers,!1),i.rightLayers&&this.addLayer(i.rightLayers,!0),this.on("propertychange",function(){this.getMap()&&this.getMap().renderSync(),this.get("orientation")==="horizontal"?(this.element.style.top=this.get("position")*100+"%",this.element.style.left=""):(this.get("orientation")!=="vertical"&&this.set("orientation","vertical"),this.element.style.left=this.get("position")*100+"%",this.element.style.top=""),this.element.classList.remove("horizontal","vertical"),this.element.classList.add(this.get("orientation"))}.bind(this)),this.set("position",i.position||.5),this.set("orientation",i.orientation||"vertical")};yi(qs,wn.default),qs.prototype.setMap=function(i){var r,t;if(this.getMap()){for(r=0;r<this.layers.length;r++)t=this.layers[r],t.right?t.layer.un(["precompose","prerender"],this.precomposeRight_):t.layer.un(["precompose","prerender"],this.precomposeLeft_),t.layer.un(["postcompose","postrender"],this.postcompose_);this.getMap().renderSync()}if(wn.default.prototype.setMap.call(this,i),i){for(this._listener=[],r=0;r<this.layers.length;r++)t=this.layers[r],t.right?t.layer.on(["precompose","prerender"],this.precomposeRight_):t.layer.on(["precompose","prerender"],this.precomposeLeft_),t.layer.on(["postcompose","postrender"],this.postcompose_);i.renderSync()}},qs.prototype.isLayer_=function(i){for(var r=0;r<this.layers.length;r++)if(this.layers[r].layer===i)return r;return-1},qs.prototype.addLayer=function(i,r){i instanceof Array||(i=[i]);for(var t=0;t<i.length;t++){var e=i[t];this.isLayer_(e)<0&&(this.layers.push({layer:e,right:r}),this.getMap()&&(r?e.on(["precompose","prerender"],this.precomposeRight_):e.on(["precompose","prerender"],this.precomposeLeft_),e.on(["postcompose","postrender"],this.postcompose_),this.getMap().renderSync()))}},qs.prototype.removeLayer=function(i){i instanceof Array||(i=[i]);for(var r=0;r<i.length;r++){var t=this.isLayer_(i[r]);t>=0&&this.getMap()&&(this.layers[t].right?i[r].un(["precompose","prerender"],this.precomposeRight_):i[r].un(["precompose","prerender"],this.precomposeLeft_),i[r].un(["postcompose","postrender"],this.postcompose_),this.layers.splice(t,1),this.getMap().renderSync())}},qs.prototype.move=function(i){var r=this,t;switch(i.type){case"touchcancel":case"touchend":case"mouseup":{r.isMoving=!1,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(function(o){document.removeEventListener(o,r.move)});break}case"mousedown":case"touchstart":r.isMoving=!0,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(function(o){document.addEventListener(o,r.move.bind(r))});case"mousemove":case"touchmove":{if(r.isMoving)if(r.get("orientation")==="vertical"){var e=i.pageX||i.touches&&i.touches.length&&i.touches[0].pageX||i.changedTouches&&i.changedTouches.length&&i.changedTouches[0].pageX;if(!e)break;e-=r.getMap().getTargetElement().getBoundingClientRect().left+window.pageXOffset-document.documentElement.clientLeft,t=r.getMap().getSize()[0],t=Math.min(Math.max(0,1-(t-e)/t),1),r.set("position",t)}else{var n=i.pageY||i.touches&&i.touches.length&&i.touches[0].pageY||i.changedTouches&&i.changedTouches.length&&i.changedTouches[0].pageY;if(!n)break;n-=r.getMap().getTargetElement().getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop,t=r.getMap().getSize()[1],t=Math.min(Math.max(0,1-(t-n)/t),1),r.set("position",t)}break}}},qs.prototype._drawRect=function(i,r){var t=i.inversePixelTransform;if(t){var e=[[r[0][0],r[0][1]],[r[0][0],r[1][1]],[r[1][0],r[1][1]],[r[1][0],r[0][1]],[r[0][0],r[0][1]]];e.forEach(function(o,a){o=[o[0]*t[0]-o[1]*t[1]+t[4],-o[0]*t[2]+o[1]*t[3]+t[5]],a?i.context.lineTo(o[0],o[1]):i.context.moveTo(o[0],o[1])})}else{var n=i.frameState.pixelRatio;i.context.rect(r[0][0]*n,r[0][1]*n,r[1][0]*n,r[1][1]*n)}},qs.prototype.precomposeLeft=function(i){var r=i.context,t=i.frameState.size;r.save(),r.beginPath();var e=[[0,0],[t[0],t[1]]];this.get("orientation")==="vertical"?e[1]=[t[0]*this.get("position"),t[1]]:e[1]=[t[0],t[1]*this.get("position")],this._drawRect(i,e),r.clip()},qs.prototype.precomposeRight=function(i){var r=i.context,t=i.frameState.size;r.save(),r.beginPath();var e=[[0,0],[t[0],t[1]]];this.get("orientation")==="vertical"?e[0]=[t[0]*this.get("position"),0]:e[0]=[0,t[1]*this.get("position")],this._drawRect(i,e),r.clip()},qs.prototype.postcompose=function(i){i.target.getClassName&&i.target.getClassName()!=="ol-layer"&&i.target.get("declutter")?setTimeout(function(){i.context.restore()},0):i.context.restore()};var Qb=qs,tC={name:"ol-swipe-control",setup:function(r,t){var e=Co(Qb,r,t),n=e.control,o=Object(N.toRefs)(r),a=o.layerList;return a.value.forEach(function(s,u){n.value.addLayer(s,u==1)}),{control:n}},props:{layerList:{type:Array},className:{type:String,default:"ol-swipe"},position:{type:Number,default:.5},orientation:{type:String,default:"vertical"}}},Lm=xt()(tC,[["render",Jb]]);function eC(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default")}var rs=function(i){i||(i={});var r=document.createElement("div");if(r.classList.add("ol-unselectable","ol-control","ol-bar"),i.className){var t=i.className.split(" ").filter(function(n){return n.length>0});r.classList.add.apply(r.classList,t)}if(i.group&&r.classList.add("ol-group"),wn.default.call(this,{element:r,target:i.target}),this.set("toggleOne",i.toggleOne),this.set("autoDeactivate",i.autoDeactivate),this.controls_=[],i.controls instanceof Array)for(var e=0;e<i.controls.length;e++)this.addControl(i.controls[e])};yi(rs,wn.default),rs.prototype.setVisible=function(i){i?this.element.style.display="":this.element.style.display="none"},rs.prototype.getVisible=function(){return this.element.style.display!="none"},rs.prototype.setMap=function(i){wn.default.prototype.setMap.call(this,i);for(var r=0;r<this.controls_.length;r++){var t=this.controls_[r];t.setMap(i)}},rs.prototype.getControls=function(){return this.controls_},rs.prototype.setPosition=function(i){this.element.classList.remove("ol-left","ol-top","ol-bottom","ol-right"),i=i.split("-");for(var r=0;r<i.length;r++)switch(i[r]){case"top":case"left":case"bottom":case"right":this.element.classList.add("ol-"+i[r]);break}},rs.prototype.addControl=function(i){this.controls_.push(i),i.setTarget(this.element),this.getMap()&&this.getMap().addControl(i),i.on("change:active",function(r){this.onActivateControl_(r,i)}.bind(this)),i.getActive&&this.onActivateControl_({target:i,active:i.getActive()},i)},rs.prototype.deactivateControls=function(i){for(var r=0;r<this.controls_.length;r++)this.controls_[r]!==i&&this.controls_[r].setActive&&this.controls_[r].setActive(!1)},rs.prototype.getActiveControls=function(){for(var i=[],r=0,t;t=this.controls_[r];r++)t.getActive&&t.getActive()&&i.push(t);return i},rs.prototype.setActive=function(i){if(!i&&this.get("autoDeactivate")&&this.deactivateControls(),i)for(var r=this.getControls(),t=0,e;e=r[t];t++)e.get("autoActivate")&&e.setActive(!0)},rs.prototype.onActivateControl_=function(i,r){if(this.get("toggleOne")){if(i.active){var t;for(t=0;t<this.controls_.length&&this.controls_[t]!==r;t++);if(t==this.controls_.length)return;this.deactivateControls(this.controls_[t])}else if(!this.getActiveControls().length){for(var e=0,n;n=this.controls_[e];e++)if(n.get("autoActivate")){n.setActive(!0);break}}}},rs.prototype.getControlsByName=function(i){var r=this.getControls();return r.filter(function(t){return t.get("name")===i})};var rC=rs,nC={name:"ol-control-bar",setup:function(r,t){var e=Co(rC,r,t),n=e.control;return Object(N.provide)("controlBar",n),{control:n}},props:{toggleOne:{type:Boolean,default:!0},group:{type:Boolean,default:!0}}},Am=xt()(nC,[["render",eC]]);function iC(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var Wn={};Wn.create=function(i,r){r=r||{};var t;if(i==="TEXT")t=document.createTextNode(r.html||""),r.parent&&r.parent.appendChild(t);else{t=document.createElement(i),/button/i.test(i)&&t.setAttribute("type","button");for(var e in r)switch(e){case"className":{r.className&&r.className.trim&&t.setAttribute("class",r.className.trim());break}case"html":{r.html instanceof Element?t.appendChild(r.html):r.html!==void 0&&(t.innerHTML=r.html);break}case"parent":{r.parent&&r.parent.appendChild(t);break}case"options":{if(console.log("options",r.options),/select/i.test(i))for(var n in r.options)Wn.create("OPTION",{html:n,value:r.options[n],parent:t});break}case"style":{this.setStyle(t,r.style);break}case"change":case"click":{Wn.addListener(t,e,r[e]);break}case"on":{for(var o in r.on)Wn.addListener(t,o,r.on[o]);break}case"checked":{t.checked=!!r.checked;break}default:{t.setAttribute(e,r[e]);break}}}return t},Wn.createSwitch=function(i){var r=Wn.create("LABEL",{html:i.html,className:"ol-ext-toggle-switch",parent:i.parent}),t=Wn.create("INPUT",{type:"checkbox",checked:i.checked,click:i.click,change:i.change,on:i.on,parent:r});return Wn.create("SPAN",{parent:r}),i.after&&r.appendChild(document.createTextNode(i.after)),t},Wn.createCheck=function(i){var r=Wn.create("LABEL",{className:"ol-ext-check "+(i.type==="radio"?"ol-ext-radio":"ol-ext-checkbox"),html:i.html,parent:i.parent}),t=Wn.create("INPUT",{name:i.name,type:i.type==="radio"?"radio":"checkbox",value:i.val,change:i.change,click:i.click,on:i.on,parent:r});return Wn.create("SPAN",{parent:r}),i.after&&r.appendChild(document.createTextNode(i.after)),t},Wn.setHTML=function(i,r){r instanceof Element?i.appendChild(r):r!==void 0&&(i.innerHTML=r)},Wn.appendText=function(i,r){i.appendChild(document.createTextNode(r||""))},Wn.addListener=function(i,r,t,e){typeof r=="string"&&(r=r.split(" ")),r.forEach(function(n){i.addEventListener(n,t,e)})},Wn.removeListener=function(i,r,t){typeof r=="string"&&(r=r.split(" ")),r.forEach(function(e){i.removeEventListener(e,t)})},Wn.show=function(i){i.style.display=""},Wn.hide=function(i){i.style.display="none"},Wn.hidden=function(i){return Wn.getStyle(i,"display")==="none"},Wn.toggle=function(i){i.style.display=i.style.display==="none"?"":"none"},Wn.setStyle=function(i,r){for(var t in r)switch(t){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":{typeof r[t]=="number"?i.style[t]=r[t]+"px":i.style[t]=r[t];break}default:i.style[t]=r[t]}},Wn.getStyle=function(i,r){var t,e=(i.ownerDocument||document).defaultView;if(e&&e.getComputedStyle)r=r.replace(/([A-Z])/g,"-$1").toLowerCase(),t=e.getComputedStyle(i,null).getPropertyValue(r);else if(i.currentStyle&&(r=r.replace(/-(\w)/g,function(n,o){return o.toUpperCase()}),t=i.currentStyle[r],/^\d+(em|pt|%|ex)?$/i.test(t)))return function(n){var o=i.style.left,a=i.runtimeStyle.left;return i.runtimeStyle.left=i.currentStyle.left,i.style.left=n||0,n=i.style.pixelLeft+"px",i.style.left=o,i.runtimeStyle.left=a,n}(t);return/px$/.test(t)?parseInt(t):t},Wn.outerHeight=function(i){return i.offsetHeight+Wn.getStyle(i,"marginBottom")},Wn.outerWidth=function(i){return i.offsetWidth+Wn.getStyle(i,"marginLeft")},Wn.offsetRect=function(i){var r=i.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:r.height||r.bottom-r.top,width:r.width||r.right-r.left}},Wn.scrollDiv=function(i,r){var t=!1,e=0,n,o=0,a=typeof r.onmove=="function"?r.onmove:function(){},s=r.vertical?"pageY":"pageX",u=r.vertical?"scrollTop":"scrollLeft",h=!1;i.querySelectorAll("img").forEach(function(E){E.ondragstart=function(){return!1}}),i.style["touch-action"]="none",Wn.addListener(i,["pointerdown"],function(E){h=!1,t=E[s],o=new Date,i.classList.add("ol-move")}),Wn.addListener(window,["pointermove"],function(E){if(h=!0,t!==!1){var b=t-E[s];i[u]+=b,n=new Date,n-o&&(e=(e+b/(n-o))/2),t=E[s],o=n,b&&a(!0)}});var d=function(E){var b=E>0?Math.min(100,E/2):Math.max(-100,E/2);E-=b,i[u]+=b,-1<E&&E<1?(h?setTimeout(function(){i.classList.remove("ol-move")}):i.classList.remove("ol-move"),h=!1,a(!1)):setTimeout(function(){d(E)},40)};Wn.addListener(window,["pointerup","pointercancel"],function(E){o=new Date-o,o>100?e=0:o>0&&(e=((e||0)+(t-E[s])/o)/2),d(r.animate===!1?0:e*200),t=!1,e=0,o=0}),r.mousewheel&&Wn.addListener(i,["mousewheel","DOMMouseScroll","onmousewheel"],function(E){var b=Math.max(-1,Math.min(1,E.wheelDelta||-E.detail));return i.classList.add("ol-move"),i[u]-=b*30,i.classList.remove("ol-move"),!1})},Wn.dispatchEvent=function(i,r){var t;try{t=new CustomEvent(i)}catch{t=document.createEvent("CustomEvent"),t.initCustomEvent(i,!0,!0,{})}r.dispatchEvent(t)};var fe=Wn,ph=function(i){i=i||{};var r=document.createElement("div");r.className=(i.className||"")+" ol-button ol-unselectable ol-control";var t=this,e=this.button_=document.createElement(/ol-text-button/.test(i.className)?"div":"button");e.type="button",i.title&&(e.title=i.title),i.name&&(e.name=i.name),i.html instanceof Element?e.appendChild(i.html):e.innerHTML=i.html||"";var n=function(o){o&&o.preventDefault&&(o.preventDefault(),o.stopPropagation()),i.handleClick&&i.handleClick.call(t,o)};e.addEventListener("click",n),e.addEventListener("touchstart",n),r.appendChild(e),!i.title&&e.firstElementChild&&(e.title=e.firstElementChild.title),wn.default.call(this,{element:r,target:i.target}),i.title&&this.set("title",i.title),i.title&&this.set("title",i.title),i.name&&this.set("name",i.name)};yi(ph,wn.default),ph.prototype.setVisible=function(i){i?fe.show(this.element):fe.hide(this.element)},ph.prototype.setTitle=function(i){this.button_.setAttribute("title",i)},ph.prototype.setHtml=function(i){fe.setHTML(this.button_,i)},ph.prototype.getButtonElement=function(){return this.button_};var jv=ph,bs=function(i){i=i||{};var r=this;this.interaction_=i.interaction,this.interaction_&&(this.interaction_.setActive(i.active),this.interaction_.on("change:active",function(){r.setActive(r.interaction_.getActive())})),i.toggleFn&&(i.onToggle=i.toggleFn),i.handleClick=function(){r.toggle(),i.onToggle&&i.onToggle.call(r,r.getActive())},i.className=(i.className||"")+" ol-toggle",jv.call(this,i),this.set("title",i.title),this.set("autoActivate",i.autoActivate),i.bar&&this.setSubBar(i.bar),this.setActive(i.active),this.setDisable(i.disable)};yi(bs,jv),bs.prototype.setMap=function(i){!i&&this.getMap()&&(this.interaction_&&this.getMap().removeInteraction(this.interaction_),this.subbar_&&this.getMap().removeControl(this.subbar_)),jv.prototype.setMap.call(this,i),i&&(this.interaction_&&i.addInteraction(this.interaction_),this.subbar_&&i.addControl(this.subbar_))},bs.prototype.getSubBar=function(){return this.subbar_},bs.prototype.setSubBar=function(i){var r=this.getMap();r&&this.subbar_&&r.removeControl(this.subbar_),this.subbar_=i,this.subbar_.setTarget(this.element),this.subbar_.element.classList.add("ol-option-bar"),r&&r.addControl(this.subbar_)},bs.prototype.getDisable=function(){var i=this.element.querySelector("button");return i&&i.disabled},bs.prototype.setDisable=function(i){this.getDisable()!=i&&(this.element.querySelector("button").disabled=i,i&&this.getActive()&&this.setActive(!1),this.dispatchEvent({type:"change:disable",key:"disable",oldValue:!i,disable:i}))},bs.prototype.getActive=function(){return this.element.classList.contains("ol-active")},bs.prototype.toggle=function(){this.getActive()?this.setActive(!1):this.setActive(!0)},bs.prototype.setActive=function(i){this.interaction_&&this.interaction_.setActive(i),this.subbar_&&this.subbar_.setActive(i),this.getActive()!==i&&(i?this.element.classList.add("ol-active"):this.element.classList.remove("ol-active"),this.dispatchEvent({type:"change:active",key:"active",oldValue:!i,active:i}))},bs.prototype.setInteraction=function(i){this.interaction_=i},bs.prototype.getInteraction=function(){return this.interaction_};var oC=bs,aC={name:"ol-control-toggle",setup:function(r,t){var e=Co(oC,r,t),n=e.control;return{control:n}},props:{html:{type:String},interaction:{type:Object},className:{type:String},title:{type:String},onToggle:{type:Function}}},Pm=xt()(aC,[["render",iC]]);function sC(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var lC={name:"ol-control-button",setup:function(r,t){var e=Co(jv,r,t),n=e.control;return{control:n}},props:{html:{type:String},name:{type:String},className:{type:String},title:{type:String},handleClick:{type:Function}}},Rm=xt()(lC,[["render",sC]]);function uC(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var Cs=function(i){i=i||{};var r=fe.create("DIV",{className:((i.className||"")+(i.zoom?" ol-zoom":"")+" ol-ext-dialog").trim(),click:function(e){this.get("hideOnBack")&&e.target===r&&this.close(),this.get("hideOnClick")&&this.close()}.bind(this)}),t=fe.create("FORM",{on:{submit:this._onButton("submit")},parent:r});fe.create("H2",{parent:t}),fe.create("DIV",{className:"ol-closebox",click:this._onButton("cancel"),parent:t}),fe.create("DIV",{className:"ol-content",parent:t}),this._progress=fe.create("DIV",{className:"ol-progress-bar",style:{display:"none"},parent:t}),this._progressbar=fe.create("DIV",{parent:this._progress}),fe.create("DIV",{className:"ol-buttons",parent:t}),wn.default.call(this,{element:r,target:i.target}),this.set("closeBox",!!i.closeBox),this.set("zoom",!!i.zoom),this.set("hideOnClick",!!i.hideOnClick),this.set("hideOnBack",!!i.hideOnBack),this.set("className",i.className),this.set("closeOnSubmit",i.closeOnSubmit),this.setContent(i)};yi(Cs,wn.default),Cs.prototype.show=function(i){(i instanceof Element||typeof i=="string")&&(i={content:i}),this.setContent(i),this.element.classList.add("ol-visible");var r=this.element.querySelector('input[type="text"],input[type="search"],input[type="number"]');r&&r.focus(),this.dispatchEvent({type:"show"})},Cs.prototype.open=function(){this.show()},Cs.prototype.setContent=function(i){if(!!i){typeof i=="string"&&(i={content:i}),i=i||{},i.max&&this.setProgress(0,i.max),i.progress!==void 0&&this.setProgress(i.progress),this.get("zoom")?this.element.classList.add("ol-zoom"):this.element.classList.remove("ol-zoom"),i.className?this.element.classList.add(i.className):this.get("className")&&this.element.classList.add(this.get("className"));var r=this.element.querySelector("form");i.content!==void 0&&(i.content instanceof Element&&fe.setHTML(r.querySelector(".ol-content"),""),fe.setHTML(r.querySelector(".ol-content"),i.content||"")),i.title!==void 0&&(r.querySelector("h2").innerText=i.title||"",i.title?r.classList.add("ol-title"):r.classList.remove("ol-title")),i.closeBox||this.get("closeBox")&&i.closeBox!==!1?r.classList.add("ol-closebox"):r.classList.remove("ol-closebox");var t=this.element.querySelector(".ol-buttons");if(t.innerHTML="",i.buttons){r.classList.add("ol-button");for(var e in i.buttons)fe.create("INPUT",{type:e==="submit"?"submit":"button",value:i.buttons[e],click:this._onButton(e,i.onButton),parent:t})}else r.classList.remove("ol-button")}},Cs.prototype.getContentElement=function(){return this.element.querySelector("form .ol-content")},Cs.prototype.setProgress=function(i,r){if(r>0?this.set("max",Number(r)):r=this.get("max"),!r)fe.setStyle(this._progress,{display:"none"});else{var t=Math.round(i/r*100);fe.setStyle(this._progress,{display:""}),this._progressbar.className=t?"":"notransition",fe.setStyle(this._progressbar,{width:t+"%"})}},Cs.prototype._onButton=function(i,r){var t=function(e){e.preventDefault(),(i!=="submit"||this.get("closeOnSubmit")!==!1)&&this.hide();var n={};this.element.querySelectorAll("form input").forEach(function(o){o.className&&(n[o.className]=o)}),this.dispatchEvent({type:"button",button:i,inputs:n}),typeof r=="function"&&r(i,n)}.bind(this);return t},Cs.prototype.hide=function(){this.element.classList.remove("ol-visible"),this.dispatchEvent({type:"hide"})},Cs.prototype.close=Cs.prototype.hide,Cs.prototype.isOpen=function(){return this.element.classList.contains("ol-visible")};var F2=Cs,cC="#333",fC=function(){function i(r){var t=r||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=_n(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new zo({color:cC}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:k1.POINT,this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding}return i.prototype.clone=function(){var r=this.getScale();return new i({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(r)?r.slice():r,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},i.prototype.getOverflow=function(){return this.overflow_},i.prototype.getFont=function(){return this.font_},i.prototype.getMaxAngle=function(){return this.maxAngle_},i.prototype.getPlacement=function(){return this.placement_},i.prototype.getOffsetX=function(){return this.offsetX_},i.prototype.getOffsetY=function(){return this.offsetY_},i.prototype.getFill=function(){return this.fill_},i.prototype.getRotateWithView=function(){return this.rotateWithView_},i.prototype.getRotation=function(){return this.rotation_},i.prototype.getScale=function(){return this.scale_},i.prototype.getScaleArray=function(){return this.scaleArray_},i.prototype.getStroke=function(){return this.stroke_},i.prototype.getText=function(){return this.text_},i.prototype.getTextAlign=function(){return this.textAlign_},i.prototype.getTextBaseline=function(){return this.textBaseline_},i.prototype.getBackgroundFill=function(){return this.backgroundFill_},i.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},i.prototype.getPadding=function(){return this.padding_},i.prototype.setOverflow=function(r){this.overflow_=r},i.prototype.setFont=function(r){this.font_=r},i.prototype.setMaxAngle=function(r){this.maxAngle_=r},i.prototype.setOffsetX=function(r){this.offsetX_=r},i.prototype.setOffsetY=function(r){this.offsetY_=r},i.prototype.setPlacement=function(r){this.placement_=r},i.prototype.setRotateWithView=function(r){this.rotateWithView_=r},i.prototype.setFill=function(r){this.fill_=r},i.prototype.setRotation=function(r){this.rotation_=r},i.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=_n(r!==void 0?r:1)},i.prototype.setStroke=function(r){this.stroke_=r},i.prototype.setText=function(r){this.text_=r},i.prototype.setTextAlign=function(r){this.textAlign_=r},i.prototype.setTextBaseline=function(r){this.textBaseline_=r},i.prototype.setBackgroundFill=function(r){this.backgroundFill_=r},i.prototype.setBackgroundStroke=function(r){this.backgroundStroke_=r},i.prototype.setPadding=function(r){this.padding_=r},i}(),nf=fC,hC=function(i){if(!i)return null;var r=i.getViewport().getElementsByClassName("ol-fixedoverlay")[0];return r||(i.getViewport().querySelector(".ol-layers")?(r=document.createElement("canvas"),r.className="ol-fixedoverlay",i.getViewport().querySelector(".ol-layers").after(r),i.on("precompose",function(t){r.width=i.getSize()[0]*t.frameState.pixelRatio,r.height=i.getSize()[1]*t.frameState.pixelRatio})):r=i.getViewport().querySelector("canvas")),r},pC=hC,ns=function(i){i||(i={}),this.setStyle(i.style),wn.default.call(this,i)};yi(ns,wn.default),ns.prototype.setMap=function(i){this.getCanvas(i);var r=this.getMap();this._listener&&(Object(Mo.b)(this._listener),this._listener=null),wn.default.prototype.setMap.call(this,i),r&&r.renderSync(),i&&(this._listener=i.on("postcompose",this._draw.bind(this)))},ns.prototype.getCanvas=function(i){return pC(i)},ns.prototype.getContext=function(i){var r=i.context;if(!r&&this.getMap()){var t=this.getMap().getViewport().getElementsByClassName("ol-fixedoverlay")[0];r=t?t.getContext("2d"):null}return r},ns.prototype.setStyle=function(i){this._style=i||new Yo({})},ns.prototype.getStyle=function(){return this._style},ns.prototype.getStroke=function(){var i=this._style.getStroke();return i||this._style.setStroke(new To({color:"#000",width:1.25})),this._style.getStroke()},ns.prototype.getFill=function(){var i=this._style.getFill();return i||this._style.setFill(new zo({color:"#fff"})),this._style.getFill()},ns.prototype.getTextStroke=function(){var i=this._style.getText();return i||(i=new nf({})),i.getStroke()||i.setStroke(new To({color:"#fff",width:3})),i.getStroke()},ns.prototype.getTextFill=function(){var i=this._style.getText();return i||(i=new nf({})),i.getFill()||i.setFill(new zo({color:"#fff"})),i.getFill()},ns.prototype.getTextFont=function(){var i=this._style.getText();return i||(i=new nf({})),i.getFont()||i.setFont("12px sans-serif"),i.getFont()},ns.prototype._draw=function(){console.warn("[CanvasBase] draw function not implemented.")};var of=ns;function dC(i,r){var t=i.canvas,e=r||{},n=e.pixelRatio||qt.a,o=e.size;o&&(t.width=o[0]*n,t.height=o[1]*n,t.style.width=o[0]+"px",t.style.height=o[1]+"px");var a=[0,0,t.width,t.height],s=jr($(),n,n);return new Yy(i,n,a,s,0)}function Dv(i,r,t,e,n,o,a){var s,u,h=(t-r)/e;if(h===1)s=r;else if(h===2)s=r,u=n;else if(h!==0){for(var d=i[r],E=i[r+1],b=0,I=[0],M=r+e;M<t;M+=e){var k=i[M],et=i[M+1];b+=Math.sqrt((k-d)*(k-d)+(et-E)*(et-E)),I.push(b),d=k,E=et}var ht=n*b,Lt=Object(vr.a)(I,ht);Lt<0?(u=(ht-I[-Lt-2])/(I[-Lt-1]-I[-Lt-2]),s=r+(-Lt-2)*e):s=r+Lt*e}for(var It=a>1?a:2,wt=o||new Array(It),M=0;M<It;++M)wt[M]=s===void 0?NaN:u===void 0?i[s+M]:Ms(i[s+M],i[s+e+M],u);return wt}function Im(i,r,t,e,n,o){if(t==r)return null;var a;if(n<i[r+e-1])return o?(a=i.slice(r,r+e),a[e-1]=n,a):null;if(i[t-1]<n)return o?(a=i.slice(t-e,t),a[e-1]=n,a):null;if(n==i[r+e-1])return i.slice(r,r+e);for(var s=r/e,u=t/e;s<u;){var h=s+u>>1;n<i[(h+1)*e-1]?u=h:s=h+1}var d=i[s*e-1];if(n==d)return i.slice((s-1)*e,(s-1)*e+e);var E=i[(s+1)*e-1],b=(n-d)/(E-d);a=[];for(var I=0;I<e-1;++I)a.push(Ms(i[(s-1)*e+I],i[s*e+I],b));return a.push(n),a}function vC(i,r,t,e,n,o,a){if(a)return Im(i,r,t[t.length-1],e,n,o);var s;if(n<i[e-1])return o?(s=i.slice(0,e),s[e-1]=n,s):null;if(i[i.length-1]<n)return o?(s=i.slice(i.length-e),s[e-1]=n,s):null;for(var u=0,h=t.length;u<h;++u){var d=t[u];if(r!=d){if(n<i[r+e-1])return null;if(n<=i[d-1])return Im(i,r,d,e,n,!1);r=d}}return null}var gC=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yC=function(i){gC(r,i);function r(t,e){var n=i.call(this)||this;return n.flatMidpoint_=null,n.flatMidpointRevision_=-1,n.maxDelta_=-1,n.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?n.setFlatCoordinates(e,t):n.setCoordinates(t,e),n}return r.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(vr.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,n,o){return o<Ft(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Nu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Xl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,o))},r.prototype.forEachSegment=function(t){return Ys(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},r.prototype.getCoordinateAtM=function(t,e){if(this.layout!=nr.XYM&&this.layout!=nr.XYZM)return null;var n=e!==void 0?e:!1;return Im(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},r.prototype.getCoordinates=function(){return hn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getCoordinateAt=function(t,e){return Dv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},r.prototype.getLength=function(){return V1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=zt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new r(e,nr.XY)},r.prototype.getType=function(){return Xt.LINE_STRING},r.prototype.intersectsExtent=function(t){return Ws(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=O(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Pa),xi=yC,Bv=function(i){i=i||{},co.a.call(this,i),i.feature&&this.set("feature",i.feature.clone())};yi(Bv,co.a),Bv.prototype.setTitle=function(i){this.set("title",i||""),this.changed()},Bv.prototype.getElement=function(i,r){var t=fe.create("LI",{className:this.get("className"),click:function(e){r(!1),e.stopPropagation()},style:{height:i[1]+"px"},alt:this.get("title")});return fe.create("DIV",{click:function(e){r(!0),e.stopPropagation()},style:{width:i[0]+"px",height:i[1]+"px"},parent:t}),t};var Nm=Bv;window.ol&&!ol.legend&&(ol.legend={});var Ho=function(i){i=i||{},co.a.call(this),this._items=new hr;var r=[],t;this._items.on("add",function(e){r.push({item:e.element,on:e.element.on("change",function(){this.refresh()}.bind(this))}),t&&(clearTimeout(t),t=null),t=setTimeout(function(){this.refresh()}.bind(this),0)}.bind(this)),this._items.on("remove",function(e){for(var n=0;n<r;n++)if(e.element===r[n].item){Object(Mo.b)(r[n].on),r.splice(n,1);break}t&&(clearTimeout(t),t=null),t=setTimeout(function(){this.refresh()}.bind(this),0)}.bind(this)),this._listElement=fe.create("UL",{className:"ol-legend"}),this._canvas=document.createElement("canvas"),this.set("size",i.size||[40,25],!0),this.set("margin",i.margin===0?0:i.margin||10,!0),this._textStyle=i.textStyle||new nf({font:"16px sans-serif",fill:new zo({color:"#333"}),backgroundFill:new zo({color:"rgba(255,255,255,.8)"})}),this._title=new Nm({title:i.title||"",className:"ol-title"}),this.setStyle(i.style),i.items instanceof Array&&i.items.forEach(function(e){this.addItem(e)}.bind(this)),this.refresh()};yi(Ho,co.a),Ho.prototype.setTitle=function(i){this._title.setTitle(i),this.refresh()},Ho.prototype.getTitle=function(){return this._title.get("title")},Ho.prototype.getTextStyle=function(){return this._textStyle},Ho.prototype.set=function(i,r,t){co.a.prototype.set.call(this,i,r,t),t||this.refresh()},Ho.prototype.getListElement=function(){return this._listElement},Ho.prototype.getCanvas=function(){return this._canvas},Ho.prototype.setStyle=function(i){this._style=i,this.refresh()},Ho.prototype.addItem=function(i){i instanceof Nm?this._items.push(i):this._items.push(new Nm(i))},Ho.prototype.getItems=function(){return this._items},Ho.prototype._drawText=function(i,r,t,e){i.save(),i.scale(qt.a,qt.a),r=r||"";var n=r.split(`
`);n.length===1?i.fillText(r,t,e):(i.textBaseline="bottom",i.fillText(n[0],t,e),i.textBaseline="top",i.fillText(n[1],t,e)),i.restore()},Ho.prototype._measureText=function(i,r){var t=(r||"").split(`
`);if(t.length===1)return i.measureText(r);var e=i.measureText(t[0]),n=i.measureText(t[1]);return{width:Math.max(e.width,n.width),height:e.height+n.height}},Ho.prototype.refresh=function(){var i=this._listElement;i.innerHTML="";var r=this.get("margin"),t=this.get("size")[0]+2*r,e=this.get("size")[1]+2*r,n=this.getCanvas(),o=n.getContext("2d");o.textAlign="left",o.textBaseline="middle";var a=qt.a;o.font="bold "+this._textStyle.getFont();var s=this._measureText(o,this.getTitle("title")).width;this._items.forEach(function(u){u.get("feature")||u.get("typeGeom")?(o.font=this._textStyle.getFont(),s=Math.max(s,this._measureText(o,u.get("title")).width+t)):(o.font="bold "+this._textStyle.getFont(),s=Math.max(s,this._measureText(o,u.get("title")).width))}.bind(this)),n.width=(s+2*r)*a,n.height=(this._items.getLength()+1)*e*a,n.style.height=(this._items.getLength()+1)*e+"px",o.textBaseline="middle",o.fillStyle=eo(this._textStyle.getFill().getColor()),this.getTitle()&&(i.appendChild(this._title.getElement([t,e],function(u){this.dispatchEvent({type:"select",index:-1,symbol:u,item:this._title})}.bind(this))),o.font="bold "+this._textStyle.getFont(),o.textAlign="center",this._drawText(o,this.getTitle(),n.width/a/2,e/2)),this._items.forEach(function(u,h){var d=h+(this.getTitle()?1:0);i.appendChild(u.getElement([t,e],function(b){this.dispatchEvent({type:"select",index:h,symbol:b,item:u})}.bind(this)));var E=u.getProperties();o.textAlign="left",E.feature||E.typeGeom?(n=this.getLegendImage(E,n,d),o.font=this._textStyle.getFont(),this._drawText(o,u.get("title"),t+r,(h+1.5)*e)):(o.font="bold "+this._textStyle.getFont(),/\bcenter\b/.test(E.className)?(o.textAlign="center",this._drawText(o,u.get("title"),n.width/a/2,(h+1.5)*e)):this._drawText(o,u.get("title"),r,(h+1.5)*e))}.bind(this)),this.dispatchEvent({type:"refresh",width:t,height:(this._items.length+1)*e})},Ho.prototype.getLegendImage=function(i,r,t){return i=i||{},Ho.getLegendImage({className:i.className,feature:i.feature,typeGeom:i.typeGeom,style:i.style||this._style,properties:i.properties,margin:i.margin||this.get("margin"),size:i.size||this.get("size"),onload:function(){this.refresh()}.bind(this)},r,t)},Ho.getLegendImage=function(i,r,t){i=i||{},typeof i.margin=="undefined"&&(i.margin=10);var e=i.size||[40,25];i.onload=i.onload||function(){setTimeout(function(){Ho.getLegendImage(i,r,t)},100)};var n=e[0]+2*i.margin,o=e[1]+2*i.margin,a=qt.a;r||(t=0,r=document.createElement("canvas"),r.width=n*a,r.height=o*a);var s=r.getContext("2d");s.save();var u=dC(s),h=i.typeGeom,d,E=i.feature;!E&&h&&(/Point/.test(h)?E=new Er(new yn([0,0])):/LineString/.test(h)?E=new Er(new xi([0,0])):E=new Er(new kn([[0,0]])),i.properties&&E.setProperties(i.properties)),E?(d=E.getStyle(),typeof d=="function"&&(d=d(E)),d||(d=typeof i.style=="function"?i.style(E):i.style||[]),h=E.getGeometry().getType()):d=[],d instanceof Array||(d=[d]);var b=n/2,I=o/2,M=e[0]/2,k=e[1]/2,et,ht;if(h==="Point"){var Lt=null;for(et=0;ht=d[et];et++){var It=ht.getImage();if(It){var wt=It.getImage();if(wt&&wt.complete&&!wt.naturalWidth&&(typeof i.onload=="function"&&wt.addEventListener("load",function(){setTimeout(function(){i.onload()},100)}),It.load()),It.getAnchor){var oe=It.getAnchor();if(oe){var se=It.getSize(),de=oe[0]-se[0],Se=oe[1]-se[1];Lt?Qr(Lt,[de,Se,de+se[0],Se+se[1]]):Lt=[de,Se,de+se[0],Se+se[1]]}}}}Lt&&(b=b+(Lt[2]+Lt[0])/2,I=I+(Lt[3]+Lt[1])/2)}for(I+=t*o||0,et=0;ht=d[et];et++)switch(u.setStyle(ht),h){case yn:case"Point":case"MultiPoint":u.drawGeometry(new yn([b,I]));break;case xi:case"LineString":case"MultiLineString":s.save(),s.rect(i.margin*a,0,e[0]*a,r.height),s.clip(),u.drawGeometry(new xi([[b-M,I],[b+M,I]])),s.restore();break;case kn:case"Polygon":case"MultiPolygon":u.drawGeometry(new kn([[[b-M,I-k],[b+M,I-k],[b+M,I+k],[b-M,I+k],[b-M,I-k]]]));break}return s.restore(),r};var Js=function(i){i=i||{};var r=document.createElement("div");if(i.target)r.className=i.className||"ol-legend";else{r.className=(i.className||"ol-legend")+" ol-unselectable ol-control"+(i.collapsible===!1?" ol-uncollapsible":" ol-collapsed");var t=document.createElement("button");t.setAttribute("type","button"),t.addEventListener("click",function(){this.toggle()}.bind(this)),r.appendChild(t),t=document.createElement("button"),t.setAttribute("type","button"),t.className="ol-closebox",t.addEventListener("click",function(){this.toggle()}.bind(this)),r.appendChild(t)}of.call(this,{element:r,target:i.target}),this._legend=i.legend,this._legend.getCanvas().className="ol-legendImg",r.appendChild(this._legend.getCanvas()),r.appendChild(this._legend.getListElement()),i.collapsible!==!1&&i.collapsed===!1&&this.show(),this._legend.on("select",function(e){this.dispatchEvent(e)}.bind(this)),this._legend.on("refresh",function(){this._onCanvas&&this.getMap()&&this.getMap().renderSync()}.bind(this))};yi(Js,of),Js.prototype.getLegend=function(){return this._legend},Js.prototype.setCanvas=function(i){this._onCanvas=i,this.element.style.visibility=i?"hidden":"visible",this.getMap()&&this.getMap().renderSync()},Js.prototype.onCanvas=function(){return!!this._onCanvas},Js.prototype._draw=function(i){if(this._onCanvas&&!this.element.classList.contains("ol-collapsed")){var r=this._legend.getCanvas(),t=this.getContext(i),e=t.canvas.height-r.height;t.save(),t.rect(0,e,r.width,r.height);var n="#fff";this._legend.getTextStyle().getBackgroundFill()&&(n=eo(this._legend.getTextStyle().getBackgroundFill().getColor())),t.fillStyle=t.strokeStyle=n,t.lineWidth=10,t.lineJoin="round",t.stroke(),t.clearRect(0,e,r.width,r.height),t.fill(),t.drawImage(r,0,e),t.restore()}},Js.prototype.show=function(){this.element.classList.contains("ol-collapsed")&&(this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!1}),this.getMap()&&this.getMap().renderSync())},Js.prototype.hide=function(){this.element.classList.contains("ol-collapsed")||(this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!0}),this.getMap()&&this.getMap().renderSync())},Js.prototype.collapse=function(i){i===!1?this.show():this.hide()},Js.prototype.isCollapsed=function(){return this.element.classList.contains("ol-collapsed")},Js.prototype.toggle=function(){this.element.classList.toggle("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:this.element.classList.contains("ol-collapsed")}),this.getMap()&&this.getMap().renderSync()};var mC=Js,af=function(i){i||(i={});var r=fe.create("DIV",{className:i.className||"ol-print"});i.target||(r.classList.add("ol-unselectable","ol-control"),fe.create("BUTTON",{type:"button",title:i.title||"Print",click:function(){this.print()}.bind(this),parent:r})),wn.default.call(this,{element:r,target:i.target}),this.set("immediate",i.immediate),this.set("imageType",i.imageType||"image/jpeg"),this.set("quality",i.quality||.8),this.set("orientation",i.orientation)};yi(af,wn.default),af.prototype.toClipboard=function(i,r){try{i.canvas.toBlob(function(t){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},t.type,{value:t,enumerable:!0}))]),typeof r=="function"&&r(!0)}catch{typeof r=="function"&&r(!1)}})}catch{typeof r=="function"&&r(!1)}},af.prototype.copyMap=function(i,r){this.once("print",function(t){this.toClipboard(t,r)}.bind(this)),this.print(i)},af.prototype._getCanvas=function(i,r,t){var e;if(i.context)t=i.context.canvas;else{if(t)e=t.getContext("2d");else{t=document.createElement("canvas");var n=this.getMap().getSize();t.width=n[0],t.height=n[1],e=t.getContext("2d"),/jp.*g$/.test(r)&&(e.fillStyle=this.get("bgColor")||"white",e.fillRect(0,0,t.width,t.height))}this.getMap().getViewport().querySelectorAll(".ol-layers canvas, canvas.ol-fixedoverlay").forEach(function(o){if(o.width){if(e.save(),o.parentNode.style.opacity==="0")return;e.globalAlpha=parseFloat(o.parentNode.style.opacity)||1,fe.getStyle(o.parentNode,"mix-blend-mode")==="multiply"&&(e.globalCompositeOperation="multiply");var a=fe.getStyle(o,"transform")||fe.getStyle(o,"-webkit-transform");/^matrix/.test(a)?(a=a.replace(/^matrix\(|\)$/g,"").split(","),a.forEach(function(s,u){a[u]=parseFloat(s)}),e.transform(a[0],a[1],a[2],a[3],a[4],a[5]),e.drawImage(o,0,0)):e.drawImage(o,0,0,fe.getStyle(o,"width"),fe.getStyle(o,"height")),e.restore()}}.bind(this))}return t},af.prototype.fastPrint=function(i,r){i=i||{},this._ol6?requestAnimationFrame(function(){r(this._getCanvas({},i.imageType,i.canvas))}.bind(this)):(this.getMap().once("postcompose",function(t){t.context||(this._ol6=!0),r(this._getCanvas(t,i.imageType,i.canvas))}.bind(this)),this.getMap().render())},af.prototype.print=function(i){i=i||{};var r=i.imageType||this.get("imageType"),t=i.quality||this.get("quality");if(this.getMap()){if(i.immediate!=="silent"&&this.dispatchEvent(Object.assign({type:"printing"},i)),!i.immediate){setTimeout(function(){i=Object.assign({},i),i.immediate="silent",this.print(i)}.bind(this),200);return}this.getMap().once(this.get("immediate")?"postcompose":"rendercomplete",function(e){var n=this._getCanvas(e,r),o=i.size||[210,297],a=i.format||"a4",s,u,h,d=i.orient||this.get("orientation"),E=typeof i.margin=="number"?i.margin:10;if(n){d!=="landscape"&&d!=="portrait"&&(d=n.width>n.height?"landscape":"portrait"),d==="landscape"&&(o=[o[1],o[0]]);var b=Math.min((o[0]-2*E)/n.width,(o[1]-2*E)/n.height);s=b*n.width,u=b*n.height,h=[(o[0]-s)/2,(o[1]-u)/2]}var I;try{I=n?n.toDataURL(r,t):null}catch{this.dispatchEvent({type:"error",canvas:n});return}var M=Object.assign({type:"print",print:{format:a,orientation:d,unit:"mm",size:o,position:h,imageWidth:s,imageHeight:u},image:I,imageType:r,quality:t,canvas:n},i);this.dispatchEvent(M)}.bind(this)),this.getMap().render()}};var j2=af,ic=function(i){i||(i={});var r=fe.create("DIV",{className:(i.className||"")+" ol-control-title ol-unselectable",style:{display:"block",visibility:"hidden"}});of.call(this,{element:r,style:i.style}),this.setTitle(i.title||""),this.setVisible(i.visible),this.element.style.font=this.getTextFont()};yi(ic,of),ic.prototype.setStyle=function(i){of.prototype.setStyle.call(this,i),this.element&&(this.element.style.font=this.getTextFont()),this.getMap()&&this.getMap().render()},ic.prototype.setTitle=function(i){this.element.textContent=i,this.set("title",i),this.getMap()&&this.getMap().renderSync()},ic.prototype.getTitle=function(){return this.get("title")},ic.prototype.setVisible=function(i){this.element.style.display=i?"block":"none",this.getMap()&&this.getMap().renderSync()},ic.prototype.getVisible=function(){return this.element.style.display!=="none"},ic.prototype._draw=function(i){if(!!this.getVisible()){var r=this.getContext(i);if(!!r){var t=i.frameState.pixelRatio;r.save(),r.scale(t,t);var e=this.element.getBoundingClientRect(),n=this.getMap().getViewport().getBoundingClientRect(),o=this.getMap().getSize()[0]/n.width;r.translate(Math.round((e.left-n.left)*o),Math.round((e.top-n.top)*o));var a=this.element.clientHeight,s=this.element.clientWidth,u=s/2;r.beginPath(),r.fillStyle=eo(this.getFill().getColor()),r.rect(0,0,s,a),r.fill(),r.closePath(),r.beginPath(),r.fillStyle=eo(this.getTextFill().getColor()),r.strokeStyle=eo(this.getTextStroke().getColor()),r.lineWidth=this.getTextStroke().getWidth(),r.textAlign="center",r.textBaseline="middle",r.font=this.getTextFont(),r.lineWidth&&r.strokeText(this.getTitle(),u,a/2),r.fillText(this.getTitle(),u,a/2),r.closePath(),r.restore()}}};var _C=ic,D2=function(i,r){var t=i.getView(),e=t.getProjection(),n=t.getCenter(),o=i.getPixelFromCoordinate(n);o[1]+=1;var a=i.getCoordinateFromPixel(o),s=no(sa(n,e,"EPSG:4326"),sa(a,e,"EPSG:4326"));return s*=(r||96)/.0254,s},SC=function(i,r,t){if(i&&r){var e=r;if(typeof r=="string"&&(e=r.split("/")[1],e||(e=r),e=e.replace(/[^\d]/g,""),e=parseInt(e)),!e)return;var n=i.getView(),o=n.getProjection(),a=n.getCenter(),s=i.getPixelFromCoordinate(a);s[1]+=1;var u=i.getCoordinateFromPixel(s),h=no(sa(a,o,"EPSG:4326"),sa(u,o,"EPSG:4326"));return h*=(t||96)/.0254,n.setResolution(n.getResolution()*e/h),e}},oc=function(i){i||(i={});var r=document.createElement("div");r.className="ol-control ol-compassctrl ol-unselectable ol-hidden"+(i.className?" "+i.className:""),r.style.position="absolute",r.style.visibility="hidden";var t=i.style instanceof To?new Yo({stroke:i.style}):i.style;i.style||(t=new Yo({stroke:new To({width:0})})),of.call(this,{element:r,style:t}),this.set("rotateVithView",i.rotateWithView!==!1),this.setVisible(i.visible!==!1),this.setImage(i.image||i.src)};yi(oc,of),oc.prototype.setImage=function(i){if(i instanceof Image)this.img_=i,this.img_.onload=function(){this.getMap()&&this.getMap().renderSync()}.bind(this);else if(typeof i=="string")switch(i){case"compact":{this.img_=this.compactCompass_(this.element.clientWidth,this.getStroke().getColor());break}case"default":{this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor());break}default:{this.img_=new Image,this.img_.onload=function(){this.getMap()&&this.getMap().renderSync()}.bind(this),this.img_.src=i;break}}else this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor())},oc.prototype.compactCompass_=function(i,r){var t=document.createElement("canvas"),e=t.getContext("2d");i=t.width=t.height=i||150;var n=i/2;return e.translate(n,n),e.fillStyle=r||"#963",e.lineWidth=5,e.lineJoin=e.lineCap="round",e.font="bold "+n*.4+"px sans-serif",e.textBaseline="bottom",e.textAlign="center",e.strokeStyle="#fff",e.globalAlpha=.75,e.strokeText("N",0,-n/2),e.globalAlpha=1,e.fillText("N",0,-n/2),e.beginPath(),e.moveTo(0,n/4),e.lineTo(n/3,n/2),e.lineTo(0,-n/2),e.lineTo(-n/3,n/2),e.lineTo(0,n/4),e.lineWidth=12,e.fillStyle="#fff",e.globalAlpha=.75,e.fill(),e.stroke(),e.globalAlpha=1,e.fillStyle=e.strokeStyle=r||"#963",e.lineWidth=5,e.beginPath(),e.moveTo(0,n/4),e.lineTo(0,-n/2),e.lineTo(n/3,n/2),e.lineTo(0,n/4),e.fill(),e.stroke(),e.beginPath(),e.moveTo(0,n/4),e.lineTo(0,-n/2),e.lineTo(-n/3,n/2),e.lineTo(0,n/4),e.stroke(),t},oc.prototype.defaultCompass_=function(i,r){var t=document.createElement("canvas"),e=t.getContext("2d");i=t.width=t.height=i||150;var n=i/2,o=.22*n;function a(u,h){e.fillStyle=r||"#963",e.beginPath(),e.moveTo(0,0),e.lineTo(u,0),e.lineTo(h,h),e.moveTo(0,0),e.lineTo(-u,0),e.lineTo(-h,-h),e.moveTo(0,0),e.lineTo(0,u),e.lineTo(-h,h),e.moveTo(0,0),e.lineTo(0,-u),e.lineTo(h,-h),e.moveTo(0,0),e.fill(),e.stroke()}function s(u,h){e.globalCompositeOperation="destination-out",e.fillStyle="#fff",e.beginPath(),e.moveTo(0,0),e.lineTo(u,0),e.lineTo(h,-h),e.moveTo(0,0),e.lineTo(-u,0),e.lineTo(-h,h),e.moveTo(0,0),e.lineTo(0,u),e.lineTo(h,h),e.moveTo(0,0),e.lineTo(0,-u),e.lineTo(-h,-h),e.moveTo(0,0),e.fill(),e.globalCompositeOperation="source-over",e.beginPath(),e.moveTo(0,0),e.lineTo(u,0),e.lineTo(h,-h),e.moveTo(0,0),e.lineTo(-u,0),e.lineTo(-h,h),e.moveTo(0,0),e.lineTo(0,u),e.lineTo(h,h),e.moveTo(0,0),e.lineTo(0,-u),e.lineTo(-h,-h),e.moveTo(0,0),e.stroke()}return e.translate(n,n),e.strokeStyle=r||"#963",e.lineWidth=1.5,e.beginPath(),e.arc(0,0,i*.41,0,2*Math.PI),e.arc(0,0,i*.44,0,2*Math.PI),e.stroke(),e.rotate(Math.PI/4),a(n*.9,o*.8),s(n*.9,o*.8),e.rotate(-Math.PI/4),a(n,o),s(n,o),t},oc.prototype.getVisible=function(){return fe.getStyle(this.element,"display")==="block"},oc.prototype.setVisible=function(i){i?this.element.classList.add("ol-visible"):this.element.classList.remove("ol-visible"),this.getMap()&&this.getMap().render()},oc.prototype._draw=function(i){var r=this.getContext(i);if(!(!r||!this.getVisible())){var t=r.canvas,e,n=[];for(e=0;e<8;e++)n[e]=[Math.cos(Math.PI*e/8),Math.sin(Math.PI*e/8)];var o=i.frameState.pixelRatio;r.save(),r.scale(o,o);var a=this.element.clientWidth,s=this.element.clientHeight,u={left:this.element.offsetLeft,top:this.element.offsetTop},h=this.img_,d=i.frameState.viewState.rotation;if(r.beginPath(),r.translate(u.left+a/2,u.top+s/2),this.get("rotateVithView")&&r.rotate(d),this.getStroke().getWidth()){r.beginPath(),r.strokeStyle=this.getStroke().getColor(),r.lineWidth=this.getStroke().getWidth();var E=Math.max(t.width,t.height);for(e=0;e<8;e++)r.moveTo(-n[e][0]*E,-n[e][1]*E),r.lineTo(n[e][0]*E,n[e][1]*E);r.stroke()}h.width&&r.drawImage(h,-a/2,-s/2,a,s),r.closePath(),r.restore()}};var B2=oc,Mi=function(i){i||(i={}),this._lang=i.lang;var r=fe.create("DIV",{className:(i.className||"ol-print")+" ol-unselectable ol-control"});fe.create("BUTTON",{type:"button",title:i.title||"Print",click:function(){this.print()}.bind(this),parent:r}),wn.default.call(this,{element:r}),i.target=fe.create("DIV");var t=this._printCtrl=new j2(i);t.on(["print","error","printing"],function(ye){n.setAttribute("data-status",ye.type),ye.clipboard||this.dispatchEvent(ye)}.bind(this)),this._compass=new B2({src:i.northImage||"compact",visible:!1,className:"olext-print-compass",style:new To({color:"#333",width:0})});var e=this._printDialog=new F2({target:document.body,closeBox:!0,className:"ol-ext-print-dialog"}),n=e.getContentElement();this._input={};var o=fe.create("DIV",{className:"ol-print-param",parent:n});this._pages=[fe.create("DIV",{className:"ol-page"})];var a=fe.create("DIV",{className:"ol-map",parent:this._pages[0]});fe.create("DIV",{html:this._pages[0],className:"ol-print-map",parent:n}),fe.create("H2",{html:this.i18n("title"),parent:o});var s=fe.create("UL",{parent:o}),u=fe.create("LI",{className:"ol-orientation",parent:s});this._input.orientation={list:u};var h=fe.create("LABEL",{className:"portrait",parent:u});this._input.orientation.portrait=fe.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"portrait",checked:!0,on:{change:function(ye){this.setOrientation(ye.target.value)}.bind(this)},parent:h}),fe.create("SPAN",{html:this.i18n("portrait"),parent:h}),h=fe.create("LABEL",{className:"landscape",parent:u}),this._input.orientation.landscape=fe.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"landscape",on:{change:function(ye){this.setOrientation(ye.target.value)}.bind(this)},parent:h}),fe.create("SPAN",{html:this.i18n("landscape"),parent:h});var d;u=fe.create("LI",{html:fe.create("LABEL",{html:this.i18n("size")}),className:"ol-size",parent:s});var E=this._input.size=fe.create("SELECT",{on:{change:function(){this.setSize(E.value||Ie)}.bind(this)},parent:u});for(d in this.paperSize)fe.create("OPTION",{html:d+(this.paperSize[d]?" - "+this.paperSize[d][0]+"x"+this.paperSize[d][1]+" mm":this.i18n("custom")),value:d,parent:E});u=fe.create("LI",{html:fe.create("LABEL",{html:this.i18n("margin")}),className:"ol-margin",parent:s});var b=this._input.margin=fe.create("SELECT",{on:{change:function(){this.setMargin(b.value)}.bind(this)},parent:u});for(d in this.marginSize)fe.create("OPTION",{html:d+" - "+this.marginSize[d]+" mm",value:this.marginSize[d],parent:b});u=fe.create("LI",{html:fe.create("LABEL",{html:this.i18n("scale")}),className:"ol-scale",parent:s});var I=this._input.scale=fe.create("SELECT",{on:{change:function(){this.setScale(parseInt(I.value))}.bind(this)},parent:u});Object.keys(this.scales).forEach(function(ye){fe.create("OPTION",{html:this.scales[ye],value:ye,parent:I})}.bind(this)),u=fe.create("LI",{className:"ol-legend",parent:s});var M=fe.createSwitch({html:this.i18n("legend"),checked:!1,on:{change:function(){De.legend.control.setCanvas(M.checked)}.bind(this)},parent:u});u=fe.create("LI",{className:"ol-print-north",parent:s});var k=this._input.north=fe.createSwitch({html:this.i18n("north"),checked:"checked",on:{change:function(){k.checked?this._compass.element.classList.add("ol-print-compass"):this._compass.element.classList.remove("ol-print-compass"),this.getMap().render()}.bind(this)},parent:u});u=fe.create("LI",{className:"ol-print-title",parent:s});var et=fe.createSwitch({html:this.i18n("mapTitle"),checked:!1,on:{change:function(ye){De.title.control.setVisible(ye.target.checked)}.bind(this)},parent:u}),ht=fe.create("INPUT",{type:"text",placeholder:this.i18n("mapTitle"),on:{keydown:function(ye){ye.keyCode===13&&ye.preventDefault()},keyup:function(){De.title.control.setTitle(ht.value)},change:function(){De.title.control.setTitle(ht.value)}.bind(this)},parent:u}),Lt=fe.create("DIV",{className:"ol-user-param",parent:o});u=fe.create("LI",{className:"ol-saveas",parent:s});var It=fe.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:u}),wt=fe.create("SELECT",{on:{change:function(){if(this.formats[wt.value].clipboard)t.copyMap(this.formats[wt.value],function(Ar){Ar&&(It.classList.add("visible"),setTimeout(function(){It.classList.remove("visible")},1e3))});else{var ye=typeof this.getSize()=="string"?this.getSize():null,Qe=Object.assign({format:ye,size:ye?this.paperSize[ye]:null,orient:this.getOrientation(),margin:this.getMargin()},this.formats[wt.value]);t.print(Qe)}wt.value=""}.bind(this)},parent:u});fe.create("OPTION",{html:this.i18n("saveas"),style:{display:"none"},value:"",parent:wt}),this.formats.forEach(function(ye,Qe){fe.create("OPTION",{html:ye.title,value:Qe,parent:wt})}),u=fe.create("LI",{className:"ol-savelegend",parent:s});var oe=fe.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:u}),se=fe.create("SELECT",{on:{change:function(){var ye=De.legend.control.getLegend().getCanvas(),Qe=document.createElement("CANVAS");Qe.width=ye.width,Qe.height=ye.height;var Ar=Qe.getContext("2d");if(Ar.fillStyle="#fff",Ar.fillRect(0,0,Qe.width,Qe.height),Ar.drawImage(ye,0,0),this.formats[se.value].clipboard)Qe.toBlob(function(ri){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},ri.type,{value:ri,enumerable:!0}))]),oe.classList.add("visible"),setTimeout(function(){oe.classList.remove("visible")},1e3)}catch{}},"image/png");else{var Tr;try{Tr=Qe.toDataURL(this.formats[se.value].imageType,this.formats[se.value].quality);var kr=typeof this.getSize()=="string"?this.getSize():"A4",Fr=Qe.width/96*25.4,On=Qe.height/96*25.4,Nn=this.paperSize[kr];this.getOrientation()==="landscape"&&(Nn=[Nn[1],Nn[0]]);var An=[(Nn[0]-Fr)/2,(Nn[1]-On)/2];this.dispatchEvent({type:"print",print:{legend:!0,format:kr,orientation:this.getOrientation(),unit:"mm",size:this.paperSize[kr],position:An,imageWidth:Fr,imageHeight:On},image:Tr,imageType:this.formats[se.value].imageType,pdf:this.formats[se.value].pdf,quality:this.formats[se.value].quality,canvas:Qe})}catch{}}se.value=""}.bind(this)},parent:u});fe.create("OPTION",{html:this.i18n("saveLegend"),style:{display:"none"},value:"",parent:se}),this.formats.forEach(function(ye,Qe){fe.create("OPTION",{html:ye.title,value:Qe,parent:se})});var de=fe.create("DIV",{className:"ol-ext-buttons",parent:o});fe.create("BUTTON",{html:this.i18n("printBt"),type:"submit",click:function(ye){ye.preventDefault(),window.print()},parent:de}),fe.create("BUTTON",{html:this.i18n("cancel"),type:"button",click:function(){e.hide()},parent:de}),fe.create("DIV",{html:this.i18n("errorMsg"),className:"ol-error",parent:o});var Se,Ie,He,De={};e.on("show",function(){this.dispatchEvent({type:"show",userElement:Lt,dialog:this._printDialog,page:this.getPage()});var ye=this.getMap();!ye||(document.body.classList.add("ol-print-document"),Se=ye.getTargetElement(),Ie=ye.getSize(),typeof this.getSize()=="string"?this.setSize(this.getSize()):this.setSize(Ie),ye.setTarget(a),He&&Object(Mo.b)(He),He=ye.on("moveend",function(){this.setScale(D2(ye))}.bind(this)),De={},this.getMap().getControls().forEach(function(Qe){Qe instanceof mC&&(De.legend={control:Qe}),Qe instanceof _C&&(De.title={control:Qe}),Qe instanceof B2&&(De.compass?Qe.element.classList.remove("ol-print-compass"):(this._input.north.checked?Qe.element.classList.add("ol-print-compass"):Qe.element.classList.remove("ol-print-compass"),this._compass=Qe,De.compass={control:Qe}))}.bind(this)),De.title?(et.checked=De.title.isVisible=De.title.control.getVisible(),ht.value=De.title.control.getTitle(),et.parentNode.parentNode.classList.remove("hidden")):et.parentNode.parentNode.classList.add("hidden"),De.legend?(De.legend.ison=De.legend.control.onCanvas(),De.legend.collapsed=De.legend.control.isCollapsed(),De.legend.control.collapse(!1),se.parentNode.classList.remove("hidden"),M.parentNode.parentNode.classList.remove("hidden"),M.checked=!De.legend.collapsed,De.legend.control.setCanvas(!De.legend.collapsed)):(se.parentNode.classList.add("hidden"),M.parentNode.parentNode.classList.add("hidden")))}.bind(this)),e.on("hide",function(){document.body.classList.remove("ol-print-document"),!!Se&&(this.getMap().setTarget(Se),Se=null,He&&Object(Mo.b)(He),De.title&&De.title.control.setVisible(De.title.isVisible),De.legend&&(De.legend.control.setCanvas(De.legend.ison),De.legend.control.collapse(De.legend.collapsed)),this.dispatchEvent({type:"hide"}))}.bind(this)),window.addEventListener("resize",function(){this.setSize()}.bind(this)),i.saveAs&&this.on("print",function(ye){ye.pdf||ye.canvas.toBlob(function(Qe){var Ar=(ye.print.legend?"legend.":"map.")+ye.imageType.replace("image/","");i.saveAs(Qe,Ar)},ye.imageType,ye.quality)}),i.jsPDF&&this.on("print",function(ye){if(ye.pdf){var Qe=new i.jsPDF({orientation:ye.print.orientation,unit:ye.print.unit,format:ye.print.size});Qe.addImage(ye.image,"JPEG",ye.print.position[0],ye.print.position[0],ye.print.imageWidth,ye.print.imageHeight),Qe.save(ye.print.legend?"legend.pdf":"map.pdf")}})};yi(Mi,wn.default),Mi.prototype.isOpen=function(){return this._printDialog.isOpen()},Mi.addLang=function(i,r){Mi.prototype._labels[i]=r},Mi.prototype.i18n=function(i){var r=this._labels.en[i]||"bad param";return this._labels[this._lang]&&this._labels[this._lang][i]&&(r=this._labels[this._lang][i]),r},Mi.prototype._labels={en:{title:"Print",orientation:"Orientation",portrait:"Portrait",landscape:"Landscape",size:"Page size",custom:"screen size",margin:"Margin",scale:"Scale",legend:"Legend",north:"North arrow",mapTitle:"Map title",saveas:"Save as...",saveLegend:"Save legend...",copied:"\u2714 Copied to clipboard",errorMsg:"Can't save map canvas...",printBt:"Print...",cancel:"cancel"},fr:{title:"Imprimer",orientation:"Orientation",portrait:"Portrait",landscape:"Paysage",size:"Taille du papier",custom:"taille \xE9cran",margin:"Marges",scale:"Echelle",legend:"L\xE9gende",north:"Fl\xE8che du nord",mapTitle:"Titre de la carte",saveas:"Enregistrer sous...",saveLegend:"Enregistrer la l\xE9gende...",copied:"\u2714 Carte copi\xE9e",errorMsg:"Impossible d'enregistrer la carte",printBt:"Imprimer",cancel:"annuler"}},Mi.prototype.paperSize={"":null,A0:[841,1189],A1:[594,841],A2:[420,594],A3:[297,420],A4:[210,297],A5:[148,210],B4:[257,364],B5:[182,257]},Mi.prototype.marginSize={none:0,small:5,large:10},Mi.prototype.formats=[{title:"copy to clipboard",imageType:"image/png",clipboard:!0},{title:"save as jpeg",imageType:"image/jpeg",quality:.8},{title:"save as png",imageType:"image/png",quality:.8},{title:"save as pdf",imageType:"image/jpeg",pdf:!0}],Mi.prototype.scales={" 5000":"1/5.000"," 10000":"1/10.000"," 25000":"1/25.000"," 50000":"1/50.000"," 100000":"1/100.000"," 250000":"1/250.000"," 1000000":"1/1.000.000"},Mi.prototype.getOrientation=function(){return this._orientation||"portrait"},Mi.prototype.setOrientation=function(i){this._orientation=i==="landscape"?"landscape":"portrait",this._input.orientation[this._orientation].checked=!0,this.setSize()},Mi.prototype.getMargin=function(){return this._margin||0},Mi.prototype.setMargin=function(i){this._margin=i,this._input.margin.value=i,this.setSize()},Mi.prototype.getSize=function(){return this._size},Mi.prototype.setSize=function(i){if(this._printDialog.getContentElement().setAttribute("data-status",""),i?this._size=i:i=this._size,!!i){typeof i=="string"?(i=i.toLocaleUpperCase(),this.paperSize[i]||(i=this._size="A4"),this._input.size.value=i,i=[Math.trunc(this.paperSize[i][0]*96/25.4),Math.trunc(this.paperSize[i][1]*96/25.4)],this.getOrientation()==="landscape"&&(i=[i[1],i[0]]),this.getPage().classList.remove("margin")):(this._input.size.value="",this.getPage().classList.add("margin"));var r=this.getPage(),t=r.parentNode.getBoundingClientRect(),e=(t.width-40)/i[0],n=(t.height-40)/i[1],o=Math.min(e,n,1);r.style.width=i[0]+"px",r.style.height=i[1]+"px",r.style["-webkit-transform"]=r.style.transform="translate(-50%,-50%) scale("+o+")";var a=Math.round(5/o);r.style["-webkit-box-shadow"]=r.style["box-shadow"]=a+"px "+a+"px "+a+"px rgba(0,0,0,.6)",r.style.padding=this.getMargin()*96/25.4+"px",this.getMap()&&this.getMap().updateSize(),this.dispatchEvent({type:"dialog:refresh"})}},Mi.prototype.getContentElement=function(){return this._printDialog.getContentElement()},Mi.prototype.getUserElement=function(){return this._printDialog.getContentElement().querySelector(".ol-user-param")},Mi.prototype.getPage=function(){return this._pages[0]},Mi.prototype.setMap=function(i){this.getMap()&&(this.getMap().removeControl(this._compass),this.getMap().removeControl(this._printCtrl),this.getMap().removeControl(this._printDialog)),wn.default.prototype.setMap.call(this,i),this.getMap()&&(this.getMap().addControl(this._compass),this.getMap().addControl(this._printCtrl),this.getMap().addControl(this._printDialog))},Mi.prototype.setScale=function(i){SC(this.getMap(),i),this._input.scale.value=" "+Math.round(i/100)*100},Mi.prototype.getScale=function(){return D2(this.getMap())},Mi.prototype.print=function(i){i=i||{},i.size&&this.setSize(i.size),i.scale&&this.setScale(i.scale),i.orientation&&this.setOrientation(i.orientation),i.margin&&this.setMargin(i.margin),this._printDialog.show()},Mi.prototype.getrintControl=function(){return this._printCtrl};var EC=Mi,G2=c("21a6"),wC=c("8baf"),xC={name:"ol-control-printdialog",setup:function(r,t){var e=Co(EC,r,t),n=e.control;return n.value.on(["print","error"],function(o){if(o.image)if(o.pdf){var a=new wC.a({orientation:o.print.orientation,unit:o.print.unit,format:o.print.size});a.addImage(o.image,"JPEG",o.print.position[0],o.print.position[0],o.print.imageWidth,o.print.imageHeight),a.save(o.print.legend?"legend.pdf":"map.pdf")}else o.canvas.toBlob(function(s){var u=(o.print.legend?"legend.":"map.")+o.imageType.replace("image/","");Object(G2.saveAs)(s,u)},o.imageType,o.quality);else console.warn("No canvas to export")}),{control:n}},props:{lang:{type:String}}},Mm=xt()(xC,[["render",uC]]);function OC(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var sf=function(i){i||(i={});var r=fe.create("DIV",{className:(i.className||"ol-videorec")+" ol-unselectable ol-control"});fe.create("BUTTON",{type:"button",className:"ol-start",title:"start",click:function(){this.start()}.bind(this),parent:r}),fe.create("BUTTON",{type:"button",className:"ol-stop",title:"stop",click:function(){this.stop()}.bind(this),parent:r}),fe.create("BUTTON",{type:"button",className:"ol-pause",title:"pause",click:function(){this.pause()}.bind(this),parent:r}),fe.create("BUTTON",{type:"button",className:"ol-resume",title:"resume",click:function(){this.resume()}.bind(this),parent:r}),wn.default.call(this,{element:r,target:i.target}),this.set("framerate",30),this.set("videoBitsPerSecond",5e6),i.videoTarget==="DIALOG"?(this._dialog=new F2({className:"ol-fullscreen-dialog",target:document.body,closeBox:!0}),this._videoTarget=this._dialog.getContentElement()):this._videoTarget=i.videoTarget,this._printCtrl=new j2({target:fe.create("DIV")})};yi(sf,wn.default),sf.prototype.setMap=function(i){this.getMap()&&(this.getMap().removeControl(this._printCtrl),this._dialog&&this.getMap().removeControl(this._dialog)),wn.default.prototype.setMap.call(this,i),this.getMap()&&(this.getMap().addControl(this._printCtrl),this._dialog&&this.getMap().addControl(this._dialog))},sf.prototype.start=function(){var i=this._printCtrl,r=!1;function t(e){r||i.fastPrint({canvas:e},t)}i.fastPrint({},function(e){var n;try{n=e.captureStream(this.get("framerate")||30)}catch(a){this.dispatchEvent({type:"error",error:a});return}this._mediaRecorder=new MediaRecorder(n,{videoBitsPerSecond:this.get("videoBitsPerSecond")||5e6});var o=[];this._mediaRecorder.ondataavailable=function(a){o.push(a.data)},this._mediaRecorder.onstop=function(){r=!0;var a=new Blob(o,{type:"video/mp4"});if(o=[],this._videoTarget instanceof Element){var s;this._videoTarget.tagName==="VIDEO"?s=this._videoTarget:(s=this._videoTarget.querySelector("video"),s||(s=fe.create("VIDEO",{controls:"",parent:this._videoTarget}))),this._dialog&&this._dialog.show(),s.src=URL.createObjectURL(a),this.dispatchEvent({type:"stop",videoURL:s.src})}else this.dispatchEvent({type:"stop",videoURL:URL.createObjectURL(a)})}.bind(this),this._mediaRecorder.onpause=function(){r=!0,this.dispatchEvent({type:"pause"})}.bind(this),this._mediaRecorder.onresume=function(){r=!1,t(e),this.dispatchEvent({type:"resume"})}.bind(this),this._mediaRecorder.onerror=function(a){this.dispatchEvent({type:"error",error:a})}.bind(this),r=!1,t(e),this._mediaRecorder.start(),this.dispatchEvent({type:"start",canvas:e}),this.element.setAttribute("data-state","rec")}.bind(this))},sf.prototype.stop=function(){this._mediaRecorder&&(this._mediaRecorder.stop(),this._mediaRecorder=null,this.element.setAttribute("data-state","inactive"))},sf.prototype.pause=function(){this._mediaRecorder&&(this._mediaRecorder.pause(),this.element.setAttribute("data-state","pause"))},sf.prototype.resume=function(){this._mediaRecorder&&(this._mediaRecorder.resume(),this.element.setAttribute("data-state","rec"))};var TC=sf,bC={name:"ol-control-videorecorder",emits:["start","stop"],setup:function(r,t){var e=Co(TC,r,t),n=e.control,o=Object(N.toRefs)(r),a=o.downloadName;return n.value.on("start",function(s){t.emit("start",s)}),n.value.on("stop",function(s){t.emit("stop",s),Object(G2.saveAs)(s.videoURL,a.value)}),{control:n}},props:{className:{type:String},framerate:{type:Number,default:30},videoBitsPerSecond:{type:Number,default:5e6},videoTarget:{type:String},downloadName:{type:String,default:"mapVideo.mp4"}}},Fm=xt()(bC,[["render",OC]]);function CC(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var ac={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},LC=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),AC={image:[Pn.POLYGON,Pn.CIRCLE,Pn.LINE_STRING,Pn.IMAGE,Pn.TEXT],hybrid:[Pn.POLYGON,Pn.LINE_STRING],vector:[]},PC={hybrid:[Pn.IMAGE,Pn.TEXT,Pn.DEFAULT],vector:[Pn.POLYGON,Pn.CIRCLE,Pn.LINE_STRING,Pn.IMAGE,Pn.TEXT,Pn.DEFAULT]},RC=function(i){LC(r,i);function r(t){var e=i.call(this,t)||this;return e.boundHandleStyleImageChange_=e.handleStyleImageChange_.bind(e),e.dirty_=!1,e.renderedLayerRevision_,e.renderedPixelToCoordinateTransform_=null,e.renderedRotation_,e.renderTileImageQueue_={},e.tileListenerKeys_={},e.tmpTransform_=$(),e}return r.prototype.prepareTile=function(t,e,n,o){var a,s=Object(nt.c)(t),u=t.getState();return(u===Cr.LOADED||u===Cr.ERROR)&&s in this.tileListenerKeys_&&(Object(dr.c)(this.tileListenerKeys_[s]),delete this.tileListenerKeys_[s]),(u===Cr.LOADED||u===Cr.ERROR)&&(this.updateExecutorGroup_(t,e,n),this.tileImageNeedsRender_(t)&&(a=!0,o&&(this.renderTileImageQueue_[s]=t))),a},r.prototype.getTile=function(t,e,n,o){var a=o.pixelRatio,s=o.viewState,u=s.resolution,h=s.projection,d=this.getLayer(),E=d.getSource().getTile(t,e,n,a,h);if(E.getState()<Cr.LOADED){E.wantedResolution=u;var b=Object(nt.c)(E);if(!(b in this.tileListenerKeys_)){var I=Object(dr.a)(E,Dr.a.CHANGE,this.prepareTile.bind(this,E,a,h,!0));this.tileListenerKeys_[b]=I}}else{var M=o.viewHints,k=!(M[Fn.ANIMATING]||M[Fn.INTERACTING]);(k||!E.wantedResolution)&&(E.wantedResolution=u);var et=this.prepareTile(E,a,h,!1);et&&d.getRenderMode()!==ac.VECTOR&&this.renderTileImage_(E,o)}return i.prototype.getTile.call(this,t,e,n,o)},r.prototype.isDrawableTile=function(t){var e=this.getLayer();return i.prototype.isDrawableTile.call(this,t)&&(e.getRenderMode()===ac.VECTOR?Object(nt.c)(e)in t.executorGroups:t.hasContext(e))},r.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},r.prototype.prepareFrame=function(t){var e=this.getLayer().getRevision();return this.renderedLayerRevision_!=e&&(this.renderedTiles.length=0),this.renderedLayerRevision_=e,i.prototype.prepareFrame.call(this,t)},r.prototype.updateExecutorGroup_=function(t,e,n){var o=this.getLayer(),a=o.getRevision(),s=o.getRenderOrder()||null,u=t.wantedResolution,h=t.getReplayState(o);if(!(!h.dirty&&h.renderedResolution===u&&h.renderedRevision==a&&h.renderedRenderOrder==s)){var d=o.getSource(),E=o.getDeclutter(),b=d.getTileGrid(),I=d.getTileGridForProjection(n),M=I.getTileCoordExtent(t.wrappedTileCoord),k=d.getSourceTiles(e,n,t),et=Object(nt.c)(o);delete t.hitDetectionImageData[et],t.executorGroups[et]=[],E&&(t.declutterExecutorGroups[et]=[]);for(var ht=function(oe,se){var de=k[oe];if(de.getState()!=Cr.LOADED)return"continue";var Se=de.tileCoord,Ie=b.getTileCoordExtent(Se),He=Kn(M,Ie),De=yt(He,o.getRenderBuffer()*u,Lt.tmpExtent),ye=Gr(Ie,He)?null:De;h.dirty=!1;var Qe=new _v(0,De,u,e),Ar=E?new _v(0,He,u,e):void 0,Tr=$1(u,e),kr=function(_i){var Do,Lo=_i.getStyleFunction()||o.getStyleFunction();if(Lo&&(Do=Lo(_i,u)),Do){var uo=this.renderFeature(_i,Tr,Do,Qe,Ar);this.dirty_=this.dirty_||uo,h.dirty=h.dirty||uo}},Fr=de.getFeatures();s&&s!==h.renderedRenderOrder&&Fr.sort(s);for(var On=0,Nn=Fr.length;On<Nn;++On){var An=Fr[On];(!ye||Gn(ye,An.getGeometry().getExtent()))&&kr.call(Lt,An)}var ri=Qe.finish(),er=o.getRenderMode()!==ac.VECTOR&&E&&k.length===1?null:He,go=new Sv(er,u,e,d.getOverlaps(),ri,o.getRenderBuffer());if(t.executorGroups[et].push(go),Ar){var Mn=new Sv(null,u,e,d.getOverlaps(),Ar.finish(),o.getRenderBuffer());t.declutterExecutorGroups[et].push(Mn)}},Lt=this,It=0,wt=k.length;It<wt;++It)ht(It);h.renderedRevision=a,h.renderedRenderOrder=s,h.renderedResolution=u}},r.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,a){var s=e.viewState.resolution,u=e.viewState.rotation;n=n==null?0:n;var h=this.getLayer(),d=h.getSource(),E=d.getTileGridForProjection(e.viewState.projection),b=At([t]);yt(b,s*n,b);for(var I={},M=function(wt,oe,se){var de=wt.getId();de===void 0&&(de=Object(nt.c)(wt));var Se=I[de];if(Se){if(Se!==!0&&se<Se.distanceSq){if(se===0)return I[de]=!0,a.splice(a.lastIndexOf(Se),1),o(wt,h,oe);Se.geometry=oe,Se.distanceSq=se}}else{if(se===0)return I[de]=!0,o(wt,h,oe);a.push(I[de]={feature:wt,layer:h,geometry:oe,distanceSq:se,callback:o})}},k=this.renderedTiles,et,ht=function(wt,oe){var se=k[wt],de=E.getTileCoordExtent(se.wrappedTileCoord);if(!Gn(de,b))return"continue";var Se=Object(nt.c)(h),Ie=[se.executorGroups[Se]],He=se.declutterExecutorGroups[Se];He&&Ie.push(He),Ie.some(function(De){for(var ye=De===He?e.declutterTree.all().map(function(kr){return kr.value}):null,Qe=0,Ar=De.length;Qe<Ar;++Qe){var Tr=De[Qe];if(et=Tr.forEachFeatureAtCoordinate(t,s,u,n,M,ye),et)return!0}})},Lt=0,It=k.length;!et&&Lt<It;++Lt)ht(Lt);return et},r.prototype.getFeatures=function(t){return new Promise(function(e,n){for(var o=this.getLayer(),a=Object(nt.c)(o),s=o.getSource(),u=this.renderedProjection,h=u.getExtent(),d=this.renderedResolution,E=s.getTileGridForProjection(u),b=me(this.renderedPixelToCoordinateTransform_,t.slice()),I=E.getTileCoordForCoordAndResolution(b,d),M,k=0,et=this.renderedTiles.length;k<et;++k)if(I.toString()===this.renderedTiles[k].tileCoord.toString()){if(M=this.renderedTiles[k],M.getState()===Cr.LOADED){var ht=E.getTileCoordExtent(M.tileCoord);s.getWrapX()&&u.canWrapX()&&!he(h,ht)&&mt(b,u);break}M=void 0}if(!M||M.loadingSourceTiles>0){e([]);return}var Lt=E.getTileCoordExtent(M.wrappedTileCoord),It=bi(Lt),wt=[(b[0]-It[0])/d,(It[1]-b[1])/d],oe=M.getSourceTiles().reduce(function(He,De){return He.concat(De.getFeatures())},[]),se=M.hitDetectionImageData[a];if(!se&&!this.animatingOrInteracting_){var de=_n(E.getTileSize(E.getZForResolution(d))),Se=this.renderedRotation_,Ie=[this.getRenderTransform(E.getTileCoordCenter(M.wrappedTileCoord),d,0,es,de[0]*es,de[1]*es,0)];se=X1(de,Ie,oe,o.getStyleFunction(),E.getTileCoordExtent(M.wrappedTileCoord),M.getReplayState(o).renderedResolution,Se),M.hitDetectionImageData[a]=se}e(K1(wt,oe,se))}.bind(this))},r.prototype.handleFontsChanged=function(){Object(br.b)(this.renderTileImageQueue_);var t=this.getLayer();t.getVisible()&&this.renderedLayerRevision_!==void 0&&t.changed()},r.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},r.prototype.renderDeclutter=function(t){var e=this.context,n=e.globalAlpha;e.globalAlpha=this.getLayer().getOpacity();for(var o=t.viewHints,a=!(o[Fn.ANIMATING]||o[Fn.INTERACTING]),s=this.renderedTiles,u=0,h=s.length;u<h;++u){var d=s[u],E=d.declutterExecutorGroups[Object(nt.c)(this.getLayer())];if(E)for(var b=E.length-1;b>=0;--b)E[b].execute(this.context,1,this.getTileRenderTransform(d,t),t.viewState.rotation,a,void 0,t.declutterTree)}e.globalAlpha=n},r.prototype.getTileRenderTransform=function(t,e){var n=e.pixelRatio,o=e.viewState,a=o.center,s=o.resolution,u=o.rotation,h=e.size,d=Math.round(h[0]*n),E=Math.round(h[1]*n),b=this.getLayer().getSource(),I=b.getTileGridForProjection(e.viewState.projection),M=t.tileCoord,k=I.getTileCoordExtent(t.wrappedTileCoord),et=I.getTileCoordExtent(M,this.tmpExtent)[0]-k[0],ht=Kt(jr(this.inversePixelTransform.slice(),1/n,1/n),this.getRenderTransform(a,s,u,n,d,E,et));return ht},r.prototype.renderFrame=function(t,e){var n=t.viewHints,o=!(n[Fn.ANIMATING]||n[Fn.INTERACTING]);this.renderQueuedTileImages_(o,t),i.prototype.renderFrame.call(this,t,e),this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;var a=this.getLayer(),s=a.getRenderMode(),u=a.getSource(),h=t.usedTiles[Object(nt.c)(u)];for(var d in this.renderTileImageQueue_)(!h||!(d in h))&&delete this.renderTileImageQueue_[d];var E=this.context,b=E.globalAlpha;E.globalAlpha=a.getOpacity();for(var I=PC[s],M=t.viewState,k=M.rotation,et=this.renderedTiles,ht=[],Lt=[],It=et.length-1;It>=0;--It)for(var wt=et[It],oe=this.getTileRenderTransform(wt,t),se=wt.executorGroups[Object(nt.c)(a)],de=!1,Se=0,Ie=se.length;Se<Ie;++Se){var He=se[Se];if(!!He.hasExecutors(I)){var De=wt.tileCoord[0],ye=void 0;if(!de&&(ye=He.getClipCoords(oe),ye)){E.save();for(var Qe=0,Ar=ht.length;Qe<Ar;++Qe){var Tr=ht[Qe];De<Lt[Qe]&&(E.beginPath(),E.moveTo(ye[0],ye[1]),E.lineTo(ye[2],ye[3]),E.lineTo(ye[4],ye[5]),E.lineTo(ye[6],ye[7]),E.moveTo(Tr[6],Tr[7]),E.lineTo(Tr[4],Tr[5]),E.lineTo(Tr[2],Tr[3]),E.lineTo(Tr[0],Tr[1]),E.clip())}}He.execute(E,1,oe,k,o,I),!de&&ye&&(E.restore(),ht.push(ye),Lt.push(De),de=!0)}}return E.globalAlpha=b,this.container},r.prototype.renderQueuedTileImages_=function(t,e){for(var n in this.renderTileImageQueue_){if(!t&&Date.now()-e.time>8){e.animate=!0;break}var o=this.renderTileImageQueue_[n];delete this.renderTileImageQueue_[n],this.renderTileImage_(o,e)}},r.prototype.renderFeature=function(t,e,n,o,a){if(!n)return!1;var s=!1;if(Array.isArray(n))for(var u=0,h=n.length;u<h;++u)s=wv(o,t,n[u],e,this.boundHandleStyleImageChange_,void 0,a)||s;else s=wv(o,t,n,e,this.boundHandleStyleImageChange_,void 0,a);return s},r.prototype.tileImageNeedsRender_=function(t){var e=this.getLayer();if(e.getRenderMode()===ac.VECTOR)return!1;var n=t.getReplayState(e),o=e.getRevision(),a=t.wantedResolution;return n.renderedTileResolution!==a||n.renderedTileRevision!==o},r.prototype.renderTileImage_=function(t,e){var n=this.getLayer(),o=t.getReplayState(n),a=n.getRevision(),s=t.executorGroups[Object(nt.c)(n)];o.renderedTileRevision=a;var u=t.wrappedTileCoord,h=u[0],d=n.getSource(),E=e.pixelRatio,b=e.viewState,I=b.projection,M=d.getTileGridForProjection(I),k=M.getResolution(t.tileCoord[0]),et=e.pixelRatio/t.wantedResolution*k,ht=M.getResolution(h),Lt=t.getContext(n);E=Math.round(Math.max(E,et/E));var It=d.getTilePixelSize(h,E,I);Lt.canvas.width=It[0],Lt.canvas.height=It[1];var wt=E/et;if(wt!==1){var oe=Ct(this.tmpTransform_);jr(oe,wt,wt),Lt.setTransform.apply(Lt,oe)}var se=M.getTileCoordExtent(u,this.tmpExtent),de=et/ht,Se=Ct(this.tmpTransform_);jr(Se,de,-de),Xn(Se,-se[0],-se[3]);for(var Ie=0,He=s.length;Ie<He;++Ie){var De=s[Ie];De.execute(Lt,wt,Se,0,!0,AC[n.getRenderMode()])}o.renderedTileResolution=t.wantedResolution},r}(ov),IC=RC,NC=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),MC=function(i){NC(r,i);function r(t){var e=this,n=t||{},o=Object(br.a)({},n);delete o.preload,delete o.useInterimTilesOnError,e=i.call(this,o)||this,e.on,e.once,e.un,n.renderMode===ac.IMAGE&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),n.renderMode=void 0);var a=n.renderMode||ac.HYBRID;return Qt(a==ac.HYBRID||a==ac.VECTOR,28),e.renderMode_=a,e.setPreload(n.preload?n.preload:0),e.setUseInterimTilesOnError(n.useInterimTilesOnError!==void 0?n.useInterimTilesOnError:!0),e}return r.prototype.createRenderer=function(){return new IC(this)},r.prototype.getFeatures=function(t){return i.prototype.getFeatures.call(this,t)},r.prototype.getRenderMode=function(){return this.renderMode_},r.prototype.getPreload=function(){return this.get(Qa.PRELOAD)},r.prototype.getUseInterimTilesOnError=function(){return this.get(Qa.USE_INTERIM_TILES_ON_ERROR)},r.prototype.setPreload=function(t){this.set(Qa.PRELOAD,t)},r.prototype.setUseInterimTilesOnError=function(t){this.set(Qa.USE_INTERIM_TILES_ON_ERROR,t)},r}(ky),FC=MC,Gv=34962,jm=34963,jC=35040,DC=35044,Uv=35048,BC=5121,GC=5123,UC=5125,U2=5126,k2=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function V2(i,r){for(var t=k2.length,e=0;e<t;++e)try{var n=i.getContext(k2[e],r);if(n)return n}catch{}return null}var Dm;function kC(){if(!Dm){var i=document.createElement("canvas"),r=V2(i);r&&(Dm=r.getSupportedExtensions())}return Dm}var VC={STATIC_DRAW:DC,STREAM_DRAW:jC,DYNAMIC_DRAW:Uv},zC=function(){function i(r,t){this.array=null,this.type=r,Qt(r===Gv||r===jm,62),this.usage=t!==void 0?t:VC.STATIC_DRAW}return i.prototype.ofSize=function(r){this.array=new(Bm(this.type))(r)},i.prototype.fromArray=function(r){this.array=Bm(this.type).from(r)},i.prototype.fromArrayBuffer=function(r){this.array=new(Bm(this.type))(r)},i.prototype.getType=function(){return this.type},i.prototype.getArray=function(){return this.array},i.prototype.getUsage=function(){return this.usage},i.prototype.getSize=function(){return this.array?this.array.length:0},i}();function Bm(i){switch(i){case Gv:return Float32Array;case jm:return Uint32Array;default:return Float32Array}}var Gm=zC,kv={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},YC=`
  precision mediump float;
  
  attribute vec2 a_position;
  varying vec2 v_texCoord;
  varying vec2 v_screenCoord;
  
  uniform vec2 u_screenSize;
   
  void main() {
    v_texCoord = a_position * 0.5 + 0.5;
    v_screenCoord = v_texCoord * u_screenSize;
    gl_Position = vec4(a_position, 0.0, 1.0);
  }
`,WC=`
  precision mediump float;
   
  uniform sampler2D u_image;
   
  varying vec2 v_texCoord;
   
  void main() {
    gl_FragColor = texture2D(u_image, v_texCoord);
  }
`,HC=function(){function i(r){this.gl_=r.webGlContext;var t=this.gl_;this.scaleRatio_=r.scaleRatio||1,this.renderTargetTexture_=t.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=t.createFramebuffer();var e=t.createShader(t.VERTEX_SHADER);t.shaderSource(e,r.vertexShader||YC),t.compileShader(e);var n=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(n,r.fragmentShader||WC),t.compileShader(n),this.renderTargetProgram_=t.createProgram(),t.attachShader(this.renderTargetProgram_,e),t.attachShader(this.renderTargetProgram_,n),t.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=t.createBuffer();var o=[-1,-1,1,-1,-1,1,1,-1,1,1,-1,1];t.bindBuffer(t.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),t.bufferData(t.ARRAY_BUFFER,new Float32Array(o),t.STATIC_DRAW),this.renderTargetAttribLocation_=t.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetTextureLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],r.uniforms&&Object.keys(r.uniforms).forEach(function(a){this.uniforms_.push({value:r.uniforms[a],location:t.getUniformLocation(this.renderTargetProgram_,a)})}.bind(this))}return i.prototype.getGL=function(){return this.gl_},i.prototype.init=function(r){var t=this.getGL(),e=[t.drawingBufferWidth*this.scaleRatio_,t.drawingBufferHeight*this.scaleRatio_];if(t.bindFramebuffer(t.FRAMEBUFFER,this.getFrameBuffer()),t.viewport(0,0,e[0],e[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==e[0]||this.renderTargetTextureSize_[1]!==e[1]){this.renderTargetTextureSize_=e;var n=0,o=t.RGBA,a=0,s=t.RGBA,u=t.UNSIGNED_BYTE,h=null;t.bindTexture(t.TEXTURE_2D,this.renderTargetTexture_),t.texImage2D(t.TEXTURE_2D,n,o,e[0],e[1],a,s,u,h),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.renderTargetTexture_,0)}},i.prototype.apply=function(r,t){var e=this.getGL(),n=r.size;e.bindFramebuffer(e.FRAMEBUFFER,t?t.getFrameBuffer():null),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.renderTargetTexture_),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),e.bindBuffer(e.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),e.useProgram(this.renderTargetProgram_),e.enableVertexAttribArray(this.renderTargetAttribLocation_),e.vertexAttribPointer(this.renderTargetAttribLocation_,2,e.FLOAT,!1,0,0),e.uniform2f(this.renderTargetUniformLocation_,n[0],n[1]),e.uniform1i(this.renderTargetTextureLocation_,0),this.applyUniforms(r),e.drawArrays(e.TRIANGLES,0,6)},i.prototype.getFrameBuffer=function(){return this.frameBuffer_},i.prototype.applyUniforms=function(r){var t=this.getGL(),e,n=1;this.uniforms_.forEach(function(o){if(e=typeof o.value=="function"?o.value(r):o.value,e instanceof HTMLCanvasElement||e instanceof ImageData)o.texture||(o.texture=t.createTexture()),t.activeTexture(t["TEXTURE"+n]),t.bindTexture(t.TEXTURE_2D,o.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e instanceof ImageData?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,e.width,e.height,0,t.UNSIGNED_BYTE,new Uint8Array(e.data)):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.uniform1i(o.location,n++);else if(Array.isArray(e))switch(e.length){case 2:t.uniform2f(o.location,e[0],e[1]);return;case 3:t.uniform3f(o.location,e[0],e[1],e[2]);return;case 4:t.uniform4f(o.location,e[0],e[1],e[2],e[3]);return;default:return}else typeof e=="number"&&t.uniform1f(o.location,e)})},i}(),z2=HC;function XC(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Um(i,r){return i[0]=r[0],i[1]=r[1],i[4]=r[2],i[5]=r[3],i[12]=r[4],i[13]=r[5],i}var KC=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dh={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"},Qs={UNSIGNED_BYTE:BC,UNSIGNED_SHORT:GC,UNSIGNED_INT:UC,FLOAT:U2},ZC=function(i){KC(r,i);function r(t){var e=i.call(this)||this,n=t||{};e.boundHandleWebGLContextLost_=e.handleWebGLContextLost.bind(e),e.boundHandleWebGLContextRestored_=e.handleWebGLContextRestored.bind(e),e.canvas_=document.createElement("canvas"),e.canvas_.style.position="absolute",e.canvas_.style.left="0",e.gl_=V2(e.canvas_);var o=e.getGL();if(e.bufferCache_={},e.currentProgram_=null,Qt(Object(vr.f)(kC(),"OES_element_index_uint"),63),o.getExtension("OES_element_index_uint"),e.canvas_.addEventListener(kv.LOST,e.boundHandleWebGLContextLost_),e.canvas_.addEventListener(kv.RESTORED,e.boundHandleWebGLContextRestored_),e.offsetRotateMatrix_=$(),e.offsetScaleMatrix_=$(),e.tmpMat4_=XC(),e.uniformLocations_={},e.attribLocations_={},e.uniforms_=[],n.uniforms)for(var a in n.uniforms)e.uniforms_.push({name:a,value:n.uniforms[a]});return e.postProcessPasses_=n.postProcesses?n.postProcesses.map(function(s){return new z2({webGlContext:o,scaleRatio:s.scaleRatio,vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,uniforms:s.uniforms})}):[new z2({webGlContext:o})],e.shaderCompileErrors_=null,e.startTime_=Date.now(),e}return r.prototype.bindBuffer=function(t){var e=this.getGL(),n=Object(nt.c)(t),o=this.bufferCache_[n];if(!o){var a=e.createBuffer();o={buffer:t,webGlBuffer:a},this.bufferCache_[n]=o}e.bindBuffer(t.getType(),o.webGlBuffer)},r.prototype.flushBufferData=function(t){var e=this.getGL();this.bindBuffer(t),e.bufferData(t.getType(),t.getArray(),t.getUsage())},r.prototype.deleteBuffer=function(t){var e=this.getGL(),n=Object(nt.c)(t),o=this.bufferCache_[n];o&&!e.isContextLost()&&e.deleteBuffer(o.webGlBuffer),delete this.bufferCache_[n]},r.prototype.disposeInternal=function(){this.canvas_.removeEventListener(kv.LOST,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(kv.RESTORED,this.boundHandleWebGLContextRestored_)},r.prototype.prepareDraw=function(t){var e=this.getGL(),n=this.getCanvas(),o=t.size,a=t.pixelRatio;n.width=o[0]*a,n.height=o[1]*a,n.style.width=o[0]+"px",n.style.height=o[1]+"px",e.useProgram(this.currentProgram_);for(var s=this.postProcessPasses_.length-1;s>=0;s--)this.postProcessPasses_[s].init(t);e.bindTexture(e.TEXTURE_2D,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},r.prototype.prepareDrawToRenderTarget=function(t,e,n){var o=this.getGL(),a=e.getSize();o.bindFramebuffer(o.FRAMEBUFFER,e.getFramebuffer()),o.viewport(0,0,a[0],a[1]),o.bindTexture(o.TEXTURE_2D,e.getTexture()),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.enable(o.BLEND),o.blendFunc(o.ONE,n?o.ZERO:o.ONE_MINUS_SRC_ALPHA),o.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},r.prototype.drawElements=function(t,e){var n=this.getGL(),o=n.UNSIGNED_INT,a=4,s=e-t,u=t*a;n.drawElements(n.TRIANGLES,s,o,u)},r.prototype.finalizeDraw=function(t){for(var e=0;e<this.postProcessPasses_.length;e++)this.postProcessPasses_[e].apply(t,this.postProcessPasses_[e+1]||null)},r.prototype.getCanvas=function(){return this.canvas_},r.prototype.getGL=function(){return this.gl_},r.prototype.applyFrameState=function(t){var e=t.size,n=t.viewState.rotation,o=Ct(this.offsetScaleMatrix_);jr(o,2/e[0],2/e[1]);var a=Ct(this.offsetRotateMatrix_);n!==0&&ar(a,-n),this.setUniformMatrixValue(dh.OFFSET_SCALE_MATRIX,Um(this.tmpMat4_,o)),this.setUniformMatrixValue(dh.OFFSET_ROTATION_MATRIX,Um(this.tmpMat4_,a)),this.setUniformFloatValue(dh.TIME,(Date.now()-this.startTime_)*.001),this.setUniformFloatValue(dh.ZOOM,t.viewState.zoom),this.setUniformFloatValue(dh.RESOLUTION,t.viewState.resolution)},r.prototype.applyUniforms=function(t){var e=this.getGL(),n,o=0;this.uniforms_.forEach(function(a){if(n=typeof a.value=="function"?a.value(t):a.value,n instanceof HTMLCanvasElement||n instanceof HTMLImageElement||n instanceof ImageData){a.texture||(a.prevValue=void 0,a.texture=e.createTexture()),e.activeTexture(e["TEXTURE"+o]),e.bindTexture(e.TEXTURE_2D,a.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);var s=!(n instanceof HTMLImageElement)||n.complete;s&&a.prevValue!==n&&(a.prevValue=n,e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)),e.uniform1i(this.getUniformLocation(a.name),o++)}else if(Array.isArray(n)&&n.length===6)this.setUniformMatrixValue(a.name,Um(this.tmpMat4_,n));else if(Array.isArray(n)&&n.length<=4)switch(n.length){case 2:e.uniform2f(this.getUniformLocation(a.name),n[0],n[1]);return;case 3:e.uniform3f(this.getUniformLocation(a.name),n[0],n[1],n[2]);return;case 4:e.uniform4f(this.getUniformLocation(a.name),n[0],n[1],n[2],n[3]);return;default:return}else typeof n=="number"&&e.uniform1f(this.getUniformLocation(a.name),n)}.bind(this))},r.prototype.useProgram=function(t){if(t==this.currentProgram_)return!1;var e=this.getGL();return e.useProgram(t),this.currentProgram_=t,this.uniformLocations_={},this.attribLocations_={},!0},r.prototype.compileShader=function(t,e){var n=this.getGL(),o=n.createShader(e);return n.shaderSource(o,t),n.compileShader(o),o},r.prototype.getProgram=function(t,e){var n=this.getGL(),o=this.compileShader(t,n.FRAGMENT_SHADER),a=this.compileShader(e,n.VERTEX_SHADER),s=n.createProgram();if(n.attachShader(s,o),n.attachShader(s,a),n.linkProgram(s),!n.getShaderParameter(o,n.COMPILE_STATUS)){var u="Fragment shader compliation failed: "+n.getShaderInfoLog(o);throw new Error(u)}if(n.deleteShader(o),!n.getShaderParameter(a,n.COMPILE_STATUS)){var u="Vertex shader compilation failed: "+n.getShaderInfoLog(a);throw new Error(u)}if(n.deleteShader(a),!n.getProgramParameter(s,n.LINK_STATUS)){var u="GL program linking failed: "+n.getShaderInfoLog(a);throw new Error(u)}return s},r.prototype.getUniformLocation=function(t){return this.uniformLocations_[t]===void 0&&(this.uniformLocations_[t]=this.getGL().getUniformLocation(this.currentProgram_,t)),this.uniformLocations_[t]},r.prototype.getAttributeLocation=function(t){return this.attribLocations_[t]===void 0&&(this.attribLocations_[t]=this.getGL().getAttribLocation(this.currentProgram_,t)),this.attribLocations_[t]},r.prototype.makeProjectionTransform=function(t,e){var n=t.size,o=t.viewState.rotation,a=t.viewState.resolution,s=t.viewState.center;return Ct(e),ur(e,0,0,2/(a*n[0]),2/(a*n[1]),-o,-s[0],-s[1]),e},r.prototype.setUniformFloatValue=function(t,e){this.getGL().uniform1f(this.getUniformLocation(t),e)},r.prototype.setUniformMatrixValue=function(t,e){this.getGL().uniformMatrix4fv(this.getUniformLocation(t),!1,e)},r.prototype.enableAttributeArray_=function(t,e,n,o,a){var s=this.getAttributeLocation(t);s<0||(this.getGL().enableVertexAttribArray(s),this.getGL().vertexAttribPointer(s,e,n,!1,o,a))},r.prototype.enableAttributes=function(t){for(var e=$C(t),n=0,o=0;o<t.length;o++){var a=t[o];this.enableAttributeArray_(a.name,a.size,a.type||U2,e,n),n+=a.size*Y2(a.type)}},r.prototype.handleWebGLContextLost=function(){Object(br.b)(this.bufferCache_),this.currentProgram_=null},r.prototype.handleWebGLContextRestored=function(){},r.prototype.createTexture=function(t,e,n){var o=this.getGL(),a=n||o.createTexture(),s=0,u=o.RGBA,h=0,d=o.RGBA,E=o.UNSIGNED_BYTE;return o.bindTexture(o.TEXTURE_2D,a),e?o.texImage2D(o.TEXTURE_2D,s,u,d,E,e):o.texImage2D(o.TEXTURE_2D,s,u,t[0],t[1],h,d,E,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),a},r}(Et.a);function $C(i){for(var r=0,t=0;t<i.length;t++){var e=i[t];r+=e.size*Y2(e.type)}return r}function Y2(i){switch(i){case Qs.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case Qs.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case Qs.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case Qs.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var qC=ZC,JC=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),km={GENERATE_BUFFERS:"GENERATE_BUFFERS"},QC=function(i){JC(r,i);function r(t,e){var n=i.call(this,t)||this,o=e||{};return n.helper=new qC({postProcesses:o.postProcesses,uniforms:o.uniforms}),o.className!==void 0&&(n.helper.getCanvas().className=o.className),n}return r.prototype.disposeInternal=function(){this.helper.dispose(),i.prototype.disposeInternal.call(this)},r.prototype.dispatchRenderEvent_=function(t,e){var n=this.getLayer();if(n.hasListener(t)){var o=new tr(t,null,e,null);n.dispatchEvent(o)}},r.prototype.preRender=function(t){this.dispatchRenderEvent_(hs.PRERENDER,t)},r.prototype.postRender=function(t){this.dispatchRenderEvent_(hs.POSTRENDER,t)},r}(nh);function tL(i,r){var t=r||[],e=256,n=e-1;return t[0]=Math.floor(i/e/e/e)/n,t[1]=Math.floor(i/e/e)%e/n,t[2]=Math.floor(i/e)%e/n,t[3]=i%e/n,t}function eL(i){var r=0,t=256,e=t-1;return r+=Math.round(i[0]*t*t*t*e),r+=Math.round(i[1]*t*t*e),r+=Math.round(i[2]*t*e),r+=Math.round(i[3]*e),r}var rL=QC,Cl=new Uint8Array(4),nL=function(){function i(r,t){this.helper_=r;var e=r.getGL();this.texture_=e.createTexture(),this.framebuffer_=e.createFramebuffer(),this.size_=t||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return i.prototype.setSize=function(r){Object(vr.b)(r,this.size_)||(this.size_[0]=r[0],this.size_[1]=r[1],this.updateSize_())},i.prototype.getSize=function(){return this.size_},i.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},i.prototype.readAll=function(){if(this.dataCacheDirty_){var r=this.size_,t=this.helper_.getGL();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.readPixels(0,0,r[0],r[1],t.RGBA,t.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},i.prototype.readPixel=function(r,t){if(r<0||t<0||r>this.size_[0]||t>=this.size_[1])return Cl[0]=0,Cl[1]=0,Cl[2]=0,Cl[3]=0,Cl;this.readAll();var e=Math.floor(r)+(this.size_[1]-Math.floor(t)-1)*this.size_[0];return Cl[0]=this.data_[e*4],Cl[1]=this.data_[e*4+1],Cl[2]=this.data_[e*4+2],Cl[3]=this.data_[e*4+3],Cl},i.prototype.getTexture=function(){return this.texture_},i.prototype.getFramebuffer=function(){return this.framebuffer_},i.prototype.updateSize_=function(){var r=this.size_,t=this.helper_.getGL();this.texture_=this.helper_.createTexture(r,null,this.texture_),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.viewport(0,0,r[0],r[1]),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(r[0]*r[1]*4)},i}(),iL=nL,oL='var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};',aL=new Blob([oL],{type:"application/javascript"}),sL=URL.createObjectURL(aL);function lL(){return new Worker(sL)}var uL=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cL=function(i){uL(r,i);function r(t,e){var n=this,o=e.uniforms||{},a=$();o[dh.PROJECTION_MATRIX]=a,n=i.call(this,t,{className:e.className,uniforms:o,postProcesses:e.postProcesses})||this,n.sourceRevision_=-1,n.verticesBuffer_=new Gm(Gv,Uv),n.hitVerticesBuffer_=new Gm(Gv,Uv),n.indicesBuffer_=new Gm(jm,Uv),n.program_=n.helper.getProgram(e.fragmentShader,e.vertexShader),n.hitDetectionEnabled_=!!(e.hitFragmentShader&&e.hitVertexShader),n.hitProgram_=n.hitDetectionEnabled_&&n.helper.getProgram(e.hitFragmentShader,e.hitVertexShader);var s=e.attributes?e.attributes.map(function(h){return{name:"a_"+h.name,size:1,type:Qs.FLOAT}}):[];n.attributes=[{name:"a_position",size:2,type:Qs.FLOAT},{name:"a_index",size:1,type:Qs.FLOAT}].concat(s),n.hitDetectionAttributes=[{name:"a_position",size:2,type:Qs.FLOAT},{name:"a_index",size:1,type:Qs.FLOAT},{name:"a_hitColor",size:4,type:Qs.FLOAT},{name:"a_featureUid",size:1,type:Qs.FLOAT}].concat(s),n.customAttributes=e.attributes?e.attributes:[],n.previousExtent_=ve(),n.currentTransform_=a,n.renderTransform_=$(),n.invertRenderTransform_=$(),n.renderInstructions_=new Float32Array(0),n.hitRenderInstructions_=new Float32Array(0),n.hitRenderTarget_=n.hitDetectionEnabled_&&new iL(n.helper),n.worker_=lL(),n.worker_.addEventListener("message",function(h){var d=h.data;if(d.type===km.GENERATE_BUFFERS){var E=d.projectionTransform;d.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(d.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(d.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(d.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=E,Zn(this.invertRenderTransform_,this.renderTransform_),d.hitDetection?this.hitRenderInstructions_=new Float32Array(h.data.renderInstructions):this.renderInstructions_=new Float32Array(h.data.renderInstructions),this.getLayer().changed()}}.bind(n)),n.featureCache_={},n.featureCount_=0;var u=n.getLayer().getSource();return n.sourceListenKeys_=[Object(dr.a)(u,Fo.ADDFEATURE,n.handleSourceFeatureAdded_,n),Object(dr.a)(u,Fo.CHANGEFEATURE,n.handleSourceFeatureChanged_,n),Object(dr.a)(u,Fo.REMOVEFEATURE,n.handleSourceFeatureDelete_,n),Object(dr.a)(u,Fo.CLEAR,n.handleSourceFeatureClear_,n)],u.forEachFeature(function(h){this.featureCache_[Object(nt.c)(h)]={feature:h,properties:h.getProperties(),geometry:h.getGeometry()},this.featureCount_++}.bind(n)),n}return r.prototype.handleSourceFeatureAdded_=function(t){var e=t.feature;this.featureCache_[Object(nt.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++},r.prototype.handleSourceFeatureChanged_=function(t){var e=t.feature;this.featureCache_[Object(nt.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()}},r.prototype.handleSourceFeatureDelete_=function(t){var e=t.feature;delete this.featureCache_[Object(nt.c)(e)],this.featureCount_--},r.prototype.handleSourceFeatureClear_=function(){this.featureCache_={},this.featureCount_=0},r.prototype.renderFrame=function(t){this.preRender(t);var e=this.indicesBuffer_.getSize();this.helper.drawElements(0,e),this.helper.finalizeDraw(t);var n=this.helper.getCanvas(),o=t.layerStatesArray[t.layerIndex],a=o.opacity;return a!==parseFloat(n.style.opacity)&&(n.style.opacity=String(a)),this.hitDetectionEnabled_&&(this.renderHitDetection(t),this.hitRenderTarget_.clearCachedData()),this.postRender(t),n},r.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource(),o=t.viewState,a=!t.viewHints[Fn.ANIMATING]&&!t.viewHints[Fn.INTERACTING],s=!Gr(this.previousExtent_,t.extent),u=this.sourceRevision_<n.getRevision();if(u&&(this.sourceRevision_=n.getRevision()),a&&(s||u)){var h=o.projection,d=o.resolution,E=e instanceof ky?e.getRenderBuffer():0,b=yt(t.extent,E*d);n.loadFeatures(b,d,h),this.rebuildBuffers_(t),this.previousExtent_=t.extent.slice()}return this.helper.makeProjectionTransform(t,this.currentTransform_),Kt(this.currentTransform_,this.invertRenderTransform_),this.helper.useProgram(this.program_),this.helper.prepareDraw(t),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},r.prototype.rebuildBuffers_=function(t){var e=$();this.helper.makeProjectionTransform(t,e);var n=(2+this.customAttributes.length)*this.featureCount_;if((!this.renderInstructions_||this.renderInstructions_.length!==n)&&(this.renderInstructions_=new Float32Array(n)),this.hitDetectionEnabled_){var o=(7+this.customAttributes.length)*this.featureCount_;(!this.hitRenderInstructions_||this.hitRenderInstructions_.length!==o)&&(this.hitRenderInstructions_=new Float32Array(o))}var a,s,u=[],h=[],d=0,E=0,b;for(var I in this.featureCache_)if(a=this.featureCache_[I],s=a.geometry,!(!s||s.getType()!==Xt.POINT)){u[0]=s.getFlatCoordinates()[0],u[1]=s.getFlatCoordinates()[1],me(e,u),b=tL(E+6,h),this.renderInstructions_[d++]=u[0],this.renderInstructions_[d++]=u[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[E++]=u[0],this.hitRenderInstructions_[E++]=u[1],this.hitRenderInstructions_[E++]=b[0],this.hitRenderInstructions_[E++]=b[1],this.hitRenderInstructions_[E++]=b[2],this.hitRenderInstructions_[E++]=b[3],this.hitRenderInstructions_[E++]=Number(I));for(var M=void 0,k=0;k<this.customAttributes.length;k++)M=this.customAttributes[k].callback(a.feature,a.properties),this.renderInstructions_[d++]=M,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[E++]=M)}var et={type:km.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(et.projectionTransform=e,this.worker_.postMessage(et,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var ht={type:km.GENERATE_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};ht.projectionTransform=e,ht.hitDetection=!0,this.worker_.postMessage(ht,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}},r.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,a){if(Qt(this.hitDetectionEnabled_,66),!!this.hitRenderInstructions_){var s=me(e.coordinateToPixelTransform,t.slice()),u=this.hitRenderTarget_.readPixel(s[0]/2,s[1]/2),h=[u[0]/255,u[1]/255,u[2]/255,u[3]/255],d=eL(h),E=this.hitRenderInstructions_[d],b=Math.floor(E).toString(),I=this.getLayer().getSource(),M=I.getFeatureByUid(b);if(M)return o(M,this.getLayer(),null)}},r.prototype.renderHitDetection=function(t){if(!!this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(t.size[0]/2),Math.floor(t.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(t,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);var e=this.indicesBuffer_.getSize();this.helper.drawElements(0,e)}},r.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach(function(t){Object(dr.c)(t)}),this.sourceListenKeys_=null,i.prototype.disposeInternal.call(this)},r}(rL),fL=cL,hL=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tl={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},pL=["#00f","#0ff","#0f0","#ff0","#f00"],dL=function(i){hL(r,i);function r(t){var e=this,n=t||{},o=Object(br.a)({},n);delete o.gradient,delete o.radius,delete o.blur,delete o.weight,e=i.call(this,o)||this,e.gradient_=null,e.addChangeListener(tl.GRADIENT,e.handleGradientChanged_),e.setGradient(n.gradient?n.gradient:pL),e.setBlur(n.blur!==void 0?n.blur:15),e.setRadius(n.radius!==void 0?n.radius:8);var a=n.weight?n.weight:"weight";return typeof a=="string"?e.weightFunction_=function(s){return s.get(a)}:e.weightFunction_=a,e.setRenderOrder(null),e}return r.prototype.getBlur=function(){return this.get(tl.BLUR)},r.prototype.getGradient=function(){return this.get(tl.GRADIENT)},r.prototype.getRadius=function(){return this.get(tl.RADIUS)},r.prototype.handleGradientChanged_=function(){this.gradient_=vL(this.getGradient())},r.prototype.setBlur=function(t){this.set(tl.BLUR,t)},r.prototype.setGradient=function(t){this.set(tl.GRADIENT,t)},r.prototype.setRadius=function(t){this.set(tl.RADIUS,t)},r.prototype.createRenderer=function(){return new fL(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(t){var e=this.weightFunction_(t);return e!==void 0?Ei(e,0,1):1}.bind(this)}],vertexShader:`
        precision mediump float;
        uniform mat4 u_projectionMatrix;
        uniform mat4 u_offsetScaleMatrix;
        uniform float u_size;
        attribute vec2 a_position;
        attribute float a_index;
        attribute float a_weight;

        varying vec2 v_texCoord;
        varying float v_weight;

        void main(void) {
          mat4 offsetMatrix = u_offsetScaleMatrix;
          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;
          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;
          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;
          v_texCoord = vec2(u, v);
          v_weight = a_weight;
        }`,fragmentShader:`
        precision mediump float;
        uniform float u_blurSlope;

        varying vec2 v_texCoord;
        varying float v_weight;

        void main(void) {
          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);
          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;
          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;
          float alpha = smoothstep(0.0, 1.0, value) * v_weight;
          gl_FragColor = vec4(alpha, alpha, alpha, alpha);
        }`,hitVertexShader:`
        precision mediump float;
        uniform mat4 u_projectionMatrix;
        uniform mat4 u_offsetScaleMatrix;
        uniform float u_size;
        attribute vec2 a_position;
        attribute float a_index;
        attribute float a_weight;
        attribute vec4 a_hitColor;

        varying vec2 v_texCoord;
        varying float v_weight;
        varying vec4 v_hitColor;

        void main(void) {
          mat4 offsetMatrix = u_offsetScaleMatrix;
          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;
          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;
          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;
          v_texCoord = vec2(u, v);
          v_hitColor = a_hitColor;
          v_weight = a_weight;
        }`,hitFragmentShader:`
        precision mediump float;
        uniform float u_blurSlope;

        varying vec2 v_texCoord;
        varying float v_weight;
        varying vec4 v_hitColor;

        void main(void) {
          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);
          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;
          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;
          float alpha = smoothstep(0.0, 1.0, value) * v_weight;
          if (alpha < 0.05) {
            discard;
          }

          gl_FragColor = v_hitColor;
        }`,uniforms:{u_size:function(){return(this.get(tl.RADIUS)+this.get(tl.BLUR))*2}.bind(this),u_blurSlope:function(){return this.get(tl.RADIUS)/Math.max(1,this.get(tl.BLUR))}.bind(this)},postProcesses:[{fragmentShader:`
            precision mediump float;

            uniform sampler2D u_image;
            uniform sampler2D u_gradientTexture;

            varying vec2 v_texCoord;

            void main() {
              vec4 color = texture2D(u_image, v_texCoord);
              gl_FragColor.a = color.a;
              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;
              gl_FragColor.rgb *= gl_FragColor.a;
            }`,uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this)}}]})},r.prototype.renderDeclutter=function(){},r}(bl);function vL(i){for(var r=1,t=256,e=Object(be.a)(r,t),n=e.createLinearGradient(0,0,r,t),o=1/(i.length-1),a=0,s=i.length;a<s;++a)n.addColorStop(a*o,i[a]);return e.fillStyle=n,e.fillRect(0,0,r,t),e.canvas}var gL=dL,mi=function(i){i=i||{};var r=this;this.dcount=0,this.show_progress=i.show_progress,this.oninfo=typeof i.oninfo=="function"?i.oninfo:null,this.onextent=typeof i.onextent=="function"?i.onextent:null,this.hasextent=i.extent||i.onextent,this.hastrash=i.trash,this.reordering=i.reordering!==!1,this._layers=[],this._layerGroup=i.layerGroup&&i.layerGroup.getLayers?i.layerGroup:null,typeof i.displayInLayerSwitcher=="function"&&(this.displayInLayerSwitcher=i.displayInLayerSwitcher);var t;i.target?t=fe.create("DIV",{className:i.switcherClass||"ol-layerswitcher"}):(t=fe.create("DIV",{className:(i.switcherClass||"ol-layerswitcher")+" ol-unselectable ol-control"}),i.collapsed!==!1?t.classList.add("ol-collapsed"):t.classList.add("ol-forceopen"),this.button=fe.create("BUTTON",{type:"button",parent:t}),this.button.addEventListener("touchstart",function(e){t.classList.toggle("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:t.classList.contains("ol-collapsed")}),e.preventDefault(),r.overflow()}),this.button.addEventListener("click",function(){t.classList.toggle("ol-forceopen"),t.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!t.classList.contains("ol-forceopen")}),r.overflow()}),i.mouseover&&(t.addEventListener("mouseleave",function(){t.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!0})}),t.addEventListener("mouseover",function(){t.classList.remove("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!1})})),i.noScroll||(this.topv=fe.create("DIV",{className:"ol-switchertopdiv",parent:t,click:function(){r.overflow("+50%")}}),this.botv=fe.create("DIV",{className:"ol-switcherbottomdiv",parent:t,click:function(){r.overflow("-50%")}})),this._noScroll=i.noScroll),this.panel_=fe.create("UL",{className:"panel",parent:t}),!i.target&&!i.noScroll&&fe.addListener(this.panel_,"mousewheel DOMMouseScroll onmousewheel",function(e){r.overflow(Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)))&&(e.stopPropagation(),e.preventDefault())}),this.header_=fe.create("LI",{className:"ol-header",parent:this.panel_}),wn.default.call(this,{element:t,target:i.target}),this.set("drawDelay",i.drawDelay||0),this.set("selection",i.selection)};yi(mi,wn.default),mi.prototype.tip={up:"up/down",down:"down",info:"informations...",extent:"zoom to extent",trash:"remove layer",plus:"expand/shrink"},mi.prototype.displayInLayerSwitcher=function(i){return i.get("displayInLayerSwitcher")!==!1},mi.prototype.setMap=function(i){if(wn.default.prototype.setMap.call(this,i),this.drawPanel(),this._listener)for(var r in this._listener)Object(Mo.b)(this._listener[r]);this._listener=null,i&&(this._listener={moveend:i.on("moveend",this.viewChange.bind(this)),size:i.on("change:size",this.overflow.bind(this))},this._layerGroup?this._listener.change=this._layerGroup.getLayers().on("change:length",this.drawPanel.bind(this)):this._listener.change=i.getLayerGroup().getLayers().on("change:length",this.drawPanel.bind(this)))},mi.prototype.show=function(){this.element.classList.add("ol-forceopen"),this.overflow()},mi.prototype.hide=function(){this.element.classList.remove("ol-forceopen"),this.overflow()},mi.prototype.toggle=function(){this.element.classList.toggle("ol-forceopen"),this.overflow()},mi.prototype.isOpen=function(){return this.element.classList.contains("ol-forceopen")},mi.prototype.setHeader=function(i){fe.setHTML(this.header_,i)},mi.prototype.overflow=function(i){if(this.button&&!this._noScroll){if(fe.hidden(this.panel_)){fe.setStyle(this.element,{height:"auto"});return}var r=fe.outerHeight(this.element),t=fe.outerHeight(this.panel_),e=this.button.offsetTop+fe.outerHeight(this.button),n=this.panel_.offsetTop-e;if(t>r-e){fe.setStyle(this.element,{height:"100%"});var o=2*fe.getStyle(this.panel_.querySelectorAll("li.visible .li-content")[0],"height");switch(i){case 1:n+=o;break;case-1:n-=o;break;case"+50%":n+=Math.round(r/2);break;case"-50%":n-=Math.round(r/2);break}return n+t<=r-3*e/2?(n=r-3*e/2-t,fe.hide(this.botv)):fe.show(this.botv),n>=0?(n=0,fe.hide(this.topv)):fe.show(this.topv),fe.setStyle(this.panel_,{top:n+"px"}),!0}else return fe.setStyle(this.element,{height:"auto"}),fe.setStyle(this.panel_,{top:0}),fe.hide(this.botv),fe.hide(this.topv),!1}else return!1},mi.prototype._setLayerForLI=function(i,r){var t=[];r.getLayers&&t.push(r.getLayers().on("change:length",this.drawPanel.bind(this))),i&&(t.push(r.on("change:opacity",function(){this.setLayerOpacity(r,i)}.bind(this))),t.push(r.on("change:visible",function(){this.setLayerVisibility(r,i)}.bind(this)))),t.push(r.on("propertychange",function(e){(e.key==="displayInLayerSwitcher"||e.key==="openInLayerSwitcher")&&this.drawPanel(e)}.bind(this))),this._layers.push({li:i,layer:r,listeners:t})},mi.prototype.setLayerOpacity=function(i,r){var t=r.querySelector(".layerswitcher-opacity-cursor");t&&(t.style.left=i.getOpacity()*100+"%"),this.dispatchEvent({type:"layer:opacity",layer:i})},mi.prototype.setLayerVisibility=function(i,r){var t=r.querySelector(".ol-visibility");t&&(t.checked=i.getVisible()),i.getVisible()?r.classList.add("ol-visible"):r.classList.remove("ol-visible"),this.dispatchEvent({type:"layer:visible",layer:i})},mi.prototype._clearLayerForLI=function(){this._layers.forEach(function(i){i.listeners.forEach(function(r){Object(Mo.b)(r)})}),this._layers=[]},mi.prototype._getLayerForLI=function(i){for(var r=0,t;t=this._layers[r];r++)if(t.li===i)return t.layer;return null},mi.prototype.viewChange=function(){this.panel_.querySelectorAll("li").forEach(function(i){var r=this._getLayerForLI(i);r&&(this.testLayerVisibility(r)?i.classList.remove("ol-layer-hidden"):i.classList.add("ol-layer-hidden"))}.bind(this))},mi.prototype.getPanel=function(){return this.panel_},mi.prototype.drawPanel=function(){if(!!this.getMap()){var i=this;this.dcount++,setTimeout(function(){i.drawPanel_()},this.get("drawDelay")||0)}},mi.prototype.drawPanel_=function(){--this.dcount||this.dragging_||(this._clearLayerForLI(),this.panel_.querySelectorAll("li").forEach(function(i){i.classList.contains("ol-header")||i.remove()}.bind(this)),this.drawList(this.panel_,this._layerGroup?this._layerGroup.getLayers():this.getMap().getLayers()))},mi.prototype.switchLayerVisibility=function(i,r){i.get("baseLayer")?(i.getVisible()||i.setVisible(!0),r.forEach(function(t){i!==t&&t.get("baseLayer")&&t.getVisible()&&t.setVisible(!1)})):i.setVisible(!i.getVisible())},mi.prototype.testLayerVisibility=function(i){if(!this.getMap())return!0;var r=this.getMap().getView().getResolution();if(i.getMaxResolution()<=r||i.getMinResolution()>=r)return!1;var t=i.getExtent();if(t){var e=this.getMap().getView().calculateExtent(this.getMap().getSize());return Gn(e,t)}return!0},mi.prototype.dragOrdering_=function(i){i.stopPropagation(),i.preventDefault();var r=this,t=i.currentTarget.parentNode.parentNode,e=!0,n=this.panel_,o,a=i.pageY||i.touches&&i.touches.length&&i.touches[0].pageY||i.changedTouches&&i.changedTouches.length&&i.changedTouches[0].pageY,s,u,h,d;t.parentNode.classList.add("drag");function E(){if(s){var I=h;if(I&&s){var M;d?M=d.getLayers():M=r._layerGroup?r._layerGroup.getLayers():r.getMap().getLayers();for(var k=M.getArray(),et=0;et<k.length;et++)if(k[et]==I){M.removeAt(et);break}for(var ht=0;ht<k.length;ht++)if(k[ht]==s){et>ht?M.insertAt(ht,I):M.insertAt(ht+1,I);break}}r.dispatchEvent({type:"reorder-end",layer:I,group:d})}t.parentNode.querySelectorAll("li").forEach(function(Lt){Lt.classList.remove("dropover"),Lt.classList.remove("dropover-after"),Lt.classList.remove("dropover-before")}),t.classList.remove("drag"),t.parentNode.classList.remove("drag"),r.element.classList.remove("drag"),u&&u.remove(),fe.removeListener(document,"mousemove touchmove",b),fe.removeListener(document,"mouseup touchend touchcancel",E)}function b(I){if(o=I.pageY||I.touches&&I.touches.length&&I.touches[0].pageY||I.changedTouches&&I.changedTouches.length&&I.changedTouches[0].pageY,e&&Math.abs(a-o)>2&&(e=!1,t.classList.add("drag"),h=r._getLayerForLI(t),s=!1,d=r._getLayerForLI(t.parentNode.parentNode),u=fe.create("LI",{className:"ol-dragover",html:t.innerHTML,style:{position:"absolute","z-index":1e4,left:t.offsetLeft,opacity:.5,width:fe.outerWidth(t),height:fe.getStyle(t,"height")},parent:n}),r.element.classList.add("drag"),r.dispatchEvent({type:"reorder-start",layer:h,group:d})),!e){I.preventDefault(),I.stopPropagation(),fe.setStyle(u,{top:o-fe.offsetRect(n).top+n.scrollTop+5});var M;for(I.touches?M=document.elementFromPoint(I.touches[0].clientX,I.touches[0].clientY):M=I.target,M.classList.contains("ol-switcherbottomdiv")?r.overflow(-1):M.classList.contains("ol-switchertopdiv")&&r.overflow(1);M&&M.tagName!=="LI";)M=M.parentNode;(!M||!M.classList.contains("dropover"))&&t.parentNode.querySelectorAll("li").forEach(function(k){k.classList.remove("dropover"),k.classList.remove("dropover-after"),k.classList.remove("dropover-before")}),M&&M.parentNode.classList.contains("drag")&&M!==t?(s=r._getLayerForLI(M),s&&!s.get("allwaysOnTop")==!h.get("allwaysOnTop")?(M.classList.add("dropover"),M.classList.add(t.offsetTop<M.offsetTop?"dropover-after":"dropover-before")):s=!1,fe.show(u)):(s=!1,M===t?fe.hide(u):fe.show(u)),s?u.classList.remove("forbidden"):u.classList.add("forbidden")}}fe.addListener(document,"mousemove touchmove",b),fe.addListener(document,"mouseup touchend touchcancel",E)},mi.prototype.dragOpacity_=function(i){i.stopPropagation(),i.preventDefault();var r=this,t=i.target,e=this._getLayerForLI(t.parentNode.parentNode.parentNode);if(!e)return;var n=i.pageX||i.touches&&i.touches.length&&i.touches[0].pageX||i.changedTouches&&i.changedTouches.length&&i.changedTouches[0].pageX,o=fe.getStyle(t,"left")-n;r.dragging_=!0;function a(){fe.removeListener(document,"mouseup touchend touchcancel",a),fe.removeListener(document,"mousemove touchmove",s),r.dragging_=!1}function s(u){var h=u.pageX||u.touches&&u.touches.length&&u.touches[0].pageX||u.changedTouches&&u.changedTouches.length&&u.changedTouches[0].pageX,d=(o+h)/fe.getStyle(t.parentNode,"width"),E=Math.max(0,Math.min(1,d));fe.setStyle(t,{left:E*100+"%"}),t.parentNode.nextElementSibling.innerHTML=Math.round(E*100),e.setOpacity(E)}fe.addListener(document,"mouseup touchend touchcancel",a),fe.addListener(document,"mousemove touchmove",s)},mi.prototype.drawList=function(i,r){var t=this,e=r.getArray(),n=function(d){d.stopPropagation(),d.preventDefault();var E=t._getLayerForLI(this.parentNode.parentNode);t.switchLayerVisibility(E,r),E.getVisible()&&t.selectLayer(E)};function o(d){d.stopPropagation(),d.preventDefault();var E=t._getLayerForLI(this.parentNode.parentNode);t.oninfo(E),t.dispatchEvent({type:"info",layer:E})}function a(d){d.stopPropagation(),d.preventDefault();var E=t._getLayerForLI(this.parentNode.parentNode);t.onextent?t.onextent(E):t.getMap().getView().fit(E.getExtent(),t.getMap().getSize()),t.dispatchEvent({type:"extent",layer:E})}function s(d){d.stopPropagation(),d.preventDefault();var E=this.parentNode.parentNode.parentNode.parentNode,b,I=t._getLayerForLI(E);I?(b=t._getLayerForLI(this.parentNode.parentNode),I.getLayers().remove(b),I.getLayers().getLength()==0&&!I.get("noSwitcherDelete")&&s.call(E.querySelectorAll(".layerTrash")[0],d)):(E=this.parentNode.parentNode,t.getMap().removeLayer(t._getLayerForLI(E)))}function u(d){if(!this.displayInLayerSwitcher(d)){this._setLayerForLI(null,d);return}var E=fe.create("LI",{className:(d.getVisible()?"visible ":" ")+(d.get("baseLayer")?"baselayer":""),parent:i});this._setLayerForLI(E,d),this._selectedLayer===d&&E.classList.add("ol-layer-select");var b=fe.create("DIV",{className:"ol-layerswitcher-buttons",parent:E}),I=fe.create("DIV",{className:"li-content",parent:E});fe.create("INPUT",{type:d.get("baseLayer")?"radio":"checkbox",className:"ol-visibility",checked:d.getVisible(),click:n,parent:I});var M=fe.create("LABEL",{title:d.get("title")||d.get("name"),click:n,unselectable:"on",style:{userSelect:"none"},parent:I});if(M.addEventListener("selectstart",function(){return!1}),fe.create("SPAN",{html:d.get("title")||d.get("name"),click:function(wt){this.get("selection")&&(wt.stopPropagation(),this.selectLayer(d))}.bind(this),parent:M}),this.reordering&&(h<e.length-1&&(d.get("allwaysOnTop")||!e[h+1].get("allwaysOnTop"))||h>0&&(!d.get("allwaysOnTop")||e[h-1].get("allwaysOnTop")))&&fe.create("DIV",{className:"layerup",title:this.tip.up,on:{"mousedown touchstart":function(wt){t.dragOrdering_(wt)}},parent:b}),d.getLayers){var k=0;d.getLayers().forEach(function(wt){t.displayInLayerSwitcher(wt)&&k++}),k&&fe.create("DIV",{className:d.get("openInLayerSwitcher")?"collapse-layers":"expend-layers",title:this.tip.plus,click:function(){var wt=t._getLayerForLI(this.parentNode.parentNode);wt.set("openInLayerSwitcher",!wt.get("openInLayerSwitcher"))},parent:b})}if(this.oninfo&&fe.create("DIV",{className:"layerInfo",title:this.tip.info,click:o,parent:b}),this.hastrash&&!d.get("noSwitcherDelete")&&fe.create("DIV",{className:"layerTrash",title:this.tip.trash,click:s,parent:b}),this.hasextent&&e[h].getExtent()){var et=e[h].getExtent();et.length==4&&et[0]<et[2]&&et[1]<et[3]&&fe.create("DIV",{className:"layerExtent",title:this.tip.extent,click:a,parent:b})}if(this.show_progress&&d instanceof ah){var ht=fe.create("DIV",{className:"layerswitcher-progress",parent:I});this.setprogress_(d),d.layerswitcher_progress=fe.create("DIV",{parent:ht})}var Lt=fe.create("DIV",{className:"layerswitcher-opacity",click:function(wt){if(wt.target===this){wt.stopPropagation(),wt.preventDefault();var oe=Math.max(0,Math.min(1,wt.offsetX/fe.getStyle(this,"width")));t._getLayerForLI(this.parentNode.parentNode).setOpacity(oe)}},parent:I});if(fe.create("DIV",{className:"layerswitcher-opacity-cursor",style:{left:d.getOpacity()*100+"%"},on:{"mousedown touchstart":function(wt){t.dragOpacity_(wt)}},parent:Lt}),fe.create("DIV",{className:"layerswitcher-opacity-label",html:Math.round(d.getOpacity()*100),parent:I}),d.getLayers&&(E.classList.add("ol-layer-group"),d.get("openInLayerSwitcher")===!0)){var It=fe.create("UL",{parent:E});this.drawList(It,d.getLayers())}E.classList.add(this.getLayerClass(d)),this.dispatchEvent({type:"drawlist",layer:d,li:E})}for(var h=e.length-1;h>=0;h--)u.call(this,e[h]);this.viewChange(),i===this.panel_&&this.overflow()},mi.prototype.getLayerClass=function(i){return i?i.getLayers?"ol-layer-group":i instanceof bl?"ol-layer-vector":i instanceof FC?"ol-layer-vectortile":i instanceof ah?"ol-layer-tile":i instanceof dv?"ol-layer-image":i instanceof gL?"ol-layer-heatmap":i.getFeatures?"ol-layer-vectorimage":"unknown":"none"},mi.prototype.selectLayer=function(i,r){if(!i){if(!this.getMap())return;i=this.getMap().getLayers().item(this.getMap().getLayers().getLength()-1)}this._selectedLayer=i,this.drawPanel(),r||this.dispatchEvent({type:"select",layer:i})},mi.prototype.getSelection=function(){return this._selectedLayer},mi.prototype.setprogress_=function(i){if(!i.layerswitcher_progress){var r=0,t=0,e=function(){t===r?(t=r=0,fe.setStyle(i.layerswitcher_progress,{width:0})):fe.setStyle(i.layerswitcher_progress,{width:(r/t*100).toFixed(1)+"%"})};i.getSource().on("tileloadstart",function(){t++,e()}),i.getSource().on("tileloadend",function(){r++,e()}),i.getSource().on("tileloaderror",function(){r++,e()})}};var Vm=mi,yL={name:"ol-layerswitcher-control",setup:function(r,t){var e=Co(Vm,r,t),n=e.control;return{control:n}},props:{selection:{type:Boolean},displayInLayerSwitcher:{type:Function},show_progress:{type:Boolean,default:!1},mouseover:{type:Boolean,default:!1},reordering:{type:Boolean,default:!0},trash:{type:Boolean,default:!1},oninfo:{type:Function},extent:{type:Boolean},onextent:{type:Function},drawDelay:{type:Number},collapsed:{type:Boolean,default:!0},layerGroup:{type:Object},noScroll:{type:Boolean,default:!1}}},Vv=xt()(yL,[["render",CC]]);function mL(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var _L=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),SL=function(i){_L(r,i);function r(t){var e=this,n=t||{},o=n.params||{},a="TRANSPARENT"in o?o.TRANSPARENT:!0;return e=i.call(this,{attributions:n.attributions,attributionsCollapsible:n.attributionsCollapsible,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,imageSmoothing:n.imageSmoothing,opaque:!a,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileClass:n.tileClass,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction,url:n.url,urls:n.urls,wrapX:n.wrapX!==void 0?n.wrapX:!0,transition:n.transition,zDirection:n.zDirection})||this,e.gutter_=n.gutter!==void 0?n.gutter:0,e.params_=o,e.v13_=!0,e.serverType_=n.serverType,e.hidpi_=n.hidpi!==void 0?n.hidpi:!0,e.tmpExtent_=ve(),e.updateV13_(),e.setKey(e.getKeyForParams_()),e}return r.prototype.getFeatureInfoUrl=function(t,e,n,o){var a=qr(n),s=this.getProjection(),u=this.getTileGrid();u||(u=this.getTileGridForProjection(a));var h=u.getZForResolution(e,this.zDirection),d=u.getTileCoordForCoordAndZ(t,h);if(!(u.getResolutions().length<=d[0])){var E=u.getResolution(d[0]),b=u.getTileCoordExtent(d,this.tmpExtent_),I=_n(u.getTileSize(d[0]),this.tmpSize),M=this.gutter_;M!==0&&(I=zu(I,M,this.tmpSize),b=yt(b,E*M,b)),s&&s!==a&&(E=kp(s,a,t,E),b=zl(b,a,s),t=sa(t,a,s));var k={SERVICE:"WMS",VERSION:rc,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(br.a)(k,this.params_,o);var et=Math.floor((t[0]-b[0])/E),ht=Math.floor((b[3]-t[1])/E);return k[this.v13_?"I":"X"]=et,k[this.v13_?"J":"Y"]=ht,this.getRequestUrl_(d,I,b,1,s||a,k)}},r.prototype.getLegendUrl=function(t,e){if(this.urls[0]!==void 0){var n={SERVICE:"WMS",VERSION:rc,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(e===void 0||e.LAYER===void 0){var o=this.params_.LAYERS,a=!Array.isArray(o)||o.length===1;if(!a)return;n.LAYER=o}if(t!==void 0){var s=this.getProjection()?this.getProjection().getMetersPerUnit():1,u=28e-5;n.SCALE=t*s/u}return Object(br.a)(n,e),hh(this.urls[0],n)}},r.prototype.getGutter=function(){return this.gutter_},r.prototype.getParams=function(){return this.params_},r.prototype.getRequestUrl_=function(t,e,n,o,a,s){var u=this.urls;if(!!u){if(s.WIDTH=e[0],s.HEIGHT=e[1],s[this.v13_?"CRS":"SRS"]=a.getCode(),"STYLES"in this.params_||(s.STYLES=""),o!=1)switch(this.serverType_){case nc.GEOSERVER:var h=90*o+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+h:s.FORMAT_OPTIONS="dpi:"+h;break;case nc.MAPSERVER:s.MAP_RESOLUTION=90*o;break;case nc.CARMENTA_SERVER:case nc.QGIS:s.DPI=90*o;break;default:Qt(!1,52);break}var d=a.getAxisOrientation(),E=n;if(this.v13_&&d.substr(0,2)=="ne"){var b=void 0;b=n[0],E[0]=n[1],E[1]=b,b=n[2],E[2]=n[3],E[3]=b}s.BBOX=E.join(",");var I;if(u.length==1)I=u[0];else{var M=ll(u2(t),u.length);I=u[M]}return hh(I,s)}},r.prototype.getTilePixelRatio=function(t){return!this.hidpi_||this.serverType_===void 0?1:t},r.prototype.getKeyForParams_=function(){var t=0,e=[];for(var n in this.params_)e[t++]=n+"-"+this.params_[n];return e.join("/")},r.prototype.updateParams=function(t){Object(br.a)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},r.prototype.updateV13_=function(){var t=this.params_.VERSION||rc;this.v13_=m(t,"1.3")>=0},r.prototype.tileUrlFunction=function(t,e,n){var o=this.getTileGrid();if(o||(o=this.getTileGridForProjection(n)),!(o.getResolutions().length<=t[0])){e!=1&&(!this.hidpi_||this.serverType_===void 0)&&(e=1);var a=o.getResolution(t[0]),s=o.getTileCoordExtent(t,this.tmpExtent_),u=_n(o.getTileSize(t[0]),this.tmpSize),h=this.gutter_;h!==0&&(u=zu(u,h,this.tmpSize),s=yt(s,a*h,s)),e!=1&&(u=ws(u,e,this.tmpSize));var d={SERVICE:"WMS",VERSION:rc,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(br.a)(d,this.params_),this.getRequestUrl_(t,u,s,e,n,d)}},r}(Pv),EL=SL;Ov.prototype.getPreview=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAk6QAAJOkBUCTn+AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANeSURBVHic7ZpPiE1RHMc/780MBhkik79JSUlIUbOxI+wkI2yRhYSUlJLNpJF/xcpiJBmZGBZsNM1CkmhKITGkGbH0/BuPmXnP4rxbb/TOn3fvOffeec6nfqvb/b7f93fveeec37ng8Xg8Ho/nf6Uu4d+fDswFssCvhHOJhaXAMeApMAQUyyIPPAdOAiuTStAVy4EHjDWsix5gdRLJ2mY34ulWYz6IEeA4kIk9awtkgTOEM/5vdAKT4k0/Ou3YMR/ELcbRm9AKFLBbgCJwNE4TYZkJfMG++SIwDCyLz0o4bI17WdyJz0r1TAZ+oDcxCBwAFgIzEIuhvcBbg3sLwOK4DFXLFvQGniCGSSUagS4DjUPOHESkA3XiOWCORqMR6Nfo9DjI3QqPUSd+ylBnv0Zn0GrWFvmIOvGNhjqrNDp/EAutyFgRKUM2tgO+Gur81FxvAKYZaimxXYBvmuuLDHWWaK4X0RfJCNsF6NdcbzXU2a65PohYFKWOc+jn8PUajbWIXaBKp9NB7lZYh34OzwFbFfd/NtDYYSth27urLGIm0M31AL3APWAAmIooymaDnPIl/Vz4NN1yHrd7gcvxWQnHAuA3bsyPop8hUsE13BSgK04TUViBeFo2zedJ8S6wElexW4D2eNOPTjNi6WvD/DtEr8E6tk6GGoAmxFY2iFHE9NZiQf8gogiB9gTEH23izAZuE77vHyU+ANucO1QwD3hD/MbLowAcdm20EmkwXx4n3NodS9rMB2HabYpEWs0HcRqHp0fNwAvJD+eBTZr7p6BvmQVxUaEzEbiruNfJekH15L8jtrEm7JJolEcOmKXRqQOuKDQuY7HZY8s8iNfzkSLxIuI43FTrkkLnOlBfRW4VsWk+oAX5weknxFAxJQNckGgVgZuIRVoomoGXEmGTMa+iQ6K7M4SW7k24QYgiuDQPYinbhugiF4H3RGtzZYCzyIvQXfpNI1ybLyeLpf5+iTbkRbiP2EcocTHm4+YI8iI8RFHwWjAfsA95Q+YZFU6wasl8wB7kReijtNbIILa0vcg/PRlGfPQwHmlCviDqAzaA+OREtzqr1ejOIDorxlNEjTGUBV4nnUWCvAJxGDlA8q9j3DEArAn2zvXAfOwfl6eVAmJrPpJ0Ih6Px+PxeJLjLwPul3vj5d0eAAAAAElFTkSuQmCC"},v2.prototype.getPreview=function(i,r){i||(i=[21020,6355964]),r||(r=150);var t=this.getTileGrid().getTileCoordForCoordAndResolution(i,r),e=this.getTileUrlFunction();return e.call(this,t,this.getProjection())},EL.prototype.getPreview=function(i,r){i||(i=[21020,6355964]),r||(r=150);var t=this.getTileUrlFunction();if(t){var e=this.getTileGrid()||this.getTileGridForProjection(this.getProjection()),n=e.getTileCoordForCoordAndResolution(i,r);return t.call(this,n,1,this.getProjection())}var o=this.getGetFeatureInfoUrl?this.getGetFeatureInfoUrl(i,r,this.getProjection()||"EPSG:3857",{}):this.getFeatureInfoUrl(i,r,this.getProjection()||"EPSG:3857",{});return o=o.replace(/getfeatureinfo/i,"GetMap"),o},w.prototype.getPreview=function(i,r,t){if(this.get("preview"))return[this.get("preview")];if(r||(r=150),r<this.getMinResolution()||r>this.getMaxResolution()){var e=this.getMinResolution(),n=this.getMaxResolution();for(n>1e5&&(n=156543),e<.15&&(e=.15),r=n;n>e;)e*=2,n/=2,r=e}var o=this.getExtent();return i||(i=[21020,6355964]),o&&!re(o,i)&&(i=[(o[0]+o[2])/2,(o[1]+o[3])/2]),t&&(i=sa(i,t,this.getSource().getProjection())),this.getSource&&this.getSource()?[this.getSource().getPreview(i,r)]:[]},$n.prototype.getPreview=function(i,r){if(this.get("preview"))return[this.get("preview")];var t=[];if(this.getLayers)for(var e=this.getLayers().getArray(),n=0;n<e.length;n++)t=t.concat(e[n].getPreview(i,r));return t};var zv=function(i){i=i||{},i.switcherClass="ol-layerswitcher-image",i.mouseover!==!1&&(i.mouseover=!0),Vm.call(this,i)};yi(zv,Vm),zv.prototype.drawList=function(i,r){var t=this,e=function(n){n.preventDefault();var o=t._getLayerForLI(this);t.switchLayerVisibility(o,r),n.type=="touchstart"&&t.element.classList.add("ol-collapsed")};fe.setStyle(i,{height:"auto"}),r.forEach(function(n){if(t.displayInLayerSwitcher(n)){var o=n.getPreview?n.getPreview():["none"],a=fe.create("LI",{className:"ol-imgcontainer"+(n.getVisible()?" ol-visible":""),on:{"touchstart click":e},parent:i});t._setLayerForLI(a,n),o.forEach(function(s){fe.create("IMG",{src:s,parent:a})}),fe.create("p",{html:n.get("title")||n.get("name"),parent:a}),t.testLayerVisibility(n)&&a.classList.add("ol-layer-hidden")}})},zv.prototype.overflow=function(){};var wL=zv,xL={name:"ol-layerswitcherimage-control",extends:Vv,setup:function(r,t){var e=Co(wL,r,t),n=e.control;return{control:n}}},zm=xt()(xL,[["render",mL]]);function OL(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var ia=function(i){i||(i={});var r=document.createElement("div");if(i.target)r=fe.create("DIV",{className:i.className||"ol-mapzone"});else{r=fe.create("DIV",{className:(i.className||"ol-mapzone")+" ol-unselectable ol-control ol-collapsed"});var t=fe.create("BUTTON",{type:"button",on:{click:function(){r.classList.toggle("ol-collapsed"),e.forEach(function(n){n.updateSize()})}.bind(this)},parent:r});fe.create("I",{parent:t})}wn.default.call(this,{element:r,target:i.target}),this.set("centerOnClick",i.centerOnClick);var e=this._maps=[];this._projection=i.projection,this._layer=i.layer,i.zones.forEach(this.addZone.bind(this)),setTimeout(function(){e.forEach(function(n){n.updateSize()})})};Ky(ia,wn.default),ia.prototype.setCollapsed=function(i){i?(this.element.classList.remove("ol-collapsed"),this.getMaps().forEach(function(r){r.updateSize()})):this.element.classList.add("ol-collapsed")},ia.prototype.getCollapsed=function(){return this.element.classList.contains("ol-collapsed")},ia.prototype.setVisible=ia.prototype.setCollapsed,ia.prototype.getMaps=function(){return this._maps},ia.prototype.getLength=function(){return this._maps.length},ia.prototype.addZone=function(i){var r=new Ja({zoom:6,center:[0,0],projection:this._projection}),t;i.map?t=zl(i.map.getView().calculateExtent(),i.map.getView().getProjection(),r.getProjection()):t=zl(i.extent,"EPSG:4326",r.getProjection());var e=fe.create("DIV",{className:"ol-mapzonezone",parent:this.element,click:function(){var a=-1;this._maps.forEach(function(s,u){s.get("zone")===i&&(a=u)}),this.dispatchEvent({type:"select",zone:i,index:a,coordinate:Tn(t),extent:t}),this.get("centerOnClick")!==!1&&this.getMap().getView().fit(t),this.setVisible(!1)}.bind(this)}),n;i.layer?n=i.layer:typeof this._layer=="function"?n=this._layer(i):n=new this._layer.constructor({source:this._layer.getSource()});var o=new gt({target:e,view:r,controls:[],interactions:[],layers:[n]});o.set("zone",i),this._maps.push(o),r.fit(t),fe.create("P",{html:i.title,parent:e})},ia.prototype.removeZone=function(i){var r=this.element.querySelectorAll(".ol-mapzonezone")[i];r&&(r.remove(),this._maps.splice(i,1))},ia.zones={},ia.zones.DOM=[{title:"Guadeloupe",extent:[-61.898594315312444,15.75623038647845,-60.957887532935324,16.575317670979473]},{title:"Guyane",extent:[-54.72525931072715,2.1603763430019,-51.528236062921344,5.7984307809552575]},{title:"Martinique",extent:[-61.257556528564756,14.387506317407514,-60.76934912110432,14.895067461729951]},{title:"Mayotte",extent:[44.959844536967815,-13.01674138212816,45.35328866510648,-12.65521942207829]},{title:"La r\xE9union",extent:[55.17059012967656,-21.407680069231688,55.88195702001797,-20.85560221637526]}],ia.zones.TOM=[{title:"Polyn\xE9sie Fran\xE7aise",extent:[206.23664226630862,-22.189040615809787,221.85920743981987,-10.835039595040698]},{title:"Nouvelle Cal\xE9donie",extent:[163.76420580160925,-22.581641092751838,167.66984709498706,-19.816411635668445]},{title:"St-Pierre et Miquelon",extent:[-56.453698765748676,46.74449858188555,-56.0980198121544,47.14669874229787]},{title:"Wallis et Futuna",extent:[181.7588623143665,-14.7341169873267,183.95612353301715,-13.134720799175085]},{title:"St-Martin St-Barth\xE9lemy",extent:[-63.1726389501678,17.806097291313506,-62.7606535945649,18.13267688837938]}],ia.zones.DOMTOM=[{title:"M\xE9tropole",extent:[-5.318421740712579,41.16082274292913,9.73284186155716,51.21957336557702]}].concat(ia.zones.DOM,ia.zones.TOM);var TL=ia,bL={name:"ol-zone-control",setup:function(r,t){var e=Co(TL,r,t),n=e.control;return{control:n}},props:{className:{type:String},zones:{type:Array},layer:{type:[Object,Function]},projection:{type:String,default:"EPSG:3857"},centerOnClick:{type:Boolean,default:!0}}},Ym=xt()(bL,[["render",OL]]);function Yv(i){Yv.installed||(Yv.installed=!0,i.component(vm.name,vm),i.component(ym.name,ym),i.component(mm.name,mm),i.component(Sm.name,Sm),i.component(xm.name,xm),i.component(Om.name,Om),i.component(Tm.name,Tm),i.component(bm.name,bm),i.component(M2.name,M2),i.component(Cm.name,Cm),i.component(Lm.name,Lm),i.component(Am.name,Am),i.component(Pm.name,Pm),i.component(Rm.name,Rm),i.component(Mm.name,Mm),i.component(Fm.name,Fm),i.component(Vv.name,Vv),i.component(zm.name,zm),i.component(Ym.name,Ym))}var CL=Yv;function LL(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}function Wv(i,r,t){return T2()?Wv=Reflect.construct:Wv=function(n,o,a){var s=[null];s.push.apply(s,o);var u=Function.bind.apply(n,s),h=new u;return a&&Iv(h,a.prototype),h},Wv.apply(null,arguments)}c("07ac");function vh(i,r){var t=Object(N.inject)("feature"),e=Yt(r),n=e.properties,o=Object(N.computed)(function(){return Wv(i,R2(Object.values(n)))});return Object(N.watch)(n,function(){t.value.setGeometry(o.value),t.value.changed()}),Object(N.watch)(t,function(){t.value.setGeometry(o.value)}),Object(N.onMounted)(function(){t.value.setGeometry(o.value)}),Object(N.onUnmounted)(function(){t.value.setGeometry(null)}),{geometry:o}}var AL={name:"ol-geom-point",setup:function(r){var t=vh(yn,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},Wm=xt()(AL,[["render",LL]]);function PL(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var RL={name:"ol-geom-line-string",setup:function(r){var t=vh(xi,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},Hm=xt()(RL,[["render",PL]]);function IL(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var NL={name:"ol-geom-polygon",setup:function(r){var t=vh(kn,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},Xm=xt()(NL,[["render",IL]]);function ML(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var FL=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jL=function(i){FL(r,i);function r(t,e){var n=i.call(this)||this;return e&&!Array.isArray(t[0])?n.setFlatCoordinates(e,t):n.setCoordinates(t,e),n}return r.prototype.appendPoint=function(t){this.flatCoordinates?Object(vr.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,n,o){if(o<Ft(this.getExtent(),t,e))return o;for(var a=this.flatCoordinates,s=this.stride,u=0,h=a.length;u<h;u+=s){var d=fs(t,e,a[u],a[u+1]);if(d<o){o=d;for(var E=0;E<s;++E)n[E]=a[u+E];n.length=s}}return o},r.prototype.getCoordinates=function(){return hn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new yn(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},r.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,o=[],a=0,s=t.length;a<s;a+=n){var u=new yn(t.slice(a,a+n),e);o.push(u)}return o},r.prototype.getType=function(){return Xt.MULTI_POINT},r.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,o=0,a=e.length;o<a;o+=n){var s=e[o],u=e[o+1];if(pe(t,s,u))return!0}return!1},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=O(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Pa),el=jL,DL={name:"ol-geom-multi-point",setup:function(r){var t=vh(el,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},Km=xt()(DL,[["render",ML]]);function BL(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var GL=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),UL=function(i){GL(r,i);function r(t,e,n){var o=i.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(t[0]))o.setCoordinates(t,e);else if(e!==void 0&&n)o.setFlatCoordinates(e,t),o.ends_=n;else{for(var a=o.getLayout(),s=t,u=[],h=[],d=0,E=s.length;d<E;++d){var b=s[d];d===0&&(a=b.getLayout()),Object(vr.c)(u,b.getFlatCoordinates()),h.push(u.length)}o.setFlatCoordinates(a,u),o.ends_=h}return o}return r.prototype.appendLineString=function(t){this.flatCoordinates?Object(vr.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,n,o){return o<Ft(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(kc(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Vs(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,o))},r.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=nr.XYM&&this.layout!=nr.XYZM||this.flatCoordinates.length===0)return null;var o=e!==void 0?e:!1,a=n!==void 0?n:!1;return vC(this.flatCoordinates,0,this.ends_,this.stride,t,o,a)},r.prototype.getCoordinates=function(){return nn(this.flatCoordinates,0,this.ends_,this.stride)},r.prototype.getEnds=function(){return this.ends_},r.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new xi(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},r.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,o=[],a=0,s=0,u=e.length;s<u;++s){var h=e[s],d=new xi(t.slice(a,h),n);o.push(d),a=h}return o},r.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,o=this.ends_,a=this.stride,s=0,u=o.length;s<u;++s){var h=o[s],d=Dv(e,n,h,a,.5);Object(vr.c)(t,d),n=h}return t},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];return e.length=le(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,n),new r(e,nr.XY,n)},r.prototype.getType=function(){return Xt.MULTI_LINE_STRING},r.prototype.intersectsExtent=function(t){return kf(this.flatCoordinates,0,this.ends_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Z(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()},r}(Pa),is=UL,kL={name:"ol-geom-multi-line-string",setup:function(r){var t=vh(is,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},Zm=xt()(kL,[["render",BL]]);function VL(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}function W2(i,r,t,e){for(var n=[],o=ve(),a=0,s=t.length;a<s;++a){var u=t[a];o=Sr(i,r,u[0],e),n.push((o[0]+o[2])/2,(o[1]+o[3])/2),r=u[u.length-1]}return n}var zL=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),YL=function(i){zL(r,i);function r(t,e,n){var o=i.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!n&&!Array.isArray(t[0])){for(var a=o.getLayout(),s=t,u=[],h=[],d=0,E=s.length;d<E;++d){var b=s[d];d===0&&(a=b.getLayout());for(var I=u.length,M=b.getEnds(),k=0,et=M.length;k<et;++k)M[k]+=I;Object(vr.c)(u,b.getFlatCoordinates()),h.push(M)}e=a,t=u,n=h}return e!==void 0&&n?(o.setFlatCoordinates(e,t),o.endss_=n):o.setCoordinates(t,e),o}return r.prototype.appendPolygon=function(t){var e;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();else{var n=this.flatCoordinates.length;Object(vr.c)(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(var o=0,a=e.length;o<a;++o)e[o]+=n}this.endss_.push(e),this.changed()},r.prototype.clone=function(){for(var t=this.endss_.length,e=new Array(t),n=0;n<t;++n)e[n]=this.endss_[n].slice();var o=new r(this.flatCoordinates.slice(),this.layout,e);return o.applyProperties(this),o},r.prototype.closestPointXY=function(t,e,n,o){return o<Ft(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Mu(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),vl(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,o))},r.prototype.containsXY=function(t,e){return zc(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},r.prototype.getArea=function(){return Ra(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},r.prototype.getCoordinates=function(t){var e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),Vf(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Un(e,0,this.endss_,this.stride)},r.prototype.getEndss=function(){return this.endss_},r.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=W2(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=qo(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},r.prototype.getInteriorPoints=function(){return new el(this.getFlatInteriorPoints().slice(),nr.XYM)},r.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Bu(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Vf(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];return e.length=Xr(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,n),new r(e,nr.XY,n)},r.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(t===0)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var o=this.endss_[t].slice(),a=o[o.length-1];if(e!==0)for(var s=0,u=o.length;s<u;++s)o[s]-=e;return new kn(this.flatCoordinates.slice(e,a),this.layout,o)},r.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,o=[],a=0,s=0,u=n.length;s<u;++s){var h=n[s].slice(),d=h[h.length-1];if(a!==0)for(var E=0,b=h.length;E<b;++E)h[E]-=a;var I=new kn(e.slice(a,d),t,h);o.push(I),a=d}return o},r.prototype.getType=function(){return Xt.MULTI_POLYGON},r.prototype.intersectsExtent=function(t){return dp(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=bt(this.flatCoordinates,0,t,this.stride,this.endss_);if(n.length===0)this.flatCoordinates.length=0;else{var o=n[n.length-1];this.flatCoordinates.length=o.length===0?0:o[o.length-1]}this.changed()},r}(Pa),da=YL,WL={name:"ol-geom-multi-polygon",setup:function(r){var t=vh(da,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},$m=xt()(WL,[["render",VL]]);function Hv(i){Hv.installed||(Hv.installed=!0,i.component(Wm.name,Wm),i.component(Hm.name,Hm),i.component(Xm.name,Xm),i.component(Km.name,Km),i.component(Zm.name,Zm),i.component($m.name,$m))}var HL=Hv;function XL(i,r,t,e,n,o){return Object(N.openBlock)(),Object(N.createBlock)("div",null,[Object(N.renderSlot)(i.$slots,"default")])}var KL=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),H2=function(i){KL(r,i);function r(t,e,n){var o=i.call(this)||this;if(n!==void 0&&e===void 0)o.setFlatCoordinates(n,t);else{var a=e||0;o.setCenterAndRadius(t,a,n)}return o}return r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,n,o){var a=this.flatCoordinates,s=t-a[0],u=e-a[1],h=s*s+u*u;if(h<o){if(h===0)for(var d=0;d<this.stride;++d)n[d]=a[d];else{var E=this.getRadius()/Math.sqrt(h);n[0]=a[0]+E*s,n[1]=a[1]+E*u;for(var d=2;d<this.stride;++d)n[d]=a[d]}return n.length=this.stride,h}else return o},r.prototype.containsXY=function(t,e){var n=this.flatCoordinates,o=t-n[0],a=e-n[1];return o*o+a*a<=this.getRadiusSquared_()},r.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},r.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return Ce(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},r.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},r.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},r.prototype.getType=function(){return Xt.CIRCLE},r.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Gn(t,e)){var n=this.getCenter();return t[0]<=n[0]&&t[2]>=n[0]||t[1]<=n[1]&&t[3]>=n[1]?!0:sr(t,this.intersectsCoordinate.bind(this))}return!1},r.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],o=t.slice();o[e]=o[0]+n;for(var a=1;a<e;++a)o[e+a]=t[a];this.setFlatCoordinates(this.layout,o),this.changed()},r.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var o=this.flatCoordinates,a=Fu(o,0,t,this.stride);o[a++]=o[0]+e;for(var s=1,u=this.stride;s<u;++s)o[a++]=o[s];o.length=a,this.changed()},r.prototype.getCoordinates=function(){return null},r.prototype.setCoordinates=function(t,e){},r.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},r.prototype.rotate=function(t,e){var n=this.getCenter(),o=this.getStride();this.setCenter(Bc(n,0,n.length,o,t,e,n)),this.changed()},r.prototype.translate=function(t,e){var n=this.getCenter(),o=this.getStride();this.setCenter(Aa(n,0,n.length,o,t,e,n)),this.changed()},r}(Pa);H2.prototype.transform;var qm=H2,X2=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ti={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},Xv={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},Kv=function(i){X2(r,i);function r(t,e){var n=i.call(this,t)||this;return n.feature=e,n}return r}(ue.a),ZL=function(i){X2(r,i);function r(t){var e=this,n=t;n.stopDown||(n.stopDown=St.a),e=i.call(this,n)||this,e.on,e.once,e.un,e.shouldHandle_=!1,e.downPx_=null,e.downTimeout_,e.lastDragTime_,e.pointerType_,e.freehand_=!1,e.source_=t.source?t.source:null,e.features_=t.features?t.features:null,e.snapTolerance_=t.snapTolerance?t.snapTolerance:12,e.type_=t.type,e.mode_=qL(e.type_),e.stopClick_=!!t.stopClick,e.minPoints_=t.minPoints?t.minPoints:e.mode_===ti.POLYGON?3:2,e.maxPoints_=e.mode_===ti.CIRCLE?2:t.maxPoints?t.maxPoints:1/0,e.finishCondition_=t.finishCondition?t.finishCondition:St.b;var o=t.geometryFunction;if(!o){var a=e.mode_;if(a===ti.CIRCLE)o=function(u,h,d){var E=h||new qm([NaN,NaN]),b=xr(u[0]),I=H(b,xr(u[u.length-1]));return E.setCenterAndRadius(b,Math.sqrt(I)),E};else{var s;a===ti.POINT?s=yn:a===ti.LINE_STRING?s=xi:a===ti.POLYGON&&(s=kn),o=function(u,h,d){return h?a===ti.POLYGON?u[0].length?h.setCoordinates([u[0].concat([u[0][0]])]):h.setCoordinates([]):h.setCoordinates(u):h=new s(u),h}}}return e.geometryFunction_=o,e.dragVertexDelay_=t.dragVertexDelay!==void 0?t.dragVertexDelay:500,e.finishCoordinate_=null,e.sketchFeature_=null,e.sketchPoint_=null,e.sketchCoords_=null,e.sketchLine_=null,e.sketchLineCoords_=null,e.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,e.overlay_=new bl({source:new ec({useSpatialIndex:!1,wrapX:t.wrapX?t.wrapX:!1}),style:t.style?t.style:$L(),updateWhileInteracting:!0}),e.geometryName_=t.geometryName,e.condition_=t.condition?t.condition:$f,e.freehandCondition_,t.freehand?e.freehandCondition_=Zf:e.freehandCondition_=t.freehandCondition?t.freehandCondition:Kc,e.addChangeListener(Yu.ACTIVE,e.updateState_),e}return r.prototype.setMap=function(t){i.prototype.setMap.call(this,t),this.updateState_()},r.prototype.getOverlay=function(){return this.overlay_},r.prototype.handleEvent=function(t){t.originalEvent.type===Dr.a.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_=this.mode_!==ti.POINT&&this.freehandCondition_(t);var e=t.type===tn.POINTERMOVE,n=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===tn.POINTERDRAG){var o=Date.now();o-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,e=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===tn.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(t.coordinate),n=!1):this.freehand_&&t.type===tn.POINTERDOWN?n=!1:e&&this.getPointerCount()<2?(n=t.type===tn.POINTERMOVE,n&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):(t.originalEvent.pointerType==="mouse"||t.type===tn.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(t)):t.type===tn.DBLCLICK&&(n=!1),i.prototype.handleEvent.call(this,t)&&n},r.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new Eo(tn.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},r.prototype.handleUpEvent=function(t){var e=!0;if(this.getPointerCount()===0)if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){var n=!this.finishCoordinate_;n&&this.startDrawing_(t.coordinate),!n&&this.freehand_?this.finishDrawing():!this.freehand_&&(!n||this.mode_===ti.POINT)&&(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing();return!e&&this.stopClick_&&t.preventDefault(),e},r.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,n=t.pixel,o=e[0]-n[0],a=e[1]-n[1],s=o*o+a*a;if(this.shouldHandle_=this.freehand_?s>this.squaredClickTolerance_:s<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},r.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var n=!1,o=[this.finishCoordinate_],a=this.mode_;if(a===ti.POINT)e=!0;else if(a===ti.CIRCLE)e=this.sketchCoords_.length===2;else if(a===ti.LINE_STRING)n=this.sketchCoords_.length>this.minPoints_;else if(a===ti.POLYGON){var s=this.sketchCoords_;n=s[0].length>this.minPoints_,o=[s[0][0],s[0][s[0].length-2]]}if(n)for(var u=this.getMap(),h=0,d=o.length;h<d;h++){var E=o[h],b=u.getPixelFromCoordinate(E),I=t[0]-b[0],M=t[1]-b[1],k=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(I*I+M*M)<=k,e){this.finishCoordinate_=E;break}}}return e},r.prototype.createOrUpdateSketchPoint_=function(t){if(!this.sketchPoint_)this.sketchPoint_=new Er(new yn(t)),this.updateSketchFeatures_();else{var e=this.sketchPoint_.getGeometry();e.setCoordinates(t)}},r.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new Er);var e=t.getLinearRing(0),n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),n.changed()):(n=new xi(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(n))},r.prototype.startDrawing_=function(t){var e=this.getMap().getView().getProjection();this.finishCoordinate_=t,this.mode_===ti.POINT?this.sketchCoords_=t.slice():this.mode_===ti.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Er(new xi(this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new Er,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new Kv(Xv.DRAWSTART,this.sketchFeature_))},r.prototype.modifyDrawing_=function(t){var e=this.getMap(),n=this.sketchFeature_.getGeometry(),o=e.getView().getProjection(),a,s;if(this.mode_===ti.POINT?s=this.sketchCoords_:this.mode_===ti.POLYGON?(a=this.sketchCoords_[0],s=a[a.length-1],this.atFinish_(e.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(a=this.sketchCoords_,s=a[a.length-1]),s[0]=t[0],s[1]=t[1],this.geometryFunction_(this.sketchCoords_,n,o),this.sketchPoint_){var u=this.sketchPoint_.getGeometry();u.setCoordinates(t)}if(n.getType()===Xt.POLYGON&&this.mode_!==ti.POLYGON)this.createOrUpdateCustomSketchLine_(n);else if(this.sketchLineCoords_){var h=this.sketchLine_.getGeometry();h.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},r.prototype.addToDrawing_=function(t){var e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),o,a,s=this.mode_;s===ti.LINE_STRING||s===ti.CIRCLE?(this.finishCoordinate_=t.slice(),a=this.sketchCoords_,a.length>=this.maxPoints_&&(this.freehand_?a.pop():o=!0),a.push(t.slice()),this.geometryFunction_(a,e,n)):s===ti.POLYGON&&(a=this.sketchCoords_[0],a.length>=this.maxPoints_&&(this.freehand_?a.pop():o=!0),a.push(t.slice()),o&&(this.finishCoordinate_=a[0]),this.geometryFunction_(this.sketchCoords_,e,n)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),o&&this.finishDrawing()},r.prototype.removeLastPoint=function(){if(!!this.sketchFeature_){var t=this.sketchFeature_.getGeometry(),e=this.getMap().getView().getProjection(),n,o=this.mode_;if(o===ti.LINE_STRING||o===ti.CIRCLE){if(n=this.sketchCoords_,n.splice(-2,1),n.length>=2){this.finishCoordinate_=n[n.length-2].slice();var a=this.finishCoordinate_.slice();n[n.length-1]=a,this.createOrUpdateSketchPoint_(a)}this.geometryFunction_(n,t,e),t.getType()===Xt.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(o===ti.POLYGON){n=this.sketchCoords_[0],n.splice(-2,1);var s=this.sketchLine_.getGeometry();if(n.length>=2){var a=n[n.length-2].slice();n[n.length-1]=a,this.createOrUpdateSketchPoint_(a)}s.setCoordinates(n),this.geometryFunction_(this.sketchCoords_,t,e)}n.length===1&&this.abortDrawing(),this.updateSketchFeatures_()}},r.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(!!t){var e=this.sketchCoords_,n=t.getGeometry(),o=this.getMap().getView().getProjection();this.mode_===ti.LINE_STRING?(e.pop(),this.geometryFunction_(e,n,o)):this.mode_===ti.POLYGON&&(e[0].pop(),this.geometryFunction_(e,n,o),e=n.getCoordinates()),this.type_===Xt.MULTI_POINT?t.setGeometry(new el([e])):this.type_===Xt.MULTI_LINE_STRING?t.setGeometry(new is([e])):this.type_===Xt.MULTI_POLYGON&&t.setGeometry(new da([e])),this.dispatchEvent(new Kv(Xv.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},r.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},r.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new Kv(Xv.DRAWABORT,t))},r.prototype.appendCoordinates=function(t){var e=this.mode_,n=!this.sketchFeature_;n&&this.startDrawing_(t[0]);var o;if(e===ti.LINE_STRING||e===ti.CIRCLE)o=this.sketchCoords_;else if(e===ti.POLYGON)o=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;n&&o.shift(),o.pop();for(var a=0;a<t.length;a++)this.addToDrawing_(t[a]);var s=t[t.length-1];this.addToDrawing_(s),this.modifyDrawing_(s)},r.prototype.extend=function(t){var e=t.getGeometry(),n=e;this.sketchFeature_=t,this.sketchCoords_=n.getCoordinates();var o=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=o.slice(),this.sketchCoords_.push(o.slice()),this.sketchPoint_=new Er(new yn(o)),this.updateSketchFeatures_(),this.dispatchEvent(new Kv(Xv.DRAWSTART,this.sketchFeature_))},r.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},r.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();(!t||!e)&&this.abortDrawing(),this.overlay_.setMap(e?t:null)},r}(Vo);function $L(){var i=Uy();return function(r,t){return i[r.getGeometry().getType()]}}function qL(i){switch(i){case Xt.POINT:case Xt.MULTI_POINT:return ti.POINT;case Xt.LINE_STRING:case Xt.MULTI_LINE_STRING:return ti.LINE_STRING;case Xt.POLYGON:case Xt.MULTI_POLYGON:return ti.POLYGON;case Xt.CIRCLE:return ti.CIRCLE;default:throw new Error("Invalid type: "+i)}}var Jm=ZL,K2=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Z2=0,zp=1,$2=[0,0,0,0],gh=[],Qm={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},t0=function(i){K2(r,i);function r(t,e,n){var o=i.call(this,t)||this;return o.features=e,o.mapBrowserEvent=n,o}return r}(ue.a),JL=function(i){K2(r,i);function r(t){var e=i.call(this,t)||this;e.on,e.once,e.un,e.boundHandleFeatureChange_=e.handleFeatureChange_.bind(e),e.condition_=t.condition?t.condition:fa,e.defaultDeleteCondition_=function(o){return Wd(o)&&Jl(o)},e.deleteCondition_=t.deleteCondition?t.deleteCondition:e.defaultDeleteCondition_,e.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:Zf,e.vertexFeature_=null,e.vertexSegments_=null,e.lastPixel_=[0,0],e.ignoreNextSingleClick_=!1,e.featuresBeingModified_=null,e.rBush_=new xv,e.pixelTolerance_=t.pixelTolerance!==void 0?t.pixelTolerance:10,e.snappedToVertex_=!1,e.changingFeature_=!1,e.dragSegments_=[],e.overlay_=new bl({source:new ec({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:tA(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.SEGMENT_WRITERS_={Point:e.writePointGeometry_.bind(e),LineString:e.writeLineStringGeometry_.bind(e),LinearRing:e.writeLineStringGeometry_.bind(e),Polygon:e.writePolygonGeometry_.bind(e),MultiPoint:e.writeMultiPointGeometry_.bind(e),MultiLineString:e.writeMultiLineStringGeometry_.bind(e),MultiPolygon:e.writeMultiPolygonGeometry_.bind(e),Circle:e.writeCircleGeometry_.bind(e),GeometryCollection:e.writeGeometryCollectionGeometry_.bind(e)},e.source_=null,e.hitDetection_=null;var n;if(t.features?n=t.features:t.source&&(e.source_=t.source,n=new hr(e.source_.getFeatures()),e.source_.addEventListener(Fo.ADDFEATURE,e.handleSourceAdd_.bind(e)),e.source_.addEventListener(Fo.REMOVEFEATURE,e.handleSourceRemove_.bind(e))),!n)throw new Error("The modify interaction requires features, a source or a layer");return t.hitDetection&&(e.hitDetection_=t.hitDetection),e.features_=n,e.features_.forEach(e.addFeature_.bind(e)),e.features_.addEventListener(ln.ADD,e.handleFeatureAdd_.bind(e)),e.features_.addEventListener(ln.REMOVE,e.handleFeatureRemove_.bind(e)),e.lastPointerEvent_=null,e.delta_=[0,0],e.snapToPointer_=t.snapToPointer===void 0?!e.hitDetection_:t.snapToPointer,e}return r.prototype.addFeature_=function(t){var e=t.getGeometry();if(e){var n=this.SEGMENT_WRITERS_[e.getType()];n&&n(t,e)}var o=this.getMap();o&&o.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,o),t.addEventListener(Dr.a.CHANGE,this.boundHandleFeatureChange_)},r.prototype.willModifyFeatures_=function(t,e){if(!this.featuresBeingModified_){this.featuresBeingModified_=new hr;for(var n=this.featuresBeingModified_.getArray(),o=0,a=e.length;o<a;++o)for(var s=e[o],u=0,h=s.length;u<h;++u){var d=s[u].feature;d&&n.indexOf(d)===-1&&this.featuresBeingModified_.push(d)}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new t0(Qm.MODIFYSTART,this.featuresBeingModified_,t))}},r.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(Dr.a.CHANGE,this.boundHandleFeatureChange_)},r.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,n=[];e.forEach(function(u){t===u.feature&&n.push(u)});for(var o=n.length-1;o>=0;--o){for(var a=n[o],s=this.dragSegments_.length-1;s>=0;--s)this.dragSegments_[s][0]===a&&this.dragSegments_.splice(s,1);e.remove(a)}},r.prototype.setActive=function(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),i.prototype.setActive.call(this,t)},r.prototype.setMap=function(t){this.overlay_.setMap(t),i.prototype.setMap.call(this,t)},r.prototype.getOverlay=function(){return this.overlay_},r.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},r.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},r.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},r.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},r.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},r.prototype.writePointGeometry_=function(t,e){var n=e.getCoordinates(),o={feature:t,geometry:e,segment:[n,n]};this.rBush_.insert(e.getExtent(),o)},r.prototype.writeMultiPointGeometry_=function(t,e){for(var n=e.getCoordinates(),o=0,a=n.length;o<a;++o){var s=n[o],u={feature:t,geometry:e,depth:[o],index:o,segment:[s,s]};this.rBush_.insert(e.getExtent(),u)}},r.prototype.writeLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),o=0,a=n.length-1;o<a;++o){var s=n.slice(o,o+2),u={feature:t,geometry:e,index:o,segment:s};this.rBush_.insert(At(s),u)}},r.prototype.writeMultiLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),o=0,a=n.length;o<a;++o)for(var s=n[o],u=0,h=s.length-1;u<h;++u){var d=s.slice(u,u+2),E={feature:t,geometry:e,depth:[o],index:u,segment:d};this.rBush_.insert(At(d),E)}},r.prototype.writePolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),o=0,a=n.length;o<a;++o)for(var s=n[o],u=0,h=s.length-1;u<h;++u){var d=s.slice(u,u+2),E={feature:t,geometry:e,depth:[o],index:u,segment:d};this.rBush_.insert(At(d),E)}},r.prototype.writeMultiPolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),o=0,a=n.length;o<a;++o)for(var s=n[o],u=0,h=s.length;u<h;++u)for(var d=s[u],E=0,b=d.length-1;E<b;++E){var I=d.slice(E,E+2),M={feature:t,geometry:e,depth:[u,o],index:E,segment:I};this.rBush_.insert(At(I),M)}},r.prototype.writeCircleGeometry_=function(t,e){var n=e.getCenter(),o={feature:t,geometry:e,index:Z2,segment:[n,n]},a={feature:t,geometry:e,index:zp,segment:[n,n]},s=[o,a];o.featureSegments=s,a.featureSegments=s,this.rBush_.insert(Ee(n),o);var u=e;this.rBush_.insert(u.getExtent(),a)},r.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var n=e.getGeometriesArray(),o=0;o<n.length;++o){var a=n[o],s=this.SEGMENT_WRITERS_[a.getType()];s(t,a)}},r.prototype.createOrUpdateVertexFeature_=function(t,e,n){var o=this.vertexFeature_;if(!o)o=new Er(new yn(t)),this.vertexFeature_=o,this.overlay_.getSource().addFeature(o);else{var a=o.getGeometry();a.setCoordinates(t)}return o.set("features",e),o.set("geometries",n),o},r.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;this.lastPointerEvent_=t;var e;return!t.map.getView().getInteracting()&&t.type==tn.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(t.type!=tn.SINGLECLICK||!this.ignoreNextSingleClick_?e=this.removePoint():e=!0),t.type==tn.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),i.prototype.handleEvent.call(this,t)&&!e},r.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t,this.dragSegments_);for(var e=[t.coordinate[0]+this.delta_[0],t.coordinate[1]+this.delta_[1]],n=[],o=[],a=0,s=this.dragSegments_.length;a<s;++a){var u=this.dragSegments_[a],h=u[0],d=h.feature;n.indexOf(d)===-1&&n.push(d);var E=h.geometry;o.indexOf(E)===-1&&o.push(E);for(var b=h.depth,I=void 0,M=h.segment,k=u[1];e.length<E.getStride();)e.push(M[k][e.length]);switch(E.getType()){case Xt.POINT:I=e,M[0]=e,M[1]=e;break;case Xt.MULTI_POINT:I=E.getCoordinates(),I[h.index]=e,M[0]=e,M[1]=e;break;case Xt.LINE_STRING:I=E.getCoordinates(),I[h.index+k]=e,M[k]=e;break;case Xt.MULTI_LINE_STRING:I=E.getCoordinates(),I[b[0]][h.index+k]=e,M[k]=e;break;case Xt.POLYGON:I=E.getCoordinates(),I[b[0]][h.index+k]=e,M[k]=e;break;case Xt.MULTI_POLYGON:I=E.getCoordinates(),I[b[1]][b[0]][h.index+k]=e,M[k]=e;break;case Xt.CIRCLE:if(M[0]=e,M[1]=e,h.index===Z2)this.changingFeature_=!0,E.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0;var et=t.map.getView().getProjection(),ht=st(xr(E.getCenter()),xr(e)),Lt=Bs();if(Lt){var It=E.clone().transform(Lt,et);It.setRadius(ht),ht=It.transform(et,Lt).getRadius()}E.setRadius(ht),this.changingFeature_=!1}break}I&&this.setGeometryCoordinates_(E,I)}this.createOrUpdateVertexFeature_(e,n,o)},r.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;var e=t.coordinate;this.handlePointerAtPixel_(t.pixel,t.map,e),this.dragSegments_.length=0,this.featuresBeingModified_=null;var n=this.vertexFeature_;if(n){var o=t.map.getView().getProjection(),a=[],s=n.getGeometry().getCoordinates(),u=At([s]),h=this.rBush_.getInExtent(u),d={};h.sort(QL);for(var E=0,b=h.length;E<b;++E){var I=h[E],M=I.segment,k=Object(nt.c)(I.geometry),et=I.depth;if(et&&(k+="-"+et.join("-")),d[k]||(d[k]=new Array(2)),I.geometry.getType()===Xt.CIRCLE&&I.index===zp){var ht=J2(e,I,o);D(ht,s)&&!d[k][0]&&(this.dragSegments_.push([I,0]),d[k][0]=I);continue}if(D(M[0],s)&&!d[k][0]){this.dragSegments_.push([I,0]),d[k][0]=I;continue}if(D(M[1],s)&&!d[k][1]){if((I.geometry.getType()===Xt.LINE_STRING||I.geometry.getType()===Xt.MULTI_LINE_STRING)&&d[k][0]&&d[k][0].index===0)continue;this.dragSegments_.push([I,1]),d[k][1]=I;continue}Object(nt.c)(M)in this.vertexSegments_&&!d[k][0]&&!d[k][1]&&this.insertVertexCondition_(t)&&a.push(I)}a.length&&this.willModifyFeatures_(t,[a]);for(var Lt=a.length-1;Lt>=0;--Lt)this.insertVertex_(a[Lt],s)}return!!this.vertexFeature_},r.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var n=this.dragSegments_[e][0],o=n.geometry;if(o.getType()===Xt.CIRCLE){var a=o.getCenter(),s=n.featureSegments[0],u=n.featureSegments[1];s.segment[0]=a,s.segment[1]=a,u.segment[0]=a,u.segment[1]=a,this.rBush_.update(Ee(a),s);var h=o,d=Bs();if(d){var E=t.map.getView().getProjection();h=h.clone().transform(d,E),h=$a(h).transform(E,d)}this.rBush_.update(h.getExtent(),u)}else this.rBush_.update(At(n.segment),n)}return this.featuresBeingModified_&&(this.dispatchEvent(new t0(Qm.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null),!1},r.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map,t.coordinate)},r.prototype.handlePointerAtPixel_=function(t,e,n){var o=this,a=n||e.getCoordinateFromPixel(t),s=e.getView().getProjection(),u=function(Ar,Tr){return q2(a,Ar,s)-q2(a,Tr,s)},h,d;if(this.hitDetection_){var E=typeof this.hitDetection_=="object"?function(Ar){return Ar===o.hitDetection_}:void 0;e.forEachFeatureAtPixel(t,function(Ar,Tr,kr){if(kr=kr||Ar.getGeometry(),kr.getType()===Xt.POINT&&Object(vr.f)(o.features_.getArray(),Ar)){d=kr;var Fr=kr.getFlatCoordinates().slice(0,2);h=[{feature:Ar,geometry:kr,segment:[Fr,Fr]}]}return!0},{layerFilter:E})}if(!h){var b=La(Ee(a,$2)),I=e.getView().getResolution()*this.pixelTolerance_,M=Mc(yt(b,I,$2));h=this.rBush_.getInExtent(M)}if(h&&h.length>0){var k=h.sort(u)[0],et=k.segment,ht=J2(a,k,s),Lt=e.getPixelFromCoordinate(ht),It=st(t,Lt);if(d||It<=this.pixelTolerance_){var wt={};if(wt[Object(nt.c)(et)]=!0,this.snapToPointer_||(this.delta_[0]=ht[0]-a[0],this.delta_[1]=ht[1]-a[1]),k.geometry.getType()===Xt.CIRCLE&&k.index===zp)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(ht,[k.feature],[k.geometry]);else{var oe=e.getPixelFromCoordinate(et[0]),se=e.getPixelFromCoordinate(et[1]),de=H(Lt,oe),Se=H(Lt,se);It=Math.sqrt(Math.min(de,Se)),this.snappedToVertex_=It<=this.pixelTolerance_,this.snappedToVertex_&&(ht=de>Se?et[1]:et[0]),this.createOrUpdateVertexFeature_(ht,[k.feature],[k.geometry]);var Ie={};Ie[Object(nt.c)(k.geometry)]=!0;for(var He=1,De=h.length;He<De;++He){var ye=h[He].segment;if(D(et[0],ye[0])&&D(et[1],ye[1])||D(et[0],ye[1])&&D(et[1],ye[0])){var Qe=Object(nt.c)(h[He].geometry);Qe in Ie||(Ie[Qe]=!0,wt[Object(nt.c)(ye)]=!0)}else break}}this.vertexSegments_=wt;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},r.prototype.insertVertex_=function(t,e){for(var n=t.segment,o=t.feature,a=t.geometry,s=t.depth,u=t.index,h;e.length<a.getStride();)e.push(0);switch(a.getType()){case Xt.MULTI_LINE_STRING:h=a.getCoordinates(),h[s[0]].splice(u+1,0,e);break;case Xt.POLYGON:h=a.getCoordinates(),h[s[0]].splice(u+1,0,e);break;case Xt.MULTI_POLYGON:h=a.getCoordinates(),h[s[1]][s[0]].splice(u+1,0,e);break;case Xt.LINE_STRING:h=a.getCoordinates(),h.splice(u+1,0,e);break;default:return}this.setGeometryCoordinates_(a,h);var d=this.rBush_;d.remove(t),this.updateSegmentIndices_(a,u,s,1);var E={segment:[n[0],e],feature:o,geometry:a,depth:s,index:u};d.insert(At(E.segment),E),this.dragSegments_.push([E,1]);var b={segment:[e,n[1]],feature:o,geometry:a,depth:s,index:u+1};d.insert(At(b.segment),b),this.dragSegments_.push([b,0]),this.ignoreNextSingleClick_=!0},r.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=tn.POINTERDRAG){var t=this.lastPointerEvent_;this.willModifyFeatures_(t,this.dragSegments_);var e=this.removeVertex_();return this.dispatchEvent(new t0(Qm.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null,e}return!1},r.prototype.removeVertex_=function(){var t=this.dragSegments_,e={},n=!1,o,a,s,u,h,d,E,b,I,M,k;for(h=t.length-1;h>=0;--h)s=t[h],M=s[0],k=Object(nt.c)(M.feature),M.depth&&(k+="-"+M.depth.join("-")),k in e||(e[k]={}),s[1]===0?(e[k].right=M,e[k].index=M.index):s[1]==1&&(e[k].left=M,e[k].index=M.index+1);for(k in e){switch(I=e[k].right,E=e[k].left,d=e[k].index,b=d-1,E!==void 0?M=E:M=I,b<0&&(b=0),u=M.geometry,a=u.getCoordinates(),o=a,n=!1,u.getType()){case Xt.MULTI_LINE_STRING:a[M.depth[0]].length>2&&(a[M.depth[0]].splice(d,1),n=!0);break;case Xt.LINE_STRING:a.length>2&&(a.splice(d,1),n=!0);break;case Xt.MULTI_POLYGON:o=o[M.depth[1]];case Xt.POLYGON:o=o[M.depth[0]],o.length>4&&(d==o.length-1&&(d=0),o.splice(d,1),n=!0,d===0&&(o.pop(),o.push(o[0]),b=o.length-1));break}if(n){this.setGeometryCoordinates_(u,a);var et=[];if(E!==void 0&&(this.rBush_.remove(E),et.push(E.segment[0])),I!==void 0&&(this.rBush_.remove(I),et.push(I.segment[1])),E!==void 0&&I!==void 0){var ht={depth:M.depth,feature:M.feature,geometry:M.geometry,index:b,segment:et};this.rBush_.insert(At(ht.segment),ht)}this.updateSegmentIndices_(u,d,M.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.length=0}}return n},r.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},r.prototype.updateSegmentIndices_=function(t,e,n,o){this.rBush_.forEachInExtent(t.getExtent(),function(a){a.geometry===t&&(n===void 0||a.depth===void 0||Object(vr.b)(a.depth,n))&&a.index>e&&(a.index+=o)})},r}(Vo);function QL(i,r){return i.index-r.index}function q2(i,r,t){var e=r.geometry;if(e.getType()===Xt.CIRCLE){var n=e;if(r.index===zp){var o=Bs();o&&(n=n.clone().transform(o,t));var a=H(n.getCenter(),xr(i)),s=Math.sqrt(a)-n.getRadius();return s*s}}var u=xr(i);return gh[0]=xr(r.segment[0]),gh[1]=xr(r.segment[1]),ut(u,gh)}function J2(i,r,t){var e=r.geometry;if(e.getType()===Xt.CIRCLE&&r.index===zp){var n=e,o=Bs();return o&&(n=n.clone().transform(o,t)),ms(n.getClosestPoint(xr(i)))}var a=xr(i);return gh[0]=xr(r.segment[0]),gh[1]=xr(r.segment[1]),ms(C(a,gh))}function tA(){var i=Uy();return function(r,t){return i[Xt.POINT]}}var e0=JL,eA={name:"ol-style",setup:function(r){var t=Object(N.inject)("stylable",null),e=Yt(r),n=e.properties,o=Object(N.computed)(function(){return new Yo(n)}),a=function(h){if(t instanceof Jm||t instanceof e0){t.getOverlay().setStyle(h),t.value.dispatchEvent("styleChanged");return}try{t.value.setStyle(h),t.value.changed(),t.value.dispatchEvent("styleChanged")}catch{t.value.style_=h,t.value.values_.style=h,t.value.changed(),t.value.dispatchEvent("styleChanged")}},s=Object(N.computed)(function(){return function(u){return n.overrideStyleFunction!=null&&n.overrideStyleFunction(u,o.value),o.value}});return Object(N.watch)(n,function(){n.overrideStyleFunction==null?a(o.value):a(s.value)}),Object(N.onMounted)(function(){n.overrideStyleFunction==null?a(o.value):a(s.value)}),Object(N.onUnmounted)(function(){a(null)}),Object(N.provide)("style",o),Object(N.provide)("styledObj",t),{style:o}},props:{zIndex:{type:Number},overrideStyleFunction:{type:Function}}},r0=xt()(eA,[["render",XL]]);function rA(i,r,t,e,n,o){return Object(N.openBlock)(),Object(N.createBlock)("div",null,[Object(N.renderSlot)(i.$slots,"default")])}var nA={name:"ol-style-circle",setup:function(r){var t=Object(N.inject)("style",null),e=Object(N.inject)("styledObj",null),n=Yt(r),o=n.properties,a=function(d){return new Dp(ee(ee({},d),{},{fill:new zo,stroke:new To}))},s=Object(N.computed)(function(){return a(o)}),u=function(){t.value.setImage(null),t.value.setImage(s.value),e.value.changed()};Object(N.watch)(o,function(){u()}),Object(N.watch)(t,function(){u()}),Object(N.onMounted)(function(){t.value.setImage(s.value)}),Object(N.onUnmounted)(function(){t.value.setImage(null)}),Object(N.provide)("circle",s),Object(N.provide)("styledObj",e)},props:{radius:{type:Number},scale:{type:Number}}},Q2=xt()(nA,[["render",rA]]);function iA(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var oA={name:"ol-style-stroke",setup:function(r){var t=Object(N.inject)("style",null),e=Object(N.inject)("circle",null),n=Object(N.inject)("styledObj",null),o=Yt(r),a=o.properties;if(t!=null&&e==null){var s=new To(a);t.value.setStroke(s);var u=function(){t.value.setStroke(null),s=new To(a),t.value.setStroke(s)};Object(N.watch)(a,function(){u()}),Object(N.watch)(t,function(){u()}),Object(N.onMounted)(function(){t.value.setStroke(s)}),Object(N.onUnmounted)(function(){t.value.setStroke(null)})}else if(e!=null){var h=function(E){e.value.getStroke().setColor(E.color),e.value.getStroke().setLineCap(E.lineCap),e.value.getStroke().setLineDash(E.lineDash),e.value.getStroke().setLineDashOffset(E.lineDashOffset),e.value.getStroke().setLineJoin(E.lineJoin),e.value.getStroke().setMiterLimit(E.miterLimit),e.value.getStroke().setWidth(E.width),e.value.setRadius(e.value.getRadius());try{n.value.changed()}catch{n.changed()}};h(a),Object(N.watch)(a,function(d){h(d)}),Object(N.watch)(e,function(){h(a)})}},props:{color:{type:String},lineCap:{type:String,default:"round"},lineJoin:{type:String,default:"round"},lineDash:{type:Array},lineDashOffset:{type:Number,default:0},miterLimit:{type:Number,default:10},width:{type:Number,default:1}}},n0=xt()(oA,[["render",iA]]);function aA(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var sA={name:"ol-style-fill",setup:function(r){var t=Object(N.inject)("style",null),e=Object(N.inject)("circle",null),n=Object(N.inject)("styledObj",null),o=Yt(r),a=o.properties;if(t!=null&&e==null){var s=new zo(a);t.value.setFill(s);var u=function(){t.value.setFill(null),s=new zo(a),t.value.setFill(s)};Object(N.watch)(a,function(){u()}),Object(N.watch)(t,function(){u()}),Object(N.onMounted)(function(){t.value.setFill(s)}),Object(N.onUnmounted)(function(){t.value.setFill(null)})}else if(e!=null){var h=function(E){e.value.getFill().setColor(E),e.value.setRadius(e.value.getRadius());try{n.value.changed()}catch{n.changed()}};h(a.color),Object(N.watch)(a,function(){h(a.color)}),Object(N.watch)(e,function(){h(a.color)})}},props:{color:{type:String}}},i0=xt()(sA,[["render",aA]]);function lA(i,r,t,e,n,o){return Object(N.createCommentVNode)("",!0)}var uA={name:"ol-style-icon",setup:function(r){var t=Object(N.inject)("style",null),e=Object(N.inject)("styledObj",null),n=Yt(r),o=n.properties,a=Object(N.computed)(function(){var u=new Ev(o);return u.load(),u}),s=function(){t.value.setImage(null),t.value.setImage(a.value),e.value.changed()};Object(N.watch)(o,function(){s()}),Object(N.watch)(t,function(){s()}),Object(N.onMounted)(function(){t.value.setImage(a.value)}),Object(N.onUnmounted)(function(){t.value.setImage(null)})},props:{anchor:{type:Array},anchorOrigin:{type:String,default:"top-left"},anchorXUnits:{type:String,default:"fraction"},color:{type:String},crossOrigin:{type:String},img:{type:[HTMLImageElement,HTMLCanvasElement]},offset:{type:Array,default:function(){return[0,0]}},displacement:{type:Array,default:function(){return[0,0]}},offsetOrigin:{type:String,default:"top-left"},opacity:{type:Number,default:1},scale:{type:Number,default:1},rotateWithView:{type:Boolean,default:!1},rotation:{type:Number,default:0},size:{type:Array},imgSize:{type:Array},src:{type:String}}},o0=xt()(uA,[["render",lA]]);function cA(i,r,t,e,n,o){return Object(N.openBlock)(),Object(N.createBlock)("div",null,[Object(N.renderSlot)(i.$slots,"default")])}var fA={name:"ol-style-text",setup:function(r){var t=Object(N.inject)("style",null),e=Object(N.inject)("styledObj",null),n=Yt(r),o=n.properties,a=function(d){return new nf(ee(ee({},d),{},{fill:new zo,stroke:new To}))},s=Object(N.computed)(function(){return a(o)}),u=function(){t.value.setText(null),t.value.setText(s.value),e.value.changed()};Object(N.watch)(o,function(){u()}),Object(N.watch)(t,function(){u()}),Object(N.onMounted)(function(){t.value.setText(s.value)}),Object(N.onUnmounted)(function(){t.value.setText(null)}),Object(N.provide)("style",s),Object(N.provide)("styledObj",e)},props:{font:{type:String},maxAngle:{type:Number,default:Math.PI/4},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},overflow:{type:Boolean,default:!1},placement:{type:String,default:"point"},scale:{type:Number},rotateWithView:{type:Boolean,default:!1},rotation:{type:Number,default:0},text:{type:String},textAlign:{type:String},textBaseline:{type:String,default:"middle"},padding:{type:Array,default:function(){return[0,0,0,0]}}}},a0=xt()(fA,[["render",cA]]);function hA(i,r,t,e,n,o){return Object(N.openBlock)(),Object(N.createBlock)("div",null,[Object(N.renderSlot)(i.$slots,"default")])}var yh=function(i,r){var t=i[0]-r[0],e=i[1]-r[1];return Math.sqrt(t*t+e*e)},Yp=function(i,r){return i[0]==r[0]&&i[1]==r[1]},t5;(function(){function i(t,e){var n;for(let o=t.length-1;o>0;o--)(t[o][0]>e&&t[o-1][0]<e||t[o][0]<e&&t[o-1][0]>e)&&(n=[e,(e-t[o][0])/(t[o-1][0]-t[o][0])*(t[o-1][1]-t[o][1])+t[o][1]],t.splice(o,0,n))}function r(t,e){var n;for(let o=t.length-1;o>0;o--)(t[o][1]>e&&t[o-1][1]<e||t[o][1]<e&&t[o-1][1]>e)&&(n=[(e-t[o][1])/(t[o-1][1]-t[o][1])*(t[o-1][0]-t[o][0])+t[o][0],e],t.splice(o,0,n))}t5=function(t,e){var n=e.getType()==="Polygon";if(!n&&e.getType()!=="MultiPolygon")return null;var o=e.getCoordinates();return n&&(o=[o]),o.forEach(function(a){a.forEach(function(s){i(s,t[0]),i(s,t[2]),r(s,t[1]),r(s,t[3])})}),o.forEach(function(a){a.forEach(function(s){s.forEach(function(u){u[0]<t[0]?u[0]=t[0]:u[0]>t[2]&&(u[0]=t[2]),u[1]<t[1]?u[1]=t[1]:u[1]>t[3]&&(u[1]=t[3])})})}),n?new kn(o[0]):new da(o)}})();var e5=function(i,r,t,e){var n=[];e!==!1&&n.push(i);var o=yh(i,r);if(o){var a=Math.round(o/t);if(a>1)for(var s=(r[0]-i[0])/a,u=(r[1]-i[1])/a,h=1;h<a;h++)n.push([i[0]+s*h,i[1]+u*h])}return n.push(r),n};kn.prototype.sampleAt=function(i){var r=this.getCoordinates(),t=[];return r.forEach(function(e){for(var n=[],o=1;o<e.length;o++)n=n.concat(e5(e[o-1],e[o],i,o===1));t.push(n)}),new kn(t)},da.prototype.sampleAt=function(i){var r=this.getCoordinates(),t=[];return r.forEach(function(e){var n=[];t.push(n),e.forEach(function(o){for(var a=[],s=1;s<o.length;s++)a=a.concat(e5(o[s-1],o[s],i,s===1));n.push(a)})}),new da(t)},qm.prototype.intersection=function(i,r){if(i.sampleAt){var t=yt(this.getCenter().concat(this.getCenter()),this.getRadius());i=t5(t,i),i=i.simplify(r);var e=this.getCenter(),n=this.getRadius(),o=i.sampleAt(r).getCoordinates();switch(i.getType()){case"Polygon":o=[o];case"MultiPolygon":{var a=!1,s=[];return o.forEach(function(u){var h=[];s.push(h),u.forEach(function(d){var E=[];h.push(E),d.forEach(function(b){var I=yh(e,b);I>n?(a=!0,E.push([e[0]+n/I*(b[0]-e[0]),e[1]+n/I*(b[1]-e[1])])):E.push(b)})})}),a?i.getType()==="Polygon"?new kn(s[0]):new da(s):i}}}else console.warn("[ol/geom/Circle~intersection] Unsupported geometry type: "+i.getType());return i},xi.prototype.splitAt=function(i,r){var t;if(!i)return[this];if(r||(r=1e-10),i.length&&i[0].length){var e=[this];for(t=0;t<i.length;t++){for(var n=[],o=0;o<e.length;o++){var a=e[o].splitAt(i[t],r);n=n.concat(a)}e=n}return e}if(Yp(i,this.getFirstCoordinate())||Yp(i,this.getLastCoordinate()))return[this];var s=this.getCoordinates(),u=[s[0]],h=[];for(t=0;t<s.length-1;t++)if(!Yp(s[t],s[t+1])){if(Yp(i,s[t+1]))u.push(s[t+1]),h.push(new xi(u)),u=[];else if(!Yp(i,s[t])){var d,E,b=!1;s[t][0]==s[t+1][0]?(d=(s[t][1]-i[1])/(s[t][1]-s[t+1][1]),b=s[t][0]==i[0]&&0<d&&d<=1):s[t][1]==s[t+1][1]?(d=(s[t][0]-i[0])/(s[t][0]-s[t+1][0]),b=s[t][1]==i[1]&&0<d&&d<=1):(d=(s[t][0]-i[0])/(s[t][0]-s[t+1][0]),E=(s[t][1]-i[1])/(s[t][1]-s[t+1][1]),b=Math.abs(d-E)<=r&&0<d&&d<=1),b&&(u.push(i),h.push(new xi(u)),u=[i])}u.push(s[t+1])}return u.length>1&&h.push(new xi(u)),h.length?h:[this]};var po=function(i){i||(i={}),Yo.call(this,{renderer:this._render.bind(this),stroke:i.stroke,text:i.text,zIndex:i.zIndex,geometry:i.geometry}),this._visible=i.visible!==!1,typeof i.width=="function"?this._widthFn=i.width:this.setWidth(i.width),this.setWidth2(i.width2),typeof i.color=="function"?this._colorFn=i.color:this.setColor(i.color),this.setColor2(i.color2),this.setLineCap(i.lineCap),this.setArrow(i.arrow),this.setArrowSize(i.arrowSize),this.setArrowColor(i.arrowColor),this._offset=[0,0],this.setOffset(i.offset0,0),this.setOffset(i.offset1,1)};yi(po,Yo),po.prototype.setWidth=function(i){this._width=i||0},po.prototype.setWidth2=function(i){this._width2=i},po.prototype.getOffset=function(i){return this._offset[i]},po.prototype.setOffset=function(i,r){switch(i=Math.max(0,parseFloat(i)),r){case 0:{this._offset[0]=i;break}case 1:{this._offset[1]=i;break}}},po.prototype.setLineCap=function(i){this._lineCap=i==="round"?"round":"butt"},po.prototype.getWidth=function(i,r){if(this._widthFn)return this._widthFn(i,r);var t=typeof this._width2=="number"?this._width2:this._width;return this._width+(t-this._width)*r},po.prototype.setColor=function(i){try{this._color=Ea(i)}catch{this._color=[0,0,0,1]}},po.prototype.setColor2=function(i){try{this._color2=Ea(i)}catch{this._color2=null}},po.prototype.setArrowColor=function(i){try{this._acolor=eo(i)}catch{this._acolor=null}},po.prototype.getColor=function(i,r){if(this._colorFn)return eo(this._colorFn(i,r));var t=this._color,e=this._color2||this._color;return"rgba("+ +Math.round(t[0]+(e[0]-t[0])*r)+","+Math.round(t[1]+(e[1]-t[1])*r)+","+Math.round(t[2]+(e[2]-t[2])*r)+","+(t[3]+(e[3]-t[3])*r)+")"},po.prototype.getArrow=function(){return this._arrow},po.prototype.setArrow=function(i){this._arrow=parseInt(i),(this._arrow<-1||this._arrow>2)&&(this._arrow=0)},po.prototype.getArrowSize=function(){return this._arrowSize||[16,16]},po.prototype.setArrowSize=function(i){Array.isArray(i)?this._arrowSize=i:typeof i=="number"&&(this._arrowSize=[i,i])},po.prototype.drawArrow=function(i,r,t,e,n){var o=this.getArrowSize()[0]*n,a=yh(r,t),s=(r[0]-t[0])/a,u=(r[1]-t[1])/a;e=Math.max(this.getArrowSize()[1]/2,e/2)*n,i.beginPath(),i.moveTo(r[0],r[1]),i.lineTo(r[0]-o*s+e*u,r[1]-o*u-e*s),i.lineTo(r[0]-o*s-e*u,r[1]-o*u+e*s),i.lineTo(r[0],r[1]),i.fill()},po.prototype._render=function(i,r){if(r.geometry.getType()==="LineString"){var t,e,n,o=r.context;if(!this._visible){var a=r.pixelRatio/r.resolution,s=Math.cos(r.rotation),u=Math.sin(r.rotation);e=r.geometry.getCoordinates();var h=i[0][0]-e[0][0]*a*s-e[0][1]*a*u,d=i[0][1]-e[0][0]*a*u+e[0][1]*a*s;for(i=[],t=0;n=e[t];t++)i[t]=[h+n[0]*a*s+n[1]*a*u,d+n[0]*a*u-n[1]*a*s,n[2]]}var E=this.getArrowSize()[0]*r.pixelRatio;o.save(),this.getOffset(0)&&this._splitAsize(i,this.getOffset(0)*r.pixelRatio),this.getOffset(1)&&this._splitAsize(i,this.getOffset(1)*r.pixelRatio,!0),i.length>1&&(this.getArrow()===-1||this.getArrow()===2)&&(n=this._splitAsize(i,E),this._acolor?o.fillStyle=this._acolor:o.fillStyle=this.getColor(r.feature,0),this.drawArrow(o,n[0],n[1],this.getWidth(r.feature,0),r.pixelRatio)),i.length>1&&this.getArrow()>0&&(n=this._splitAsize(i,E,!0),this._acolor?o.fillStyle=this._acolor:o.fillStyle=this.getColor(r.feature,1),this.drawArrow(o,n[0],n[1],this.getWidth(r.feature,1),r.pixelRatio));var b=this._splitInto(i,255,2),I=0,M=b.length;if(o.lineJoin="round",o.lineCap=this._lineCap||"butt",b.length>1)for(I=0;I<b.length;I++){var k=I/M;for(e=b[I],o.lineWidth=this.getWidth(r.feature,k)*r.pixelRatio,o.strokeStyle=this.getColor(r.feature,k),o.beginPath(),o.moveTo(e[0][0],e[0][1]),t=1;n=e[t];t++)o.lineTo(n[0],n[1]);o.stroke()}o.restore()}},po.prototype._splitAsize=function(i,r,t){var e,n,o,a,s=0;for(t?o=i.pop():o=i.shift(),e=o;i.length;){if(t?n=i.pop():n=i.shift(),a=yh(e,n),s+a>r){e=[e[0]+(n[0]-e[0])*(r-s)/a,e[1]+(n[1]-e[1])*(r-s)/a],a=yh(e,o),t?(i.push(n),i.push(e),i.push([e[0]+(o[0]-e[0])/a,e[1]+(o[1]-e[1])/a])):(i.unshift(n),i.unshift(e),i.unshift([e[0]+(o[0]-e[0])/a,e[1]+(o[1]-e[1])/a]));break}s+=a,e=n}return[o,e]},po.prototype._splitInto=function(i,r,t){var e,n,o=[],a,s=0;for(e=1;n=i[e];e++)s+=yh(i[e-1],n);var u=Math.max(t||2,s/(r||255)),h=i[0];s=0;var d=[h];for(e=1,n=i[1];e<i.length;){var E=n[0]-h[0],b=n[1]-h[1];if(a=Math.sqrt(E*E+b*b),s+a>u){var I=(u-s)/a;d.push([h[0]+E*I,h[1]+b*I]),o.push(d),h=[h[0]+E*I*.9,h[1]+b*I*.9],d=[h],s=0}else s+=a,h=n,d.push(h),e++,n=i[e]}return o.push(d),o};var pA=po,dA={name:"ol-style-flowline",setup:function(r){var t=Object(N.inject)("stylable",null),e=Yt(r),n=e.properties,o=Object(N.computed)(function(){return new pA(n)}),a=function(h){if(t instanceof Jm||t instanceof e0){t.getOverlay().setStyle(h),t.value.dispatchEvent("styleChanged");return}try{t.value.setStyle(h),t.value.changed(),t.value.dispatchEvent("styleChanged")}catch{t.value.style_=h,t.value.values_.style=h,t.value.changed(),t.value.dispatchEvent("styleChanged")}},s=Object(N.computed)(function(){return function(u){return n.overrideStyleFunction!=null&&n.overrideStyleFunction(u,o.value),o.value}});return Object(N.watch)(n,function(){n.overrideStyleFunction==null?a(o.value):a(s.value)}),Object(N.onMounted)(function(){n.overrideStyleFunction==null?a(o.value):a(s.value)}),Object(N.onUnmounted)(function(){a(null)}),{style:o}},props:{color:{type:[String,Function]},color2:{type:String},width:{type:[Number,Function]},width2:{type:Number},arrow:{type:Number},arrowColor:{type:String}}},s0=xt()(dA,[["render",hA]]);function Zv(i){Zv.installed||(Zv.installed=!0,i.component(r0.name,r0),i.component(Q2.name,Q2),i.component(n0.name,n0),i.component(i0.name,i0),i.component(o0.name,o0),i.component(a0.name,a0),i.component(s0.name,s0))}var vA=Zv;function gA(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default")}var r5=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yA={SELECT:"select"},mA=function(i){r5(r,i);function r(t,e,n,o){var a=i.call(this,t)||this;return a.selected=e,a.deselected=n,a.mapBrowserEvent=o,a}return r}(ue.a),$v={},_A=function(i){r5(r,i);function r(t){var e=i.call(this)||this;e.on,e.once,e.un;var n=t||{};e.boundAddFeature_=e.addFeature_.bind(e),e.boundRemoveFeature_=e.removeFeature_.bind(e),e.condition_=n.condition?n.condition:Jl,e.addCondition_=n.addCondition?n.addCondition:Xc,e.removeCondition_=n.removeCondition?n.removeCondition:Xc,e.toggleCondition_=n.toggleCondition?n.toggleCondition:Kc,e.multi_=n.multi?n.multi:!1,e.filter_=n.filter?n.filter:St.b,e.hitTolerance_=n.hitTolerance?n.hitTolerance:0,e.style_=n.style!==void 0?n.style:SA(),e.features_=n.features||new hr;var o;if(n.layers)if(typeof n.layers=="function")o=n.layers;else{var a=n.layers;o=function(s){return Object(vr.f)(a,s)}}else o=St.b;return e.layerFilter_=o,e.featureLayerAssociation_={},e}return r.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[Object(nt.c)(t)]=e},r.prototype.getFeatures=function(){return this.features_},r.prototype.getHitTolerance=function(){return this.hitTolerance_},r.prototype.getLayer=function(t){return this.featureLayerAssociation_[Object(nt.c)(t)]},r.prototype.setHitTolerance=function(t){this.hitTolerance_=t},r.prototype.setMap=function(t){var e=this.getMap();e&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),i.prototype.setMap.call(this,t),t?(this.features_.addEventListener(ln.ADD,this.boundAddFeature_),this.features_.addEventListener(ln.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(ln.ADD,this.boundAddFeature_),this.features_.removeEventListener(ln.REMOVE,this.boundRemoveFeature_))},r.prototype.addFeature_=function(t){var e=t.element;this.style_&&this.applySelectedStyle_(e)},r.prototype.removeFeature_=function(t){var e=t.element;this.style_&&this.restorePreviousStyle_(e)},r.prototype.getStyle=function(){return this.style_},r.prototype.applySelectedStyle_=function(t){var e=Object(nt.c)(t);e in $v||($v[e]=t.getStyle()),t.setStyle(this.style_)},r.prototype.restorePreviousStyle_=function(t){for(var e=this.getMap().getInteractions().getArray(),n=e.length-1;n>=0;--n){var o=e[n];if(o!==this&&o instanceof r&&o.getStyle()&&o.getFeatures().getArray().lastIndexOf(t)!==-1){t.setStyle(o.getStyle());return}}var a=Object(nt.c)(t);t.setStyle($v[a]),delete $v[a]},r.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[Object(nt.c)(t)]},r.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),n=this.removeCondition_(t),o=this.toggleCondition_(t),a=!e&&!n&&!o,s=t.map,u=this.getFeatures(),h=[],d=[];if(a){Object(br.b)(this.featureLayerAssociation_),s.forEachFeatureAtPixel(t.pixel,function(k,et){if(this.filter_(k,et))return d.push(k),this.addFeatureLayerAssociation_(k,et),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var E=u.getLength()-1;E>=0;--E){var b=u.item(E),I=d.indexOf(b);I>-1?d.splice(I,1):(u.remove(b),h.push(b))}d.length!==0&&u.extend(d)}else{s.forEachFeatureAtPixel(t.pixel,function(k,et){if(this.filter_(k,et))return(e||o)&&!Object(vr.f)(u.getArray(),k)?(d.push(k),this.addFeatureLayerAssociation_(k,et)):(n||o)&&Object(vr.f)(u.getArray(),k)&&(h.push(k),this.removeFeatureLayerAssociation_(k)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var M=h.length-1;M>=0;--M)u.remove(h[M]);u.extend(d)}return(d.length>0||h.length>0)&&this.dispatchEvent(new mA(yA.SELECT,d,h,t)),!0},r}(ql);function SA(){var i=Uy();return Object(vr.c)(i[Xt.POLYGON],i[Xt.LINE_STRING]),Object(vr.c)(i[Xt.GEOMETRY_COLLECTION],i[Xt.LINE_STRING]),function(r){return r.getGeometry()?i[r.getGeometry().getType()]:null}}var qv=_A,EA={name:"ol-interaction-select",emits:["select"],setup:function(r,t){var e=t.emit,n=Object(N.inject)("map"),o=Yt(r),a=o.properties,s=Object(N.computed)(function(){var u=new qv(ee(ee({},a),{},{style:new Yo}));return u.on("select",function(h){e("select",h)}),u});Object(N.watch)(s,function(u,h){n.removeInteraction(h),n.addInteraction(u),n.changed()}),Object(N.onMounted)(function(){n.addInteraction(s.value)}),Object(N.onUnmounted)(function(){n.removeInteraction(s.value)}),Object(N.provide)("stylable",s)},props:{multi:{type:Boolean,default:!1},condition:{type:Function},filter:{type:Function},features:{type:[hr,Object]}}},l0=xt()(EA,[["render",gA]]);function wA(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default")}var sc=function(i){i=i||{},this.pointRadius=i.pointRadius||12,this.circleMaxObjects=i.circleMaxObjects||10,this.maxObjects=i.maxObjects||60,this.spiral=i.spiral!==!1,this.animate=i.animate,this.animationDuration=i.animationDuration||500,this.selectCluster_=i.selectCluster!==!1;var r=this.overlayLayer_=new bl({source:new ec({features:new hr,wrapX:i.wrapX,useSpatialIndex:!0}),name:"Cluster overlay",updateWhileAnimating:!0,updateWhileInteracting:!0,displayInLayerSwitcher:!1,style:i.featureStyle});if(i.layers)if(typeof i.layers=="function"){var t=i.layers;i.layers=function(n){return n===r||t(n)}}else i.layers.push&&i.layers.push(this.overlayLayer_);if(i.filter){var e=i.filter;i.filter=function(n,o){return!o&&n.get("selectclusterlink")?!1:e(n,o)}}else i.filter=function(n,o){return!(!o&&n.get("selectclusterlink"))};this.filter_=i.filter,qv.call(this,i),this.on("select",this.selectCluster.bind(this))};yi(sc,qv),sc.prototype.setMap=function(i){this.getMap()&&this.getMap().removeLayer(this.overlayLayer_),this._listener&&Object(Mo.b)(this._listener),this._listener=null,qv.prototype.setMap.call(this,i),this.overlayLayer_.setMap(i),i&&i.getView()&&(this._listener=i.getView().on("change:resolution",this.clear.bind(this)))},sc.prototype.clear=function(){this.getFeatures().clear(),this.overlayLayer_.getSource().clear()},sc.prototype.getLayer=function(){return this.overlayLayer_},sc.prototype.selectCluster=function(i){if(i instanceof Er&&(i={selected:[i]}),!i.selected.length){this.clear();return}var r=i.selected[0];if(!r.get("selectclusterfeature")){var t=this.overlayLayer_.getSource();t.clear();var e=r.get("features");if(!(!e||e.length==1)){this.selectCluster_||this.getFeatures().clear();var n=r.getGeometry().getCoordinates(),o=this.getMap().getView().getResolution(),a,s,u,h,d,E,b,I=[];if(!this.spiral||e.length<=this.circleMaxObjects)for(h=Math.min(e.length,this.circleMaxObjects),a=o*this.pointRadius*(.5+h/4),u=0;u<h;u++)s=2*Math.PI*u/h,(h==2||h==4)&&(s+=Math.PI/4),d=[n[0]+a*Math.sin(s),n[1]+a*Math.cos(s)],E=new Er({selectclusterfeature:!0,features:[e[u]],geometry:new yn(d)}),E.setStyle(e[u].getStyle()),I.push(E),b=new Er({selectclusterlink:!0,geometry:new xi([n,d])}),I.push(b);else{s=0;var M=2*this.pointRadius;for(h=Math.min(this.maxObjects,e.length),u=0;u<h;u++){a=M/2+M*s/(2*Math.PI),s=s+(M+.1)/a;var k=o*a*Math.sin(s),et=o*a*Math.cos(s);d=[n[0]+k,n[1]+et],E=new Er({selectclusterfeature:!0,features:[e[u]],geometry:new yn(d)}),E.setStyle(e[u].getStyle()),I.push(E),b=new Er({selectclusterlink:!0,geometry:new xi([n,d])}),I.push(b)}}t.clear(),this.animate?this.animateCluster_(n,I):t.addFeatures(I)}}},sc.prototype.animateCluster_=function(i,r){if(this.listenerKey_&&Object(Mo.b)(this.listenerKey_),!r.length)return;var t=this.overlayLayer_.getStyle(),e=typeof t=="function"?t:t.length?function(){return t}:function(){return[t]},n=this.animationDuration||500,o=new Date().getTime();function a(u){for(var h=u.vectorContext||Tv(u),d=u.frameState.pixelRatio,E=this.getMap().getView().getResolution(),b=wo((u.frameState.time-o)/n),I=0,M;M=r[I];I++)if(M.get("features")){var k=M.getGeometry().getCoordinates();k[0]=i[0]+b*(k[0]-i[0]),k[1]=i[1]+b*(k[1]-i[1]);for(var et=new yn(k),ht=e(M,E),Lt=0;Lt<ht.length;Lt++){var It,wt=gt.prototype.getFeaturesAtPixel?!1:ht[Lt].getImage();wt&&(It=wt.getScale(),wt.setScale(d)),h.setStyle?(h.setStyle(ht[Lt]),h.drawGeometry(et)):(h.setImageStyle(wt),h.drawPointGeometry(et)),wt&&wt.setScale(It)}}if(b>1){Object(Mo.b)(this.listenerKey_),this.overlayLayer_.getSource().addFeatures(r),this.overlayLayer_.changed();return}u.frameState.animate=!0}this.listenerKey_=this.overlayLayer_.on(["postcompose","postrender"],a.bind(this));var s=new Er(new yn(this.getMap().getView().getCenter()));s.setStyle(new Yo({image:new Dp({})})),this.overlayLayer_.getSource().addFeature(s)},sc.prototype.getClusterExtent=function(i){if(!i.get("features"))return null;var r=ve();return i.get("features").forEach(function(t){r=Qr(r,t.getGeometry().getExtent())}),r[0]===r[2]&&r[1]===r[3]?null:r};var xA=sc,OA={name:"ol-interaction-clusterselect",emits:["select"],setup:function(r,t){var e=t.emit,n=Object(N.inject)("map"),o=Yt(r),a=o.properties,s=Object(N.computed)(function(){var u=new xA(ee(ee({},a),{},{style:new Yo}));return u.on("select",function(h){e("select",h)}),u});Object(N.watch)(s,function(u,h){n.removeInteraction(h),n.addInteraction(u),n.changed()}),Object(N.onMounted)(function(){n.addInteraction(s.value)}),Object(N.onUnmounted)(function(){n.removeInteraction(s.value)}),Object(N.provide)("stylable",s)},props:{multi:{type:Boolean,default:!1},condition:{type:Function},filter:{type:Function},pointRadius:{type:Number,default:7},animate:{type:Boolean,default:!0},featureStyle:{type:Function},style:{type:Function}}},u0=xt()(OA,[["render",wA]]);function TA(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default")}var bA={name:"ol-interaction-draw",emits:["drawstart","drawend"],setup:function(r,t){var e=t.emit,n=Object(N.inject)("map"),o=Object(N.inject)("vectorSource"),a=Object(N.toRefs)(r),s=a.type,u=a.clickTolerance,h=a.dragVertexDelay,d=a.snapTolerance,E=a.stopClick,b=a.maxPoints,I=a.minPoints,M=a.finishCondition,k=a.geometryFunction,et=a.geometryName,ht=a.condition,Lt=a.freehand,It=a.freehandCondition,wt=a.wrapX,oe=function(){var Se=new Jm({source:o.value,type:s.value,clickTolerance:u.value,dragVertexDelay:h.value,snapTolerance:d.value,stopClick:E.value,maxPoints:b.value,minPoints:I.value,finishCondition:M.value,geometryFunction:k.value,geometryName:et.value,condition:ht.value,freehand:Lt.value,freehandCondition:It.value,wrapX:wt.value});return Se.on("drawstart",function(Ie){e("drawstart",Ie)}),Se.on("drawend",function(Ie){e("drawend",Ie)}),Se},se=oe();Object(N.watch)([s,u,h,d,E,b,I,M,k,et,ht,Lt,It,wt],function(){n.removeInteraction(se),se=oe(),n.addInteraction(se),se.changed(),n.changed()}),Object(N.onMounted)(function(){n.addInteraction(se)}),Object(N.onUnmounted)(function(){n.removeInteraction(se)}),Object(N.provide)("stylable",se)},props:{type:{type:String,required:!0},clickTolerance:{type:Number,default:6},dragVertexDelay:{type:Number,default:500},snapTolerance:{type:Number,default:12},stopClick:{type:Boolean,default:!1},maxPoints:{type:Number},minPoints:{type:Number},finishCondition:{type:Function},geometryFunction:{type:Function},geometryName:{type:String},condition:{type:Function},freehand:{type:Boolean,default:!1},freehandCondition:{type:Function},wrapX:{type:Boolean,default:!1}}},c0=xt()(bA,[["render",TA]]);function CA(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default")}var LA=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function n5(i){if(i.feature)return i.feature;if(i.element)return i.element}var mh=[],AA=function(i){LA(r,i);function r(t){var e=this,n=t||{},o=n;return o.handleDownEvent||(o.handleDownEvent=St.b),o.stopDown||(o.stopDown=St.a),e=i.call(this,o)||this,e.source_=n.source?n.source:null,e.vertex_=n.vertex!==void 0?n.vertex:!0,e.edge_=n.edge!==void 0?n.edge:!0,e.features_=n.features?n.features:null,e.featuresListenerKeys_=[],e.featureChangeListenerKeys_={},e.indexedFeaturesExtents_={},e.pendingFeatures_={},e.pixelTolerance_=n.pixelTolerance!==void 0?n.pixelTolerance:10,e.rBush_=new xv,e.SEGMENT_WRITERS_={Point:e.writePointGeometry_.bind(e),LineString:e.writeLineStringGeometry_.bind(e),LinearRing:e.writeLineStringGeometry_.bind(e),Polygon:e.writePolygonGeometry_.bind(e),MultiPoint:e.writeMultiPointGeometry_.bind(e),MultiLineString:e.writeMultiLineStringGeometry_.bind(e),MultiPolygon:e.writeMultiPolygonGeometry_.bind(e),GeometryCollection:e.writeGeometryCollectionGeometry_.bind(e),Circle:e.writeCircleGeometry_.bind(e)},e}return r.prototype.addFeature=function(t,e){var n=e!==void 0?e:!0,o=Object(nt.c)(t),a=t.getGeometry();if(a){var s=this.SEGMENT_WRITERS_[a.getType()];s&&(this.indexedFeaturesExtents_[o]=a.getExtent(ve()),s(t,a))}n&&(this.featureChangeListenerKeys_[o]=Object(dr.a)(t,Dr.a.CHANGE,this.handleFeatureChange_,this))},r.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},r.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},r.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},r.prototype.handleEvent=function(t){var e=this.snapTo(t.pixel,t.coordinate,t.map);return e.snapped&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.vertexPixel),i.prototype.handleEvent.call(this,t)},r.prototype.handleFeatureAdd_=function(t){var e=n5(t);this.addFeature(e)},r.prototype.handleFeatureRemove_=function(t){var e=n5(t);this.removeFeature(e)},r.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var n=Object(nt.c)(e);n in this.pendingFeatures_||(this.pendingFeatures_[n]=e)}else this.updateFeature_(e)},r.prototype.handleUpEvent=function(t){var e=Object(br.c)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},r.prototype.removeFeature=function(t,e){var n=e!==void 0?e:!0,o=Object(nt.c)(t),a=this.indexedFeaturesExtents_[o];if(a){var s=this.rBush_,u=[];s.forEachInExtent(a,function(d){t===d.feature&&u.push(d)});for(var h=u.length-1;h>=0;--h)s.remove(u[h])}n&&(Object(dr.c)(this.featureChangeListenerKeys_[o]),delete this.featureChangeListenerKeys_[o])},r.prototype.setMap=function(t){var e=this.getMap(),n=this.featuresListenerKeys_,o=this.getFeatures_();e&&(n.forEach(dr.c),n.length=0,o.forEach(this.forEachFeatureRemove_.bind(this))),i.prototype.setMap.call(this,t),t&&(this.features_?n.push(Object(dr.a)(this.features_,ln.ADD,this.handleFeatureAdd_,this),Object(dr.a)(this.features_,ln.REMOVE,this.handleFeatureRemove_,this)):this.source_&&n.push(Object(dr.a)(this.source_,Fo.ADDFEATURE,this.handleFeatureAdd_,this),Object(dr.a)(this.source_,Fo.REMOVEFEATURE,this.handleFeatureRemove_,this)),o.forEach(this.forEachFeatureAdd_.bind(this)))},r.prototype.snapTo=function(t,e,n){var o=n.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),a=n.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),s=At([o,a]),u=this.rBush_.getInExtent(s);this.vertex_&&!this.edge_&&(u=u.filter(function(ye){return ye.feature.getGeometry().getType()!==Xt.CIRCLE}));var h=!1,d=null,E=null;if(u.length===0)return{snapped:h,vertex:d,vertexPixel:E};for(var b=n.getView().getProjection(),I=xr(e),M,k=1/0,et=0;et<u.length;++et){var ht=u[et];mh[0]=xr(ht.segment[0]),mh[1]=xr(ht.segment[1]);var Lt=ut(I,mh);Lt<k&&(M=ht,k=Lt)}var It=M.segment;if(this.vertex_&&!this.edge_){var wt=n.getPixelFromCoordinate(It[0]),oe=n.getPixelFromCoordinate(It[1]),se=H(t,wt),de=H(t,oe),Se=Math.sqrt(Math.min(se,de));Se<=this.pixelTolerance_&&(h=!0,d=se>de?It[1]:It[0],E=n.getPixelFromCoordinate(d))}else if(this.edge_){var Ie=M.feature.getGeometry().getType()===Xt.CIRCLE;if(Ie){var He=M.feature.getGeometry(),De=Bs();De&&(He=He.clone().transform(De,b)),d=ms(A(I,He))}else mh[0]=xr(It[0]),mh[1]=xr(It[1]),d=ms(C(I,mh));if(E=n.getPixelFromCoordinate(d),st(t,E)<=this.pixelTolerance_&&(h=!0,this.vertex_&&!Ie)){var wt=n.getPixelFromCoordinate(It[0]),oe=n.getPixelFromCoordinate(It[1]),se=H(E,wt),de=H(E,oe),Se=Math.sqrt(Math.min(se,de));Se<=this.pixelTolerance_&&(d=se>de?It[1]:It[0],E=n.getPixelFromCoordinate(d))}}return h&&(E=[Math.round(E[0]),Math.round(E[1])]),{snapped:h,vertex:d,vertexPixel:E}},r.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},r.prototype.writeCircleGeometry_=function(t,e){this.getMap().getView().getProjection();for(var n=e,o=$a(n),a=o.getCoordinates()[0],s=0,u=a.length-1;s<u;++s){var h=a.slice(s,s+2),d={feature:t,segment:h};this.rBush_.insert(At(h),d)}},r.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var n=e.getGeometriesArray(),o=0;o<n.length;++o){var a=this.SEGMENT_WRITERS_[n[o].getType()];a&&a(t,n[o])}},r.prototype.writeLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),o=0,a=n.length-1;o<a;++o){var s=n.slice(o,o+2),u={feature:t,segment:s};this.rBush_.insert(At(s),u)}},r.prototype.writeMultiLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),o=0,a=n.length;o<a;++o)for(var s=n[o],u=0,h=s.length-1;u<h;++u){var d=s.slice(u,u+2),E={feature:t,segment:d};this.rBush_.insert(At(d),E)}},r.prototype.writeMultiPointGeometry_=function(t,e){for(var n=e.getCoordinates(),o=0,a=n.length;o<a;++o){var s=n[o],u={feature:t,segment:[s,s]};this.rBush_.insert(e.getExtent(),u)}},r.prototype.writeMultiPolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),o=0,a=n.length;o<a;++o)for(var s=n[o],u=0,h=s.length;u<h;++u)for(var d=s[u],E=0,b=d.length-1;E<b;++E){var I=d.slice(E,E+2),M={feature:t,segment:I};this.rBush_.insert(At(I),M)}},r.prototype.writePointGeometry_=function(t,e){var n=e.getCoordinates(),o={feature:t,segment:[n,n]};this.rBush_.insert(e.getExtent(),o)},r.prototype.writePolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),o=0,a=n.length;o<a;++o)for(var s=n[o],u=0,h=s.length-1;u<h;++u){var d=s.slice(u,u+2),E={feature:t,segment:d};this.rBush_.insert(At(d),E)}},r}(Vo),PA=AA,RA={name:"ol-interaction-snap",setup:function(r){var t=Object(N.inject)("map"),e=Object(N.inject)("vectorSource"),n=Yt(r),o=n.properties,a=function(){var h=new PA(ee(ee({},o),{},{source:e.value}));return h},s=a();Object(N.watch)(o,function(){t.removeInteraction(s),s=a(),t.addInteraction(s),t.changed()}),Object(N.onMounted)(function(){t.addInteraction(s)}),Object(N.onUnmounted)(function(){t.removeInteraction(s)})},props:{vertex:{type:Boolean,default:!0},edge:{type:Boolean,default:!0},pixelTolerance:{type:Number,default:10}}},f0=xt()(RA,[["render",CA]]);function IA(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default")}var NA={name:"ol-interaction-modify",emits:["modifystart","modifyend"],setup:function(r,t){var e=t.emit,n=Object(N.inject)("map"),o=Object(N.inject)("vectorSource"),a=Object(N.toRefs)(r),s=a.features,u=a.condition,h=a.deleteCondition,d=a.insertVertexCondition,E=a.pixelTolerance,b=a.wrapX,I=a.hitDetection,M=function(){var ht=new e0({source:o.value,features:s.value,condition:u.value,deleteCondition:h.value,insertVertexCondition:d.value,pixelTolerance:E.value,wrapX:b.value,hitDetection:I.value});return ht.on("modifystart",function(Lt){e("modifystart",Lt)}),ht.on("modifyend",function(Lt){e("modifyend",Lt)}),ht},k=M();Object(N.watch)([u,h,d,E,b,I],function(){n.removeInteraction(k),k=M(),n.addInteraction(k),k.changed(),n.changed()}),Object(N.onMounted)(function(){n.addInteraction(k)}),Object(N.onUnmounted)(function(){n.removeInteraction(k)}),Object(N.provide)("stylable",k)},props:{condition:{type:Function},deleteCondition:{type:Function},insertVertexCondition:{type:Function},pixelTolerance:{type:Number,default:10},wrapX:{type:Boolean,default:!1},hitDetection:{type:Boolean},features:{type:[hr,Object]}}},h0=xt()(NA,[["render",IA]]);function MA(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default")}var so=function(i){i||(i={});var r=this;this.selection_=new hr,this.handles_=new hr,this.overlayLayer_=new bl({source:new ec({features:this.handles_,useSpatialIndex:!1,wrapX:!1}),name:"Transform overlay",displayInLayerSwitcher:!1,style:function(t){return r.style[(t.get("handle")||"default")+(t.get("constraint")||"")+(t.get("option")||"")]}}),Vo.call(this,{handleDownEvent:this.handleDownEvent_,handleDragEvent:this.handleDragEvent_,handleMoveEvent:this.handleMoveEvent_,handleUpEvent:this.handleUpEvent_}),this.features_=i.features,typeof i.filter=="function"&&(this._filter=i.filter),this.layers_=i.layers?i.layers instanceof Array?i.layers:[i.layers]:null,this._handleEvent=i.condition||function(){return!0},this.addFn_=i.addCondition||function(){return!1},this.set("translateFeature",i.translateFeature!==!1),this.set("translate",i.translate!==!1),this.set("translateBBox",i.translateBBox===!0),this.set("stretch",i.stretch!==!1),this.set("scale",i.scale!==!1),this.set("rotate",i.rotate!==!1),this.set("keepAspectRatio",i.keepAspectRatio||function(t){return t.originalEvent.shiftKey}),this.set("modifyCenter",i.modifyCenter||function(t){return t.originalEvent.metaKey||t.originalEvent.ctrlKey}),this.set("noFlip",i.noFlip||!1),this.set("selection",i.selection!==!1),this.set("hitTolerance",i.hitTolerance||0),this.set("enableRotatedTransform",i.enableRotatedTransform||!1),this.on("propertychange",function(){this.drawSketch_()}),this.setDefaultStyle()};yi(so,Vo),so.prototype.Cursors={default:"auto",select:"pointer",translate:"move",rotate:"move",rotate0:"move",scale:"nesw-resize",scale1:"nwse-resize",scale2:"nesw-resize",scale3:"nwse-resize",scalev:"ew-resize",scaleh1:"ns-resize",scalev2:"ew-resize",scaleh3:"ns-resize"},so.prototype.setMap=function(i){var r=this.getMap();if(r){var t=r.getTargetElement();r.removeLayer(this.overlayLayer_),this.previousCursor_&&t&&(t.style.cursor=this.previousCursor_),this.previousCursor_=void 0}Vo.prototype.setMap.call(this,i),this.overlayLayer_.setMap(i),i===null&&this.select(null),i!==null&&(this.isTouch=/touch/.test(i.getViewport().className),this.setDefaultStyle())},so.prototype.setActive=function(i){this.select(null),this.overlayLayer_.setVisible(i),Vo.prototype.setActive.call(this,i)},so.prototype.setDefaultStyle=function(i){i=i||{};var r=i.pointStroke||new To({color:[255,0,0,1],width:1}),t=i.stroke||new To({color:[255,0,0,1],width:1,lineDash:[4,4]}),e=i.fill||new zo({color:[255,0,0,.01]}),n=i.pointFill||new zo({color:[255,255,255,.8]}),o=new uh({fill:n,stroke:r,radius:this.isTouch?12:6,points:15});o.getAnchor()[0]=this.isTouch?-10:-5;var a=new uh({fill:n,stroke:r,radius:this.isTouch?16:8,points:4,angle:Math.PI/4}),s=new uh({fill:n,stroke:r,radius:this.isTouch?12:6,points:4,angle:Math.PI/4});function u(h,d,E){return[new Yo({image:h,stroke:d,fill:E})]}this.style={default:u(a,t,e),translate:u(a,r,n),rotate:u(o,r,n),rotate0:u(a,r,n),scale:u(a,r,n),scale1:u(a,r,n),scale2:u(a,r,n),scale3:u(a,r,n),scalev:u(s,r,n),scaleh1:u(s,r,n),scalev2:u(s,r,n),scaleh3:u(s,r,n)},this.drawSketch_()},so.prototype.setStyle=function(i,r){if(!!r){r instanceof Array?this.style[i]=r:this.style[i]=[r];for(var t=0;t<this.style[i].length;t++){var e=this.style[i][t].getImage();e&&(i=="rotate"&&(e.getAnchor()[0]=-5),this.isTouch&&e.setScale(1.8));var n=this.style[i][t].getText();n&&(i=="rotate"&&n.setOffsetX(this.isTouch?14:7),this.isTouch&&n.setScale(1.8))}this.drawSketch_()}},so.prototype.getFeatureAtPixel_=function(i){var r=this;return this.getMap().forEachFeatureAtPixel(i,function(t,e){var n=!1;if(!e){if(t===r.bbox_)return r.get("translateBBox")?{feature:t,handle:"translate",constraint:"",option:""}:!1;if(r.handles_.forEach(function(a){a===t&&(n=!0)}),n)return{feature:t,handle:t.get("handle"),constraint:t.get("constraint"),option:t.get("option")}}if(!r.get("selection"))return r.selection_.getArray().some(function(a){return t===a})?{feature:t}:null;if(r._filter)return r._filter(t,e)?{feature:t}:null;if(r.layers_){for(var o=0;o<r.layers_.length;o++)if(r.layers_[o]===e)return{feature:t};return null}else return r.features_?(r.features_.forEach(function(a){a===t&&(n=!0)}),n?{feature:t}:null):{feature:t}},{hitTolerance:this.get("hitTolerance")})||{}},so.prototype.getGeometryRotateToZero_=function(i,r){var t=i.getGeometry(),e=this.getMap().getView().getRotation();if(e===0||!this.get("enableRotatedTransform"))return r?t.clone():t;var n=t.clone();return n.rotate(e*-1,this.getMap().getView().getCenter()),n},so.prototype.drawSketch_=function(i){var r,t,e;if(this.overlayLayer_.getSource().clear(),!!this.selection_.getLength()){var n=this.getMap().getView().getRotation(),o=this.getGeometryRotateToZero_(this.selection_.item(0)).getExtent();if(o=yt(o,0),this.selection_.forEach(function(h){var d=this.getGeometryRotateToZero_(h).getExtent();Qr(o,d)}.bind(this)),i===!0)this.ispt_||(this.overlayLayer_.getSource().addFeature(new Er({geometry:new yn(this.center_),handle:"rotate0"})),e=xo(o),this.get("enableRotatedTransform")&&n!==0&&e.rotate(n,this.getMap().getView().getCenter()),t=this.bbox_=new Er(e),this.overlayLayer_.getSource().addFeature(t));else{if(this.ispt_){var a=this.getMap().getPixelFromCoordinate([o[0],o[1]]);o=At([this.getMap().getCoordinateFromPixel([a[0]-10,a[1]-10]),this.getMap().getCoordinateFromPixel([a[0]+10,a[1]+10])])}e=xo(o),this.get("enableRotatedTransform")&&n!==0&&e.rotate(n,this.getMap().getView().getCenter()),t=this.bbox_=new Er(e);var s=[],u=e.getCoordinates()[0];if(!this.ispt_){if(s.push(t),!this.iscircle_&&this.get("stretch")&&this.get("scale"))for(r=0;r<u.length-1;r++)t=new Er({geometry:new yn([(u[r][0]+u[r+1][0])/2,(u[r][1]+u[r+1][1])/2]),handle:"scale",constraint:r%2?"h":"v",option:r}),s.push(t);if(this.get("scale"))for(r=0;r<u.length-1;r++)t=new Er({geometry:new yn(u[r]),handle:"scale",option:r}),s.push(t);this.get("translate")&&!this.get("translateFeature")&&(t=new Er({geometry:new yn([(u[0][0]+u[2][0])/2,(u[0][1]+u[2][1])/2]),handle:"translate"}),s.push(t))}!this.iscircle_&&this.get("rotate")&&(t=new Er({geometry:new yn(u[3]),handle:"rotate"}),s.push(t)),this.overlayLayer_.getSource().addFeatures(s)}}},so.prototype.select=function(i,r){if(!i){this.selection_.clear(),this.drawSketch_();return}if(!(!i.getGeometry||!i.getGeometry())){if(r)this.selection_.push(i);else{var t=this.selection_.getArray().indexOf(i);this.selection_.removeAt(t)}this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:i,features:this.selection_})}},so.prototype.setSelection=function(i){this.selection_.clear(),i.forEach(function(r){this.selection_.push(r)}.bind(this)),this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",features:this.selection_})},so.prototype.watchFeatures_=function(){this._featureListeners&&this._featureListeners.forEach(function(i){Object(Mo.b)(i)}),this._featureListeners=[],this.selection_.forEach(function(i){this._featureListeners.push(i.on("change",function(){this.isUpdating_||this.drawSketch_()}.bind(this)))}.bind(this))},so.prototype.handleDownEvent_=function(i){if(!!this._handleEvent(i,this.selection_)){var r=this.getFeatureAtPixel_(i.pixel),t=r.feature;if(this.selection_.getLength()&&this.selection_.getArray().indexOf(t)>=0&&(this.ispt_&&this.get("translate")||this.get("translateFeature"))&&(r.handle="translate"),r.handle){this.mode_=r.handle,this.opt_=r.option,this.constraint_=r.constraint;var e=this.getMap().getView().getRotation();this.coordinate_=i.coordinate,this.pixel_=i.pixel,this.geoms_=[],this.rotatedGeoms_=[];for(var n=ve(),o=ve(),a=0,s;s=this.selection_.item(a);a++)if(this.geoms_.push(s.getGeometry().clone()),n=Qr(n,s.getGeometry().getExtent()),this.get("enableRotatedTransform")&&e!==0){var u=this.getGeometryRotateToZero_(s,!0);this.rotatedGeoms_.push(u),o=Qr(o,u.getExtent())}if(this.extent_=xo(n).getCoordinates()[0],this.get("enableRotatedTransform")&&e!==0&&(this.rotatedExtent_=xo(o).getCoordinates()[0]),this.mode_==="rotate"){this.center_=this.getCenter()||Tn(n);var h=i.map.getTargetElement();h.style.cursor=this.Cursors.rotate0,this.previousCursor_=h.style.cursor}else this.center_=Tn(n);return this.angle_=Math.atan2(this.center_[1]-i.coordinate[1],this.center_[0]-i.coordinate[0]),this.dispatchEvent({type:this.mode_+"start",feature:this.selection_.item(0),features:this.selection_,pixel:i.pixel,coordinate:i.coordinate}),!0}else if(this.get("selection")){if(t){this.addFn_(i)||this.selection_.clear();var d=this.selection_.getArray().indexOf(t);d<0?this.selection_.push(t):this.selection_.removeAt(d)}else this.selection_.clear();return this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:t,features:this.selection_,pixel:i.pixel,coordinate:i.coordinate}),!1}}},so.prototype.getFeatures=function(){return this.selection_},so.prototype.getCenter=function(){return this.get("center")},so.prototype.setCenter=function(i){return this.set("center",i)},so.prototype.handleDragEvent_=function(i){if(!!this._handleEvent(i,this.features_)){var r=this.getMap().getView().getRotation(),t,e,n,o=[this.coordinate_[0],this.coordinate_[1]],a=[i.coordinate[0],i.coordinate[1]];switch(this.isUpdating_=!0,this.mode_){case"rotate":{var s=Math.atan2(this.center_[1]-a[1],this.center_[0]-a[0]);if(!this.ispt)for(t=0,e;e=this.selection_.item(t);t++)n=this.geoms_[t].clone(),n.rotate(s-this.angle_,this.center_),n.getType()=="Circle"&&n.setCenterAndRadius(n.getCenter(),n.getRadius()),e.setGeometry(n);this.drawSketch_(!0),this.dispatchEvent({type:"rotating",feature:this.selection_.item(0),features:this.selection_,angle:s-this.angle_,pixel:i.pixel,coordinate:i.coordinate});break}case"translate":{var u=a[0]-o[0],h=a[1]-o[1];for(t=0,e;e=this.selection_.item(t);t++)e.getGeometry().translate(u,h);this.handles_.forEach(function(It){It.getGeometry().translate(u,h)}),this.coordinate_=i.coordinate,this.dispatchEvent({type:"translating",feature:this.selection_.item(0),features:this.selection_,delta:[u,h],pixel:i.pixel,coordinate:i.coordinate});break}case"scale":{var d=this.center_;if(this.get("modifyCenter")(i)){var E=this.extent_;this.get("enableRotatedTransform")&&r!==0&&(E=this.rotatedExtent_),d=E[(Number(this.opt_)+2)%4]}var b=this.coordinate_,I=i.coordinate;if(this.get("enableRotatedTransform")&&r!==0){var M=new yn(this.coordinate_);M.rotate(r*-1,d),b=M.getCoordinates();var k=new yn(i.coordinate);k.rotate(r*-1,d),I=k.getCoordinates()}var et=(I[0]-d[0])/(b[0]-d[0]),ht=(I[1]-d[1])/(b[1]-d[1]);if(this.get("enableRotatedTransform")&&r!==0){var Lt=new yn(d);Lt.rotate(r*-1,this.getMap().getView().getCenter()),d=Lt.getCoordinates()}for(this.get("noFlip")&&(et<0&&(et=-et),ht<0&&(ht=-ht)),this.constraint_?this.constraint_=="h"?et=1:ht=1:this.get("keepAspectRatio")(i)&&(et=ht=Math.min(et,ht)),t=0,e;e=this.selection_.item(t);t++)n=r===0||!this.get("enableRotatedTransform")?this.geoms_[t].clone():this.rotatedGeoms_[t].clone(),n.applyTransform(function(It,wt,oe){if(oe<2)return wt;for(var se=0;se<It.length;se+=oe)et!=1&&(wt[se]=d[0]+(It[se]-d[0])*et),ht!=1&&(wt[se+1]=d[1]+(It[se+1]-d[1])*ht);return n.getType()=="Circle"&&n.setCenterAndRadius(n.getCenter(),n.getRadius()),wt}),this.get("enableRotatedTransform")&&r!==0&&n.rotate(r,this.getMap().getView().getCenter()),e.setGeometry(n);this.drawSketch_(),this.dispatchEvent({type:"scaling",feature:this.selection_.item(0),features:this.selection_,scale:[et,ht],pixel:i.pixel,coordinate:i.coordinate});break}}this.isUpdating_=!1}},so.prototype.handleMoveEvent_=function(i){if(!!this._handleEvent(i,this.features_)&&!this.mode_){var r=this.getFeatureAtPixel_(i.pixel),t=i.map.getTargetElement();if(r.feature){var e=r.handle?this.Cursors[(r.handle||"default")+(r.constraint||"")+(r.option||"")]:this.Cursors.select;this.previousCursor_===void 0&&(this.previousCursor_=t.style.cursor),t.style.cursor=e}else this.previousCursor_!==void 0&&(t.style.cursor=this.previousCursor_),this.previousCursor_=void 0}},so.prototype.handleUpEvent_=function(i){if(this.mode_==="rotate"){var r=i.map.getTargetElement();r.style.cursor=this.Cursors.default,this.previousCursor_=void 0}return this.dispatchEvent({type:this.mode_+"end",feature:this.selection_.item(0),features:this.selection_,oldgeom:this.geoms_[0],oldgeoms:this.geoms_}),this.drawSketch_(),this.mode_=null,!1},so.prototype.getFeatures=function(){return this.selection_};var FA=so,jA={name:"ol-interaction-transform",setup:function(r){var t=Object(N.inject)("map"),e=Yt(r),n=e.properties,o=Object(N.computed)(function(){var a=new FA(ee({},n));return a});Object(N.watch)(o,function(a,s){t.removeInteraction(s),t.addInteraction(a),t.changed()}),Object(N.onMounted)(function(){t.addInteraction(o.value)}),Object(N.onUnmounted)(function(){t.removeInteraction(o.value)}),Object(N.provide)("stylable",o)},props:{enableRotatedTransform:{type:Boolean,default:!1},condition:{type:Function},addCondition:{type:Function},filter:{type:Function},layers:{type:Array},hitTolerance:{type:Number,default:2},translateFeature:{type:Boolean,default:!0},scale:{type:Boolean,default:!0},rotate:{type:Boolean,default:!0},keepAspectRatio:{type:Boolean,default:!1},translate:{type:Boolean,default:!0},stretch:{type:Boolean,default:!0}}},p0=xt()(jA,[["render",MA]]);function DA(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default")}var BA=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),GA=function(i){BA(r,i);function r(t){var e=this,n=t||{};return e=i.call(this,n)||this,e.condition_=n.condition?n.condition:Kc,e.lastAngle_=void 0,e.lastMagnitude_=void 0,e.lastScaleDelta_=0,e.duration_=n.duration!==void 0?n.duration:400,e}return r.prototype.handleDragEvent=function(t){if(!!Ql(t)){var e=t.map,n=e.getSize(),o=t.pixel,a=o[0]-n[0]/2,s=n[1]/2-o[1],u=Math.atan2(s,a),h=Math.sqrt(a*a+s*s),d=e.getView();if(this.lastAngle_!==void 0){var E=this.lastAngle_-u;d.adjustRotationInternal(E)}this.lastAngle_=u,this.lastMagnitude_!==void 0&&d.adjustResolutionInternal(this.lastMagnitude_/h),this.lastMagnitude_!==void 0&&(this.lastScaleDelta_=this.lastMagnitude_/h),this.lastMagnitude_=h}},r.prototype.handleUpEvent=function(t){if(!Ql(t))return!0;var e=t.map,n=e.getView(),o=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,o),this.lastScaleDelta_=0,!1},r.prototype.handleDownEvent=function(t){return Ql(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0):!1},r}(Vo),UA=GA,kA={name:"ol-interaction-dragrotatezoom",setup:function(r){var t=Object(N.inject)("map"),e=Yt(r),n=e.properties,o=Object(N.computed)(function(){var a=new UA(ee({},n));return a});Object(N.watch)(o,function(a,s){t.removeInteraction(s),t.addInteraction(a),t.changed()}),Object(N.onMounted)(function(){t.addInteraction(o.value)}),Object(N.onUnmounted)(function(){t.removeInteraction(o.value)})},props:{condition:{type:Function},duration:{type:Number,default:400}}},d0=xt()(kA,[["render",DA]]);function Jv(i){Jv.installed||(Jv.installed=!0,i.component(l0.name,l0),i.component(u0.name,u0),i.component(c0.name,c0),i.component(f0.name,f0),i.component(h0.name,h0),i.component(p0.name,p0),i.component(d0.name,d0))}var VA=Jv;function zA(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default")}var YA={setup:function(){var r=Object(N.inject)("map"),t=Object(N.inject)("vectorLayer");return{map:r,vectorLayer:t}},props:{duration:{type:Number,default:1e3},revers:{type:Boolean,default:!1},repeat:{type:Number,default:0},fade:{type:Function},easing:{type:Function,default:wo}}},rl=xt()(YA,[["render",zA]]);function WA(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default")}c("d81d");var _h=function(i){i=i||{},this.duration_=typeof i.duration=="number"?i.duration>=0?i.duration:0:1e3,this.fade_=typeof i.fade=="function"?i.fade:null,this.repeat_=Number(i.repeat);var r=typeof i.easing=="function"?i.easing:Pu;i.revers?this.easing_=function(t){return 1-r(t)}:this.easing_=r,this.hiddenStyle=i.hiddenStyle,co.a.call(this)};yi(_h,co.a),_h.hiddenStyle=new Yo({image:new Dp({}),stroke:new To({color:"transparent"})}),_h.prototype.drawGeom_=function(i,r,t){this.fade_&&(i.context.globalAlpha=this.fade_(1-i.elapsed));for(var e=i.style,n=0;n<e.length;n++)try{var o=i.vectorContext||Tv(i);o.setStyle(e[n]),e[n].getZIndex()<0?o.drawGeometry(t||r):o.drawGeometry(r)}catch{}},_h.prototype.animate=function(){return!1},gt.prototype.animateFeature=function(i,r){var t=this._featureAnimationLayer;t||(t=this._featureAnimationLayer=new bl({source:new ec}),t.setMap(this)),t.getSource().addFeature(i);var e=r.on("animationend",function(n){n.feature===i&&(t.getSource().removeFeature(i),Object(Mo.b)(e))});t.animateFeature(i,r)},ep.prototype.animateFeature=function(i,r,t){var e=this,n,o=i.getStyle(),a=o||(this.getStyleFunction?this.getStyleFunction()(i):null);a||(a=[]),a instanceof Array||(a=[a]);var s={vectorContext:null,frameState:null,start:0,time:0,elapsed:0,extent:!1,feature:i,geom:i.getGeometry(),typeGeom:i.getGeometry().getType(),bbox:i.getGeometry().getExtent(),coord:Tn(i.getGeometry().getExtent()),style:a};r instanceof Array||(r=[r]);for(var u=r.length-1;u>=0;u--)r[u].duration_===0&&r.splice(u,1);var h=0,d=0,E=t&&this.getFilters?this.getFilters():[];function b(k){s.type=k.type;try{s.vectorContext=k.vectorContext||Tv(k)}catch{}if(s.frameState=k.frameState,s.inversePixelTransform=k.inversePixelTransform,s.extent||(s.extent=k.frameState.extent,s.start=k.frameState.time,s.context=k.context),s.time=k.frameState.time-s.start,s.elapsed=s.time/r[d].duration_,s.elapsed>1&&(s.elapsed=1),k.context.save(),E.forEach(function(ht){ht.get("active")&&ht.precompose(k)}),this.getOpacity&&(k.context.globalAlpha=this.getOpacity()),!r[d].animate(s))h++,h<r[d].repeat_?s.extent=!1:d<r.length-1?(r[d].dispatchEvent({type:"animationend",feature:i}),d++,h=0,s.extent=!1):I();else{var et={type:"animating",step:d,start:s.start,time:s.time,elapsed:s.elapsed,rotation:s.rotation||0,geom:s.geom,coordinate:s.coord,feature:i};r[d].dispatchEvent(et),e.dispatchEvent(et)}E.forEach(function(ht){ht.get("active")&&ht.postcompose(k)}),k.context.restore(),k.frameState.animate=!0}function I(k){Object(Mo.b)(n),n=null,i.setStyle(o);var et={type:"animationend",feature:i};if(k)for(var ht in k)k.hasOwnProperty(ht)&&(et[ht]=k[ht]);r[d].dispatchEvent(et),e.dispatchEvent(et)}function M(k){if(r.length&&!n){n=e.on(["postcompose","postrender"],b.bind(e)),e.renderSync?e.renderSync():e.changed(),i.setStyle(r[d].hiddenStyle||_h.hiddenStyle);var et={type:"animationstart",feature:i};if(k)for(var ht in k)k.hasOwnProperty(ht)&&(et[ht]=k[ht]);r[d].dispatchEvent(et),e.dispatchEvent(et)}}return M(),{start:M,stop:I,isPlaying:function(){return!!n}}};var Da=_h,v0=function(i){i=i||{},this.speed_=i.speed||0,Da.call(this,i),this.side_=i.side||"top"};yi(v0,Da),v0.prototype.animate=function(i){if(!i.time){var r=i.frameState.viewState.rotation,t=i.frameState.size[1]*i.frameState.viewState.resolution;this.side_!="top"&&(t*=-1),this.dx=-Math.sin(r)*t,this.dy=Math.cos(r)*t,this.speed_&&(this.duration_=t/this.speed_/i.frameState.viewState.resolution)}var e=i.geom.clone();return e.translate(this.dx*(1-this.easing_(i.elapsed)),this.dy*(1-this.easing_(i.elapsed))),this.drawGeom_(i,e,i.geom),i.time<=this.duration_};var HA=v0;function lf(i,r){var t=rl.setup(),e=t.map,n=t.vectorLayer,o=Yt(r),a=o.properties,s=Object(N.computed)(function(){var u=new i(ee({},a));return u});return Object(N.provide)("animation",s),{map:e,vectorLayer:n,animation:s,properties:a}}var XA={name:"ol-animation-drop",extends:rl,setup:function(r){var t=lf(HA,r),e=t.map,n=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:n,properties:o}},props:{side:{type:Number,default:0},speed:{type:Number,default:0}}},g0=xt()(XA,[["render",WA]]);function KA(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default")}var y0=function(i){i=i||{},Da.call(this,i),this.amplitude_=i.amplitude||40,this.bounce_=-Math.PI*(i.bounce||6),this.horizontal_=i.horizontal};yi(y0,Da),y0.prototype.animate=function(i){var r=i.geom.clone(),t=i.geom.clone(),e=this.easing_(i.elapsed);return e=Math.sin(this.bounce_*e)*this.amplitude_*(1-e)*i.frameState.viewState.resolution,this.horizontal_?(r.translate(e,0),t.translate(e,0)):r.translate(0,e),this.drawGeom_(i,r,t),i.time<=this.duration_};var ZA=y0,$A={name:"ol-animation-shake",extends:rl,setup:function(r){var t=lf(ZA,r),e=t.map,n=t.vectorLayer,o=t.properties,a=t.animation;return{map:e,vectorLayer:n,properties:o,animation:a}},props:{bounce:{type:Number,default:6},amplitude:{type:Number,default:40},horizontal:{type:Boolean,default:!1}}},m0=xt()($A,[["render",KA]]);function qA(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default")}var Wp=function(i){i=i||{},Da.call(this,i),this.set("zoomout",i.zoomOut)};yi(Wp,Da);var JA=function(i){i=i||{},i.zoomOut=!0,Wp.call(this,i)};yi(JA,Wp),Wp.prototype.animate=function(i){var r=this.easing_(i.elapsed);if(r){this.get("zoomout")&&(r=1/r);var t=i.style,e,n,o=[];for(e=0;e<t.length;e++)n=t[e].getImage(),n&&(o[e]=n.getScale(),i.type==="postrender"?n.setScale(o[e]*r/i.frameState.pixelRatio):n.setScale(o[e]*r));for(this.drawGeom_(i,i.geom),e=0;e<t.length;e++)n=t[e].getImage(),n&&n.setScale(o[e])}return i.time<=this.duration_};var QA=Wp,tP={name:"ol-animation-zoom",extends:rl,setup:function(r){var t=lf(QA,r),e=t.map,n=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:n,properties:o}},props:{zoomOut:{type:Boolean,default:!1}}},_0=xt()(tP,[["render",qA]]);function eP(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default")}var S0=function(i){Da.call(this,i)};yi(S0,Da),S0.prototype.animate=function(i){var r=this.easing_(i.elapsed);if(r){i.context.save();var t=i.frameState.pixelRatio;i.context.globalAlpha=r,i.context.scale(r,1/r);var e=i.frameState.coordinateToPixelTransform,n=(1/r-1)*t*(e[0]*i.coord[0]+e[1]*i.coord[1]+e[4]),o=(r-1)*t*(e[2]*i.coord[0]+e[3]*i.coord[1]+e[5]);i.context.translate(n,o),this.drawGeom_(i,i.geom),i.context.restore()}return i.time<=this.duration_};var rP=S0,nP={name:"ol-animation-teleport",extends:rl,setup:function(r){var t=lf(rP,r),e=t.map,n=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:n,properties:o}},props:{}},E0=xt()(nP,[["render",eP]]);function iP(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default")}var w0=function(i){i=i||{},this.speed_=i.speed||0,Da.call(this,i)};yi(w0,Da),w0.prototype.animate=function(i){return i.context.globalAlpha=this.easing_(i.elapsed),this.drawGeom_(i,i.geom),i.time<=this.duration_};var oP=w0,aP={name:"ol-animation-fade",extends:rl,setup:function(r){var t=lf(oP,r),e=t.map,n=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:n,properties:o}}},x0=xt()(aP,[["render",iP]]);function sP(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default")}var O0=function(i){i=i||{},this.speed_=i.speed||0,Da.call(this,i),this.side_=i.side||"left"};yi(O0,Da),O0.prototype.animate=function(i){i.time||(this.side_=="left"?this.dx=i.extent[0]-i.bbox[2]:this.dx=i.extent[2]-i.bbox[0],this.speed_&&(this.duration_=Math.abs(this.dx)/this.speed_/i.frameState.viewState.resolution));var r=i.geom.clone();return r.translate(this.dx*(1-this.easing_(i.elapsed)),0),this.drawGeom_(i,r),i.time<=this.duration_};var lP=O0,uP={name:"ol-animation-slide",extends:rl,setup:function(r){var t=lf(lP,r),e=t.map,n=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:n,properties:o}},props:{speed:{type:Number,default:0}}},T0=xt()(uP,[["render",sP]]);function cP(i,r,t,e,n,o){return Object(N.renderSlot)(i.$slots,"default")}var b0=function(i){switch(i=i||{},Da.call(this,i),this.speed_=i.speed||0,this.path_=i.path,i.rotate){case!0:case 0:this.rotate_=0;break;default:this.rotate_=i.rotate||!1;break}this.path_&&this.path_.getGeometry&&(this.path_=this.path_.getGeometry()),this.path_&&this.path_.getLineString&&(this.path_=this.path_.getLineString()),this.path_.getLength?(this.dist_=this.path_.getLength(),this.path_&&this.path_.getCoordinates&&(this.path_=this.path_.getCoordinates())):this.dist_=0,this.speed_>0&&(this.duration_=this.dist_/this.speed_)};yi(b0,Da),b0.prototype.animate=function(i){if(!i.time&&!this.dist_)return!1;var r=this.dist_*this.easing_(i.elapsed),t,e,n,o,a,s,u=0;e=this.path_[0];for(var h=1;h<this.path_.length;h++){if(t=e,e=this.path_[h],o=e[0]-t[0],a=e[1]-t[1],s=Math.sqrt(o*o+a*a),s&&u+s>=r){n=(r-u)/s,e=[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n];break}u+=s}var d=i.style;if(i.rotation=Math.PI/2+Math.atan2(t[1]-e[1],t[0]-e[0]),this.rotate_!==!1){var E=[],b=this.rotate_-i.rotation+i.frameState.viewState.rotation;i.rotation=Math.PI/2+Math.atan2(t[1]-e[1],t[0]-e[0]);for(var I=0;n=i.style[I];I++)n.getImage()&&n.getImage().setRotation(b),E.push(n);i.style=E}return i.geom.setCoordinates(e),this.drawGeom_(i,i.geom),i.style=d,i.time<=this.duration_};var fP=b0,hP={name:"ol-animation-path",extends:rl,setup:function(r){var t=lf(fP,r),e=t.map,n=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:n,properties:o}},props:{rotate:{type:Boolean,default:!1},speed:{type:Number,default:0},path:{type:Object}}},C0=xt()(hP,[["render",cP]]);function Qv(i){Qv.installed||(Qv.installed=!0,i.component(rl.name,rl),i.component(g0.name,g0),i.component(m0.name,m0),i.component(_0.name,_0),i.component(E0.name,E0),i.component(x0.name,x0),i.component(T0.name,T0),i.component(C0.name,C0))}var pP=Qv;c("5bc0"),c("dbd0"),c("872d"),c("7d05");var dP=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vP=function(i){dP(r,i);function r(t){var e=i.call(this)||this;return e.geometries_=t||null,e.changeEventsKeys_=[],e.listenGeometriesChange_(),e}return r.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(dr.c),this.changeEventsKeys_.length=0},r.prototype.listenGeometriesChange_=function(){if(!!this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(Object(dr.a)(this.geometries_[t],Dr.a.CHANGE,this.changed,this))},r.prototype.clone=function(){var t=new r(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,n,o){if(o<Ft(this.getExtent(),t,e))return o;for(var a=this.geometries_,s=0,u=a.length;s<u;++s)o=a[s].closestPointXY(t,e,n,o);return o},r.prototype.containsXY=function(t,e){for(var n=this.geometries_,o=0,a=n.length;o<a;++o)if(n[o].containsXY(t,e))return!0;return!1},r.prototype.computeExtent=function(t){Me(t);for(var e=this.geometries_,n=0,o=e.length;n<o;++n)Qr(t,e[n].getExtent());return t},r.prototype.getGeometries=function(){return i5(this.geometries_)},r.prototype.getGeometriesArray=function(){return this.geometries_},r.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,n=0,o=e.length;n<o;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t},r.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var e=[],n=this.geometries_,o=!1,a=0,s=n.length;a<s;++a){var u=n[a],h=u.getSimplifiedGeometry(t);e.push(h),h!==u&&(o=!0)}if(o){var d=new r(null);return d.setGeometriesArray(e),d}else return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},r.prototype.getType=function(){return Xt.GEOMETRY_COLLECTION},r.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,o=e.length;n<o;++n)if(e[n].intersectsExtent(t))return!0;return!1},r.prototype.isEmpty=function(){return this.geometries_.length===0},r.prototype.rotate=function(t,e){for(var n=this.geometries_,o=0,a=n.length;o<a;++o)n[o].rotate(t,e);this.changed()},r.prototype.scale=function(t,e,n){var o=n;o||(o=Tn(this.getExtent()));for(var a=this.geometries_,s=0,u=a.length;s<u;++s)a[s].scale(t,e,o);this.changed()},r.prototype.setGeometries=function(t){this.setGeometriesArray(i5(t))},r.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},r.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,o=e.length;n<o;++n)e[n].applyTransform(t);this.changed()},r.prototype.translate=function(t,e){for(var n=this.geometries_,o=0,a=n.length;o<a;++o)n[o].translate(t,e);this.changed()},r.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),i.prototype.disposeInternal.call(this)},r}(ks);function i5(i){for(var r=[],t=0,e=i.length;t<e;++t)r.push(i[t].clone());return r}var nl=vP,gP=function(){function i(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0}return i.prototype.getReadOptions=function(r,t){var e;if(t){var n=t.dataProjection?qr(t.dataProjection):this.readProjection(r);t.extent&&n&&n.getUnits()===Ni.TILE_PIXELS&&(n=qr(n),n.setWorldExtent(t.extent)),e={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(e)},i.prototype.adaptOptions=function(r){return Object(br.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},r)},i.prototype.getType=function(){return Object(nt.b)()},i.prototype.readFeature=function(r,t){return Object(nt.b)()},i.prototype.readFeatures=function(r,t){return Object(nt.b)()},i.prototype.readGeometry=function(r,t){return Object(nt.b)()},i.prototype.readProjection=function(r){return Object(nt.b)()},i.prototype.writeFeature=function(r,t){return Object(nt.b)()},i.prototype.writeFeatures=function(r,t){return Object(nt.b)()},i.prototype.writeGeometry=function(r,t){return Object(nt.b)()},i}(),tg=gP;function $i(i,r,t){var e=t?qr(t.featureProjection):null,n=t?qr(t.dataProjection):null,o;if(e&&n&&!Ca(e,n)?o=(r?i.clone():i).transform(r?e:n,r?n:e):o=i,r&&t&&t.decimals!==void 0){var a=Math.pow(10,t.decimals),s=function(u){for(var h=0,d=u.length;h<d;++h)u[h]=Math.round(u[h]*a)/a;return u};o===i&&(o=i.clone()),o.applyTransform(s)}return o}function L0(i,r){var t=r?qr(r.featureProjection):null,e=r?qr(r.dataProjection):null;return t&&e&&!Ca(t,e)?zl(i,e,t):i}var yP=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mP=function(i){yP(r,i);function r(){return i.call(this)||this}return r.prototype.getType=function(){return ou.JSON},r.prototype.readFeature=function(t,e){return this.readFeatureFromObject(eg(t),this.getReadOptions(t,e))},r.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(eg(t),this.getReadOptions(t,e))},r.prototype.readFeatureFromObject=function(t,e){return Object(nt.b)()},r.prototype.readFeaturesFromObject=function(t,e){return Object(nt.b)()},r.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(eg(t),this.getReadOptions(t,e))},r.prototype.readGeometryFromObject=function(t,e){return Object(nt.b)()},r.prototype.readProjection=function(t){return this.readProjectionFromObject(eg(t))},r.prototype.readProjectionFromObject=function(t){return Object(nt.b)()},r.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},r.prototype.writeFeatureObject=function(t,e){return Object(nt.b)()},r.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},r.prototype.writeFeaturesObject=function(t,e){return Object(nt.b)()},r.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},r.prototype.writeGeometryObject=function(t,e){return Object(nt.b)()},r}(tg);function eg(i){if(typeof i=="string"){var r=JSON.parse(i);return r||null}else return i!==null?i:null}var A0=mP,_P=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uf={};uf[Xt.POINT]=wP,uf[Xt.LINE_STRING]=xP,uf[Xt.POLYGON]=CP,uf[Xt.MULTI_POINT]=TP,uf[Xt.MULTI_LINE_STRING]=OP,uf[Xt.MULTI_POLYGON]=bP;var cf={};cf[Xt.POINT]=LP,cf[Xt.LINE_STRING]=AP,cf[Xt.POLYGON]=PP,cf[Xt.MULTI_POINT]=IP,cf[Xt.MULTI_LINE_STRING]=RP,cf[Xt.MULTI_POLYGON]=NP;var SP=function(i){_P(r,i);function r(t){var e=this,n=t||{};return e=i.call(this)||this,e.geometryName_=n.geometryName,e}return r.prototype.readFeatureFromObject=function(t,e,n){var o=t,a=o5(o.geometry,e),s=new Er;if(this.geometryName_&&s.setGeometryName(this.geometryName_),s.setGeometry(a),o.attributes){s.setProperties(o.attributes,!0);var u=o.attributes[n];u!==void 0&&s.setId(u)}return s},r.prototype.readFeaturesFromObject=function(t,e){var n=e||{};if(t.features){for(var o=t,a=[],s=o.features,u=0,h=s.length;u<h;++u)a.push(this.readFeatureFromObject(s[u],n,t.objectIdFieldName));return a}else return[this.readFeatureFromObject(t,n)]},r.prototype.readGeometryFromObject=function(t,e){return o5(t,e)},r.prototype.readProjectionFromObject=function(t){if(t.spatialReference&&t.spatialReference.wkid!==void 0){var e=t.spatialReference,n=e.wkid;return qr("EPSG:"+n)}else return null},r.prototype.writeGeometryObject=function(t,e){return a5(t,this.adaptOptions(e))},r.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={};if(!t.hasProperties())return n.attributes={},n;var o=t.getProperties(),a=t.getGeometry();if(a){n.geometry=a5(a,e);var s=e&&(e.dataProjection||e.featureProjection);s&&(n.geometry.spatialReference={wkid:Number(qr(s).getCode().split(":").pop())}),delete o[t.getGeometryName()]}return Object(br.d)(o)?n.attributes={}:n.attributes=o,n},r.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],o=0,a=t.length;o<a;++o)n.push(this.writeFeatureObject(t[o],e));return{features:n}},r}(A0);function o5(i,r){var t,e;if(!i)return null;var n;if(typeof i.x=="number"&&typeof i.y=="number")n=Xt.POINT;else if(i.points)n=Xt.MULTI_POINT;else if(i.paths){var o=i;o.paths.length===1?n=Xt.LINE_STRING:n=Xt.MULTI_LINE_STRING}else if(i.rings){var a=i,s=Sh(a),u=EP(a.rings,s);u.length===1?(n=Xt.POLYGON,i=Object(br.a)({},i,(t={},t.rings=u[0],t))):(n=Xt.MULTI_POLYGON,i=Object(br.a)({},i,(e={},e.rings=u,e)))}var h=uf[n];return $i(h(i),!1,r)}function EP(i,r){var t=[],e=[],n=[],o,a;for(o=0,a=i.length;o<a;++o){t.length=0,O(t,0,i[o],r.length);var s=Du(t,0,t.length,r.length);s?e.push([i[o]]):n.push(i[o])}for(;n.length;){var u=n.shift(),h=!1;for(o=e.length-1;o>=0;o--){var d=e[o][0],E=he(new la(d).getExtent(),new la(u).getExtent());if(E){e[o].push(u),h=!0;break}}h||e.push([u.reverse()])}return e}function wP(i){var r;return i.m!==void 0&&i.z!==void 0?r=new yn([i.x,i.y,i.z,i.m],nr.XYZM):i.z!==void 0?r=new yn([i.x,i.y,i.z],nr.XYZ):i.m!==void 0?r=new yn([i.x,i.y,i.m],nr.XYM):r=new yn([i.x,i.y]),r}function xP(i){var r=Sh(i);return new xi(i.paths[0],r)}function OP(i){var r=Sh(i);return new is(i.paths,r)}function Sh(i){var r=nr.XY;return i.hasZ===!0&&i.hasM===!0?r=nr.XYZM:i.hasZ===!0?r=nr.XYZ:i.hasM===!0&&(r=nr.XYM),r}function TP(i){var r=Sh(i);return new el(i.points,r)}function bP(i){var r=Sh(i);return new da(i.rings,r)}function CP(i){var r=Sh(i);return new kn(i.rings,r)}function LP(i,r){var t=i.getCoordinates(),e,n=i.getLayout();return n===nr.XYZ?e={x:t[0],y:t[1],z:t[2]}:n===nr.XYM?e={x:t[0],y:t[1],m:t[2]}:n===nr.XYZM?e={x:t[0],y:t[1],z:t[2],m:t[3]}:n===nr.XY?e={x:t[0],y:t[1]}:Qt(!1,34),e}function Hp(i){var r=i.getLayout();return{hasZ:r===nr.XYZ||r===nr.XYZM,hasM:r===nr.XYM||r===nr.XYZM}}function AP(i,r){var t=Hp(i);return{hasZ:t.hasZ,hasM:t.hasM,paths:[i.getCoordinates()]}}function PP(i,r){var t=Hp(i);return{hasZ:t.hasZ,hasM:t.hasM,rings:i.getCoordinates(!1)}}function RP(i,r){var t=Hp(i);return{hasZ:t.hasZ,hasM:t.hasM,paths:i.getCoordinates()}}function IP(i,r){var t=Hp(i);return{hasZ:t.hasZ,hasM:t.hasM,points:i.getCoordinates()}}function NP(i,r){for(var t=Hp(i),e=i.getCoordinates(!1),n=[],o=0;o<e.length;o++)for(var a=e[o].length-1;a>=0;a--)n.push(e[o][a]);return{hasZ:t.hasZ,hasM:t.hasM,rings:n}}function a5(i,r){var t=cf[i.getType()];return t($i(i,!0,r),r)}var MP=SP,FP=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jP=function(i){FP(r,i);function r(t){var e=this,n=t||{};return e=i.call(this)||this,e.dataProjection=qr(n.dataProjection?n.dataProjection:"EPSG:4326"),n.featureProjection&&(e.defaultFeatureProjection=qr(n.featureProjection)),e.geometryName_=n.geometryName,e.extractGeometryName_=n.extractGeometryName,e}return r.prototype.readFeatureFromObject=function(t,e){var n=null;t.type==="Feature"?n=t:n={type:"Feature",geometry:t,properties:null};var o=P0(n.geometry,e),a=new Er;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&a.setGeometryName(n.geometry_name),a.setGeometry(o),"id"in n&&a.setId(n.id),n.properties&&a.setProperties(n.properties,!0),a},r.prototype.readFeaturesFromObject=function(t,e){var n=t,o=null;if(n.type==="FeatureCollection"){var a=t;o=[];for(var s=a.features,u=0,h=s.length;u<h;++u)o.push(this.readFeatureFromObject(s[u],e))}else o=[this.readFeatureFromObject(t,e)];return o},r.prototype.readGeometryFromObject=function(t,e){return P0(t,e)},r.prototype.readProjectionFromObject=function(t){var e=t.crs,n;return e?e.type=="name"?n=qr(e.properties.name):e.type==="EPSG"?n=qr("EPSG:"+e.properties.code):Qt(!1,36):n=this.dataProjection,n},r.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},o=t.getId();if(o!==void 0&&(n.id=o),!t.hasProperties())return n;var a=t.getProperties(),s=t.getGeometry();return s&&(n.geometry=R0(s,e),delete a[t.getGeometryName()]),Object(br.d)(a)||(n.properties=a),n},r.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],o=0,a=t.length;o<a;++o)n.push(this.writeFeatureObject(t[o],e));return{type:"FeatureCollection",features:n}},r.prototype.writeGeometryObject=function(t,e){return R0(t,this.adaptOptions(e))},r}(A0);function P0(i,r){if(!i)return null;var t;switch(i.type){case Xt.POINT:{t=BP(i);break}case Xt.LINE_STRING:{t=GP(i);break}case Xt.POLYGON:{t=zP(i);break}case Xt.MULTI_POINT:{t=kP(i);break}case Xt.MULTI_LINE_STRING:{t=UP(i);break}case Xt.MULTI_POLYGON:{t=VP(i);break}case Xt.GEOMETRY_COLLECTION:{t=DP(i);break}default:throw new Error("Unsupported GeoJSON type: "+i.type)}return $i(t,!1,r)}function DP(i,r){var t=i.geometries.map(function(e){return P0(e,r)});return new nl(t)}function BP(i){return new yn(i.coordinates)}function GP(i){return new xi(i.coordinates)}function UP(i){return new is(i.coordinates)}function kP(i){return new el(i.coordinates)}function VP(i){return new da(i.coordinates)}function zP(i){return new kn(i.coordinates)}function R0(i,r){i=$i(i,!0,r);var t=i.getType(),e;switch(t){case Xt.POINT:{e=ZP(i);break}case Xt.LINE_STRING:{e=WP(i);break}case Xt.POLYGON:{e=$P(i,r);break}case Xt.MULTI_POINT:{e=XP(i);break}case Xt.MULTI_LINE_STRING:{e=HP(i);break}case Xt.MULTI_POLYGON:{e=KP(i,r);break}case Xt.GEOMETRY_COLLECTION:{e=YP(i,r);break}case Xt.CIRCLE:{e={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return e}function YP(i,r){var t=i.getGeometriesArray().map(function(e){var n=Object(br.a)({},r);return delete n.featureProjection,R0(e,n)});return{type:"GeometryCollection",geometries:t}}function WP(i,r){return{type:"LineString",coordinates:i.getCoordinates()}}function HP(i,r){return{type:"MultiLineString",coordinates:i.getCoordinates()}}function XP(i,r){return{type:"MultiPoint",coordinates:i.getCoordinates()}}function KP(i,r){var t;return r&&(t=r.rightHanded),{type:"MultiPolygon",coordinates:i.getCoordinates(t)}}function ZP(i,r){return{type:"Point",coordinates:i.getCoordinates()}}function $P(i,r){var t;return r&&(t=r.rightHanded),{type:"Polygon",coordinates:i.getCoordinates(t)}}var qP=jP,ff="http://www.w3.org/2001/XMLSchema-instance";function sn(i,r){return Eh().createElementNS(i,r)}function va(i,r){return s5(i,r,[]).join("")}function s5(i,r,t){if(i.nodeType==Node.CDATA_SECTION_NODE||i.nodeType==Node.TEXT_NODE)r?t.push(String(i.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(i.nodeValue);else{var e=void 0;for(e=i.firstChild;e;e=e.nextSibling)s5(e,r,t)}return t}function Ll(i){return"documentElement"in i}function JP(i,r,t){return i.getAttributeNS(r,t)||""}function Al(i){return new DOMParser().parseFromString(i,"application/xml")}function l5(i,r){return function(t,e){var n=i.call(r!==void 0?r:this,t,e);if(n!==void 0){var o=e[e.length-1];Object(vr.c)(o,n)}}}function Br(i,r){return function(t,e){var n=i.call(r!==void 0?r:this,t,e);if(n!==void 0){var o=e[e.length-1];o.push(n)}}}function Zr(i,r){return function(t,e){var n=i.call(r!==void 0?r:this,t,e);n!==void 0&&(e[e.length-1]=n)}}function Pi(i,r,t){return function(e,n){var o=i.call(t!==void 0?t:this,e,n);if(o!==void 0){var a=n[n.length-1],s=r!==void 0?r:e.localName,u=void 0;s in a?u=a[s]:(u=[],a[s]=u),u.push(o)}}}function Vt(i,r,t){return function(e,n){var o=i.call(t!==void 0?t:this,e,n);if(o!==void 0){var a=n[n.length-1],s=r!==void 0?r:e.localName;a[s]=o}}}function Ht(i,r){return function(t,e,n){i.call(r!==void 0?r:this,t,e,n);var o=n[n.length-1],a=o.node;a.appendChild(t)}}function u5(i,r){var t,e;return function(n,o,a){if(t===void 0){t={};var s={};s[n.localName]=i,t[n.namespaceURI]=s,e=Wi(n.localName)}c5(t,e,o,a)}}function Wi(i,r){var t=i;return function(e,n,o){var a=n[n.length-1],s=a.node,u=t;u===void 0&&(u=o);var h=r!==void 0?r:s.namespaceURI;return sn(h,u)}}var jo=Wi();function Ba(i,r){for(var t=r.length,e=new Array(t),n=0;n<t;++n)e[n]=i[r[n]];return e}function Ne(i,r,t){var e=t!==void 0?t:{},n,o;for(n=0,o=i.length;n<o;++n)e[i[n]]=r;return e}function Ga(i,r,t,e){var n;for(n=r.firstElementChild;n;n=n.nextElementSibling){var o=i[n.namespaceURI];if(o!==void 0){var a=o[n.localName];a!==void 0&&a.call(e,n,t)}}}function We(i,r,t,e,n){return e.push(i),Ga(r,t,e,n),e.pop()}function c5(i,r,t,e,n,o){for(var a=(n!==void 0?n:t).length,s,u,h=0;h<a;++h)s=t[h],s!==void 0&&(u=r.call(o!==void 0?o:this,s,e,n!==void 0?n[h]:void 0),u!==void 0&&i[u.namespaceURI][u.localName].call(o,u,s,e))}function on(i,r,t,e,n,o,a){return n.push(i),c5(r,t,e,n,o,a),n.pop()}var I0=void 0;function QP(){return I0===void 0&&typeof XMLSerializer!="undefined"&&(I0=new XMLSerializer),I0}var N0=void 0;function Eh(){return N0===void 0&&typeof document!="undefined"&&(N0=document.implementation.createDocument("","",null)),N0}var tR=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eR=function(i){tR(r,i);function r(){var t=i.call(this)||this;return t.xmlSerializer_=QP(),t}return r.prototype.getType=function(){return ou.XML},r.prototype.readFeature=function(t,e){if(t)if(typeof t=="string"){var n=Al(t);return this.readFeatureFromDocument(n,e)}else return Ll(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e);else return null},r.prototype.readFeatureFromDocument=function(t,e){var n=this.readFeaturesFromDocument(t,e);return n.length>0?n[0]:null},r.prototype.readFeatureFromNode=function(t,e){return null},r.prototype.readFeatures=function(t,e){if(t)if(typeof t=="string"){var n=Al(t);return this.readFeaturesFromDocument(n,e)}else return Ll(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e);else return[]},r.prototype.readFeaturesFromDocument=function(t,e){for(var n=[],o=t.firstChild;o;o=o.nextSibling)o.nodeType==Node.ELEMENT_NODE&&Object(vr.c)(n,this.readFeaturesFromNode(o,e));return n},r.prototype.readFeaturesFromNode=function(t,e){return Object(nt.b)()},r.prototype.readGeometry=function(t,e){if(t)if(typeof t=="string"){var n=Al(t);return this.readGeometryFromDocument(n,e)}else return Ll(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e);else return null},r.prototype.readGeometryFromDocument=function(t,e){return null},r.prototype.readGeometryFromNode=function(t,e){return null},r.prototype.readProjection=function(t){if(t)if(typeof t=="string"){var e=Al(t);return this.readProjectionFromDocument(e)}else return Ll(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t);else return null},r.prototype.readProjectionFromDocument=function(t){return this.dataProjection},r.prototype.readProjectionFromNode=function(t){return this.dataProjection},r.prototype.writeFeature=function(t,e){var n=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(n)},r.prototype.writeFeatureNode=function(t,e){return null},r.prototype.writeFeatures=function(t,e){var n=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(n)},r.prototype.writeFeaturesNode=function(t,e){return null},r.prototype.writeGeometry=function(t,e){var n=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(n)},r.prototype.writeGeometryNode=function(t,e){return null},r}(tg),Xp=eR,rR=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),au="http://www.opengis.net/gml",nR=/^[\s\xa0]*$/,qi=function(i){rR(r,i);function r(t){var e=i.call(this)||this,n=t||{};return e.featureType=n.featureType,e.featureNS=n.featureNS,e.srsName=n.srsName,e.schemaLocation="",e.FEATURE_COLLECTION_PARSERS={},e.FEATURE_COLLECTION_PARSERS[e.namespace]={featureMember:Br(e.readFeaturesInternal),featureMembers:Zr(e.readFeaturesInternal)},e}return r.prototype.readFeaturesInternal=function(t,e){var n=t.localName,o=null;if(n=="FeatureCollection")o=We([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if(n=="featureMembers"||n=="featureMember"||n=="member"){var a=e[0],s=a.featureType,u=a.featureNS,h="p",d="p0";if(!s&&t.childNodes){s=[],u={};for(var E=0,b=t.childNodes.length;E<b;++E){var I=t.childNodes[E];if(I.nodeType===1){var M=I.nodeName.split(":").pop();if(s.indexOf(M)===-1){var k="",et=0,ht=I.namespaceURI;for(var Lt in u){if(u[Lt]===ht){k=Lt;break}++et}k||(k=h+et,u[k]=ht),s.push(k+":"+M)}}}n!="featureMember"&&(a.featureType=s,a.featureNS=u)}if(typeof u=="string"){var It=u;u={},u[d]=It}var wt={},oe=Array.isArray(s)?s:[s];for(var se in u){for(var de={},E=0,b=oe.length;E<b;++E){var Se=oe[E].indexOf(":")===-1?d:oe[E].split(":")[0];Se===se&&(de[oe[E].split(":").pop()]=n=="featureMembers"?Br(this.readFeatureElement,this):Zr(this.readFeatureElement,this))}wt[u[se]]=de}n=="featureMember"||n=="member"?o=We(void 0,wt,t,e):o=We([],wt,t,e)}return o===null&&(o=[]),o},r.prototype.readGeometryElement=function(t,e){var n=e[0];n.srsName=t.firstElementChild.getAttribute("srsName"),n.srsDimension=t.firstElementChild.getAttribute("srsDimension");var o=We(null,this.GEOMETRY_PARSERS,t,e,this);if(o)return Array.isArray(o)?L0(o,n):$i(o,!1,n)},r.prototype.readFeatureElementInternal=function(t,e,n){for(var o,a={},s=t.firstElementChild;s;s=s.nextElementSibling){var u=void 0,h=s.localName;s.childNodes.length===0||s.childNodes.length===1&&(s.firstChild.nodeType===3||s.firstChild.nodeType===4)?(u=va(s,!1),nR.test(u)&&(u=void 0)):(n&&(u=this.readGeometryElement(s,e)),u?h!=="boundedBy"&&(o=h):u=this.readFeatureElementInternal(s,e,!1)),a[h]?(a[h]instanceof Array||(a[h]=[a[h]]),a[h].push(u)):a[h]=u;var d=s.attributes.length;if(d>0){a[h]={_content_:a[h]};for(var E=0;E<d;E++){var b=s.attributes[E].name;a[h][b]=s.attributes[E].value}}}if(n){var I=new Er(a);o&&I.setGeometryName(o);var M=t.getAttribute("fid")||JP(t,this.namespace,"id");return M&&I.setId(M),I}else return a},r.prototype.readFeatureElement=function(t,e){return this.readFeatureElementInternal(t,e,!0)},r.prototype.readPoint=function(t,e){var n=this.readFlatCoordinatesFromNode(t,e);if(n)return new yn(n,nr.XYZ)},r.prototype.readMultiPoint=function(t,e){var n=We([],this.MULTIPOINT_PARSERS,t,e,this);if(n)return new el(n)},r.prototype.readMultiLineString=function(t,e){var n=We([],this.MULTILINESTRING_PARSERS,t,e,this);if(n)return new is(n)},r.prototype.readMultiPolygon=function(t,e){var n=We([],this.MULTIPOLYGON_PARSERS,t,e,this);if(n)return new da(n)},r.prototype.pointMemberParser=function(t,e){Ga(this.POINTMEMBER_PARSERS,t,e,this)},r.prototype.lineStringMemberParser=function(t,e){Ga(this.LINESTRINGMEMBER_PARSERS,t,e,this)},r.prototype.polygonMemberParser=function(t,e){Ga(this.POLYGONMEMBER_PARSERS,t,e,this)},r.prototype.readLineString=function(t,e){var n=this.readFlatCoordinatesFromNode(t,e);if(n){var o=new xi(n,nr.XYZ);return o}else return},r.prototype.readFlatLinearRing=function(t,e){var n=We(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this);if(n)return n},r.prototype.readLinearRing=function(t,e){var n=this.readFlatCoordinatesFromNode(t,e);if(n)return new la(n,nr.XYZ)},r.prototype.readPolygon=function(t,e){var n=We([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(n&&n[0]){var o=n[0],a=[o.length],s=void 0,u=void 0;for(s=1,u=n.length;s<u;++s)Object(vr.c)(o,n[s]),a.push(o.length);return new kn(o,nr.XYZ,a)}else return},r.prototype.readFlatCoordinatesFromNode=function(t,e){return We(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},r.prototype.readGeometryFromNode=function(t,e){var n=this.readGeometryElement(t,[this.getReadOptions(t,e||{})]);return n||null},r.prototype.readFeaturesFromNode=function(t,e){var n={featureType:this.featureType,featureNS:this.featureNS};e&&Object(br.a)(n,this.getReadOptions(t,e));var o=this.readFeaturesInternal(t,[n]);return o||[]},r.prototype.readProjectionFromNode=function(t){return qr(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},r}(Xp);qi.prototype.namespace=au,qi.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},qi.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},qi.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},qi.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:Br(qi.prototype.pointMemberParser),pointMembers:Br(qi.prototype.pointMemberParser)}},qi.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:Br(qi.prototype.lineStringMemberParser),lineStringMembers:Br(qi.prototype.lineStringMemberParser)}},qi.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:Br(qi.prototype.polygonMemberParser),polygonMembers:Br(qi.prototype.polygonMemberParser)}},qi.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:Br(qi.prototype.readFlatCoordinatesFromNode)}},qi.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:Br(qi.prototype.readLineString)}},qi.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:Br(qi.prototype.readPolygon)}},qi.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Zr(qi.prototype.readFlatLinearRing)}};var Rn=qi;function lc(i){var r=va(i,!1);return hf(r)}function hf(i){var r=/^\s*(true|1)|(false|0)\s*$/.exec(i);if(r)return r[1]!==void 0||!1}function M0(i){var r=va(i,!1),t=Date.parse(r);return isNaN(t)?void 0:t/1e3}function ei(i){var r=va(i,!1);return su(r)}function su(i){var r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(i);if(r)return parseFloat(r[1])}function lo(i){var r=va(i,!1);return lu(r)}function lu(i){var r=/^\s*(\d+)\s*$/.exec(i);if(r)return parseInt(r[1],10)}function $e(i){return va(i,!1).trim()}function wh(i,r){en(i,r?"1":"0")}function iR(i,r){i.appendChild(Eh().createCDATASection(r))}function oR(i,r){var t=new Date(r*1e3),e=t.getUTCFullYear()+"-"+g(t.getUTCMonth()+1,2)+"-"+g(t.getUTCDate(),2)+"T"+g(t.getUTCHours(),2)+":"+g(t.getUTCMinutes(),2)+":"+g(t.getUTCSeconds(),2)+"Z";i.appendChild(Eh().createTextNode(e))}function Ua(i,r){var t=r.toPrecision();i.appendChild(Eh().createTextNode(t))}function rg(i,r){var t=r.toString();i.appendChild(Eh().createTextNode(t))}function en(i,r){i.appendChild(Eh().createTextNode(r))}var aR=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sR=au+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",lR={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Hn=function(i){aR(r,i);function r(t){var e=this,n=t||{};return e=i.call(this,n)||this,e.FEATURE_COLLECTION_PARSERS[au].featureMember=Br(e.readFeaturesInternal),e.schemaLocation=n.schemaLocation?n.schemaLocation:sR,e}return r.prototype.readFlatCoordinates=function(t,e){var n=va(t,!1).replace(/^\s*|\s*$/g,""),o=e[0],a=o.srsName,s="enu";if(a){var u=qr(a);u&&(s=u.getAxisOrientation())}for(var h=n.trim().split(/\s+/),d=[],E=0,b=h.length;E<b;E++){var I=h[E].split(/,+/),M=parseFloat(I[0]),k=parseFloat(I[1]),et=I.length===3?parseFloat(I[2]):0;s.substr(0,2)==="en"?d.push(M,k,et):d.push(k,M,et)}return d},r.prototype.readBox=function(t,e){var n=We([null],this.BOX_PARSERS_,t,e,this);return Ce(n[1][0],n[1][1],n[1][3],n[1][4])},r.prototype.innerBoundaryIsParser=function(t,e){var n=We(void 0,this.RING_PARSERS,t,e,this);if(n){var o=e[e.length-1];o.push(n)}},r.prototype.outerBoundaryIsParser=function(t,e){var n=We(void 0,this.RING_PARSERS,t,e,this);if(n){var o=e[e.length-1];o[0]=n}},r.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,n){var o=e[e.length-1],a=o.multiSurface,s=o.surface,u=o.multiCurve,h;return Array.isArray(t)?h="Envelope":(h=t.getType(),h==="MultiPolygon"&&a===!0?h="MultiSurface":h==="Polygon"&&s===!0?h="Surface":h==="MultiLineString"&&u===!0&&(h="MultiCurve")),sn("http://www.opengis.net/gml",h)},r.prototype.writeFeatureElement=function(t,e,n){var o=e.getId();o&&t.setAttribute("fid",o);var a=n[n.length-1],s=a.featureNS,u=e.getGeometryName();a.serializers||(a.serializers={},a.serializers[s]={});var h=[],d=[];if(e.hasProperties()){var E=e.getProperties();for(var b in E){var I=E[b];I!==null&&(h.push(b),d.push(I),b==u||typeof I.getSimplifiedGeometry=="function"?b in a.serializers[s]||(a.serializers[s][b]=Ht(this.writeGeometryElement,this)):b in a.serializers[s]||(a.serializers[s][b]=Ht(en)))}}var M=Object(br.a)({},a);M.node=t,on(M,a.serializers,Wi(void 0,s),d,n,h)},r.prototype.writeCurveOrLineString=function(t,e,n){var o=n[n.length-1],a=o.srsName;if(t.nodeName!=="LineStringSegment"&&a&&t.setAttribute("srsName",a),t.nodeName==="LineString"||t.nodeName==="LineStringSegment"){var s=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(s),this.writeCoordinates_(s,e,n)}else if(t.nodeName==="Curve"){var u=sn(t.namespaceURI,"segments");t.appendChild(u),this.writeCurveSegments_(u,e,n)}},r.prototype.writeLineStringOrCurveMember=function(t,e,n){var o=this.GEOMETRY_NODE_FACTORY_(e,n);o&&(t.appendChild(o),this.writeCurveOrLineString(o,e,n))},r.prototype.writeMultiCurveOrLineString=function(t,e,n){var o=n[n.length-1],a=o.hasZ,s=o.srsName,u=o.curve;s&&t.setAttribute("srsName",s);var h=e.getLineStrings();on({node:t,hasZ:a,srsName:s,curve:u},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,n,void 0,this)},r.prototype.writeGeometryElement=function(t,e,n){var o=n[n.length-1],a=Object(br.a)({},o);a.node=t;var s;Array.isArray(e)?s=L0(e,o):s=$i(e,!0,o),on(a,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[s],n,void 0,this)},r.prototype.createCoordinatesNode_=function(t){var e=sn(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e},r.prototype.writeCoordinates_=function(t,e,n){for(var o=n[n.length-1],a=o.hasZ,s=o.srsName,u=e.getCoordinates(),h=u.length,d=new Array(h),E=0;E<h;++E){var b=u[E];d[E]=this.getCoords_(b,s,a)}en(t,d.join(" "))},r.prototype.writeCurveSegments_=function(t,e,n){var o=sn(t.namespaceURI,"LineStringSegment");t.appendChild(o),this.writeCurveOrLineString(o,e,n)},r.prototype.writeSurfaceOrPolygon=function(t,e,n){var o=n[n.length-1],a=o.hasZ,s=o.srsName;if(t.nodeName!=="PolygonPatch"&&s&&t.setAttribute("srsName",s),t.nodeName==="Polygon"||t.nodeName==="PolygonPatch"){var u=e.getLinearRings();on({node:t,hasZ:a,srsName:s},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,u,n,void 0,this)}else if(t.nodeName==="Surface"){var h=sn(t.namespaceURI,"patches");t.appendChild(h),this.writeSurfacePatches_(h,e,n)}},r.prototype.RING_NODE_FACTORY_=function(t,e,n){var o=e[e.length-1],a=o.node,s=o.exteriorWritten;return s===void 0&&(o.exteriorWritten=!0),sn(a.namespaceURI,s!==void 0?"innerBoundaryIs":"outerBoundaryIs")},r.prototype.writeSurfacePatches_=function(t,e,n){var o=sn(t.namespaceURI,"PolygonPatch");t.appendChild(o),this.writeSurfaceOrPolygon(o,e,n)},r.prototype.writeRing=function(t,e,n){var o=sn(t.namespaceURI,"LinearRing");t.appendChild(o),this.writeLinearRing(o,e,n)},r.prototype.getCoords_=function(t,e,n){var o="enu";e&&(o=qr(e).getAxisOrientation());var a=o.substr(0,2)==="en"?t[0]+","+t[1]:t[1]+","+t[0];if(n){var s=t[2]||0;a+=","+s}return a},r.prototype.writePoint=function(t,e,n){var o=n[n.length-1],a=o.hasZ,s=o.srsName;s&&t.setAttribute("srsName",s);var u=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(u);var h=e.getCoordinates(),d=this.getCoords_(h,s,a);en(u,d)},r.prototype.writeMultiPoint=function(t,e,n){var o=n[n.length-1],a=o.hasZ,s=o.srsName;s&&t.setAttribute("srsName",s);var u=e.getPoints();on({node:t,hasZ:a,srsName:s},this.POINTMEMBER_SERIALIZERS,Wi("pointMember"),u,n,void 0,this)},r.prototype.writePointMember=function(t,e,n){var o=sn(t.namespaceURI,"Point");t.appendChild(o),this.writePoint(o,e,n)},r.prototype.writeLinearRing=function(t,e,n){var o=n[n.length-1],a=o.srsName;a&&t.setAttribute("srsName",a);var s=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(s),this.writeCoordinates_(s,e,n)},r.prototype.writeMultiSurfaceOrPolygon=function(t,e,n){var o=n[n.length-1],a=o.hasZ,s=o.srsName,u=o.surface;s&&t.setAttribute("srsName",s);var h=e.getPolygons();on({node:t,hasZ:a,srsName:s,surface:u},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,n,void 0,this)},r.prototype.writeSurfaceOrPolygonMember=function(t,e,n){var o=this.GEOMETRY_NODE_FACTORY_(e,n);o&&(t.appendChild(o),this.writeSurfaceOrPolygon(o,e,n))},r.prototype.writeEnvelope=function(t,e,n){var o=n[n.length-1],a=o.srsName;a&&t.setAttribute("srsName",a);var s=["lowerCorner","upperCorner"],u=[e[0]+" "+e[1],e[2]+" "+e[3]];on({node:t},this.ENVELOPE_SERIALIZERS,jo,u,n,s,this)},r.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,n){var o=e[e.length-1].node;return sn("http://www.opengis.net/gml",lR[o.nodeName])},r}(Rn);Hn.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:Zr(Hn.prototype.readFlatCoordinates)}},Hn.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:Hn.prototype.innerBoundaryIsParser,outerBoundaryIs:Hn.prototype.outerBoundaryIsParser}},Hn.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:Br(Hn.prototype.readFlatCoordinates)}},Hn.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Zr(Rn.prototype.readPoint),MultiPoint:Zr(Rn.prototype.readMultiPoint),LineString:Zr(Rn.prototype.readLineString),MultiLineString:Zr(Rn.prototype.readMultiLineString),LinearRing:Zr(Rn.prototype.readLinearRing),Polygon:Zr(Rn.prototype.readPolygon),MultiPolygon:Zr(Rn.prototype.readMultiPolygon),Box:Zr(Hn.prototype.readBox)}},Hn.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:Ht(Hn.prototype.writeCurveOrLineString),MultiCurve:Ht(Hn.prototype.writeMultiCurveOrLineString),Point:Ht(Hn.prototype.writePoint),MultiPoint:Ht(Hn.prototype.writeMultiPoint),LineString:Ht(Hn.prototype.writeCurveOrLineString),MultiLineString:Ht(Hn.prototype.writeMultiCurveOrLineString),LinearRing:Ht(Hn.prototype.writeLinearRing),Polygon:Ht(Hn.prototype.writeSurfaceOrPolygon),MultiPolygon:Ht(Hn.prototype.writeMultiSurfaceOrPolygon),Surface:Ht(Hn.prototype.writeSurfaceOrPolygon),MultiSurface:Ht(Hn.prototype.writeMultiSurfaceOrPolygon),Envelope:Ht(Hn.prototype.writeEnvelope)}},Hn.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:Ht(Hn.prototype.writeLineStringOrCurveMember),curveMember:Ht(Hn.prototype.writeLineStringOrCurveMember)}},Hn.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:Ht(Hn.prototype.writeRing),innerBoundaryIs:Ht(Hn.prototype.writeRing)}},Hn.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:Ht(Hn.prototype.writePointMember)}},Hn.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:Ht(Hn.prototype.writeSurfaceOrPolygonMember),polygonMember:Ht(Hn.prototype.writeSurfaceOrPolygonMember)}},Hn.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:Ht(en),upperCorner:Ht(en)}};var xh=Hn,uR=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cR=au+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",fR={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Ur=function(i){uR(r,i);function r(t){var e=this,n=t||{};return e=i.call(this,n)||this,e.surface_=n.surface!==void 0?n.surface:!1,e.curve_=n.curve!==void 0?n.curve:!1,e.multiCurve_=n.multiCurve!==void 0?n.multiCurve:!0,e.multiSurface_=n.multiSurface!==void 0?n.multiSurface:!0,e.schemaLocation=n.schemaLocation?n.schemaLocation:cR,e.hasZ=n.hasZ!==void 0?n.hasZ:!1,e}return r.prototype.readMultiCurve=function(t,e){var n=We([],this.MULTICURVE_PARSERS,t,e,this);if(n){var o=new is(n);return o}else return},r.prototype.readMultiSurface=function(t,e){var n=We([],this.MULTISURFACE_PARSERS,t,e,this);if(n)return new da(n)},r.prototype.curveMemberParser=function(t,e){Ga(this.CURVEMEMBER_PARSERS,t,e,this)},r.prototype.surfaceMemberParser=function(t,e){Ga(this.SURFACEMEMBER_PARSERS,t,e,this)},r.prototype.readPatch=function(t,e){return We([null],this.PATCHES_PARSERS,t,e,this)},r.prototype.readSegment=function(t,e){return We([null],this.SEGMENTS_PARSERS,t,e,this)},r.prototype.readPolygonPatch=function(t,e){return We([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)},r.prototype.readLineStringSegment=function(t,e){return We([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},r.prototype.interiorParser=function(t,e){var n=We(void 0,this.RING_PARSERS,t,e,this);if(n){var o=e[e.length-1];o.push(n)}},r.prototype.exteriorParser=function(t,e){var n=We(void 0,this.RING_PARSERS,t,e,this);if(n){var o=e[e.length-1];o[0]=n}},r.prototype.readSurface=function(t,e){var n=We([null],this.SURFACE_PARSERS,t,e,this);if(n&&n[0]){var o=n[0],a=[o.length],s=void 0,u=void 0;for(s=1,u=n.length;s<u;++s)Object(vr.c)(o,n[s]),a.push(o.length);return new kn(o,nr.XYZ,a)}else return},r.prototype.readCurve=function(t,e){var n=We([null],this.CURVE_PARSERS,t,e,this);if(n){var o=new xi(n,nr.XYZ);return o}else return},r.prototype.readEnvelope=function(t,e){var n=We([null],this.ENVELOPE_PARSERS,t,e,this);return Ce(n[1][0],n[1][1],n[2][0],n[2][1])},r.prototype.readFlatPos=function(t,e){for(var n=va(t,!1),o=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,a=[],s;s=o.exec(n);)a.push(parseFloat(s[1])),n=n.substr(s[0].length);if(n===""){var u=e[0],h=u.srsName,d="enu";if(h){var E=qr(h);d=E.getAxisOrientation()}if(d==="neu"){var b=void 0,I=void 0;for(b=0,I=a.length;b<I;b+=3){var M=a[b],k=a[b+1];a[b]=k,a[b+1]=M}}var et=a.length;if(et==2&&a.push(0),et!==0)return a}},r.prototype.readFlatPosList=function(t,e){var n=va(t,!1).replace(/^\s*|\s*$/g,""),o=e[0],a=o.srsName,s=o.srsDimension,u="enu";if(a){var h=qr(a);u=h.getAxisOrientation()}var d=n.split(/\s+/),E=2;t.getAttribute("srsDimension")?E=lu(t.getAttribute("srsDimension")):t.getAttribute("dimension")?E=lu(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?E=lu(t.parentNode.getAttribute("srsDimension")):s&&(E=lu(s));for(var b,I,M,k=[],et=0,ht=d.length;et<ht;et+=E)b=parseFloat(d[et]),I=parseFloat(d[et+1]),M=E===3?parseFloat(d[et+2]):0,u.substr(0,2)==="en"?k.push(b,I,M):k.push(I,b,M);return k},r.prototype.writePos_=function(t,e,n){var o=n[n.length-1],a=o.hasZ,s=a?"3":"2";t.setAttribute("srsDimension",s);var u=o.srsName,h="enu";u&&(h=qr(u).getAxisOrientation());var d=e.getCoordinates(),E;if(h.substr(0,2)==="en"?E=d[0]+" "+d[1]:E=d[1]+" "+d[0],a){var b=d[2]||0;E+=" "+b}en(t,E)},r.prototype.getCoords_=function(t,e,n){var o="enu";e&&(o=qr(e).getAxisOrientation());var a=o.substr(0,2)==="en"?t[0]+" "+t[1]:t[1]+" "+t[0];if(n){var s=t[2]||0;a+=" "+s}return a},r.prototype.writePosList_=function(t,e,n){var o=n[n.length-1],a=o.hasZ,s=a?"3":"2";t.setAttribute("srsDimension",s);for(var u=o.srsName,h=e.getCoordinates(),d=h.length,E=new Array(d),b,I=0;I<d;++I)b=h[I],E[I]=this.getCoords_(b,u,a);en(t,E.join(" "))},r.prototype.writePoint=function(t,e,n){var o=n[n.length-1],a=o.srsName;a&&t.setAttribute("srsName",a);var s=sn(t.namespaceURI,"pos");t.appendChild(s),this.writePos_(s,e,n)},r.prototype.writeEnvelope=function(t,e,n){var o=n[n.length-1],a=o.srsName;a&&t.setAttribute("srsName",a);var s=["lowerCorner","upperCorner"],u=[e[0]+" "+e[1],e[2]+" "+e[3]];on({node:t},this.ENVELOPE_SERIALIZERS,jo,u,n,s,this)},r.prototype.writeLinearRing=function(t,e,n){var o=n[n.length-1],a=o.srsName;a&&t.setAttribute("srsName",a);var s=sn(t.namespaceURI,"posList");t.appendChild(s),this.writePosList_(s,e,n)},r.prototype.RING_NODE_FACTORY_=function(t,e,n){var o=e[e.length-1],a=o.node,s=o.exteriorWritten;return s===void 0&&(o.exteriorWritten=!0),sn(a.namespaceURI,s!==void 0?"interior":"exterior")},r.prototype.writeSurfaceOrPolygon=function(t,e,n){var o=n[n.length-1],a=o.hasZ,s=o.srsName;if(t.nodeName!=="PolygonPatch"&&s&&t.setAttribute("srsName",s),t.nodeName==="Polygon"||t.nodeName==="PolygonPatch"){var u=e.getLinearRings();on({node:t,hasZ:a,srsName:s},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,u,n,void 0,this)}else if(t.nodeName==="Surface"){var h=sn(t.namespaceURI,"patches");t.appendChild(h),this.writeSurfacePatches_(h,e,n)}},r.prototype.writeCurveOrLineString=function(t,e,n){var o=n[n.length-1],a=o.srsName;if(t.nodeName!=="LineStringSegment"&&a&&t.setAttribute("srsName",a),t.nodeName==="LineString"||t.nodeName==="LineStringSegment"){var s=sn(t.namespaceURI,"posList");t.appendChild(s),this.writePosList_(s,e,n)}else if(t.nodeName==="Curve"){var u=sn(t.namespaceURI,"segments");t.appendChild(u),this.writeCurveSegments_(u,e,n)}},r.prototype.writeMultiSurfaceOrPolygon=function(t,e,n){var o=n[n.length-1],a=o.hasZ,s=o.srsName,u=o.surface;s&&t.setAttribute("srsName",s);var h=e.getPolygons();on({node:t,hasZ:a,srsName:s,surface:u},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,n,void 0,this)},r.prototype.writeMultiPoint=function(t,e,n){var o=n[n.length-1],a=o.srsName,s=o.hasZ;a&&t.setAttribute("srsName",a);var u=e.getPoints();on({node:t,hasZ:s,srsName:a},this.POINTMEMBER_SERIALIZERS,Wi("pointMember"),u,n,void 0,this)},r.prototype.writeMultiCurveOrLineString=function(t,e,n){var o=n[n.length-1],a=o.hasZ,s=o.srsName,u=o.curve;s&&t.setAttribute("srsName",s);var h=e.getLineStrings();on({node:t,hasZ:a,srsName:s,curve:u},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,n,void 0,this)},r.prototype.writeRing=function(t,e,n){var o=sn(t.namespaceURI,"LinearRing");t.appendChild(o),this.writeLinearRing(o,e,n)},r.prototype.writeSurfaceOrPolygonMember=function(t,e,n){var o=this.GEOMETRY_NODE_FACTORY_(e,n);o&&(t.appendChild(o),this.writeSurfaceOrPolygon(o,e,n))},r.prototype.writePointMember=function(t,e,n){var o=sn(t.namespaceURI,"Point");t.appendChild(o),this.writePoint(o,e,n)},r.prototype.writeLineStringOrCurveMember=function(t,e,n){var o=this.GEOMETRY_NODE_FACTORY_(e,n);o&&(t.appendChild(o),this.writeCurveOrLineString(o,e,n))},r.prototype.writeSurfacePatches_=function(t,e,n){var o=sn(t.namespaceURI,"PolygonPatch");t.appendChild(o),this.writeSurfaceOrPolygon(o,e,n)},r.prototype.writeCurveSegments_=function(t,e,n){var o=sn(t.namespaceURI,"LineStringSegment");t.appendChild(o),this.writeCurveOrLineString(o,e,n)},r.prototype.writeGeometryElement=function(t,e,n){var o=n[n.length-1],a=Object(br.a)({},o);a.node=t;var s;Array.isArray(e)?s=L0(e,o):s=$i(e,!0,o),on(a,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[s],n,void 0,this)},r.prototype.writeFeatureElement=function(t,e,n){var o=e.getId();o&&t.setAttribute("fid",o);var a=n[n.length-1],s=a.featureNS,u=e.getGeometryName();a.serializers||(a.serializers={},a.serializers[s]={});var h=[],d=[];if(e.hasProperties()){var E=e.getProperties();for(var b in E){var I=E[b];I!==null&&(h.push(b),d.push(I),b==u||typeof I.getSimplifiedGeometry=="function"?b in a.serializers[s]||(a.serializers[s][b]=Ht(this.writeGeometryElement,this)):b in a.serializers[s]||(a.serializers[s][b]=Ht(en)))}}var M=Object(br.a)({},a);M.node=t,on(M,a.serializers,Wi(void 0,s),d,n,h)},r.prototype.writeFeatureMembers_=function(t,e,n){var o=n[n.length-1],a=o.featureType,s=o.featureNS,u={};u[s]={},u[s][a]=Ht(this.writeFeatureElement,this);var h=Object(br.a)({},o);h.node=t,on(h,u,Wi(a,s),e,n)},r.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,n){var o=e[e.length-1].node;return sn(this.namespace,fR[o.nodeName])},r.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,n){var o=e[e.length-1],a=o.multiSurface,s=o.surface,u=o.curve,h=o.multiCurve,d;return Array.isArray(t)?d="Envelope":(d=t.getType(),d==="MultiPolygon"&&a===!0?d="MultiSurface":d==="Polygon"&&s===!0?d="Surface":d==="LineString"&&u===!0?d="Curve":d==="MultiLineString"&&h===!0&&(d="MultiCurve")),sn(this.namespace,d)},r.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var n=sn(this.namespace,"geom"),o={node:n,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&Object(br.a)(o,e),this.writeGeometryElement(n,t,[o]),n},r.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var n=sn(this.namespace,"featureMembers");n.setAttributeNS(ff,"xsi:schemaLocation",this.schemaLocation);var o={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&Object(br.a)(o,e),this.writeFeatureMembers_(n,t,[o]),n},r}(Rn);Ur.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:Zr(Ur.prototype.readFlatPos),posList:Zr(Ur.prototype.readFlatPosList),coordinates:Zr(xh.prototype.readFlatCoordinates)}},Ur.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:Ur.prototype.interiorParser,exterior:Ur.prototype.exteriorParser}},Ur.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Zr(Rn.prototype.readPoint),MultiPoint:Zr(Rn.prototype.readMultiPoint),LineString:Zr(Rn.prototype.readLineString),MultiLineString:Zr(Rn.prototype.readMultiLineString),LinearRing:Zr(Rn.prototype.readLinearRing),Polygon:Zr(Rn.prototype.readPolygon),MultiPolygon:Zr(Rn.prototype.readMultiPolygon),Surface:Zr(Ur.prototype.readSurface),MultiSurface:Zr(Ur.prototype.readMultiSurface),Curve:Zr(Ur.prototype.readCurve),MultiCurve:Zr(Ur.prototype.readMultiCurve),Envelope:Zr(Ur.prototype.readEnvelope)}},Ur.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:Br(Ur.prototype.curveMemberParser),curveMembers:Br(Ur.prototype.curveMemberParser)}},Ur.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:Br(Ur.prototype.surfaceMemberParser),surfaceMembers:Br(Ur.prototype.surfaceMemberParser)}},Ur.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:Br(Rn.prototype.readLineString),Curve:Br(Ur.prototype.readCurve)}},Ur.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:Br(Rn.prototype.readPolygon),Surface:Br(Ur.prototype.readSurface)}},Ur.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:Zr(Ur.prototype.readPatch)}},Ur.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:Zr(Ur.prototype.readSegment)}},Ur.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:Br(Ur.prototype.readFlatPosList),upperCorner:Br(Ur.prototype.readFlatPosList)}},Ur.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:Zr(Ur.prototype.readPolygonPatch)}},Ur.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:Zr(Ur.prototype.readLineStringSegment)}},Ur.prototype.writeFeatures,Ur.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:Ht(Ur.prototype.writeRing),interior:Ht(Ur.prototype.writeRing)}},Ur.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:Ht(en),upperCorner:Ht(en)}},Ur.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:Ht(Ur.prototype.writeSurfaceOrPolygonMember),polygonMember:Ht(Ur.prototype.writeSurfaceOrPolygonMember)}},Ur.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:Ht(Ur.prototype.writePointMember)}},Ur.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:Ht(Ur.prototype.writeLineStringOrCurveMember),curveMember:Ht(Ur.prototype.writeLineStringOrCurveMember)}},Ur.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:Ht(Ur.prototype.writeCurveOrLineString),MultiCurve:Ht(Ur.prototype.writeMultiCurveOrLineString),Point:Ht(Ur.prototype.writePoint),MultiPoint:Ht(Ur.prototype.writeMultiPoint),LineString:Ht(Ur.prototype.writeCurveOrLineString),MultiLineString:Ht(Ur.prototype.writeMultiCurveOrLineString),LinearRing:Ht(Ur.prototype.writeLinearRing),Polygon:Ht(Ur.prototype.writeSurfaceOrPolygon),MultiPolygon:Ht(Ur.prototype.writeMultiSurfaceOrPolygon),Surface:Ht(Ur.prototype.writeSurfaceOrPolygon),MultiSurface:Ht(Ur.prototype.writeMultiSurfaceOrPolygon),Envelope:Ht(Ur.prototype.writeEnvelope)}};var xn=Ur,F0=xn;F0.prototype.writeFeatures,F0.prototype.writeFeaturesNode;var hR=F0,pR=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vo=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],dR="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",vR={rte:f5,trk:h5,wpt:p5},gR=Ne(vo,{rte:Br(f5),trk:Br(h5),wpt:Br(p5)}),yR=Ne(vo,{text:Vt($e,"linkText"),type:Vt($e,"linkType")}),mR=Ne(vo,{rte:Ht(VR),trk:Ht(zR),wpt:Ht(WR)}),_R=function(i){pR(r,i);function r(t){var e=i.call(this)||this,n=t||{};return e.dataProjection=qr("EPSG:4326"),e.readExtensions_=n.readExtensions,e}return r.prototype.handleReadExtensions_=function(t){t||(t=[]);for(var e=0,n=t.length;e<n;++e){var o=t[e];if(this.readExtensions_){var a=o.get("extensionsNode_")||null;this.readExtensions_(o,a)}o.set("extensionsNode_",void 0)}},r.prototype.readFeatureFromNode=function(t,e){if(!Object(vr.f)(vo,t.namespaceURI))return null;var n=vR[t.localName];if(!n)return null;var o=n(t,[this.getReadOptions(t,e)]);return o?(this.handleReadExtensions_([o]),o):null},r.prototype.readFeaturesFromNode=function(t,e){if(!Object(vr.f)(vo,t.namespaceURI))return[];if(t.localName=="gpx"){var n=We([],gR,t,[this.getReadOptions(t,e)]);return n?(this.handleReadExtensions_(n),n):[]}return[]},r.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var n=sn("http://www.topografix.com/GPX/1/1","gpx"),o="http://www.w3.org/2000/xmlns/";return n.setAttributeNS(o,"xmlns:xsi",ff),n.setAttributeNS(ff,"xsi:schemaLocation",dR),n.setAttribute("version","1.1"),n.setAttribute("creator","OpenLayers"),on({node:n},mR,BR,t,[e]),n},r}(Xp),SR=Ne(vo,{name:Vt($e),cmt:Vt($e),desc:Vt($e),src:Vt($e),link:B0,number:Vt(lo),extensions:G0,type:Vt($e),rtept:GR}),ER=Ne(vo,{ele:Vt(ei),time:Vt(M0)}),wR=Ne(vo,{name:Vt($e),cmt:Vt($e),desc:Vt($e),src:Vt($e),link:B0,number:Vt(lo),type:Vt($e),extensions:G0,trkseg:kR}),xR=Ne(vo,{trkpt:UR}),OR=Ne(vo,{ele:Vt(ei),time:Vt(M0)}),TR=Ne(vo,{ele:Vt(ei),time:Vt(M0),magvar:Vt(ei),geoidheight:Vt(ei),name:Vt($e),cmt:Vt($e),desc:Vt($e),src:Vt($e),link:B0,sym:Vt($e),type:Vt($e),fix:Vt($e),sat:Vt(lo),hdop:Vt(ei),vdop:Vt(ei),pdop:Vt(ei),ageofdgpsdata:Vt(ei),dgpsid:Vt(lo),extensions:G0}),bR=["text","type"],CR=Ne(vo,{text:Ht(en),type:Ht(en)}),LR=Ne(vo,["name","cmt","desc","src","link","number","type","rtept"]),AR=Ne(vo,{name:Ht(en),cmt:Ht(en),desc:Ht(en),src:Ht(en),link:Ht(U0),number:Ht(rg),type:Ht(en),rtept:u5(Ht(k0))}),PR=Ne(vo,["ele","time"]),RR=Ne(vo,["name","cmt","desc","src","link","number","type","trkseg"]),IR=Ne(vo,{name:Ht(en),cmt:Ht(en),desc:Ht(en),src:Ht(en),link:Ht(U0),number:Ht(rg),type:Ht(en),trkseg:u5(Ht(YR))}),NR=Wi("trkpt"),MR=Ne(vo,{trkpt:Ht(k0)}),FR=Ne(vo,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),jR=Ne(vo,{ele:Ht(Ua),time:Ht(oR),magvar:Ht(Ua),geoidheight:Ht(Ua),name:Ht(en),cmt:Ht(en),desc:Ht(en),src:Ht(en),link:Ht(U0),sym:Ht(en),type:Ht(en),fix:Ht(en),sat:Ht(rg),hdop:Ht(Ua),vdop:Ht(Ua),pdop:Ht(Ua),ageofdgpsdata:Ht(Ua),dgpsid:Ht(rg)}),DR={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function BR(i,r,t){var e=i.getGeometry();if(e){var n=DR[e.getType()];if(n){var o=r[r.length-1].node;return sn(o.namespaceURI,n)}}}function j0(i,r,t,e){return i.push(parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))),"ele"in e?(i.push(e.ele),delete e.ele,r.hasZ=!0):i.push(0),"time"in e?(i.push(e.time),delete e.time,r.hasM=!0):i.push(0),i}function D0(i,r,t){var e=nr.XY,n=2;if(i.hasZ&&i.hasM?(e=nr.XYZM,n=4):i.hasZ?(e=nr.XYZ,n=3):i.hasM&&(e=nr.XYM,n=3),n!==4){for(var o=0,a=r.length/4;o<a;o++)r[o*n]=r[o*4],r[o*n+1]=r[o*4+1],i.hasZ&&(r[o*n+2]=r[o*4+2]),i.hasM&&(r[o*n+2]=r[o*4+3]);if(r.length=r.length/4*n,t)for(var o=0,a=t.length;o<a;o++)t[o]=t[o]/4*n}return e}function B0(i,r){var t=r[r.length-1],e=i.getAttribute("href");e!==null&&(t.link=e),Ga(yR,i,r)}function G0(i,r){var t=r[r.length-1];t.extensionsNode_=i}function GR(i,r){var t=We({},ER,i,r);if(t){var e=r[r.length-1],n=e.flatCoordinates,o=e.layoutOptions;j0(n,o,i,t)}}function UR(i,r){var t=We({},OR,i,r);if(t){var e=r[r.length-1],n=e.flatCoordinates,o=e.layoutOptions;j0(n,o,i,t)}}function kR(i,r){var t=r[r.length-1];Ga(xR,i,r);var e=t.flatCoordinates,n=t.ends;n.push(e.length)}function f5(i,r){var t=r[0],e=We({flatCoordinates:[],layoutOptions:{}},SR,i,r);if(!!e){var n=e.flatCoordinates;delete e.flatCoordinates;var o=e.layoutOptions;delete e.layoutOptions;var a=D0(o,n),s=new xi(n,a);$i(s,!1,t);var u=new Er(s);return u.setProperties(e,!0),u}}function h5(i,r){var t=r[0],e=We({flatCoordinates:[],ends:[],layoutOptions:{}},wR,i,r);if(!!e){var n=e.flatCoordinates;delete e.flatCoordinates;var o=e.ends;delete e.ends;var a=e.layoutOptions;delete e.layoutOptions;var s=D0(a,n,o),u=new is(n,s,o);$i(u,!1,t);var h=new Er(u);return h.setProperties(e,!0),h}}function p5(i,r){var t=r[0],e=We({},TR,i,r);if(!!e){var n={},o=j0([],n,i,e),a=D0(n,o),s=new yn(o,a);$i(s,!1,t);var u=new Er(s);return u.setProperties(e,!0),u}}function U0(i,r,t){i.setAttribute("href",r);var e=t[t.length-1],n=e.properties,o=[n.linkText,n.linkType];on({node:i},CR,jo,o,t,bR)}function k0(i,r,t){var e=t[t.length-1],n=e.node,o=n.namespaceURI,a=e.properties;i.setAttributeNS(null,"lat",String(r[1])),i.setAttributeNS(null,"lon",String(r[0]));var s=e.geometryLayout;switch(s){case nr.XYZM:r[3]!==0&&(a.time=r[3]);case nr.XYZ:r[2]!==0&&(a.ele=r[2]);break;case nr.XYM:r[2]!==0&&(a.time=r[2]);break}var u=i.nodeName=="rtept"?PR[o]:FR[o],h=Ba(a,u);on({node:i,properties:a},jR,jo,h,t,u)}function VR(i,r,t){var e=t[0],n=r.getProperties(),o={node:i};o.properties=n;var a=r.getGeometry();if(a.getType()==Xt.LINE_STRING){var s=$i(a,!0,e);o.geometryLayout=s.getLayout(),n.rtept=s.getCoordinates()}var u=t[t.length-1].node,h=LR[u.namespaceURI],d=Ba(n,h);on(o,AR,jo,d,t,h)}function zR(i,r,t){var e=t[0],n=r.getProperties(),o={node:i};o.properties=n;var a=r.getGeometry();if(a.getType()==Xt.MULTI_LINE_STRING){var s=$i(a,!0,e);n.trkseg=s.getLineStrings()}var u=t[t.length-1].node,h=RR[u.namespaceURI],d=Ba(n,h);on(o,IR,jo,d,t,h)}function YR(i,r,t){var e={node:i};e.geometryLayout=r.getLayout(),e.properties={},on(e,MR,NR,r.getCoordinates(),t)}function WR(i,r,t){var e=t[0],n=t[t.length-1];n.properties=r.getProperties();var o=r.getGeometry();if(o.getType()==Xt.POINT){var a=$i(o,!0,e);n.geometryLayout=a.getLayout(),k0(i,a.getCoordinates(),t)}}var HR=_R,XR=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),KR=function(i){XR(r,i);function r(){return i.call(this)||this}return r.prototype.getType=function(){return ou.TEXT},r.prototype.readFeature=function(t,e){return this.readFeatureFromText(ng(t),this.adaptOptions(e))},r.prototype.readFeatureFromText=function(t,e){return Object(nt.b)()},r.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(ng(t),this.adaptOptions(e))},r.prototype.readFeaturesFromText=function(t,e){return Object(nt.b)()},r.prototype.readGeometry=function(t,e){return this.readGeometryFromText(ng(t),this.adaptOptions(e))},r.prototype.readGeometryFromText=function(t,e){return Object(nt.b)()},r.prototype.readProjection=function(t){return this.readProjectionFromText(ng(t))},r.prototype.readProjectionFromText=function(t){return this.dataProjection},r.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},r.prototype.writeFeatureText=function(t,e){return Object(nt.b)()},r.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},r.prototype.writeFeaturesText=function(t,e){return Object(nt.b)()},r.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},r.prototype.writeGeometryText=function(t,e){return Object(nt.b)()},r}(tg);function ng(i){return typeof i=="string"?i:""}var V0=KR,ZR=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kp={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"},$R=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,qR=/^H.([A-Z]{3}).*?:(.*)/,JR=/^HFDTE(\d{2})(\d{2})(\d{2})/,QR=/\r\n|\r|\n/,tI=function(i){ZR(r,i);function r(t){var e=i.call(this)||this,n=t||{};return e.dataProjection=qr("EPSG:4326"),e.altitudeMode_=n.altitudeMode?n.altitudeMode:Kp.NONE,e}return r.prototype.readFeatureFromText=function(t,e){var n=this.altitudeMode_,o=t.split(QR),a={},s=[],u=2e3,h=0,d=1,E=-1,b,I;for(b=0,I=o.length;b<I;++b){var M=o[b],k=void 0;if(M.charAt(0)=="B"){if(k=$R.exec(M),k){var et=parseInt(k[1],10),ht=parseInt(k[2],10),Lt=parseInt(k[3],10),It=parseInt(k[4],10)+parseInt(k[5],10)/6e4;k[6]=="S"&&(It=-It);var wt=parseInt(k[7],10)+parseInt(k[8],10)/6e4;if(k[9]=="W"&&(wt=-wt),s.push(wt,It),n!=Kp.NONE){var oe=void 0;n==Kp.GPS?oe=parseInt(k[11],10):n==Kp.BAROMETRIC?oe=parseInt(k[12],10):oe=0,s.push(oe)}var se=Date.UTC(u,h,d,et,ht,Lt);se<E&&(se=Date.UTC(u,h,d+1,et,ht,Lt)),s.push(se/1e3),E=se}}else M.charAt(0)=="H"&&(k=JR.exec(M),k?(d=parseInt(k[1],10),h=parseInt(k[2],10)-1,u=2e3+parseInt(k[3],10)):(k=qR.exec(M),k&&(a[k[1]]=k[2].trim())))}if(s.length===0)return null;var de=n==Kp.NONE?nr.XYM:nr.XYZM,Se=new xi(s,de),Ie=new Er($i(Se,!1,e));return Ie.setProperties(a,!0),Ie},r.prototype.readFeaturesFromText=function(t,e){var n=this.readFeatureFromText(t,e);return n?[n]:[]},r}(V0),eI=tI,oa=function(i,r){for(var t=0,e=r.length,n=i.length;t<e;t++,n++)i[n]=r[t];return i},ga={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"},pf={};pf[ga.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},pf[ga.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},pf[ga.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},pf.none={none:{supports:[],formats:[],qualities:[]}};var rI=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,d5=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,nI=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/;function iI(i){var r=i.getComplianceLevelSupportedFeatures();return r===void 0&&(r=pf[ga.VERSION1].level0),{url:i.imageInfo["@id"]===void 0?void 0:i.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:r.supports,formats:oa(oa([],r.formats),[i.imageInfo.formats===void 0?[]:i.imageInfo.formats]),qualities:oa(oa([],r.qualities),[i.imageInfo.qualities===void 0?[]:i.imageInfo.qualities]),resolutions:i.imageInfo.scale_factors,tileSize:i.imageInfo.tile_width!==void 0?i.imageInfo.tile_height!==void 0?[i.imageInfo.tile_width,i.imageInfo.tile_height]:[i.imageInfo.tile_width,i.imageInfo.tile_width]:i.imageInfo.tile_height!=null?[i.imageInfo.tile_height,i.imageInfo.tile_height]:void 0}}function oI(i){var r=i.getComplianceLevelSupportedFeatures(),t=Array.isArray(i.imageInfo.profile)&&i.imageInfo.profile.length>1,e=t&&i.imageInfo.profile[1].supports?i.imageInfo.profile[1].supports:[],n=t&&i.imageInfo.profile[1].formats?i.imageInfo.profile[1].formats:[],o=t&&i.imageInfo.profile[1].qualities?i.imageInfo.profile[1].qualities:[];return{url:i.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:i.imageInfo.sizes===void 0?void 0:i.imageInfo.sizes.map(function(a){return[a.width,a.height]}),tileSize:i.imageInfo.tiles===void 0?void 0:[i.imageInfo.tiles.map(function(a){return a.width})[0],i.imageInfo.tiles.map(function(a){return a.height===void 0?a.width:a.height})[0]],resolutions:i.imageInfo.tiles===void 0?void 0:i.imageInfo.tiles.map(function(a){return a.scaleFactors})[0],supports:oa(oa([],r.supports),e),formats:oa(oa([],r.formats),n),qualities:oa(oa([],r.qualities),o)}}function aI(i){var r=i.getComplianceLevelSupportedFeatures(),t=i.imageInfo.extraFormats===void 0?r.formats:oa(oa([],r.formats),i.imageInfo.extraFormats),e=i.imageInfo.preferredFormats!==void 0&&Array.isArray(i.imageInfo.preferredFormats)&&i.imageInfo.preferredFormats.length>0?i.imageInfo.preferredFormats.filter(function(n){return Object(vr.f)(["jpg","png","gif"],n)}).reduce(function(n,o){return n===void 0&&Object(vr.f)(t,o)?o:n},void 0):void 0;return{url:i.imageInfo.id,sizes:i.imageInfo.sizes===void 0?void 0:i.imageInfo.sizes.map(function(n){return[n.width,n.height]}),tileSize:i.imageInfo.tiles===void 0?void 0:[i.imageInfo.tiles.map(function(n){return n.width})[0],i.imageInfo.tiles.map(function(n){return n.height})[0]],resolutions:i.imageInfo.tiles===void 0?void 0:i.imageInfo.tiles.map(function(n){return n.scaleFactors})[0],supports:i.imageInfo.extraFeatures===void 0?r.supports:oa(oa([],r.supports),i.imageInfo.extraFeatures),formats:t,qualities:i.imageInfo.extraQualities===void 0?r.qualities:oa(oa([],r.qualities),i.imageInfo.extraQualities),preferredFormat:e}}var ig={};ig[ga.VERSION1]=iI,ig[ga.VERSION2]=oI,ig[ga.VERSION3]=aI;var sI=function(){function i(r){this.setImageInfo(r)}return i.prototype.setImageInfo=function(r){typeof r=="string"?this.imageInfo=JSON.parse(r):this.imageInfo=r},i.prototype.getImageApiVersion=function(){if(this.imageInfo!==void 0){var r=this.imageInfo["@context"]||"ol-no-context";typeof r=="string"&&(r=[r]);for(var t=0;t<r.length;t++)switch(r[t]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return ga.VERSION1;case"http://iiif.io/api/image/2/context.json":return ga.VERSION2;case"http://iiif.io/api/image/3/context.json":return ga.VERSION3;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(ga.VERSION1)&&this.imageInfo.identifier)return ga.VERSION1;break}Qt(!1,61)}},i.prototype.getComplianceLevelEntryFromProfile=function(r){if(!(this.imageInfo===void 0||this.imageInfo.profile===void 0))switch(r===void 0&&(r=this.getImageApiVersion()),r){case ga.VERSION1:if(rI.test(this.imageInfo.profile))return this.imageInfo.profile;break;case ga.VERSION3:if(nI.test(this.imageInfo.profile))return this.imageInfo.profile;break;case ga.VERSION2:if(typeof this.imageInfo.profile=="string"&&d5.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&typeof this.imageInfo.profile[0]=="string"&&d5.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0];break}},i.prototype.getComplianceLevelFromProfile=function(r){var t=this.getComplianceLevelEntryFromProfile(r);if(t!==void 0){var e=t.match(/level[0-2](?:\.json)?$/g);return Array.isArray(e)?e[0].replace(".json",""):void 0}},i.prototype.getComplianceLevelSupportedFeatures=function(){if(this.imageInfo!==void 0){var r=this.getImageApiVersion(),t=this.getComplianceLevelFromProfile(r);return t===void 0?pf.none.none:pf[r][t]}},i.prototype.getTileSourceOptions=function(r){var t=r||{},e=this.getImageApiVersion();if(e!==void 0){var n=e===void 0?void 0:ig[e](this);if(n!==void 0)return{url:n.url,version:e,size:[this.imageInfo.width,this.imageInfo.height],sizes:n.sizes,format:t.format!==void 0&&Object(vr.f)(n.formats,t.format)?t.format:n.preferredFormat!==void 0?n.preferredFormat:"jpg",supports:n.supports,quality:t.quality&&Object(vr.f)(n.qualities,t.quality)?t.quality:Object(vr.f)(n.qualities,"native")?"native":"default",resolutions:Array.isArray(n.resolutions)?n.resolutions.sort(function(o,a){return a-o}):void 0,tileSize:n.tileSize}}},i}(),lI=sI,uI=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uu=["http://www.google.com/kml/ext/2.2"],zr=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],cI="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",v5={fraction:Wo.FRACTION,pixels:Wo.PIXELS,insetPixels:Wo.PIXELS},fI=Ne(zr,{ExtendedData:R5,Region:I5,MultiGeometry:Vt(L5,"geometry"),LineString:Vt(b5,"geometry"),LinearRing:Vt(C5,"geometry"),Point:Vt(A5,"geometry"),Polygon:Vt(P5,"geometry"),Style:Vt(Q0),StyleMap:XI,address:Vt($e),description:Vt($e),name:Vt($e),open:Vt(lc),phoneNumber:Vt($e),styleUrl:Vt(E5),visibility:Vt(lc)},Ne(uu,{MultiTrack:Vt(MI,"geometry"),Track:Vt(T5,"geometry")})),hI=Ne(zr,{ExtendedData:R5,Region:I5,Link:oN,address:Vt($e),description:Vt($e),name:Vt($e),open:Vt(lc),phoneNumber:Vt($e),visibility:Vt(lc)}),pI=Ne(zr,{href:Vt(S5)}),g5=Ne(zr,{LatLonAltBox:JI,Lod:tN}),dI=Ne(zr,["Document","Placemark"]),vI=Ne(zr,{Document:Ht(pN),Placemark:Ht(B5)}),Oh,og=null,z0,Y0,W0,ag,Zp,H0,X0=null,K0,Z0=null,$0,df=null,y5=null,q0=null;function gI(){Oh=[255,255,255,1],og=new zo({color:Oh}),z0=[20,2],Y0=Wo.PIXELS,W0=Wo.PIXELS,ag=[64,64],Zp="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",H0=.5,X0=new Ev({anchor:z0,anchorOrigin:bo.BOTTOM_LEFT,anchorXUnits:Y0,anchorYUnits:W0,crossOrigin:"anonymous",rotation:0,scale:H0,size:ag,src:Zp}),K0="NO_IMAGE",Z0=new To({color:Oh,width:1}),$0=new To({color:[51,51,51,1],width:2}),df=new nf({font:"bold 16px Helvetica",fill:og,stroke:$0,scale:.8}),y5=new Yo({fill:og,image:X0,text:df,stroke:Z0,zIndex:0}),q0=[y5]}var sg;function yI(i){return i}var mI=function(i){uI(r,i);function r(t){var e=i.call(this)||this,n=t||{};return q0||gI(),e.dataProjection=qr("EPSG:4326"),e.defaultStyle_=n.defaultStyle?n.defaultStyle:q0,e.extractStyles_=n.extractStyles!==void 0?n.extractStyles:!0,e.writeStyles_=n.writeStyles!==void 0?n.writeStyles:!0,e.sharedStyles_={},e.showPointNames_=n.showPointNames!==void 0?n.showPointNames:!0,e.crossOrigin_=n.crossOrigin!==void 0?n.crossOrigin:"anonymous",e.iconUrlFunction_=n.iconUrlFunction?n.iconUrlFunction:yI,e}return r.prototype.readDocumentOrFolder_=function(t,e){var n=Ne(zr,{Document:l5(this.readDocumentOrFolder_,this),Folder:l5(this.readDocumentOrFolder_,this),Placemark:Br(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),o=We([],n,t,e,this);if(o)return o},r.prototype.readPlacemark_=function(t,e){var n=We({geometry:null},fI,t,e,this);if(!!n){var o=new Er,a=t.getAttribute("id");a!==null&&o.setId(a);var s=e[0],u=n.geometry;if(u&&$i(u,!1,s),o.setGeometry(u),delete n.geometry,this.extractStyles_){var h=n.Style,d=n.styleUrl,E=SI(h,d,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);o.setStyle(E)}return delete n.Style,o.setProperties(n,!0),o}},r.prototype.readSharedStyle_=function(t,e){var n=t.getAttribute("id");if(n!==null){var o=Q0.call(this,t,e);if(o){var a=void 0,s=t.baseURI;if((!s||s=="about:blank")&&(s=window.location.href),s){var u=new URL("#"+n,s);a=u.href}else a="#"+n;this.sharedStyles_[a]=o}}},r.prototype.readSharedStyleMap_=function(t,e){var n=t.getAttribute("id");if(n!==null){var o=x5.call(this,t,e);if(!!o){var a,s=t.baseURI;if((!s||s=="about:blank")&&(s=window.location.href),s){var u=new URL("#"+n,s);a=u.href}else a="#"+n;this.sharedStyles_[a]=o}}},r.prototype.readFeatureFromNode=function(t,e){if(!Object(vr.f)(zr,t.namespaceURI))return null;var n=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return n||null},r.prototype.readFeaturesFromNode=function(t,e){if(!Object(vr.f)(zr,t.namespaceURI))return[];var n,o=t.localName;if(o=="Document"||o=="Folder")return n=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]),n||[];if(o=="Placemark"){var a=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return a?[a]:[]}else if(o=="kml"){n=[];for(var s=t.firstElementChild;s;s=s.nextElementSibling){var u=this.readFeaturesFromNode(s,e);u&&Object(vr.c)(n,u)}return n}else return[]},r.prototype.readName=function(t){if(t)if(typeof t=="string"){var e=Al(t);return this.readNameFromDocument(e)}else return Ll(t)?this.readNameFromDocument(t):this.readNameFromNode(t);else return},r.prototype.readNameFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var n=this.readNameFromNode(e);if(n)return n}},r.prototype.readNameFromNode=function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(Object(vr.f)(zr,e.namespaceURI)&&e.localName=="name")return $e(e);for(var e=t.firstElementChild;e;e=e.nextElementSibling){var n=e.localName;if(Object(vr.f)(zr,e.namespaceURI)&&(n=="Document"||n=="Folder"||n=="Placemark"||n=="kml")){var o=this.readNameFromNode(e);if(o)return o}}},r.prototype.readNetworkLinks=function(t){var e=[];if(typeof t=="string"){var n=Al(t);Object(vr.c)(e,this.readNetworkLinksFromDocument(n))}else Ll(t)?Object(vr.c)(e,this.readNetworkLinksFromDocument(t)):Object(vr.c)(e,this.readNetworkLinksFromNode(t));return e},r.prototype.readNetworkLinksFromDocument=function(t){for(var e=[],n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(vr.c)(e,this.readNetworkLinksFromNode(n));return e},r.prototype.readNetworkLinksFromNode=function(t){for(var e=[],n=t.firstElementChild;n;n=n.nextElementSibling)if(Object(vr.f)(zr,n.namespaceURI)&&n.localName=="NetworkLink"){var o=We({},hI,n,[]);e.push(o)}for(var n=t.firstElementChild;n;n=n.nextElementSibling){var a=n.localName;Object(vr.f)(zr,n.namespaceURI)&&(a=="Document"||a=="Folder"||a=="kml")&&Object(vr.c)(e,this.readNetworkLinksFromNode(n))}return e},r.prototype.readRegion=function(t){var e=[];if(typeof t=="string"){var n=Al(t);Object(vr.c)(e,this.readRegionFromDocument(n))}else Ll(t)?Object(vr.c)(e,this.readRegionFromDocument(t)):Object(vr.c)(e,this.readRegionFromNode(t));return e},r.prototype.readRegionFromDocument=function(t){for(var e=[],n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(vr.c)(e,this.readRegionFromNode(n));return e},r.prototype.readRegionFromNode=function(t){for(var e=[],n=t.firstElementChild;n;n=n.nextElementSibling)if(Object(vr.f)(zr,n.namespaceURI)&&n.localName=="Region"){var o=We({},g5,n,[]);e.push(o)}for(var n=t.firstElementChild;n;n=n.nextElementSibling){var a=n.localName;Object(vr.f)(zr,n.namespaceURI)&&(a=="Document"||a=="Folder"||a=="kml")&&Object(vr.c)(e,this.readRegionFromNode(n))}return e},r.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var n=sn(zr[4],"kml"),o="http://www.w3.org/2000/xmlns/";n.setAttributeNS(o,"xmlns:gx",uu[0]),n.setAttributeNS(o,"xmlns:xsi",ff),n.setAttributeNS(ff,"xsi:schemaLocation",cI);var a={node:n},s={};t.length>1?s.Document=t:t.length==1&&(s.Placemark=t[0]);var u=dI[n.namespaceURI],h=Ba(s,u);return on(a,vI,jo,h,[e],u,this),n},r}(Xp);function _I(i,r){var t=[0,0],e="start",n=i.getImage();if(n){var o=n.getImageSize();if(o===null&&(o=ag),o.length==2){var a=n.getScaleArray();t[0]=a[0]*o[0]/2,t[1]=-a[1]*o[1]/2,e="left"}}var s=i.getText();s?(s=s.clone(),s.setFont(s.getFont()||df.getFont()),s.setScale(s.getScale()||df.getScale()),s.setFill(s.getFill()||df.getFill()),s.setStroke(s.getStroke()||$0)):s=df.clone(),s.setText(r),s.setOffsetX(t[0]),s.setOffsetY(t[1]),s.setTextAlign(e);var u=new Yo({image:n,text:s});return u}function SI(i,r,t,e,n){return function(o,a){var s=n,u="",h=[];if(s){var d=o.getGeometry();if(d){var E=d.getType();E===Xt.GEOMETRY_COLLECTION?(h=d.getGeometriesArrayRecursive().filter(function(k){var et=k.getType();return et===Xt.POINT||et===Xt.MULTI_POINT}),s=h.length>0):s=E===Xt.POINT||E===Xt.MULTI_POINT}}s&&(u=o.get("name"),s=s&&!!u,s&&u.search(/&[^&]+;/)>-1&&(sg||(sg=document.createElement("textarea")),sg.innerHTML=u,u=sg.value));var b=t;if(i?b=i:r&&(b=m5(r,t,e)),s){var I=_I(b[0],u);if(h.length>0){I.setGeometry(new nl(h));var M=new Yo({geometry:b[0].getGeometry(),image:null,fill:b[0].getFill(),stroke:b[0].getStroke(),text:null});return[I,M].concat(b.slice(1))}return I}return b}}function m5(i,r,t){return Array.isArray(i)?i:typeof i=="string"?m5(t[i],r,t):r}function lg(i){var r=va(i,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(r);if(t){var e=t[1];return[parseInt(e.substr(6,2),16),parseInt(e.substr(4,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(0,2),16)/255]}else return}function _5(i){var r=va(i,!1),t=[];r=r.replace(/\s*,\s*/g,",");for(var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i,n;n=e.exec(r);){var o=parseFloat(n[1]),a=parseFloat(n[2]),s=n[3]?parseFloat(n[3]):0;t.push(o,a,s),r=r.substr(n[0].length)}if(r==="")return t}function S5(i){var r=va(i,!1).trim(),t=i.baseURI;if((!t||t=="about:blank")&&(t=window.location.href),t){var e=new URL(r,t);return e.href}else return r}function E5(i){var r=va(i,!1).trim().replace(/^(?!.*#)/,"#"),t=i.baseURI;if((!t||t=="about:blank")&&(t=window.location.href),t){var e=new URL(r,t);return e.href}else return r}function EI(i){var r=i.getAttribute("xunits"),t=i.getAttribute("yunits"),e;return r!=="insetPixels"?t!=="insetPixels"?e=bo.BOTTOM_LEFT:e=bo.TOP_LEFT:t!=="insetPixels"?e=bo.BOTTOM_RIGHT:e=bo.TOP_RIGHT,{x:parseFloat(i.getAttribute("x")),xunits:v5[r],y:parseFloat(i.getAttribute("y")),yunits:v5[t],origin:e}}function w5(i){return ei(i)}var wI=Ne(zr,{Pair:HI});function x5(i,r){return We(void 0,wI,i,r,this)}var xI=Ne(zr,{Icon:Vt(DI),color:Vt(lg),heading:Vt(ei),hotSpot:Vt(EI),scale:Vt(w5)});function OI(i,r){var t=We({},xI,i,r);if(!!t){var e=r[r.length-1],n="Icon"in t?t.Icon:{},o=!("Icon"in t)||Object.keys(n).length>0,a,s=n.href;s?a=s:o&&(a=Zp);var u,h,d,E=bo.BOTTOM_LEFT,b=t.hotSpot;b?(u=[b.x,b.y],h=b.xunits,d=b.yunits,E=b.origin):a===Zp?(u=z0,h=Y0,d=W0):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(a)&&(u=[.5,0],h=Wo.FRACTION,d=Wo.FRACTION);var I,M=n.x,k=n.y;M!==void 0&&k!==void 0&&(I=[M,k]);var et,ht=n.w,Lt=n.h;ht!==void 0&&Lt!==void 0&&(et=[ht,Lt]);var It,wt=t.heading;wt!==void 0&&(It=Ns(wt));var oe=t.scale,se=t.color;if(o){a==Zp&&(et=ag,oe===void 0&&(oe=H0));var de=new Ev({anchor:u,anchorOrigin:E,anchorXUnits:h,anchorYUnits:d,crossOrigin:this.crossOrigin_,offset:I,offsetOrigin:bo.BOTTOM_LEFT,rotation:It,scale:oe,size:et,src:this.iconUrlFunction_(a),color:se});e.imageStyle=de}else e.imageStyle=K0}}var TI=Ne(zr,{color:Vt(lg),scale:Vt(w5)});function bI(i,r){var t=We({},TI,i,r);if(!!t){var e=r[r.length-1],n=new nf({fill:new zo({color:"color"in t?t.color:Oh}),scale:t.scale});e.textStyle=n}}var CI=Ne(zr,{color:Vt(lg),width:Vt(ei)});function LI(i,r){var t=We({},CI,i,r);if(!!t){var e=r[r.length-1],n=new To({color:"color"in t?t.color:Oh,width:"width"in t?t.width:1});e.strokeStyle=n}}var AI=Ne(zr,{color:Vt(lg),fill:Vt(lc),outline:Vt(lc)});function PI(i,r){var t=We({},AI,i,r);if(!!t){var e=r[r.length-1],n=new zo({color:"color"in t?t.color:Oh});e.fillStyle=n;var o=t.fill;o!==void 0&&(e.fill=o);var a=t.outline;a!==void 0&&(e.outline=a)}}var RI=Ne(zr,{coordinates:Zr(_5)});function O5(i,r){return We(null,RI,i,r)}function II(i,r){var t=r[r.length-1],e=t.coordinates,n=va(i,!1),o=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i,a=o.exec(n);if(a){var s=parseFloat(a[1]),u=parseFloat(a[2]),h=parseFloat(a[3]);e.push([s,u,h])}else e.push([])}var NI=Ne(uu,{Track:Br(T5)});function MI(i,r){var t=We([],NI,i,r);if(!!t)return new is(t)}var FI=Ne(zr,{when:aN},Ne(uu,{coord:II}));function T5(i,r){var t=We({coordinates:[],whens:[]},FI,i,r);if(!!t){for(var e=[],n=t.coordinates,o=t.whens,a=0,s=Math.min(n.length,o.length);a<s;++a)n[a].length==3&&e.push(n[a][0],n[a][1],n[a][2],o[a]);return new xi(e,nr.XYZM)}}var jI=Ne(zr,{href:Vt(S5)},Ne(uu,{x:Vt(ei),y:Vt(ei),w:Vt(ei),h:Vt(ei)}));function DI(i,r){var t=We({},jI,i,r);return t||null}var BI=Ne(zr,{coordinates:Zr(_5)});function J0(i,r){return We(null,BI,i,r)}var ug=Ne(zr,{extrude:Vt(lc),tessellate:Vt(lc),altitudeMode:Vt($e)});function b5(i,r){var t=We({},ug,i,r),e=J0(i,r);if(e){var n=new xi(e,nr.XYZ);return n.setProperties(t,!0),n}else return}function C5(i,r){var t=We({},ug,i,r),e=J0(i,r);if(e){var n=new kn(e,nr.XYZ,[e.length]);return n.setProperties(t,!0),n}else return}var GI=Ne(zr,{LineString:Br(b5),LinearRing:Br(C5),MultiGeometry:Br(L5),Point:Br(A5),Polygon:Br(P5)});function L5(i,r){var t=We([],GI,i,r);if(!t)return null;if(t.length===0)return new nl(t);for(var e,n=!0,o=t[0].getType(),a,s=1,u=t.length;s<u;++s)if(a=t[s],a.getType()!=o){n=!1;break}if(n){var h=void 0,d=void 0;if(o==Xt.POINT){var E=t[0];h=E.getLayout(),d=E.getFlatCoordinates();for(var s=1,u=t.length;s<u;++s)a=t[s],Object(vr.c)(d,a.getFlatCoordinates());e=new el(d,h),t_(e,t)}else o==Xt.LINE_STRING?(e=new is(t),t_(e,t)):o==Xt.POLYGON?(e=new da(t),t_(e,t)):o==Xt.GEOMETRY_COLLECTION?e=new nl(t):Qt(!1,37)}else e=new nl(t);return e}function A5(i,r){var t=We({},ug,i,r),e=J0(i,r);if(e){var n=new yn(e,nr.XYZ);return n.setProperties(t,!0),n}else return}var UI=Ne(zr,{innerBoundaryIs:rN,outerBoundaryIs:iN});function P5(i,r){var t=We({},ug,i,r),e=We([null],UI,i,r);if(e&&e[0]){for(var n=e[0],o=[n.length],a=1,s=e.length;a<s;++a)Object(vr.c)(n,e[a]),o.push(n.length);var u=new kn(n,nr.XYZ,o);return u.setProperties(t,!0),u}else return}var kI=Ne(zr,{IconStyle:OI,LabelStyle:bI,LineStyle:LI,PolyStyle:PI});function Q0(i,r){var t=We({},kI,i,r,this);if(!t)return null;var e="fillStyle"in t?t.fillStyle:og,n=t.fill;n!==void 0&&!n&&(e=null);var o;"imageStyle"in t?t.imageStyle!=K0&&(o=t.imageStyle):o=X0;var a="textStyle"in t?t.textStyle:df,s="strokeStyle"in t?t.strokeStyle:Z0,u=t.outline;return u!==void 0&&!u?[new Yo({geometry:function(h){var d=h.getGeometry(),E=d.getType();if(E===Xt.GEOMETRY_COLLECTION)return new nl(d.getGeometriesArrayRecursive().filter(function(b){var I=b.getType();return I!==Xt.POLYGON&&I!==Xt.MULTI_POLYGON}));if(E!==Xt.POLYGON&&E!==Xt.MULTI_POLYGON)return d},fill:e,image:o,stroke:s,text:a,zIndex:void 0}),new Yo({geometry:function(h){var d=h.getGeometry(),E=d.getType();if(E===Xt.GEOMETRY_COLLECTION)return new nl(d.getGeometriesArrayRecursive().filter(function(b){var I=b.getType();return I===Xt.POLYGON||I===Xt.MULTI_POLYGON}));if(E===Xt.POLYGON||E===Xt.MULTI_POLYGON)return d},fill:e,stroke:null,zIndex:void 0})]:[new Yo({fill:e,image:o,stroke:s,text:a,zIndex:void 0})]}function t_(i,r){var t=r.length,e=new Array(r.length),n=new Array(r.length),o=new Array(r.length),a,s,u;a=!1,s=!1,u=!1;for(var h=0;h<t;++h){var d=r[h];e[h]=d.get("extrude"),n[h]=d.get("tessellate"),o[h]=d.get("altitudeMode"),a=a||e[h]!==void 0,s=s||n[h]!==void 0,u=u||o[h]}a&&i.set("extrude",e),s&&i.set("tessellate",n),u&&i.set("altitudeMode",o)}var VI=Ne(zr,{displayName:Vt($e),value:Vt($e)});function zI(i,r){var t=i.getAttribute("name");Ga(VI,i,r);var e=r[r.length-1];t&&e.displayName?e[t]={value:e.value,displayName:e.displayName,toString:function(){return e.value}}:t!==null?e[t]=e.value:e.displayName!==null&&(e[e.displayName]=e.value),delete e.value}var YI=Ne(zr,{Data:zI,SchemaData:ZI});function R5(i,r){Ga(YI,i,r)}function I5(i,r){Ga(g5,i,r)}var WI=Ne(zr,{Style:Vt(Q0),key:Vt($e),styleUrl:Vt(E5)});function HI(i,r){var t=We({},WI,i,r,this);if(!!t){var e=t.key;if(e&&e=="normal"){var n=t.styleUrl;n&&(r[r.length-1]=n);var o=t.Style;o&&(r[r.length-1]=o)}}}function XI(i,r){var t=x5.call(this,i,r);if(!!t){var e=r[r.length-1];Array.isArray(t)?e.Style=t:typeof t=="string"?e.styleUrl=t:Qt(!1,38)}}var KI=Ne(zr,{SimpleData:$I});function ZI(i,r){Ga(KI,i,r)}function $I(i,r){var t=i.getAttribute("name");if(t!==null){var e=$e(i),n=r[r.length-1];n[t]=e}}var qI=Ne(zr,{altitudeMode:Vt($e),minAltitude:Vt(ei),maxAltitude:Vt(ei),north:Vt(ei),south:Vt(ei),east:Vt(ei),west:Vt(ei)});function JI(i,r){var t=We({},qI,i,r);if(!!t){var e=r[r.length-1],n=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)];e.extent=n,e.altitudeMode=t.altitudeMode,e.minAltitude=parseFloat(t.minAltitude),e.maxAltitude=parseFloat(t.maxAltitude)}}var QI=Ne(zr,{minLodPixels:Vt(ei),maxLodPixels:Vt(ei),minFadeExtent:Vt(ei),maxFadeExtent:Vt(ei)});function tN(i,r){var t=We({},QI,i,r);if(!!t){var e=r[r.length-1];e.minLodPixels=parseFloat(t.minLodPixels),e.maxLodPixels=parseFloat(t.maxLodPixels),e.minFadeExtent=parseFloat(t.minFadeExtent),e.maxFadeExtent=parseFloat(t.maxFadeExtent)}}var eN=Ne(zr,{LinearRing:Br(O5)});function rN(i,r){var t=We([],eN,i,r);if(t.length>0){var e=r[r.length-1];e.push.apply(e,t)}}var nN=Ne(zr,{LinearRing:Zr(O5)});function iN(i,r){var t=We(void 0,nN,i,r);if(t){var e=r[r.length-1];e[0]=t}}function oN(i,r){Ga(pI,i,r)}function aN(i,r){var t=r[r.length-1],e=t.whens,n=va(i,!1),o=Date.parse(n);e.push(isNaN(o)?0:o)}function cg(i,r){for(var t=Ea(r),e=t.length==4?t[3]:1,n=[e*255,t[2],t[1],t[0]],o=0;o<4;++o){var a=Math.floor(n[o]).toString(16);n[o]=a.length==1?"0"+a:a}en(i,n.join(""))}function sN(i,r,t){var e=t[t.length-1],n=e.layout,o=e.stride,a;n==nr.XY||n==nr.XYM?a=2:n==nr.XYZ||n==nr.XYZM?a=3:Qt(!1,34);var s=r.length,u="";if(s>0){u+=r[0];for(var h=1;h<a;++h)u+=","+r[h];for(var d=o;d<s;d+=o){u+=" "+r[d];for(var h=1;h<a;++h)u+=","+r[d+h]}}en(i,u)}var fg=Ne(zr,{Data:Ht(lN),value:Ht(cN),displayName:Ht(uN)});function lN(i,r,t){i.setAttribute("name",r.name);var e={node:i},n=r.value;typeof n=="object"?(n!==null&&n.displayName&&on(e,fg,jo,[n.displayName],t,["displayName"]),n!==null&&n.value&&on(e,fg,jo,[n.value],t,["value"])):on(e,fg,jo,[n],t,["value"])}function uN(i,r){iR(i,r)}function cN(i,r){en(i,r)}var fN=Ne(zr,{Placemark:Ht(B5)}),hN=function(i,r,t){var e=r[r.length-1].node;return sn(e.namespaceURI,"Placemark")};function pN(i,r,t){var e={node:i};on(e,fN,hN,r,t,void 0,this)}var dN=Wi("Data");function vN(i,r,t){for(var e={node:i},n=r.names,o=r.values,a=n.length,s=0;s<a;s++)on(e,fg,dN,[{name:n[s],value:o[s]}],t)}var N5=Ne(zr,["href"],Ne(uu,["x","y","w","h"])),M5=Ne(zr,{href:Ht(en)},Ne(uu,{x:Ht(Ua),y:Ht(Ua),w:Ht(Ua),h:Ht(Ua)})),gN=function(i,r,t){return sn(uu[0],"gx:"+t)};function yN(i,r,t){var e={node:i},n=t[t.length-1].node,o=N5[n.namespaceURI],a=Ba(r,o);on(e,M5,jo,a,t,o),o=N5[uu[0]],a=Ba(r,o),on(e,M5,gN,a,t,o)}var mN=Ne(zr,["scale","heading","Icon","color","hotSpot"]),_N=Ne(zr,{Icon:Ht(yN),color:Ht(cg),heading:Ht(Ua),hotSpot:Ht(HN),scale:Ht(k5)});function SN(i,r,t){var e={node:i},n={},o=r.getSrc(),a=r.getSize(),s=r.getImageSize(),u={href:o};if(a){u.w=a[0],u.h=a[1];var h=r.getAnchor(),d=r.getOrigin();if(d&&s&&d[0]!==0&&d[1]!==a[1]&&(u.x=d[0],u.y=s[1]-(d[1]+a[1])),h&&(h[0]!==a[0]/2||h[1]!==a[1]/2)){var E={x:h[0],xunits:Wo.PIXELS,y:a[1]-h[1],yunits:Wo.PIXELS};n.hotSpot=E}}n.Icon=u;var b=r.getScale();b!==1&&(n.scale=b);var I=r.getRotation();I!==0&&(n.heading=I);var M=r.getColor();M&&(n.color=M);var k=t[t.length-1].node,et=mN[k.namespaceURI],ht=Ba(n,et);on(e,_N,jo,ht,t,et)}var EN=Ne(zr,["color","scale"]),wN=Ne(zr,{color:Ht(cg),scale:Ht(k5)});function xN(i,r,t){var e={node:i},n={},o=r.getFill();o&&(n.color=o.getColor());var a=r.getScale();a&&a!==1&&(n.scale=a);var s=t[t.length-1].node,u=EN[s.namespaceURI],h=Ba(n,u);on(e,wN,jo,h,t,u)}var ON=Ne(zr,["color","width"]),TN=Ne(zr,{color:Ht(cg),width:Ht(Ua)});function bN(i,r,t){var e={node:i},n={color:r.getColor(),width:Number(r.getWidth())||1},o=t[t.length-1].node,a=ON[o.namespaceURI],s=Ba(n,a);on(e,TN,jo,s,t,a)}var CN={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},F5=function(i,r,t){if(i){var e=r[r.length-1].node;return sn(e.namespaceURI,CN[i.getType()])}},LN=Wi("Point"),AN=Wi("LineString"),PN=Wi("LinearRing"),RN=Wi("Polygon"),IN=Ne(zr,{LineString:Ht(Th),Point:Ht(Th),Polygon:Ht(U5),GeometryCollection:Ht(j5)});function j5(i,r,t){var e={node:i},n=r.getType(),o=[],a;n===Xt.GEOMETRY_COLLECTION?(r.getGeometriesArrayRecursive().forEach(function(s){var u=s.getType();u===Xt.MULTI_POINT?o=o.concat(s.getPoints()):u===Xt.MULTI_LINE_STRING?o=o.concat(s.getLineStrings()):u===Xt.MULTI_POLYGON?o=o.concat(s.getPolygons()):u===Xt.POINT||u===Xt.LINE_STRING||u===Xt.POLYGON?o.push(s):Qt(!1,39)}),a=F5):n===Xt.MULTI_POINT?(o=r.getPoints(),a=LN):n===Xt.MULTI_LINE_STRING?(o=r.getLineStrings(),a=AN):n===Xt.MULTI_POLYGON?(o=r.getPolygons(),a=RN):Qt(!1,39),on(e,IN,a,o,t)}var NN=Ne(zr,{LinearRing:Ht(Th)});function D5(i,r,t){var e={node:i};on(e,NN,PN,[r],t)}var e_=Ne(zr,{ExtendedData:Ht(vN),MultiGeometry:Ht(j5),LineString:Ht(Th),LinearRing:Ht(Th),Point:Ht(Th),Polygon:Ht(U5),Style:Ht(WN),address:Ht(en),description:Ht(en),name:Ht(en),open:Ht(wh),phoneNumber:Ht(en),styleUrl:Ht(en),visibility:Ht(wh)}),MN=Ne(zr,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),FN=Wi("ExtendedData");function B5(i,r,t){var e={node:i};r.getId()&&i.setAttribute("id",r.getId());var n=r.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[r.getGeometryName()]=1;var a=Object.keys(n||{}).sort().filter(function(oe){return!o[oe]}),s=r.getStyleFunction();if(s){var u=s(r,0);if(u){var h=Array.isArray(u)?u:[u],d=h;if(r.getGeometry()&&(d=h.filter(function(oe){var se=oe.getGeometryFunction()(r);if(se){var de=se.getType();return de===Xt.GEOMETRY_COLLECTION?se.getGeometriesArrayRecursive().filter(function(Se){var Ie=Se.getType();return Ie===Xt.POINT||Ie===Xt.MULTI_POINT}).length:de===Xt.POINT||de===Xt.MULTI_POINT}})),this.writeStyles_){var E=h,b=h;r.getGeometry()&&(E=h.filter(function(oe){var se=oe.getGeometryFunction()(r);if(se){var de=se.getType();return de===Xt.GEOMETRY_COLLECTION?se.getGeometriesArrayRecursive().filter(function(Se){var Ie=Se.getType();return Ie===Xt.LINE_STRING||Ie===Xt.MULTI_LINE_STRING}).length:de===Xt.LINE_STRING||de===Xt.MULTI_LINE_STRING}}),b=h.filter(function(oe){var se=oe.getGeometryFunction()(r);if(se){var de=se.getType();return de===Xt.GEOMETRY_COLLECTION?se.getGeometriesArrayRecursive().filter(function(Se){var Ie=Se.getType();return Ie===Xt.POLYGON||Ie===Xt.MULTI_POLYGON}).length:de===Xt.POLYGON||de===Xt.MULTI_POLYGON}})),n.Style={pointStyles:d,lineStyles:E,polyStyles:b}}if(d.length&&n.name===void 0){var I=d[0].getText();I&&(n.name=I.getText())}}}var M=t[t.length-1].node,k=MN[M.namespaceURI],et=Ba(n,k);if(on(e,e_,jo,et,t,k),a.length>0){var ht=Ba(n,a),Lt={names:a,values:ht};on(e,e_,FN,[Lt],t)}var It=t[0],wt=r.getGeometry();wt&&(wt=$i(wt,!0,It)),on(e,e_,F5,[wt],t)}var jN=Ne(zr,["extrude","tessellate","altitudeMode","coordinates"]),DN=Ne(zr,{extrude:Ht(wh),tessellate:Ht(wh),altitudeMode:Ht(en),coordinates:Ht(sN)});function Th(i,r,t){var e=r.getFlatCoordinates(),n={node:i};n.layout=r.getLayout(),n.stride=r.getStride();var o=r.getProperties();o.coordinates=e;var a=t[t.length-1].node,s=jN[a.namespaceURI],u=Ba(o,s);on(n,DN,jo,u,t,s)}var BN=Ne(zr,["color","fill","outline"]),G5=Ne(zr,{outerBoundaryIs:Ht(D5),innerBoundaryIs:Ht(D5)}),GN=Wi("innerBoundaryIs"),UN=Wi("outerBoundaryIs");function U5(i,r,t){var e=r.getLinearRings(),n=e.shift(),o={node:i};on(o,G5,GN,e,t),on(o,G5,UN,[n],t)}var kN=Ne(zr,{color:Ht(cg),fill:Ht(wh),outline:Ht(wh)});function VN(i,r,t){var e={node:i},n=r.getFill(),o=r.getStroke(),a={color:n?n.getColor():void 0,fill:n?void 0:!1,outline:o?void 0:!1},s=t[t.length-1].node,u=BN[s.namespaceURI],h=Ba(a,u);on(e,kN,jo,h,t,u)}function k5(i,r){Ua(i,Math.round(r*1e6)/1e6)}var zN=Ne(zr,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),YN=Ne(zr,{IconStyle:Ht(SN),LabelStyle:Ht(xN),LineStyle:Ht(bN),PolyStyle:Ht(VN)});function WN(i,r,t){var e={node:i},n={};if(r.pointStyles.length){var o=r.pointStyles[0].getText();o&&(n.LabelStyle=o);var a=r.pointStyles[0].getImage();a&&typeof a.getSrc=="function"&&(n.IconStyle=a)}if(r.lineStyles.length){var s=r.lineStyles[0].getStroke();s&&(n.LineStyle=s)}if(r.polyStyles.length){var s=r.polyStyles[0].getStroke();s&&!n.LineStyle&&(n.LineStyle=s),n.PolyStyle=r.polyStyles[0]}var u=t[t.length-1].node,h=zN[u.namespaceURI],d=Ba(n,h);on(e,YN,jo,d,t,h)}function HN(i,r){i.setAttribute("x",String(r.x)),i.setAttribute("y",String(r.y)),i.setAttribute("xunits",r.xunits),i.setAttribute("yunits",r.yunits)}var XN=mI,KN=c("7915"),ZN=c.n(KN),V5=$(),$p=function(){function i(r,t,e,n,o){this.extent_,this.id_=o,this.type_=r,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=e,this.properties_=n}return i.prototype.get=function(r){return this.properties_[r]},i.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===Xt.POINT?Ee(this.flatCoordinates_):Sr(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},i.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var r=Tn(this.getExtent());this.flatInteriorPoints_=gl(this.flatCoordinates_,0,this.ends_,2,r,0)}return this.flatInteriorPoints_},i.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var r=W2(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=qo(this.flatCoordinates_,0,this.ends_,2,r)}return this.flatInteriorPoints_},i.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=Dv(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},i.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var r=this.flatCoordinates_,t=0,e=this.ends_,n=0,o=e.length;n<o;++n){var a=e[n],s=Dv(r,t,a,2,.5);Object(vr.c)(this.flatMidpoints_,s),t=a}}return this.flatMidpoints_},i.prototype.getId=function(){return this.id_},i.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},i.prototype.getGeometry=function(){return this},i.prototype.getSimplifiedGeometry=function(r){return this},i.prototype.simplifyTransformed=function(r,t){return this},i.prototype.getProperties=function(){return this.properties_},i.prototype.getStride=function(){return 2},i.prototype.getStyleFunction=function(){},i.prototype.getType=function(){return this.type_},i.prototype.transform=function(r){r=qr(r);var t=r.getExtent(),e=r.getWorldExtent();if(t&&e){var n=bn(e)/bn(t);ur(V5,e[0],e[3],n,-n,0,0,0),Io(this.flatCoordinates_,0,this.flatCoordinates_.length,2,V5,this.flatCoordinates_)}},i.prototype.getEnds=function(){return this.ends_},i}();$p.prototype.getEndss=$p.prototype.getEnds,$p.prototype.getFlatCoordinates=$p.prototype.getOrientedFlatCoordinates;var z5=$p,$N=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qN=function(i){$N(r,i);function r(t){var e=i.call(this)||this,n=t||{};return e.dataProjection=new Oa({code:"",units:Ni.TILE_PIXELS}),e.featureClass_=n.featureClass?n.featureClass:z5,e.geometryName_=n.geometryName,e.layerName_=n.layerName?n.layerName:"layer",e.layers_=n.layers?n.layers:null,e.idProperty_=n.idProperty,e}return r.prototype.readRawGeometry_=function(t,e,n,o){t.pos=e.geometry;for(var a=t.readVarint()+t.pos,s=1,u=0,h=0,d=0,E=0,b=0;t.pos<a;){if(!u){var I=t.readVarint();s=I&7,u=I>>3}u--,s===1||s===2?(h+=t.readSVarint(),d+=t.readSVarint(),s===1&&E>b&&(o.push(E),b=E),n.push(h,d),E+=2):s===7?E>b&&(n.push(n[b],n[b+1]),E+=2):Qt(!1,59)}E>b&&(o.push(E),b=E)},r.prototype.createFeature_=function(t,e,n){var o=e.type;if(o===0)return null;var a,s=e.properties,u;this.idProperty_?(u=s[this.idProperty_],delete s[this.idProperty_]):u=e.id,s[this.layerName_]=e.layer.name;var h=[],d=[];this.readRawGeometry_(t,e,h,d);var E=r3(o,d.length);if(this.featureClass_===z5)a=new this.featureClass_(E,h,d,s,u),a.transform(n.dataProjection);else{var b=void 0;if(E==Xt.POLYGON){for(var I=[],M=0,k=0,et=0,ht=d.length;et<ht;++et){var Lt=d[et];if(!Du(h,M,Lt,2))I.push(d.slice(k,et+1));else{if(I.length===0)continue;I[I.length-1].push(d[k])}k=et+1,M=Lt}I.length>1?b=new da(h,nr.XY,I):b=new kn(h,nr.XY,d)}else b=E===Xt.POINT?new yn(h,nr.XY):E===Xt.LINE_STRING?new xi(h,nr.XY):E===Xt.POLYGON?new kn(h,nr.XY,d):E===Xt.MULTI_POINT?new el(h,nr.XY):E===Xt.MULTI_LINE_STRING?new is(h,nr.XY,d):null;var It=this.featureClass_;a=new It,this.geometryName_&&a.setGeometryName(this.geometryName_);var wt=$i(b,!1,n);a.setGeometry(wt),a.setId(u),a.setProperties(s,!0)}return a},r.prototype.getType=function(){return ou.ARRAY_BUFFER},r.prototype.readFeatures=function(t,e){var n=this.layers_,o=this.adaptOptions(e),a=qr(o.dataProjection);a.setWorldExtent(o.extent),o.dataProjection=a;var s=new ZN.a(t),u=s.readFields(JN,{}),h=[];for(var d in u)if(!(n&&n.indexOf(d)==-1)){var E=u[d],b=E?[0,0,E.extent,E.extent]:null;a.setExtent(b);for(var I=0,M=E.length;I<M;++I){var k=e3(s,E,I);h.push(this.createFeature_(s,k,o))}}return h},r.prototype.readProjection=function(t){return this.dataProjection},r.prototype.setLayers=function(t){this.layers_=t},r}(tg);function JN(i,r,t){if(i===3){var e={keys:[],values:[],features:[]},n=t.readVarint()+t.pos;t.readFields(QN,e,n),e.length=e.features.length,e.length&&(r[e.name]=e)}}function QN(i,r,t){if(i===15)r.version=t.readVarint();else if(i===1)r.name=t.readString();else if(i===5)r.extent=t.readVarint();else if(i===2)r.features.push(t.pos);else if(i===3)r.keys.push(t.readString());else if(i===4){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;)i=t.readVarint()>>3,e=i===1?t.readString():i===2?t.readFloat():i===3?t.readDouble():i===4?t.readVarint64():i===5?t.readVarint():i===6?t.readSVarint():i===7?t.readBoolean():null;r.values.push(e)}}function t3(i,r,t){if(i==1)r.id=t.readVarint();else if(i==2)for(var e=t.readVarint()+t.pos;t.pos<e;){var n=r.layer.keys[t.readVarint()],o=r.layer.values[t.readVarint()];r.properties[n]=o}else i==3?r.type=t.readVarint():i==4&&(r.geometry=t.pos)}function e3(i,r,t){i.pos=r.features[t];var e=i.readVarint()+i.pos,n={layer:r,type:0,properties:{}};return i.readFields(t3,n,e),n}function r3(i,r){var t;return i===1?t=r===1?Xt.POINT:Xt.MULTI_POINT:i===2?t=r===1?Xt.LINE_STRING:Xt.MULTI_LINE_STRING:i===3&&(t=Xt.POLYGON),t}var n3=qN,i3=function(){function i(){}return i.prototype.read=function(r){if(r)if(typeof r=="string"){var t=Al(r);return this.readFromDocument(t)}else return Ll(r)?this.readFromDocument(r):this.readFromNode(r);else return null},i.prototype.readFromDocument=function(r){for(var t=r.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},i.prototype.readFromNode=function(r){},i}(),r_=i3,o3="http://www.w3.org/1999/xlink";function bh(i){return i.getAttributeNS(o3,"href")}var a3=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ka=[null,"http://www.opengis.net/ows/1.1"],s3=Ne(ka,{ServiceIdentification:Vt(I3),ServiceProvider:Vt(M3),OperationsMetadata:Vt(P3)}),l3=function(i){a3(r,i);function r(){return i.call(this)||this}return r.prototype.readFromNode=function(t){var e=We({},s3,t,[]);return e||null},r}(r_),u3=Ne(ka,{DeliveryPoint:Vt($e),City:Vt($e),AdministrativeArea:Vt($e),PostalCode:Vt($e),Country:Vt($e),ElectronicMailAddress:Vt($e)}),c3=Ne(ka,{Value:Pi(F3)}),f3=Ne(ka,{AllowedValues:Vt(x3)}),h3=Ne(ka,{Phone:Vt(R3),Address:Vt(w3)}),p3=Ne(ka,{HTTP:Vt(L3)}),d3=Ne(ka,{Get:Pi(C3),Post:void 0}),v3=Ne(ka,{DCP:Vt(b3)}),g3=Ne(ka,{Operation:A3}),y3=Ne(ka,{Voice:Vt($e),Facsimile:Vt($e)}),m3=Ne(ka,{Constraint:Pi(O3)}),_3=Ne(ka,{IndividualName:Vt($e),PositionName:Vt($e),ContactInfo:Vt(T3)}),S3=Ne(ka,{Abstract:Vt($e),AccessConstraints:Vt($e),Fees:Vt($e),Title:Vt($e),ServiceTypeVersion:Vt($e),ServiceType:Vt($e)}),E3=Ne(ka,{ProviderName:Vt($e),ProviderSite:Vt(bh),ServiceContact:Vt(N3)});function w3(i,r){return We({},u3,i,r)}function x3(i,r){return We({},c3,i,r)}function O3(i,r){var t=i.getAttribute("name");if(!!t)return We({name:t},f3,i,r)}function T3(i,r){return We({},h3,i,r)}function b3(i,r){return We({},p3,i,r)}function C3(i,r){var t=bh(i);if(!!t)return We({href:t},m3,i,r)}function L3(i,r){return We({},d3,i,r)}function A3(i,r){var t=i.getAttribute("name"),e=We({},v3,i,r);if(!!e){var n=r[r.length-1];n[t]=e}}function P3(i,r){return We({},g3,i,r)}function R3(i,r){return We({},y3,i,r)}function I3(i,r){return We({},S3,i,r)}function N3(i,r){return We({},_3,i,r)}function M3(i,r){return We({},E3,i,r)}function F3(i,r){return $e(i)}var Y5=l3;function W5(i,r,t,e,n,o){var a,s;n!==void 0?(a=n,s=o!==void 0?o:0):(a=[],s=0);for(var u=r;u<t;){var h=i[u++];a[s++]=i[u++],a[s++]=h;for(var d=2;d<e;++d)a[s++]=i[u++]}return a.length=s,a}var j3=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),D3=function(i){j3(r,i);function r(t){var e=i.call(this)||this,n=t||{};return e.dataProjection=qr("EPSG:4326"),e.factor_=n.factor?n.factor:1e5,e.geometryLayout_=n.geometryLayout?n.geometryLayout:nr.XY,e}return r.prototype.readFeatureFromText=function(t,e){var n=this.readGeometryFromText(t,e);return new Er(n)},r.prototype.readFeaturesFromText=function(t,e){var n=this.readFeatureFromText(t,e);return[n]},r.prototype.readGeometryFromText=function(t,e){var n=Ru(this.geometryLayout_),o=G3(t,n,this.factor_);W5(o,0,o.length,n,o);var a=hn(o,0,o.length,n),s=new xi(a,this.geometryLayout_);return $i(s,!1,this.adaptOptions(e))},r.prototype.writeFeatureText=function(t,e){var n=t.getGeometry();return n?this.writeGeometryText(n,e):(Qt(!1,40),"")},r.prototype.writeFeaturesText=function(t,e){return this.writeFeatureText(t[0],e)},r.prototype.writeGeometryText=function(t,e){t=$i(t,!0,this.adaptOptions(e));var n=t.getFlatCoordinates(),o=t.getStride();return W5(n,0,n.length,o,n),B3(n,o,this.factor_)},r}(V0);function B3(i,r,t){var e=t||1e5,n,o=new Array(r);for(n=0;n<r;++n)o[n]=0;for(var a=0,s=i.length;a<s;)for(n=0;n<r;++n,++a){var u=i[a],h=u-o[n];o[n]=u,i[a]=h}return U3(i,e)}function G3(i,r,t){var e=t||1e5,n,o=new Array(r);for(n=0;n<r;++n)o[n]=0;for(var a=k3(i,e),s=0,u=a.length;s<u;)for(n=0;n<r;++n,++s)o[n]+=a[s],a[s]=o[n];return a}function U3(i,r){for(var t=r||1e5,e=0,n=i.length;e<n;++e)i[e]=Math.round(i[e]*t);return V3(i)}function k3(i,r){for(var t=r||1e5,e=z3(i),n=0,o=e.length;n<o;++n)e[n]/=t;return e}function V3(i){for(var r=0,t=i.length;r<t;++r){var e=i[r];i[r]=e<0?~(e<<1):e<<1}return Y3(i)}function z3(i){for(var r=W3(i),t=0,e=r.length;t<e;++t){var n=r[t];r[t]=n&1?~(n>>1):n>>1}return r}function Y3(i){for(var r="",t=0,e=i.length;t<e;++t)r+=H3(i[t]);return r}function W3(i){for(var r=[],t=0,e=0,n=0,o=i.length;n<o;++n){var a=i.charCodeAt(n)-63;t|=(a&31)<<e,a<32?(r.push(t),t=0,e=0):e+=5}return r}function H3(i){for(var r,t="";i>=32;)r=(32|i&31)+63,t+=String.fromCharCode(r),i>>=5;return r=i+63,t+=String.fromCharCode(r),t}var X3=D3,K3=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Z3=function(i){K3(r,i);function r(t){var e=i.call(this)||this,n=t||{};return e.layerName_=n.layerName,e.layers_=n.layers?n.layers:null,e.dataProjection=qr(n.dataProjection?n.dataProjection:"EPSG:4326"),e}return r.prototype.readFeaturesFromObject=function(t,e){if(t.type=="Topology"){var n=t,o=void 0,a=null,s=null;n.transform&&(o=n.transform,a=o.scale,s=o.translate);var u=n.arcs;o&&iM(u,a,s);var h=[],d=n.objects,E=this.layerName_,b=void 0;for(var I in d)this.layers_&&this.layers_.indexOf(I)==-1||(d[I].type==="GeometryCollection"?(b=d[I],h.push.apply(h,nM(b,u,a,s,E,I,e))):(b=d[I],h.push(H5(b,u,a,s,E,I,e))));return h}else return[]},r.prototype.readProjectionFromObject=function(t){return this.dataProjection},r}(A0),$3={Point:q3,LineString:Q3,Polygon:eM,MultiPoint:J3,MultiLineString:tM,MultiPolygon:rM};function hg(i,r){for(var t=[],e,n,o=0,a=i.length;o<a;++o)e=i[o],o>0&&t.pop(),e>=0?n=r[e]:n=r[~e].slice().reverse(),t.push.apply(t,n);for(var s=0,u=t.length;s<u;++s)t[s]=t[s].slice();return t}function q3(i,r,t){var e=i.coordinates;return r&&t&&n_(e,r,t),new yn(e)}function J3(i,r,t){var e=i.coordinates;if(r&&t)for(var n=0,o=e.length;n<o;++n)n_(e[n],r,t);return new el(e)}function Q3(i,r){var t=hg(i.arcs,r);return new xi(t)}function tM(i,r){for(var t=[],e=0,n=i.arcs.length;e<n;++e)t[e]=hg(i.arcs[e],r);return new is(t)}function eM(i,r){for(var t=[],e=0,n=i.arcs.length;e<n;++e)t[e]=hg(i.arcs[e],r);return new kn(t)}function rM(i,r){for(var t=[],e=0,n=i.arcs.length;e<n;++e){for(var o=i.arcs[e],a=[],s=0,u=o.length;s<u;++s)a[s]=hg(o[s],r);t[e]=a}return new da(t)}function nM(i,r,t,e,n,o,a){for(var s=i.geometries,u=[],h=0,d=s.length;h<d;++h)u[h]=H5(s[h],r,t,e,n,o,a);return u}function H5(i,r,t,e,n,o,a){var s=null,u=i.type;if(u){var h=$3[u];u==="Point"||u==="MultiPoint"?s=h(i,t,e):s=h(i,r),s=$i(s,!1,a)}var d=new Er({geometry:s});i.id!==void 0&&d.setId(i.id);var E=i.properties;return n&&(E||(E={}),E[n]=o),E&&d.setProperties(E,!0),d}function iM(i,r,t){for(var e=0,n=i.length;e<n;++e)oM(i[e],r,t)}function oM(i,r,t){for(var e=0,n=0,o=0,a=i.length;o<a;++o){var s=i[o];e+=s[0],n+=s[1],s[0]=e,s[1]=n,n_(s,r,t)}}function n_(i,r,t){i[0]=i[0]*r[0]+t[0],i[1]=i[1]*r[1]+t[1]}var aM=Z3,sM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ci=function(i){sM(r,i);function r(t){var e=this,n=t||{};return e=i.call(this,n)||this,e.schemaLocation=n.schemaLocation?n.schemaLocation:e.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd",e}return r}(xn);ci.prototype.namespace="http://www.opengis.net/gml/3.2",ci.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:Zr(xn.prototype.readFlatPos),posList:Zr(xn.prototype.readFlatPosList),coordinates:Zr(xh.prototype.readFlatCoordinates)}},ci.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:xn.prototype.interiorParser,exterior:xn.prototype.exteriorParser}},ci.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:Zr(Rn.prototype.readPoint),MultiPoint:Zr(Rn.prototype.readMultiPoint),LineString:Zr(Rn.prototype.readLineString),MultiLineString:Zr(Rn.prototype.readMultiLineString),LinearRing:Zr(Rn.prototype.readLinearRing),Polygon:Zr(Rn.prototype.readPolygon),MultiPolygon:Zr(Rn.prototype.readMultiPolygon),Surface:Zr(ci.prototype.readSurface),MultiSurface:Zr(xn.prototype.readMultiSurface),Curve:Zr(ci.prototype.readCurve),MultiCurve:Zr(xn.prototype.readMultiCurve),Envelope:Zr(ci.prototype.readEnvelope)}},ci.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:Br(xn.prototype.curveMemberParser),curveMembers:Br(xn.prototype.curveMemberParser)}},ci.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:Br(xn.prototype.surfaceMemberParser),surfaceMembers:Br(xn.prototype.surfaceMemberParser)}},ci.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:Br(Rn.prototype.readLineString),Curve:Br(xn.prototype.readCurve)}},ci.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:Br(Rn.prototype.readPolygon),Surface:Br(xn.prototype.readSurface)}},ci.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:Zr(xn.prototype.readPatch)}},ci.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:Zr(xn.prototype.readSegment)}},ci.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:Br(xn.prototype.readFlatPosList),upperCorner:Br(xn.prototype.readFlatPosList)}},ci.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:Zr(xn.prototype.readPolygonPatch)}},ci.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:Zr(xn.prototype.readLineStringSegment)}},ci.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:Br(Rn.prototype.pointMemberParser),pointMembers:Br(Rn.prototype.pointMemberParser)}},ci.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:Br(Rn.prototype.lineStringMemberParser),lineStringMembers:Br(Rn.prototype.lineStringMemberParser)}},ci.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:Br(Rn.prototype.polygonMemberParser),polygonMembers:Br(Rn.prototype.polygonMemberParser)}},ci.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:Br(Rn.prototype.readFlatCoordinatesFromNode)}},ci.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:Br(Rn.prototype.readLineString)}},ci.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:Br(Rn.prototype.readPolygon)}},ci.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:Zr(Rn.prototype.readFlatLinearRing)}},ci.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:Ht(xn.prototype.writeRing),interior:Ht(xn.prototype.writeRing)}},ci.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:Ht(en),upperCorner:Ht(en)}},ci.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:Ht(xn.prototype.writeSurfaceOrPolygonMember),polygonMember:Ht(xn.prototype.writeSurfaceOrPolygonMember)}},ci.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:Ht(xn.prototype.writePointMember)}},ci.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:Ht(xn.prototype.writeLineStringOrCurveMember),curveMember:Ht(xn.prototype.writeLineStringOrCurveMember)}},ci.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:Ht(xn.prototype.writeCurveOrLineString),MultiCurve:Ht(xn.prototype.writeMultiCurveOrLineString),Point:Ht(ci.prototype.writePoint),MultiPoint:Ht(xn.prototype.writeMultiPoint),LineString:Ht(xn.prototype.writeCurveOrLineString),MultiLineString:Ht(xn.prototype.writeMultiCurveOrLineString),LinearRing:Ht(xn.prototype.writeLinearRing),Polygon:Ht(xn.prototype.writeSurfaceOrPolygon),MultiPolygon:Ht(xn.prototype.writeMultiSurfaceOrPolygon),Surface:Ht(xn.prototype.writeSurfaceOrPolygon),MultiSurface:Ht(xn.prototype.writeMultiSurfaceOrPolygon),Envelope:Ht(xn.prototype.writeEnvelope)}};var i_=ci,lM=function(){function i(r){this.tagName_=r}return i.prototype.getTagName=function(){return this.tagName_},i}(),Ch=lM,uM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cM=function(i){uM(r,i);function r(t,e){var n=i.call(this,t)||this;return n.conditions=e,Qt(n.conditions.length>=2,57),n}return r}(Ch),X5=cM,fM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hM=function(i){fM(r,i);function r(t){return i.call(this,"And",Array.prototype.slice.call(arguments))||this}return r}(X5),pM=hM,dM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vM=function(i){dM(r,i);function r(t,e,n){var o=i.call(this,"BBOX")||this;if(o.geometryName=t,o.extent=e,e.length!==4)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return o.srsName=n,o}return r}(Ch),gM=vM,yM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mM=function(i){yM(r,i);function r(t,e,n,o){var a=i.call(this,t)||this;return a.geometryName=e||"the_geom",a.geometry=n,a.srsName=o,a}return r}(Ch),qp=mM,_M=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){_M(r,i);function r(t,e,n){return i.call(this,"Contains",t,e,n)||this}return r})(qp);var SM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){SM(r,i);function r(t,e,n,o,a){var s=i.call(this,"DWithin",t,e,a)||this;return s.distance=n,s.unit=o,s}return r})(qp);var EM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){EM(r,i);function r(t,e,n){return i.call(this,"Disjoint",t,e,n)||this}return r})(qp);var wM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xM=function(i){wM(r,i);function r(t,e){var n=i.call(this,t)||this;return n.propertyName=e,n}return r}(Ch),Jp=xM,OM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){OM(r,i);function r(t,e,n){var o=i.call(this,"During",t)||this;return o.begin=e,o.end=n,o}return r})(Jp);var TM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bM=function(i){TM(r,i);function r(t,e,n,o){var a=i.call(this,t,e)||this;return a.expression=n,a.matchCase=o,a}return r}(Jp),Lh=bM,CM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){CM(r,i);function r(t,e,n){return i.call(this,"PropertyIsEqualTo",t,e,n)||this}return r})(Lh);var LM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){LM(r,i);function r(t,e){return i.call(this,"PropertyIsGreaterThan",t,e)||this}return r})(Lh);var AM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){AM(r,i);function r(t,e){return i.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)||this}return r})(Lh);var PM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){PM(r,i);function r(t,e,n){return i.call(this,"Intersects",t,e,n)||this}return r})(qp);var RM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){RM(r,i);function r(t,e,n){var o=i.call(this,"PropertyIsBetween",t)||this;return o.lowerBoundary=e,o.upperBoundary=n,o}return r})(Jp);var IM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){IM(r,i);function r(t,e,n,o,a,s){var u=i.call(this,"PropertyIsLike",t)||this;return u.pattern=e,u.wildCard=n!==void 0?n:"*",u.singleChar=o!==void 0?o:".",u.escapeChar=a!==void 0?a:"!",u.matchCase=s,u}return r})(Jp);var NM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){NM(r,i);function r(t){return i.call(this,"PropertyIsNull",t)||this}return r})(Jp);var MM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){MM(r,i);function r(t,e){return i.call(this,"PropertyIsLessThan",t,e)||this}return r})(Lh);var FM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){FM(r,i);function r(t,e){return i.call(this,"PropertyIsLessThanOrEqualTo",t,e)||this}return r})(Lh);var jM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){jM(r,i);function r(t){var e=i.call(this,"Not")||this;return e.condition=t,e}return r})(Ch);var DM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){DM(r,i);function r(t,e,n){return i.call(this,"PropertyIsNotEqualTo",t,e,n)||this}return r})(Lh);var BM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){BM(r,i);function r(t){return i.call(this,"Or",Array.prototype.slice.call(arguments))||this}return r})(X5);var GM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){GM(r,i);function r(t){var e=i.call(this,"ResourceId")||this;return e.rid=t,e}return r})(Ch);var UM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(i){UM(r,i);function r(t,e,n){return i.call(this,"Within",t,e,n)||this}return r})(qp);function kM(i){var r=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(pM,r))}function VM(i,r,t){return new gM(i,r,t)}var zM=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),K5={"http://www.opengis.net/gml":{boundedBy:Vt(Rn.prototype.readGeometryElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:Br(Rn.prototype.readFeaturesInternal)}},YM={"http://www.opengis.net/wfs":{totalInserted:Vt(lo),totalUpdated:Vt(lo),totalDeleted:Vt(lo)},"http://www.opengis.net/wfs/2.0":{totalInserted:Vt(lo),totalUpdated:Vt(lo),totalDeleted:Vt(lo)}},WM={"http://www.opengis.net/wfs":{TransactionSummary:Vt(J5,"transactionSummary"),InsertResults:Vt(tS,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:Vt(J5,"transactionSummary"),InsertResults:Vt(tS,"insertIds")}},HM={"http://www.opengis.net/wfs":{PropertyName:Ht(en)},"http://www.opengis.net/wfs/2.0":{PropertyName:Ht(en)}},Z5={"http://www.opengis.net/wfs":{Insert:Ht(eS),Update:Ht(iS),Delete:Ht(nS),Property:Ht(oS),Native:Ht(aS)},"http://www.opengis.net/wfs/2.0":{Insert:Ht(eS),Update:Ht(iS),Delete:Ht(nS),Property:Ht(oS),Native:Ht(aS)}},$5="feature",o_="http://www.w3.org/2000/xmlns/",a_={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},s_={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},l_={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},q5={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},u_={"2.0.0":i_,"1.1.0":xn,"1.0.0":xh},XM="1.1.0",KM=function(i){zM(r,i);function r(t){var e=i.call(this)||this,n=t||{};return e.version_=n.version?n.version:XM,e.featureType_=n.featureType,e.featureNS_=n.featureNS,e.gmlFormat_=n.gmlFormat?n.gmlFormat:new u_[e.version_],e.schemaLocation_=n.schemaLocation?n.schemaLocation:q5[e.version_],e}return r.prototype.getFeatureType=function(){return this.featureType_},r.prototype.setFeatureType=function(t){this.featureType_=t},r.prototype.readFeaturesFromNode=function(t,e){var n={node:t};Object(br.a)(n,{featureType:this.featureType_,featureNS:this.featureNS_}),Object(br.a)(n,this.getReadOptions(t,e||{}));var o=[n],a;this.version_==="2.0.0"?a=K5:a=this.gmlFormat_.FEATURE_COLLECTION_PARSERS;var s=We([],a,t,o,this.gmlFormat_);return s||(s=[]),s},r.prototype.readTransactionResponse=function(t){if(t)if(typeof t=="string"){var e=Al(t);return this.readTransactionResponseFromDocument(e)}else return Ll(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t);else return},r.prototype.readFeatureCollectionMetadata=function(t){if(t)if(typeof t=="string"){var e=Al(t);return this.readFeatureCollectionMetadataFromDocument(e)}else return Ll(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t);else return},r.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)},r.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={},n=lu(t.getAttribute("numberOfFeatures"));return e.numberOfFeatures=n,We(e,K5,t,[],this.gmlFormat_)},r.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)},r.prototype.readTransactionResponseFromNode=function(t){return We({},WM,t,[])},r.prototype.writeGetFeature=function(t){var e=this,n=sn(s_[this.version_],"GetFeature");n.setAttribute("service","WFS"),n.setAttribute("version",this.version_),t.handle&&n.setAttribute("handle",t.handle),t.outputFormat&&n.setAttribute("outputFormat",t.outputFormat),t.maxFeatures!==void 0&&n.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&n.setAttribute("resultType",t.resultType),t.startIndex!==void 0&&n.setAttribute("startIndex",String(t.startIndex)),t.count!==void 0&&n.setAttribute("count",String(t.count)),t.viewParams!==void 0&&n.setAttribute("viewParams",t.viewParams),n.setAttributeNS(ff,"xsi:schemaLocation",this.schemaLocation_);var o={node:n};if(Object(br.a)(o,{version:this.version_,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,propertyNames:t.propertyNames?t.propertyNames:[]}),Qt(Array.isArray(t.featureTypes),11),typeof t.featureTypes[0]=="string"){var a=t.filter;t.bbox&&(Qt(t.geometryName,12),a=this.combineBboxAndFilter(t.geometryName,t.bbox,t.srsName,a)),Object(br.a)(o,{geometryName:t.geometryName,filter:a}),gS(n,t.featureTypes,[o])}else t.featureTypes.forEach(function(s){var u=e.combineBboxAndFilter(s.geometryName,s.bbox,t.srsName,t.filter);Object(br.a)(o,{geometryName:s.geometryName,filter:u}),gS(n,[s.name],[o])});return n},r.prototype.combineBboxAndFilter=function(t,e,n,o){var a=VM(t,e,n);return o?kM(o,a):a},r.prototype.writeTransaction=function(t,e,n,o){var a=[],s=o.version?o.version:this.version_,u=sn(s_[s],"Transaction");u.setAttribute("service","WFS"),u.setAttribute("version",s);var h;o&&(h=o.gmlOptions?o.gmlOptions:{},o.handle&&u.setAttribute("handle",o.handle)),u.setAttributeNS(ff,"xsi:schemaLocation",q5[s]);var d=ZM(u,h,s,o);return t&&pg("Insert",t,a,d),e&&pg("Update",e,a,d),n&&pg("Delete",n,a,d),o.nativeElements&&pg("Native",o.nativeElements,a,d),u},r.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null},r.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild){t=t.firstElementChild.firstElementChild;for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(!(e.childNodes.length===0||e.childNodes.length===1&&e.firstChild.nodeType===3)){var n=[{}];return this.gmlFormat_.readGeometryElement(e,n),qr(n.pop().srsName)}}return null},r}(Xp);function ZM(i,r,t,e){var n=e.featurePrefix?e.featurePrefix:$5,o;t==="1.0.0"?o=2:t==="1.1.0"?o=3:t==="2.0.0"&&(o=3.2);var a=Object(br.a)({node:i},{version:t,featureNS:e.featureNS,featureType:e.featureType,featurePrefix:n,gmlVersion:o,hasZ:e.hasZ,srsName:e.srsName},r);return a}function pg(i,r,t,e){on(e,Z5,Wi(i),r,t)}function J5(i,r){return We({},YM,i,r)}var $M={"http://www.opengis.net/ogc":{FeatureId:Br(function(i,r){return i.getAttribute("fid")})},"http://www.opengis.net/ogc/1.1":{FeatureId:Br(function(i,r){return i.getAttribute("fid")})}};function Q5(i,r){Ga($M,i,r)}var qM={"http://www.opengis.net/wfs":{Feature:Q5},"http://www.opengis.net/wfs/2.0":{Feature:Q5}};function tS(i,r){return We([],qM,i,r)}function eS(i,r,t){var e=t[t.length-1],n=e.featureType,o=e.featureNS,a=e.gmlVersion,s=sn(o,n);i.appendChild(s),a===2?xh.prototype.writeFeatureElement(s,r,t):a===3?xn.prototype.writeFeatureElement(s,r,t):i_.prototype.writeFeatureElement(s,r,t)}function rS(i,r,t){var e=t[t.length-1],n=e.version,o=a_[n],a=sn(o,"Filter"),s=sn(o,"FeatureId");a.appendChild(s),s.setAttribute("fid",r),i.appendChild(a)}function c_(i,r){i=i||$5;var t=i+":";return r.indexOf(t)===0?r:t+r}function nS(i,r,t){var e=t[t.length-1];Qt(r.getId()!==void 0,26);var n=e.featureType,o=e.featurePrefix,a=e.featureNS,s=c_(o,n);i.setAttribute("typeName",s),i.setAttributeNS(o_,"xmlns:"+o,a);var u=r.getId();u!==void 0&&rS(i,u,t)}function iS(i,r,t){var e=t[t.length-1];Qt(r.getId()!==void 0,27);var n=e.version,o=e.featureType,a=e.featurePrefix,s=e.featureNS,u=c_(a,o),h=r.getGeometryName();i.setAttribute("typeName",u),i.setAttributeNS(o_,"xmlns:"+a,s);var d=r.getId();if(d!==void 0){for(var E=r.getKeys(),b=[],I=0,M=E.length;I<M;I++){var k=r.get(E[I]);if(k!==void 0){var et=E[I];k&&typeof k.getSimplifiedGeometry=="function"&&(et=h),b.push({name:et,value:k})}}on({version:n,gmlVersion:e.gmlVersion,node:i,hasZ:e.hasZ,srsName:e.srsName},Z5,Wi("Property"),b,t),rS(i,d,t)}}function oS(i,r,t){var e=t[t.length-1],n=e.version,o=s_[n],a=sn(o,"Name"),s=e.gmlVersion;if(i.appendChild(a),en(a,r.name),r.value!==void 0&&r.value!==null){var u=sn(o,"Value");i.appendChild(u),r.value&&typeof r.value.getSimplifiedGeometry=="function"?s===2?xh.prototype.writeGeometryElement(u,r.value,t):s===3?xn.prototype.writeGeometryElement(u,r.value,t):i_.prototype.writeGeometryElement(u,r.value,t):en(u,r.value)}}function aS(i,r,t){r.vendorId&&i.setAttribute("vendorId",r.vendorId),r.safeToIgnore!==void 0&&i.setAttribute("safeToIgnore",String(r.safeToIgnore)),r.value!==void 0&&en(i,r.value)}var dg={"http://www.opengis.net/wfs":{Query:Ht(sS)},"http://www.opengis.net/wfs/2.0":{Query:Ht(sS)},"http://www.opengis.net/ogc":{During:Ht(cS),And:Ht(vg),Or:Ht(vg),Not:Ht(fS),BBOX:Ht(lS),Contains:Ht(uc),Intersects:Ht(uc),Within:Ht(uc),DWithin:Ht(uS),PropertyIsEqualTo:Ht(Ls),PropertyIsNotEqualTo:Ht(Ls),PropertyIsLessThan:Ht(Ls),PropertyIsLessThanOrEqualTo:Ht(Ls),PropertyIsGreaterThan:Ht(Ls),PropertyIsGreaterThanOrEqualTo:Ht(Ls),PropertyIsNull:Ht(hS),PropertyIsBetween:Ht(pS),PropertyIsLike:Ht(dS)},"http://www.opengis.net/fes/2.0":{During:Ht(cS),And:Ht(vg),Or:Ht(vg),Not:Ht(fS),BBOX:Ht(lS),Contains:Ht(uc),Disjoint:Ht(uc),Intersects:Ht(uc),ResourceId:Ht(QM),Within:Ht(uc),DWithin:Ht(uS),PropertyIsEqualTo:Ht(Ls),PropertyIsNotEqualTo:Ht(Ls),PropertyIsLessThan:Ht(Ls),PropertyIsLessThanOrEqualTo:Ht(Ls),PropertyIsGreaterThan:Ht(Ls),PropertyIsGreaterThanOrEqualTo:Ht(Ls),PropertyIsNull:Ht(hS),PropertyIsBetween:Ht(pS),PropertyIsLike:Ht(dS)}};function sS(i,r,t){var e=t[t.length-1],n=e.version,o=e.featurePrefix,a=e.featureNS,s=e.propertyNames,u=e.srsName,h;o?h=c_(o,r):h=r;var d;n==="2.0.0"?d="typeNames":d="typeName",i.setAttribute(d,h),u&&i.setAttribute("srsName",u),a&&i.setAttributeNS(o_,"xmlns:"+o,a);var E=Object(br.a)({},e);E.node=i,on(E,HM,Wi("PropertyName"),s,t);var b=e.filter;if(b){var I=sn(mg(n),"Filter");i.appendChild(I),JM(I,b,t)}}function JM(i,r,t){var e=t[t.length-1],n={node:i};Object(br.a)(n,{context:e}),on(n,dg,Wi(r.getTagName()),[r],t)}function lS(i,r,t){var e=t[t.length-1],n=e.context,o=n.version;e.srsName=r.srsName;var a=u_[o];Ah(o,i,r.geometryName),a.prototype.writeGeometryElement(i,r.extent,t)}function QM(i,r,t){i.setAttribute("rid",r.rid)}function uc(i,r,t){var e=t[t.length-1],n=e.context,o=n.version;e.srsName=r.srsName;var a=u_[o];Ah(o,i,r.geometryName),a.prototype.writeGeometryElement(i,r.geometry,t)}function uS(i,r,t){var e=t[t.length-1],n=e.context,o=n.version;uc(i,r,t);var a=sn(mg(o),"Distance");en(a,r.distance.toString()),o==="2.0.0"?a.setAttribute("uom",r.unit):a.setAttribute("units",r.unit),i.appendChild(a)}function cS(i,r,t){var e=t[t.length-1],n=e.context,o=n.version;gg(l_[o],"ValueReference",i,r.propertyName);var a=sn(au,"TimePeriod");i.appendChild(a);var s=sn(au,"begin");a.appendChild(s),vS(s,r.begin);var u=sn(au,"end");a.appendChild(u),vS(u,r.end)}function vg(i,r,t){var e=t[t.length-1],n=e.context,o={node:i};Object(br.a)(o,{context:n});for(var a=r.conditions,s=0,u=a.length;s<u;++s){var h=a[s];on(o,dg,Wi(h.getTagName()),[h],t)}}function fS(i,r,t){var e=t[t.length-1],n=e.context,o={node:i};Object(br.a)(o,{context:n});var a=r.condition;on(o,dg,Wi(a.getTagName()),[a],t)}function Ls(i,r,t){var e=t[t.length-1],n=e.context,o=n.version;r.matchCase!==void 0&&i.setAttribute("matchCase",r.matchCase.toString()),Ah(o,i,r.propertyName),yg(o,i,""+r.expression)}function hS(i,r,t){var e=t[t.length-1],n=e.context,o=n.version;Ah(o,i,r.propertyName)}function pS(i,r,t){var e=t[t.length-1],n=e.context,o=n.version,a=mg(o);Ah(o,i,r.propertyName);var s=sn(a,"LowerBoundary");i.appendChild(s),yg(o,s,""+r.lowerBoundary);var u=sn(a,"UpperBoundary");i.appendChild(u),yg(o,u,""+r.upperBoundary)}function dS(i,r,t){var e=t[t.length-1],n=e.context,o=n.version;i.setAttribute("wildCard",r.wildCard),i.setAttribute("singleChar",r.singleChar),i.setAttribute("escapeChar",r.escapeChar),r.matchCase!==void 0&&i.setAttribute("matchCase",r.matchCase.toString()),Ah(o,i,r.propertyName),yg(o,i,""+r.pattern)}function gg(i,r,t,e){var n=sn(i,r);en(n,e),t.appendChild(n)}function yg(i,r,t){gg(mg(i),"Literal",r,t)}function Ah(i,r,t){i==="2.0.0"?gg(l_[i],"ValueReference",r,t):gg(a_[i],"PropertyName",r,t)}function vS(i,r){var t=sn(au,"TimeInstant");i.appendChild(t);var e=sn(au,"timePosition");t.appendChild(e),en(e,r)}function gS(i,r,t){var e=t[t.length-1],n=Object(br.a)({},e);n.node=i,on(n,dg,Wi("Query"),r,t)}function mg(i){var r;return i==="2.0.0"?r=l_[i]:r=a_[i],r}var tF=KM,eF=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rF={POINT:yn,LINESTRING:xi,POLYGON:kn,MULTIPOINT:el,MULTILINESTRING:is,MULTIPOLYGON:da},yS="EMPTY",mS="Z",_S="M",nF="ZM",fi={START:0,TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},iF={};for(var SS in Xt)iF[SS]=Xt[SS].toUpperCase();var oF=function(){function i(r){this.wkt=r,this.index_=-1}return i.prototype.isAlpha_=function(r){return r>="a"&&r<="z"||r>="A"&&r<="Z"},i.prototype.isNumeric_=function(r,t){var e=t!==void 0?t:!1;return r>="0"&&r<="9"||r=="."&&!e},i.prototype.isWhiteSpace_=function(r){return r==" "||r=="	"||r=="\r"||r==`
`},i.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},i.prototype.nextToken=function(){var r=this.nextChar_(),t=this.index_,e=r,n;if(r=="(")n=fi.LEFT_PAREN;else if(r==",")n=fi.COMMA;else if(r==")")n=fi.RIGHT_PAREN;else if(this.isNumeric_(r)||r=="-")n=fi.NUMBER,e=this.readNumber_();else if(this.isAlpha_(r))n=fi.TEXT,e=this.readText_();else{if(this.isWhiteSpace_(r))return this.nextToken();if(r==="")n=fi.EOF;else throw new Error("Unexpected character: "+r)}return{position:t,value:e,type:n}},i.prototype.readNumber_=function(){var r,t=this.index_,e=!1,n=!1;do r=="."?e=!0:(r=="e"||r=="E")&&(n=!0),r=this.nextChar_();while(this.isNumeric_(r,e)||!n&&(r=="e"||r=="E")||n&&(r=="-"||r=="+"));return parseFloat(this.wkt.substring(t,this.index_--))},i.prototype.readText_=function(){var r,t=this.index_;do r=this.nextChar_();while(this.isAlpha_(r));return this.wkt.substring(t,this.index_--).toUpperCase()},i}(),aF=function(){function i(r){this.lexer_=r,this.token_={position:0,type:fi.START},this.layout_=nr.XY}return i.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},i.prototype.isTokenType=function(r){return this.token_.type==r},i.prototype.match=function(r){var t=this.isTokenType(r);return t&&this.consume_(),t},i.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},i.prototype.parseGeometryLayout_=function(){var r=nr.XY,t=this.token_;if(this.isTokenType(fi.TEXT)){var e=t.value;e===mS?r=nr.XYZ:e===_S?r=nr.XYM:e===nF&&(r=nr.XYZM),r!==nr.XY&&this.consume_()}return r},i.prototype.parseGeometryCollectionText_=function(){if(this.match(fi.LEFT_PAREN)){var r=[];do r.push(this.parseGeometry_());while(this.match(fi.COMMA));if(this.match(fi.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},i.prototype.parsePointText_=function(){if(this.match(fi.LEFT_PAREN)){var r=this.parsePoint_();if(this.match(fi.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},i.prototype.parseLineStringText_=function(){if(this.match(fi.LEFT_PAREN)){var r=this.parsePointList_();if(this.match(fi.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},i.prototype.parsePolygonText_=function(){if(this.match(fi.LEFT_PAREN)){var r=this.parseLineStringTextList_();if(this.match(fi.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},i.prototype.parseMultiPointText_=function(){if(this.match(fi.LEFT_PAREN)){var r=void 0;if(this.token_.type==fi.LEFT_PAREN?r=this.parsePointTextList_():r=this.parsePointList_(),this.match(fi.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},i.prototype.parseMultiLineStringText_=function(){if(this.match(fi.LEFT_PAREN)){var r=this.parseLineStringTextList_();if(this.match(fi.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},i.prototype.parseMultiPolygonText_=function(){if(this.match(fi.LEFT_PAREN)){var r=this.parsePolygonTextList_();if(this.match(fi.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},i.prototype.parsePoint_=function(){for(var r=[],t=this.layout_.length,e=0;e<t;++e){var n=this.token_;if(this.match(fi.NUMBER))r.push(n.value);else break}if(r.length==t)return r;throw new Error(this.formatErrorMessage_())},i.prototype.parsePointList_=function(){for(var r=[this.parsePoint_()];this.match(fi.COMMA);)r.push(this.parsePoint_());return r},i.prototype.parsePointTextList_=function(){for(var r=[this.parsePointText_()];this.match(fi.COMMA);)r.push(this.parsePointText_());return r},i.prototype.parseLineStringTextList_=function(){for(var r=[this.parseLineStringText_()];this.match(fi.COMMA);)r.push(this.parseLineStringText_());return r},i.prototype.parsePolygonTextList_=function(){for(var r=[this.parsePolygonText_()];this.match(fi.COMMA);)r.push(this.parsePolygonText_());return r},i.prototype.isEmptyGeometry_=function(){var r=this.isTokenType(fi.TEXT)&&this.token_.value==yS;return r&&this.consume_(),r},i.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},i.prototype.parseGeometry_=function(){var r=this.token_;if(this.match(fi.TEXT)){var t=r.value;this.layout_=this.parseGeometryLayout_();var e=this.isEmptyGeometry_();if(t=="GEOMETRYCOLLECTION"){if(e)return new nl([]);var n=this.parseGeometryCollectionText_();return new nl(n)}else{var o=rF[t];if(!o)throw new Error("Invalid geometry type: "+t);var a=void 0;if(e)t=="POINT"?a=[NaN,NaN]:a=[];else switch(t){case"POINT":{a=this.parsePointText_();break}case"LINESTRING":{a=this.parseLineStringText_();break}case"POLYGON":{a=this.parsePolygonText_();break}case"MULTIPOINT":{a=this.parseMultiPointText_();break}case"MULTILINESTRING":{a=this.parseMultiLineStringText_();break}case"MULTIPOLYGON":{a=this.parseMultiPolygonText_();break}}return new o(a,this.layout_)}}throw new Error(this.formatErrorMessage_())},i}(),sF=function(i){eF(r,i);function r(t){var e=i.call(this)||this,n=t||{};return e.splitCollection_=n.splitCollection!==void 0?n.splitCollection:!1,e}return r.prototype.parse_=function(t){var e=new oF(t),n=new aF(e);return n.parse()},r.prototype.readFeatureFromText=function(t,e){var n=this.readGeometryFromText(t,e),o=new Er;return o.setGeometry(n),o},r.prototype.readFeaturesFromText=function(t,e){var n=[],o=this.readGeometryFromText(t,e);this.splitCollection_&&o.getType()==Xt.GEOMETRY_COLLECTION?n=o.getGeometriesArray():n=[o];for(var a=[],s=0,u=n.length;s<u;++s){var h=new Er;h.setGeometry(n[s]),a.push(h)}return a},r.prototype.readGeometryFromText=function(t,e){var n=this.parse_(t);return $i(n,!1,e)},r.prototype.writeFeatureText=function(t,e){var n=t.getGeometry();return n?this.writeGeometryText(n,e):""},r.prototype.writeFeaturesText=function(t,e){if(t.length==1)return this.writeFeatureText(t[0],e);for(var n=[],o=0,a=t.length;o<a;++o)n.push(t[o].getGeometry());var s=new nl(n);return this.writeGeometryText(s,e)},r.prototype.writeGeometryText=function(t,e){return xS($i(t,!0,e))},r}(V0);function ES(i){var r=i.getCoordinates();return r.length===0?"":r.join(" ")}function lF(i){for(var r=[],t=i.getPoints(),e=0,n=t.length;e<n;++e)r.push("("+ES(t[e])+")");return r.join(",")}function uF(i){for(var r=[],t=i.getGeometries(),e=0,n=t.length;e<n;++e)r.push(xS(t[e]));return r.join(",")}function f_(i){for(var r=i.getCoordinates(),t=[],e=0,n=r.length;e<n;++e)t.push(r[e].join(" "));return t.join(",")}function cF(i){for(var r=[],t=i.getLineStrings(),e=0,n=t.length;e<n;++e)r.push("("+f_(t[e])+")");return r.join(",")}function wS(i){for(var r=[],t=i.getLinearRings(),e=0,n=t.length;e<n;++e)r.push("("+f_(t[e])+")");return r.join(",")}function fF(i){for(var r=[],t=i.getPolygons(),e=0,n=t.length;e<n;++e)r.push("("+wS(t[e])+")");return r.join(",")}function hF(i){var r=i.getLayout(),t="";return(r===nr.XYZ||r===nr.XYZM)&&(t+=mS),(r===nr.XYM||r===nr.XYZM)&&(t+=_S),t}var pF={Point:ES,LineString:f_,Polygon:wS,MultiPoint:lF,MultiLineString:cF,MultiPolygon:fF,GeometryCollection:uF};function xS(i){var r=i.getType(),t=pF[r],e=t(i);if(r=r.toUpperCase(),typeof i.getFlatCoordinates=="function"){var n=hF(i);n.length>0&&(r+=" "+n)}return e.length===0?r+" "+yS:r+"("+e+")"}var dF=sF,vF=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xo=[null,"http://www.opengis.net/wms"],gF=Ne(Xo,{Service:Vt(DF),Capability:Vt(jF)}),yF=Ne(Xo,{Request:Vt(YF),Exception:Vt(kF),Layer:Vt(VF)}),mF=function(i){vF(r,i);function r(){var t=i.call(this)||this;return t.version=void 0,t}return r.prototype.readFromNode=function(t){this.version=t.getAttribute("version").trim();var e=We({version:this.version},gF,t,[]);return e||null},r}(r_),_F=Ne(Xo,{Name:Vt($e),Title:Vt($e),Abstract:Vt($e),KeywordList:Vt(CS),OnlineResource:Vt(bh),ContactInformation:Vt(BF),Fees:Vt($e),AccessConstraints:Vt($e),LayerLimit:Vt(lo),MaxWidth:Vt(lo),MaxHeight:Vt(lo)}),SF=Ne(Xo,{ContactPersonPrimary:Vt(GF),ContactPosition:Vt($e),ContactAddress:Vt(UF),ContactVoiceTelephone:Vt($e),ContactFacsimileTelephone:Vt($e),ContactElectronicMailAddress:Vt($e)}),EF=Ne(Xo,{ContactPerson:Vt($e),ContactOrganization:Vt($e)}),wF=Ne(Xo,{AddressType:Vt($e),Address:Vt($e),City:Vt($e),StateOrProvince:Vt($e),PostCode:Vt($e),Country:Vt($e)}),xF=Ne(Xo,{Format:Br($e)}),OS=Ne(Xo,{Name:Vt($e),Title:Vt($e),Abstract:Vt($e),KeywordList:Vt(CS),CRS:Pi($e),EX_GeographicBoundingBox:Vt(FF),BoundingBox:Pi(MF),Dimension:Pi(zF),Attribution:Vt(NF),AuthorityURL:Pi(XF),Identifier:Pi($e),MetadataURL:Pi(KF),DataURL:Pi(cu),FeatureListURL:Pi(cu),Style:Pi(ZF),MinScaleDenominator:Vt(ei),MaxScaleDenominator:Vt(ei),Layer:Pi(TS)}),OF=Ne(Xo,{Title:Vt($e),OnlineResource:Vt(bh),LogoURL:Vt(bS)}),TF=Ne(Xo,{westBoundLongitude:Vt(ei),eastBoundLongitude:Vt(ei),southBoundLatitude:Vt(ei),northBoundLatitude:Vt(ei)}),bF=Ne(Xo,{GetCapabilities:Vt(h_),GetMap:Vt(h_),GetFeatureInfo:Vt(h_)}),CF=Ne(Xo,{Format:Pi($e),DCPType:Pi(WF)}),LF=Ne(Xo,{HTTP:Vt(HF)}),AF=Ne(Xo,{Get:Vt(cu),Post:Vt(cu)}),PF=Ne(Xo,{Name:Vt($e),Title:Vt($e),Abstract:Vt($e),LegendURL:Pi(bS),StyleSheetURL:Vt(cu),StyleURL:Vt(cu)}),RF=Ne(Xo,{Format:Vt($e),OnlineResource:Vt(bh)}),IF=Ne(Xo,{Keyword:Br($e)});function NF(i,r){return We({},OF,i,r)}function MF(i,r){var t=[su(i.getAttribute("minx")),su(i.getAttribute("miny")),su(i.getAttribute("maxx")),su(i.getAttribute("maxy"))],e=[su(i.getAttribute("resx")),su(i.getAttribute("resy"))];return{crs:i.getAttribute("CRS"),extent:t,res:e}}function FF(i,r){var t=We({},TF,i,r);if(!!t){var e=t.westBoundLongitude,n=t.southBoundLatitude,o=t.eastBoundLongitude,a=t.northBoundLatitude;if(!(e===void 0||n===void 0||o===void 0||a===void 0))return[e,n,o,a]}}function jF(i,r){return We({},yF,i,r)}function DF(i,r){return We({},_F,i,r)}function BF(i,r){return We({},SF,i,r)}function GF(i,r){return We({},EF,i,r)}function UF(i,r){return We({},wF,i,r)}function kF(i,r){return We([],xF,i,r)}function VF(i,r){var t=We({},OS,i,r);return t.Layer===void 0?Object.assign(t,TS(i,r)):t}function TS(i,r){var t=r[r.length-1],e=We({},OS,i,r);if(!!e){var n=hf(i.getAttribute("queryable"));n===void 0&&(n=t.queryable),e.queryable=n!==void 0?n:!1;var o=lu(i.getAttribute("cascaded"));o===void 0&&(o=t.cascaded),e.cascaded=o;var a=hf(i.getAttribute("opaque"));a===void 0&&(a=t.opaque),e.opaque=a!==void 0?a:!1;var s=hf(i.getAttribute("noSubsets"));s===void 0&&(s=t.noSubsets),e.noSubsets=s!==void 0?s:!1;var u=su(i.getAttribute("fixedWidth"));u||(u=t.fixedWidth),e.fixedWidth=u;var h=su(i.getAttribute("fixedHeight"));h||(h=t.fixedHeight),e.fixedHeight=h;var d=["Style","CRS","AuthorityURL"];d.forEach(function(b){if(b in t){var I=e[b]||[];e[b]=I.concat(t[b])}});var E=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];return E.forEach(function(b){if(!(b in e)){var I=t[b];e[b]=I}}),e}}function zF(i,r){var t={name:i.getAttribute("name"),units:i.getAttribute("units"),unitSymbol:i.getAttribute("unitSymbol"),default:i.getAttribute("default"),multipleValues:hf(i.getAttribute("multipleValues")),nearestValue:hf(i.getAttribute("nearestValue")),current:hf(i.getAttribute("current")),values:$e(i)};return t}function cu(i,r){return We({},RF,i,r)}function YF(i,r){return We({},bF,i,r)}function WF(i,r){return We({},LF,i,r)}function HF(i,r){return We({},AF,i,r)}function h_(i,r){return We({},CF,i,r)}function bS(i,r){var t=cu(i,r);if(t){var e=[lu(i.getAttribute("width")),lu(i.getAttribute("height"))];return t.size=e,t}}function XF(i,r){var t=cu(i,r);if(t)return t.name=i.getAttribute("name"),t}function KF(i,r){var t=cu(i,r);if(t)return t.type=i.getAttribute("type"),t}function ZF(i,r){return We({},PF,i,r)}function CS(i,r){return We([],IF,i,r)}var $F=mF,qF=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),JF="_feature",QF="_layer",t4=function(i){qF(r,i);function r(t){var e=i.call(this)||this,n=t||{};return e.featureNS_="http://mapserver.gis.umn.edu/mapserver",e.gmlFormat_=new xh,e.layers_=n.layers?n.layers:null,e}return r.prototype.getLayers=function(){return this.layers_},r.prototype.setLayers=function(t){this.layers_=t},r.prototype.readFeatures_=function(t,e){t.setAttribute("namespaceURI",this.featureNS_);var n=t.localName,o=[];if(t.childNodes.length===0)return o;if(n=="msGMLOutput")for(var a=0,s=t.childNodes.length;a<s;a++){var u=t.childNodes[a];if(u.nodeType===Node.ELEMENT_NODE){var h=u,d=e[0],E=QF,b=h.localName.replace(E,"");if(!(this.layers_&&!Object(vr.f)(this.layers_,b))){var I=b+JF;d.featureType=I,d.featureNS=this.featureNS_;var M={};M[I]=Br(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var k=Ne([d.featureNS,null],M);h.setAttribute("namespaceURI",this.featureNS_);var et=We([],k,h,e,this.gmlFormat_);et&&Object(vr.c)(o,et)}}}if(n=="FeatureCollection"){var ht=We([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);ht&&(o=ht)}return o},r.prototype.readFeaturesFromNode=function(t,e){var n={};return e&&Object(br.a)(n,this.getReadOptions(t,e)),this.readFeatures_(t,[n])},r}(Xp),e4=t4,r4=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pl=[null,"http://www.opengis.net/wmts/1.0"],Ph=[null,"http://www.opengis.net/ows/1.1"],n4=Ne(Pl,{Contents:Vt(v4)}),i4=function(i){r4(r,i);function r(){var t=i.call(this)||this;return t.owsParser_=new Y5,t}return r.prototype.readFromNode=function(t){var e=t.getAttribute("version");e&&(e=e.trim());var n=this.owsParser_.readFromNode(t);return n?(n.version=e,n=We(n,n4,t,[]),n||null):null},r}(r_),o4=Ne(Pl,{Layer:Pi(g4),TileMatrixSet:Pi(y4)}),a4=Ne(Pl,{Style:Pi(m4),Format:Pi($e),TileMatrixSetLink:Pi(_4),Dimension:Pi(S4),ResourceURL:Pi(E4)},Ne(Ph,{Title:Vt($e),Abstract:Vt($e),WGS84BoundingBox:Vt(LS),Identifier:Vt($e)})),s4=Ne(Pl,{LegendURL:Pi(w4)},Ne(Ph,{Title:Vt($e),Identifier:Vt($e)})),l4=Ne(Pl,{TileMatrixSet:Vt($e),TileMatrixSetLimits:Vt(O4)}),u4=Ne(Pl,{TileMatrixLimits:Br(T4)}),c4=Ne(Pl,{TileMatrix:Vt($e),MinTileRow:Vt(lo),MaxTileRow:Vt(lo),MinTileCol:Vt(lo),MaxTileCol:Vt(lo)}),f4=Ne(Pl,{Default:Vt($e),Value:Pi($e)},Ne(Ph,{Identifier:Vt($e)})),h4=Ne(Ph,{LowerCorner:Br(p_),UpperCorner:Br(p_)}),p4=Ne(Pl,{WellKnownScaleSet:Vt($e),TileMatrix:Pi(x4)},Ne(Ph,{SupportedCRS:Vt($e),Identifier:Vt($e),BoundingBox:Vt(LS)})),d4=Ne(Pl,{TopLeftCorner:Vt(p_),ScaleDenominator:Vt(ei),TileWidth:Vt(lo),TileHeight:Vt(lo),MatrixWidth:Vt(lo),MatrixHeight:Vt(lo)},Ne(Ph,{Identifier:Vt($e)}));function v4(i,r){return We({},o4,i,r)}function g4(i,r){return We({},a4,i,r)}function y4(i,r){return We({},p4,i,r)}function m4(i,r){var t=We({},s4,i,r);if(!!t){var e=i.getAttribute("isDefault")==="true";return t.isDefault=e,t}}function _4(i,r){return We({},l4,i,r)}function S4(i,r){return We({},f4,i,r)}function E4(i,r){var t=i.getAttribute("format"),e=i.getAttribute("template"),n=i.getAttribute("resourceType"),o={};return t&&(o.format=t),e&&(o.template=e),n&&(o.resourceType=n),o}function LS(i,r){var t=We([],h4,i,r);if(t.length==2)return At(t)}function w4(i,r){var t={};return t.format=i.getAttribute("format"),t.href=bh(i),t}function p_(i,r){var t=$e(i).split(/\s+/);if(!(!t||t.length!=2)){var e=+t[0],n=+t[1];if(!(isNaN(e)||isNaN(n)))return[e,n]}}function x4(i,r){return We({},d4,i,r)}function O4(i,r){return We([],u4,i,r)}function T4(i,r){return We({},c4,i,r)}var b4=i4;function _g(i){if(_g.installed){console.error("OPENLAYERS MAP ALREADY INSTALLED");return}_g.installed=!0,i.use(P),i.use(G),i.use(z),i.use(V),i.use(U),i.use(X),i.use(W),i.use(it),i.provide("ol-feature",Er),i.provide("ol-geom",Q),i.provide("ol-animations",S),i.provide("ol-format",dt),i.provide("ol-loadingstrategy",F),i.provide("ol-selectconditions",x),i.provide("ol-extent",y)}v.default=_g},fb6a:function(f,v,c){var y=c("23e7"),S=c("861d"),x=c("e8b5"),P=c("23cb"),F=c("50c4"),G=c("fc6a"),z=c("8418"),V=c("b622"),U=c("1dde"),X=U("slice"),W=V("species"),it=[].slice,Q=Math.max;y({target:"Array",proto:!0,forced:!X},{slice:function(ot,_t){var q=G(this),N=F(q.length),Ot=P(ot,N),Et=P(_t===void 0?N:_t,N),St,nt,qt;if(x(q)&&(St=q.constructor,typeof St=="function"&&(St===Array||x(St.prototype))?St=void 0:S(St)&&(St=St[W],St===null&&(St=void 0)),St===Array||St===void 0))return it.call(q,Ot,Et);for(nt=new(St===void 0?Array:St)(Q(Et-Ot,0)),qt=0;Ot<Et;Ot++,qt++)Ot in q&&z(nt,qt,q[Ot]);return nt.length=qt,nt}})},fc6a:function(f,v,c){var y=c("44ad"),S=c("1d80");f.exports=function(x){return y(S(x))}},fdbc:function(f,v){f.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(f,v,c){var y=c("4930");f.exports=y&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}})})(sx);var L7=yD(sx.exports);export{Zo as F,L7 as O,Q_ as a,Gh as b,Fj as c,T7 as d,d1 as e,wj as f,Ww as g,Uj as h,Gj as i,Fi as j,lw as k,Ij as l,p1 as m,G4 as n,oy as o,uw as p,Nj as q,yd as r,Bj as s,k4 as t,b7 as u,C7 as v,Wh as w,X_ as x,rD as y,O7 as z};
